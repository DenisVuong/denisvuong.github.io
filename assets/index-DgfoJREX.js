(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function t(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(r){if(r.ep)return;r.ep=!0;const a=t(r);fetch(r.href,a)}})();function n4(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Cb={exports:{}},l1={};var oE;function X8(){if(oE)return l1;oE=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(n,r,a){var l=null;if(a!==void 0&&(l=""+a),r.key!==void 0&&(l=""+r.key),"key"in r){a={};for(var u in r)u!=="key"&&(a[u]=r[u])}else a=r;return r=a.ref,{$$typeof:i,type:n,key:l,ref:r!==void 0?r:null,props:a}}return l1.Fragment=e,l1.jsx=t,l1.jsxs=t,l1}var lE;function q8(){return lE||(lE=1,Cb.exports=X8()),Cb.exports}var fe=q8(),Rb={exports:{}},cn={};var cE;function Y8(){if(cE)return cn;cE=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),y=Symbol.iterator;function x(X){return X===null||typeof X!="object"?null:(X=y&&X[y]||X["@@iterator"],typeof X=="function"?X:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,A={};function T(X,ce,Se){this.props=X,this.context=ce,this.refs=A,this.updater=Se||M}T.prototype.isReactComponent={},T.prototype.setState=function(X,ce){if(typeof X!="object"&&typeof X!="function"&&X!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,X,ce,"setState")},T.prototype.forceUpdate=function(X){this.updater.enqueueForceUpdate(this,X,"forceUpdate")};function R(){}R.prototype=T.prototype;function D(X,ce,Se){this.props=X,this.context=ce,this.refs=A,this.updater=Se||M}var N=D.prototype=new R;N.constructor=D,E(N,T.prototype),N.isPureReactComponent=!0;var U=Array.isArray;function I(){}var B={H:null,A:null,T:null,S:null},k=Object.prototype.hasOwnProperty;function O(X,ce,Se){var Le=Se.ref;return{$$typeof:i,type:X,key:ce,ref:Le!==void 0?Le:null,props:Se}}function P(X,ce){return O(X.type,ce,X.props)}function W(X){return typeof X=="object"&&X!==null&&X.$$typeof===i}function Z(X){var ce={"=":"=0",":":"=2"};return"$"+X.replace(/[=:]/g,function(Se){return ce[Se]})}var J=/\/+/g;function ee(X,ce){return typeof X=="object"&&X!==null&&X.key!=null?Z(""+X.key):ce.toString(36)}function se(X){switch(X.status){case"fulfilled":return X.value;case"rejected":throw X.reason;default:switch(typeof X.status=="string"?X.then(I,I):(X.status="pending",X.then(function(ce){X.status==="pending"&&(X.status="fulfilled",X.value=ce)},function(ce){X.status==="pending"&&(X.status="rejected",X.reason=ce)})),X.status){case"fulfilled":return X.value;case"rejected":throw X.reason}}throw X}function Y(X,ce,Se,Le,Je){var de=typeof X;(de==="undefined"||de==="boolean")&&(X=null);var xe=!1;if(X===null)xe=!0;else switch(de){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(X.$$typeof){case i:case e:xe=!0;break;case v:return xe=X._init,Y(xe(X._payload),ce,Se,Le,Je)}}if(xe)return Je=Je(X),xe=Le===""?"."+ee(X,0):Le,U(Je)?(Se="",xe!=null&&(Se=xe.replace(J,"$&/")+"/"),Y(Je,ce,Se,"",function(ct){return ct})):Je!=null&&(W(Je)&&(Je=P(Je,Se+(Je.key==null||X&&X.key===Je.key?"":(""+Je.key).replace(J,"$&/")+"/")+xe)),ce.push(Je)),1;xe=0;var qe=Le===""?".":Le+":";if(U(X))for(var Ze=0;Ze<X.length;Ze++)Le=X[Ze],de=qe+ee(Le,Ze),xe+=Y(Le,ce,Se,de,Je);else if(Ze=x(X),typeof Ze=="function")for(X=Ze.call(X),Ze=0;!(Le=X.next()).done;)Le=Le.value,de=qe+ee(Le,Ze++),xe+=Y(Le,ce,Se,de,Je);else if(de==="object"){if(typeof X.then=="function")return Y(se(X),ce,Se,Le,Je);throw ce=String(X),Error("Objects are not valid as a React child (found: "+(ce==="[object Object]"?"object with keys {"+Object.keys(X).join(", ")+"}":ce)+"). If you meant to render a collection of children, use an array instead.")}return xe}function Q(X,ce,Se){if(X==null)return X;var Le=[],Je=0;return Y(X,Le,"","",function(de){return ce.call(Se,de,Je++)}),Le}function ue(X){if(X._status===-1){var ce=X._result;ce=ce(),ce.then(function(Se){(X._status===0||X._status===-1)&&(X._status=1,X._result=Se)},function(Se){(X._status===0||X._status===-1)&&(X._status=2,X._result=Se)}),X._status===-1&&(X._status=0,X._result=ce)}if(X._status===1)return X._result.default;throw X._result}var ye=typeof reportError=="function"?reportError:function(X){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ce=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof X=="object"&&X!==null&&typeof X.message=="string"?String(X.message):String(X),error:X});if(!window.dispatchEvent(ce))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",X);return}console.error(X)},j={map:Q,forEach:function(X,ce,Se){Q(X,function(){ce.apply(this,arguments)},Se)},count:function(X){var ce=0;return Q(X,function(){ce++}),ce},toArray:function(X){return Q(X,function(ce){return ce})||[]},only:function(X){if(!W(X))throw Error("React.Children.only expected to receive a single React element child.");return X}};return cn.Activity=_,cn.Children=j,cn.Component=T,cn.Fragment=t,cn.Profiler=r,cn.PureComponent=D,cn.StrictMode=n,cn.Suspense=d,cn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=B,cn.__COMPILER_RUNTIME={__proto__:null,c:function(X){return B.H.useMemoCache(X)}},cn.cache=function(X){return function(){return X.apply(null,arguments)}},cn.cacheSignal=function(){return null},cn.cloneElement=function(X,ce,Se){if(X==null)throw Error("The argument must be a React element, but you passed "+X+".");var Le=E({},X.props),Je=X.key;if(ce!=null)for(de in ce.key!==void 0&&(Je=""+ce.key),ce)!k.call(ce,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&ce.ref===void 0||(Le[de]=ce[de]);var de=arguments.length-2;if(de===1)Le.children=Se;else if(1<de){for(var xe=Array(de),qe=0;qe<de;qe++)xe[qe]=arguments[qe+2];Le.children=xe}return O(X.type,Je,Le)},cn.createContext=function(X){return X={$$typeof:l,_currentValue:X,_currentValue2:X,_threadCount:0,Provider:null,Consumer:null},X.Provider=X,X.Consumer={$$typeof:a,_context:X},X},cn.createElement=function(X,ce,Se){var Le,Je={},de=null;if(ce!=null)for(Le in ce.key!==void 0&&(de=""+ce.key),ce)k.call(ce,Le)&&Le!=="key"&&Le!=="__self"&&Le!=="__source"&&(Je[Le]=ce[Le]);var xe=arguments.length-2;if(xe===1)Je.children=Se;else if(1<xe){for(var qe=Array(xe),Ze=0;Ze<xe;Ze++)qe[Ze]=arguments[Ze+2];Je.children=qe}if(X&&X.defaultProps)for(Le in xe=X.defaultProps,xe)Je[Le]===void 0&&(Je[Le]=xe[Le]);return O(X,de,Je)},cn.createRef=function(){return{current:null}},cn.forwardRef=function(X){return{$$typeof:u,render:X}},cn.isValidElement=W,cn.lazy=function(X){return{$$typeof:v,_payload:{_status:-1,_result:X},_init:ue}},cn.memo=function(X,ce){return{$$typeof:p,type:X,compare:ce===void 0?null:ce}},cn.startTransition=function(X){var ce=B.T,Se={};B.T=Se;try{var Le=X(),Je=B.S;Je!==null&&Je(Se,Le),typeof Le=="object"&&Le!==null&&typeof Le.then=="function"&&Le.then(I,ye)}catch(de){ye(de)}finally{ce!==null&&Se.types!==null&&(ce.types=Se.types),B.T=ce}},cn.unstable_useCacheRefresh=function(){return B.H.useCacheRefresh()},cn.use=function(X){return B.H.use(X)},cn.useActionState=function(X,ce,Se){return B.H.useActionState(X,ce,Se)},cn.useCallback=function(X,ce){return B.H.useCallback(X,ce)},cn.useContext=function(X){return B.H.useContext(X)},cn.useDebugValue=function(){},cn.useDeferredValue=function(X,ce){return B.H.useDeferredValue(X,ce)},cn.useEffect=function(X,ce){return B.H.useEffect(X,ce)},cn.useEffectEvent=function(X){return B.H.useEffectEvent(X)},cn.useId=function(){return B.H.useId()},cn.useImperativeHandle=function(X,ce,Se){return B.H.useImperativeHandle(X,ce,Se)},cn.useInsertionEffect=function(X,ce){return B.H.useInsertionEffect(X,ce)},cn.useLayoutEffect=function(X,ce){return B.H.useLayoutEffect(X,ce)},cn.useMemo=function(X,ce){return B.H.useMemo(X,ce)},cn.useOptimistic=function(X,ce){return B.H.useOptimistic(X,ce)},cn.useReducer=function(X,ce,Se){return B.H.useReducer(X,ce,Se)},cn.useRef=function(X){return B.H.useRef(X)},cn.useState=function(X){return B.H.useState(X)},cn.useSyncExternalStore=function(X,ce,Se){return B.H.useSyncExternalStore(X,ce,Se)},cn.useTransition=function(){return B.H.useTransition()},cn.version="19.2.4",cn}var uE;function Ig(){return uE||(uE=1,Rb.exports=Y8()),Rb.exports}var gt=Ig();const oc=n4(gt);var Db={exports:{}},c1={},Nb={exports:{}},Lb={};var fE;function j8(){return fE||(fE=1,(function(i){function e(Y,Q){var ue=Y.length;Y.push(Q);e:for(;0<ue;){var ye=ue-1>>>1,j=Y[ye];if(0<r(j,Q))Y[ye]=Q,Y[ue]=j,ue=ye;else break e}}function t(Y){return Y.length===0?null:Y[0]}function n(Y){if(Y.length===0)return null;var Q=Y[0],ue=Y.pop();if(ue!==Q){Y[0]=ue;e:for(var ye=0,j=Y.length,X=j>>>1;ye<X;){var ce=2*(ye+1)-1,Se=Y[ce],Le=ce+1,Je=Y[Le];if(0>r(Se,ue))Le<j&&0>r(Je,Se)?(Y[ye]=Je,Y[Le]=ue,ye=Le):(Y[ye]=Se,Y[ce]=ue,ye=ce);else if(Le<j&&0>r(Je,ue))Y[ye]=Je,Y[Le]=ue,ye=Le;else break e}}return Q}function r(Y,Q){var ue=Y.sortIndex-Q.sortIndex;return ue!==0?ue:Y.id-Q.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;i.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();i.unstable_now=function(){return l.now()-u}}var d=[],p=[],v=1,_=null,y=3,x=!1,M=!1,E=!1,A=!1,T=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function N(Y){for(var Q=t(p);Q!==null;){if(Q.callback===null)n(p);else if(Q.startTime<=Y)n(p),Q.sortIndex=Q.expirationTime,e(d,Q);else break;Q=t(p)}}function U(Y){if(E=!1,N(Y),!M)if(t(d)!==null)M=!0,I||(I=!0,Z());else{var Q=t(p);Q!==null&&se(U,Q.startTime-Y)}}var I=!1,B=-1,k=5,O=-1;function P(){return A?!0:!(i.unstable_now()-O<k)}function W(){if(A=!1,I){var Y=i.unstable_now();O=Y;var Q=!0;try{e:{M=!1,E&&(E=!1,R(B),B=-1),x=!0;var ue=y;try{t:{for(N(Y),_=t(d);_!==null&&!(_.expirationTime>Y&&P());){var ye=_.callback;if(typeof ye=="function"){_.callback=null,y=_.priorityLevel;var j=ye(_.expirationTime<=Y);if(Y=i.unstable_now(),typeof j=="function"){_.callback=j,N(Y),Q=!0;break t}_===t(d)&&n(d),N(Y)}else n(d);_=t(d)}if(_!==null)Q=!0;else{var X=t(p);X!==null&&se(U,X.startTime-Y),Q=!1}}break e}finally{_=null,y=ue,x=!1}Q=void 0}}finally{Q?Z():I=!1}}}var Z;if(typeof D=="function")Z=function(){D(W)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,ee=J.port2;J.port1.onmessage=W,Z=function(){ee.postMessage(null)}}else Z=function(){T(W,0)};function se(Y,Q){B=T(function(){Y(i.unstable_now())},Q)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Y){Y.callback=null},i.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<Y?Math.floor(1e3/Y):5},i.unstable_getCurrentPriorityLevel=function(){return y},i.unstable_next=function(Y){switch(y){case 1:case 2:case 3:var Q=3;break;default:Q=y}var ue=y;y=Q;try{return Y()}finally{y=ue}},i.unstable_requestPaint=function(){A=!0},i.unstable_runWithPriority=function(Y,Q){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ue=y;y=Y;try{return Q()}finally{y=ue}},i.unstable_scheduleCallback=function(Y,Q,ue){var ye=i.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?ye+ue:ye):ue=ye,Y){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=ue+j,Y={id:v++,callback:Q,priorityLevel:Y,startTime:ue,expirationTime:j,sortIndex:-1},ue>ye?(Y.sortIndex=ue,e(p,Y),t(d)===null&&Y===t(p)&&(E?(R(B),B=-1):E=!0,se(U,ue-ye))):(Y.sortIndex=j,e(d,Y),M||x||(M=!0,I||(I=!0,Z()))),Y},i.unstable_shouldYield=P,i.unstable_wrapCallback=function(Y){var Q=y;return function(){var ue=y;y=Q;try{return Y.apply(this,arguments)}finally{y=ue}}}})(Lb)),Lb}var hE;function yA(){return hE||(hE=1,Nb.exports=j8()),Nb.exports}var Ob={exports:{}},ws={};var dE;function Z8(){if(dE)return ws;dE=1;var i=Ig();function e(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var n={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function a(d,p,v){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:_==null?null:""+_,children:d,containerInfo:p,implementation:v}}var l=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,p){if(d==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return ws.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,ws.createPortal=function(d,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return a(d,p,null,v)},ws.flushSync=function(d){var p=l.T,v=n.p;try{if(l.T=null,n.p=2,d)return d()}finally{l.T=p,n.p=v,n.d.f()}},ws.preconnect=function(d,p){typeof d=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,n.d.C(d,p))},ws.prefetchDNS=function(d){typeof d=="string"&&n.d.D(d)},ws.preinit=function(d,p){if(typeof d=="string"&&p&&typeof p.as=="string"){var v=p.as,_=u(v,p.crossOrigin),y=typeof p.integrity=="string"?p.integrity:void 0,x=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?n.d.S(d,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:y,fetchPriority:x}):v==="script"&&n.d.X(d,{crossOrigin:_,integrity:y,fetchPriority:x,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},ws.preinitModule=function(d,p){if(typeof d=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=u(p.as,p.crossOrigin);n.d.M(d,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&n.d.M(d)},ws.preload=function(d,p){if(typeof d=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,_=u(v,p.crossOrigin);n.d.L(d,v,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},ws.preloadModule=function(d,p){if(typeof d=="string")if(p){var v=u(p.as,p.crossOrigin);n.d.m(d,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else n.d.m(d)},ws.requestFormReset=function(d){n.d.r(d)},ws.unstable_batchedUpdates=function(d,p){return d(p)},ws.useFormState=function(d,p,v){return l.H.useFormState(d,p,v)},ws.useFormStatus=function(){return l.H.useHostTransitionStatus()},ws.version="19.2.4",ws}var pE;function Q8(){if(pE)return Ob.exports;pE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Ob.exports=Z8(),Ob.exports}var mE;function K8(){if(mE)return c1;mE=1;var i=yA(),e=Ig(),t=Q8();function n(s){var o="https://react.dev/errors/"+s;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)o+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var o=s,h=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(h=o.return),s=o.return;while(s)}return o.tag===3?h:null}function l(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function u(s){if(s.tag===31){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function d(s){if(a(s)!==s)throw Error(n(188))}function p(s){var o=s.alternate;if(!o){if(o=a(s),o===null)throw Error(n(188));return o!==s?null:s}for(var h=s,m=o;;){var S=h.return;if(S===null)break;var w=S.alternate;if(w===null){if(m=S.return,m!==null){h=m;continue}break}if(S.child===w.child){for(w=S.child;w;){if(w===h)return d(S),s;if(w===m)return d(S),o;w=w.sibling}throw Error(n(188))}if(h.return!==m.return)h=S,m=w;else{for(var z=!1,G=S.child;G;){if(G===h){z=!0,h=S,m=w;break}if(G===m){z=!0,m=S,h=w;break}G=G.sibling}if(!z){for(G=w.child;G;){if(G===h){z=!0,h=w,m=S;break}if(G===m){z=!0,m=w,h=S;break}G=G.sibling}if(!z)throw Error(n(189))}}if(h.alternate!==m)throw Error(n(190))}if(h.tag!==3)throw Error(n(188));return h.stateNode.current===h?s:o}function v(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s;for(s=s.child;s!==null;){if(o=v(s),o!==null)return o;s=s.sibling}return null}var _=Object.assign,y=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),R=Symbol.for("react.consumer"),D=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function Z(s){return s===null||typeof s!="object"?null:(s=W&&s[W]||s["@@iterator"],typeof s=="function"?s:null)}var J=Symbol.for("react.client.reference");function ee(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===J?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case E:return"Fragment";case T:return"Profiler";case A:return"StrictMode";case U:return"Suspense";case I:return"SuspenseList";case O:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case M:return"Portal";case D:return s.displayName||"Context";case R:return(s._context.displayName||"Context")+".Consumer";case N:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case B:return o=s.displayName||null,o!==null?o:ee(s.type)||"Memo";case k:o=s._payload,s=s._init;try{return ee(s(o))}catch{}}return null}var se=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},ye=[],j=-1;function X(s){return{current:s}}function ce(s){0>j||(s.current=ye[j],ye[j]=null,j--)}function Se(s,o){j++,ye[j]=s.current,s.current=o}var Le=X(null),Je=X(null),de=X(null),xe=X(null);function qe(s,o){switch(Se(de,o),Se(Je,s),Se(Le,null),o.nodeType){case 9:case 11:s=(s=o.documentElement)&&(s=s.namespaceURI)?DT(s):0;break;default:if(s=o.tagName,o=o.namespaceURI)o=DT(o),s=NT(o,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ce(Le),Se(Le,s)}function Ze(){ce(Le),ce(Je),ce(de)}function ct(s){s.memoizedState!==null&&Se(xe,s);var o=Le.current,h=NT(o,s.type);o!==h&&(Se(Je,s),Se(Le,h))}function Pt(s){Je.current===s&&(ce(Le),ce(Je)),xe.current===s&&(ce(xe),r1._currentValue=ue)}var Bt,rt;function Ce(s){if(Bt===void 0)try{throw Error()}catch(h){var o=h.stack.trim().match(/\n( *(at )?)/);Bt=o&&o[1]||"",rt=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Bt+s+rt}var Be=!1;function Oe(s,o){if(!s||Be)return"";Be=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(o){var ke=function(){throw Error()};if(Object.defineProperty(ke.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ke,[])}catch(De){var Te=De}Reflect.construct(s,[],ke)}else{try{ke.call()}catch(De){Te=De}s.call(ke.prototype)}}else{try{throw Error()}catch(De){Te=De}(ke=s())&&typeof ke.catch=="function"&&ke.catch(function(){})}}catch(De){if(De&&Te&&typeof De.stack=="string")return[De.stack,Te.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var S=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");S&&S.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=m.DetermineComponentFrameRoot(),z=w[0],G=w[1];if(z&&G){var ne=z.split(`
`),_e=G.split(`
`);for(S=m=0;m<ne.length&&!ne[m].includes("DetermineComponentFrameRoot");)m++;for(;S<_e.length&&!_e[S].includes("DetermineComponentFrameRoot");)S++;if(m===ne.length||S===_e.length)for(m=ne.length-1,S=_e.length-1;1<=m&&0<=S&&ne[m]!==_e[S];)S--;for(;1<=m&&0<=S;m--,S--)if(ne[m]!==_e[S]){if(m!==1||S!==1)do if(m--,S--,0>S||ne[m]!==_e[S]){var Pe=`
`+ne[m].replace(" at new "," at ");return s.displayName&&Pe.includes("<anonymous>")&&(Pe=Pe.replace("<anonymous>",s.displayName)),Pe}while(1<=m&&0<=S);break}}}finally{Be=!1,Error.prepareStackTrace=h}return(h=s?s.displayName||s.name:"")?Ce(h):""}function re(s,o){switch(s.tag){case 26:case 27:case 5:return Ce(s.type);case 16:return Ce("Lazy");case 13:return s.child!==o&&o!==null?Ce("Suspense Fallback"):Ce("Suspense");case 19:return Ce("SuspenseList");case 0:case 15:return Oe(s.type,!1);case 11:return Oe(s.type.render,!1);case 1:return Oe(s.type,!0);case 31:return Ce("Activity");default:return""}}function K(s){try{var o="",h=null;do o+=re(s,h),h=s,s=s.return;while(s);return o}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var Tt=Object.prototype.hasOwnProperty,nt=i.unstable_scheduleCallback,ut=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,q=i.unstable_requestPaint,F=i.unstable_now,ae=i.unstable_getCurrentPriorityLevel,Ae=i.unstable_ImmediatePriority,Ne=i.unstable_UserBlockingPriority,Me=i.unstable_NormalPriority,at=i.unstable_LowPriority,Qe=i.unstable_IdlePriority,bt=i.log,xt=i.unstable_setDisableYieldValue,Ve=null,We=null;function ht(s){if(typeof bt=="function"&&xt(s),We&&typeof We.setStrictMode=="function")try{We.setStrictMode(Ve,s)}catch{}}var ft=Math.clz32?Math.clz32:te,et=Math.log,qt=Math.LN2;function te(s){return s>>>=0,s===0?32:31-(et(s)/qt|0)|0}var ot=256,He=262144,it=4194304;function Fe(s){var o=s&42;if(o!==0)return o;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Ue(s,o,h){var m=s.pendingLanes;if(m===0)return 0;var S=0,w=s.suspendedLanes,z=s.pingedLanes;s=s.warmLanes;var G=m&134217727;return G!==0?(m=G&~w,m!==0?S=Fe(m):(z&=G,z!==0?S=Fe(z):h||(h=G&~s,h!==0&&(S=Fe(h))))):(G=m&~w,G!==0?S=Fe(G):z!==0?S=Fe(z):h||(h=m&~s,h!==0&&(S=Fe(h)))),S===0?0:o!==0&&o!==S&&(o&w)===0&&(w=S&-S,h=o&-o,w>=h||w===32&&(h&4194048)!==0)?o:S}function $e(s,o){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&o)===0}function Ut(s,o){switch(s){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function un(){var s=it;return it<<=1,(it&62914560)===0&&(it=4194304),s}function pt(s){for(var o=[],h=0;31>h;h++)o.push(s);return o}function Et(s,o){s.pendingLanes|=o,o!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Kt(s,o,h,m,S,w){var z=s.pendingLanes;s.pendingLanes=h,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=h,s.entangledLanes&=h,s.errorRecoveryDisabledLanes&=h,s.shellSuspendCounter=0;var G=s.entanglements,ne=s.expirationTimes,_e=s.hiddenUpdates;for(h=z&~h;0<h;){var Pe=31-ft(h),ke=1<<Pe;G[Pe]=0,ne[Pe]=-1;var Te=_e[Pe];if(Te!==null)for(_e[Pe]=null,Pe=0;Pe<Te.length;Pe++){var De=Te[Pe];De!==null&&(De.lane&=-536870913)}h&=~ke}m!==0&&lt(s,m,0),w!==0&&S===0&&s.tag!==0&&(s.suspendedLanes|=w&~(z&~o))}function lt(s,o,h){s.pendingLanes|=o,s.suspendedLanes&=~o;var m=31-ft(o);s.entangledLanes|=o,s.entanglements[m]=s.entanglements[m]|1073741824|h&261930}function Vt(s,o){var h=s.entangledLanes|=o;for(s=s.entanglements;h;){var m=31-ft(h),S=1<<m;S&o|s[m]&o&&(s[m]|=o),h&=~S}}function Nt(s,o){var h=o&-o;return h=(h&42)!==0?1:Ht(h),(h&(s.suspendedLanes|o))!==0?0:h}function Ht(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function ni(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function rn(){var s=Q.p;return s!==0?s:(s=window.event,s===void 0?32:eE(s.type))}function yn(s,o){var h=Q.p;try{return Q.p=s,o()}finally{Q.p=h}}var Yn=Math.random().toString(36).slice(2),Jt="__reactFiber$"+Yn,tn="__reactProps$"+Yn,fn="__reactContainer$"+Yn,yi="__reactEvents$"+Yn,Mn="__reactListeners$"+Yn,ki="__reactHandles$"+Yn,Sr="__reactResources$"+Yn,Jn="__reactMarker$"+Yn;function ui(s){delete s[Jt],delete s[tn],delete s[yi],delete s[Mn],delete s[ki]}function di(s){var o=s[Jt];if(o)return o;for(var h=s.parentNode;h;){if(o=h[fn]||h[Jt]){if(h=o.alternate,o.child!==null||h!==null&&h.child!==null)for(s=BT(s);s!==null;){if(h=s[Jt])return h;s=BT(s)}return o}s=h,h=s.parentNode}return null}function Ur(s){if(s=s[Jt]||s[fn]){var o=s.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return s}return null}function ks(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s.stateNode;throw Error(n(33))}function fi(s){var o=s[Sr];return o||(o=s[Sr]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function V(s){s[Jn]=!0}var le=new Set,Ee={};function ve(s,o){he(s,o),he(s+"Capture",o)}function he(s,o){for(Ee[s]=o,s=0;s<o.length;s++)le.add(o[s])}var je=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),dt={},Xe={};function vt(s){return Tt.call(Xe,s)?!0:Tt.call(dt,s)?!1:je.test(s)?Xe[s]=!0:(dt[s]=!0,!1)}function At(s,o,h){if(vt(o))if(h===null)s.removeAttribute(o);else{switch(typeof h){case"undefined":case"function":case"symbol":s.removeAttribute(o);return;case"boolean":var m=o.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){s.removeAttribute(o);return}}s.setAttribute(o,""+h)}}function zt(s,o,h){if(h===null)s.removeAttribute(o);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttribute(o,""+h)}}function Ct(s,o,h,m){if(m===null)s.removeAttribute(h);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(h);return}s.setAttributeNS(o,h,""+m)}}function Wt(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Fn(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function pi(s,o,h){var m=Object.getOwnPropertyDescriptor(s.constructor.prototype,o);if(!s.hasOwnProperty(o)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var S=m.get,w=m.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return S.call(this)},set:function(z){h=""+z,w.call(this,z)}}),Object.defineProperty(s,o,{enumerable:m.enumerable}),{getValue:function(){return h},setValue:function(z){h=""+z},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function ii(s){if(!s._valueTracker){var o=Fn(s)?"checked":"value";s._valueTracker=pi(s,o,""+s[o])}}function nn(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var h=o.getValue(),m="";return s&&(m=Fn(s)?s.checked?"true":"false":s.value),s=m,s!==h?(o.setValue(s),!0):!1}function mt(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Pn=/[\n"\\]/g;function Yt(s){return s.replace(Pn,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function rr(s,o,h,m,S,w,z,G){s.name="",z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?s.type=z:s.removeAttribute("type"),o!=null?z==="number"?(o===0&&s.value===""||s.value!=o)&&(s.value=""+Wt(o)):s.value!==""+Wt(o)&&(s.value=""+Wt(o)):z!=="submit"&&z!=="reset"||s.removeAttribute("value"),o!=null?bi(s,z,Wt(o)):h!=null?bi(s,z,Wt(h)):m!=null&&s.removeAttribute("value"),S==null&&w!=null&&(s.defaultChecked=!!w),S!=null&&(s.checked=S&&typeof S!="function"&&typeof S!="symbol"),G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"?s.name=""+Wt(G):s.removeAttribute("name")}function ka(s,o,h,m,S,w,z,G){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(s.type=w),o!=null||h!=null){if(!(w!=="submit"&&w!=="reset"||o!=null)){ii(s);return}h=h!=null?""+Wt(h):"",o=o!=null?""+Wt(o):h,G||o===s.value||(s.value=o),s.defaultValue=o}m=m??S,m=typeof m!="function"&&typeof m!="symbol"&&!!m,s.checked=G?s.checked:!!m,s.defaultChecked=!!m,z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"&&(s.name=z),ii(s)}function bi(s,o,h){o==="number"&&mt(s.ownerDocument)===s||s.defaultValue===""+h||(s.defaultValue=""+h)}function is(s,o,h,m){if(s=s.options,o){o={};for(var S=0;S<h.length;S++)o["$"+h[S]]=!0;for(h=0;h<s.length;h++)S=o.hasOwnProperty("$"+s[h].value),s[h].selected!==S&&(s[h].selected=S),S&&m&&(s[h].defaultSelected=!0)}else{for(h=""+Wt(h),o=null,S=0;S<s.length;S++){if(s[S].value===h){s[S].selected=!0,m&&(s[S].defaultSelected=!0);return}o!==null||s[S].disabled||(o=s[S])}o!==null&&(o.selected=!0)}}function Wn(s,o,h){if(o!=null&&(o=""+Wt(o),o!==s.value&&(s.value=o),h==null)){s.defaultValue!==o&&(s.defaultValue=o);return}s.defaultValue=h!=null?""+Wt(h):""}function hr(s,o,h,m){if(o==null){if(m!=null){if(h!=null)throw Error(n(92));if(se(m)){if(1<m.length)throw Error(n(93));m=m[0]}h=m}h==null&&(h=""),o=h}h=Wt(o),s.defaultValue=h,m=s.textContent,m===h&&m!==""&&m!==null&&(s.value=m),ii(s)}function sr(s,o){if(o){var h=s.firstChild;if(h&&h===s.lastChild&&h.nodeType===3){h.nodeValue=o;return}}s.textContent=o}var Mr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tr(s,o,h){var m=o.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?m?s.setProperty(o,""):o==="float"?s.cssFloat="":s[o]="":m?s.setProperty(o,h):typeof h!="number"||h===0||Mr.has(o)?o==="float"?s.cssFloat=h:s[o]=(""+h).trim():s[o]=h+"px"}function mc(s,o,h){if(o!=null&&typeof o!="object")throw Error(n(62));if(s=s.style,h!=null){for(var m in h)!h.hasOwnProperty(m)||o!=null&&o.hasOwnProperty(m)||(m.indexOf("--")===0?s.setProperty(m,""):m==="float"?s.cssFloat="":s[m]="");for(var S in o)m=o[S],o.hasOwnProperty(S)&&h[S]!==m&&Tr(s,S,m)}else for(var w in o)o.hasOwnProperty(w)&&Tr(s,w,o[w])}function la(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),B0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Uf(s){return B0.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Xo(){}var _d=null;function xd(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var gc=null,Sl=null;function F0(s){var o=Ur(s);if(o&&(s=o.stateNode)){var h=s[tn]||null;e:switch(s=o.stateNode,o.type){case"input":if(rr(s,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),o=h.name,h.type==="radio"&&o!=null){for(h=s;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+Yt(""+o)+'"][type="radio"]'),o=0;o<h.length;o++){var m=h[o];if(m!==s&&m.form===s.form){var S=m[tn]||null;if(!S)throw Error(n(90));rr(m,S.value,S.defaultValue,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name)}}for(o=0;o<h.length;o++)m=h[o],m.form===s.form&&nn(m)}break e;case"textarea":Wn(s,h.value,h.defaultValue);break e;case"select":o=h.value,o!=null&&is(s,!!h.multiple,o,!1)}}}var yd=!1;function k0(s,o,h){if(yd)return s(o,h);yd=!0;try{var m=s(o);return m}finally{if(yd=!1,(gc!==null||Sl!==null)&&(Xa(),gc&&(o=gc,s=Sl,Sl=gc=null,F0(o),s)))for(o=0;o<s.length;o++)F0(s[o])}}function lu(s,o){var h=s.stateNode;if(h===null)return null;var m=h[tn]||null;if(m===null)return null;h=m[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(s=s.type,m=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!m;break e;default:s=!1}if(s)return null;if(h&&typeof h!="function")throw Error(n(231,o,typeof h));return h}var fo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),V0=!1;if(fo)try{var cu={};Object.defineProperty(cu,"passive",{get:function(){V0=!0}}),window.addEventListener("test",cu,cu),window.removeEventListener("test",cu,cu)}catch{V0=!1}var Vs=null,bd=null,vc=null;function Pf(){if(vc)return vc;var s,o=bd,h=o.length,m,S="value"in Vs?Vs.value:Vs.textContent,w=S.length;for(s=0;s<h&&o[s]===S[s];s++);var z=h-s;for(m=1;m<=z&&o[h-m]===S[w-m];m++);return vc=S.slice(s,1<m?1-m:void 0)}function If(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function uu(){return!0}function Qg(){return!1}function rs(s){function o(h,m,S,w,z){this._reactName=h,this._targetInst=S,this.type=m,this.nativeEvent=w,this.target=z,this.currentTarget=null;for(var G in s)s.hasOwnProperty(G)&&(h=s[G],this[G]=h?h(w):w[G]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?uu:Qg,this.isPropagationStopped=Qg,this}return _(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=uu)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=uu)},persist:function(){},isPersistent:uu}),o}var Ml={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zf=rs(Ml),fu=_({},Ml,{view:0,detail:0}),Kg=rs(fu),Bf,Sd,hu,du=_({},fu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ad,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==hu&&(hu&&s.type==="mousemove"?(Bf=s.screenX-hu.screenX,Sd=s.screenY-hu.screenY):Sd=Bf=0,hu=s),Bf)},movementY:function(s){return"movementY"in s?s.movementY:Sd}}),H0=rs(du),Jg=_({},du,{dataTransfer:0}),$g=rs(Jg),G0=_({},fu,{relatedTarget:0}),Md=rs(G0),ev=_({},Ml,{animationName:0,elapsedTime:0,pseudoElement:0}),j3=rs(ev),Z3=_({},Ml,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),tv=rs(Z3),Ff=_({},Ml,{data:0}),Td=rs(Ff),Ed={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},iv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function W0(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=iv[s])?!!o[s]:!1}function Ad(){return W0}var rv=_({},fu,{key:function(s){if(s.key){var o=Ed[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=If(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?nv[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ad,charCode:function(s){return s.type==="keypress"?If(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?If(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),_c=rs(rv),wd=_({},du,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),X0=rs(wd),q0=_({},fu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ad}),sv=rs(q0),av=_({},Ml,{propertyName:0,elapsedTime:0,pseudoElement:0}),Q3=rs(av),Pr=_({},du,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),ov=rs(Pr),lv=_({},Ml,{newState:0,oldState:0}),cv=rs(lv),uv=[9,13,27,32],xc=fo&&"CompositionEvent"in window,pu=null;fo&&"documentMode"in document&&(pu=document.documentMode);var Cd=fo&&"TextEvent"in window&&!pu,Y0=fo&&(!xc||pu&&8<pu&&11>=pu),fv=" ",kf=!1;function Rd(s,o){switch(s){case"keyup":return uv.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function j0(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var yc=!1;function hv(s,o){switch(s){case"compositionend":return j0(o);case"keypress":return o.which!==32?null:(kf=!0,fv);case"textInput":return s=o.data,s===fv&&kf?null:s;default:return null}}function Z0(s,o){if(yc)return s==="compositionend"||!xc&&Rd(s,o)?(s=Pf(),vc=bd=Vs=null,yc=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Y0&&o.locale!=="ko"?null:o.data;default:return null}}var Q0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function K0(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!Q0[s.type]:o==="textarea"}function Dd(s,o,h,m){gc?Sl?Sl.push(m):Sl=[m]:gc=m,o=v_(o,"onChange"),0<o.length&&(h=new zf("onChange","change",null,h,m),s.push({event:h,listeners:o}))}var Tl=null,bc=null;function dv(s){TT(s,0)}function mu(s){var o=ks(s);if(nn(o))return s}function J0(s,o){if(s==="change")return o}var ho=!1;if(fo){var Vf;if(fo){var $0="oninput"in document;if(!$0){var em=document.createElement("div");em.setAttribute("oninput","return;"),$0=typeof em.oninput=="function"}Vf=$0}else Vf=!1;ho=Vf&&(!document.documentMode||9<document.documentMode)}function ca(){Tl&&(Tl.detachEvent("onpropertychange",Hf),bc=Tl=null)}function Hf(s){if(s.propertyName==="value"&&mu(bc)){var o=[];Dd(o,bc,s,xd(s)),k0(dv,o)}}function pv(s,o,h){s==="focusin"?(ca(),Tl=o,bc=h,Tl.attachEvent("onpropertychange",Hf)):s==="focusout"&&ca()}function tm(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return mu(bc)}function mv(s,o){if(s==="click")return mu(o)}function gv(s,o){if(s==="input"||s==="change")return mu(o)}function nm(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var ss=typeof Object.is=="function"?Object.is:nm;function gu(s,o){if(ss(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var h=Object.keys(s),m=Object.keys(o);if(h.length!==m.length)return!1;for(m=0;m<h.length;m++){var S=h[m];if(!Tt.call(o,S)||!ss(s[S],o[S]))return!1}return!0}function Gf(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function vu(s,o){var h=Gf(s);s=0;for(var m;h;){if(h.nodeType===3){if(m=s+h.textContent.length,s<=o&&m>=o)return{node:h,offset:o-s};s=m}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=Gf(h)}}function mi(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?mi(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function vv(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var o=mt(s.document);o instanceof s.HTMLIFrameElement;){try{var h=typeof o.contentWindow.location.href=="string"}catch{h=!1}if(h)s=o.contentWindow;else break;o=mt(s.document)}return o}function im(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}var _v=fo&&"documentMode"in document&&11>=document.documentMode,po=null,mo=null,_u=null,Nd=!1;function xu(s,o,h){var m=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Nd||po==null||po!==mt(m)||(m=po,"selectionStart"in m&&im(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),_u&&gu(_u,m)||(_u=m,m=v_(mo,"onSelect"),0<m.length&&(o=new zf("onSelect","select",null,o,h),s.push({event:o,listeners:m}),o.target=po)))}function jr(s,o){var h={};return h[s.toLowerCase()]=o.toLowerCase(),h["Webkit"+s]="webkit"+o,h["Moz"+s]="moz"+o,h}var Sc={animationend:jr("Animation","AnimationEnd"),animationiteration:jr("Animation","AnimationIteration"),animationstart:jr("Animation","AnimationStart"),transitionrun:jr("Transition","TransitionRun"),transitionstart:jr("Transition","TransitionStart"),transitioncancel:jr("Transition","TransitionCancel"),transitionend:jr("Transition","TransitionEnd")},Wf={},rm={};fo&&(rm=document.createElement("div").style,"AnimationEvent"in window||(delete Sc.animationend.animation,delete Sc.animationiteration.animation,delete Sc.animationstart.animation),"TransitionEvent"in window||delete Sc.transitionend.transition);function qo(s){if(Wf[s])return Wf[s];if(!Sc[s])return s;var o=Sc[s],h;for(h in o)if(o.hasOwnProperty(h)&&h in rm)return Wf[s]=o[h];return s}var Ld=qo("animationend"),Xf=qo("animationiteration"),sm=qo("animationstart"),xv=qo("transitionrun"),K3=qo("transitionstart"),yv=qo("transitioncancel"),am=qo("transitionend"),ua=new Map,qf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qf.push("scrollEnd");function fa(s,o){ua.set(s,o),ve(o,[s])}var Yf=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},ha=[],Yo=0,Er=0;function jf(){for(var s=Yo,o=Er=Yo=0;o<s;){var h=ha[o];ha[o++]=null;var m=ha[o];ha[o++]=null;var S=ha[o];ha[o++]=null;var w=ha[o];if(ha[o++]=null,m!==null&&S!==null){var z=m.pending;z===null?S.next=S:(S.next=z.next,z.next=S),m.pending=S}w!==0&&El(h,S,w)}}function Ar(s,o,h,m){ha[Yo++]=s,ha[Yo++]=o,ha[Yo++]=h,ha[Yo++]=m,Er|=m,s.lanes|=m,s=s.alternate,s!==null&&(s.lanes|=m)}function Od(s,o,h,m){return Ar(s,o,h,m),da(s)}function as(s,o){return Ar(s,null,null,o),da(s)}function El(s,o,h){s.lanes|=h;var m=s.alternate;m!==null&&(m.lanes|=h);for(var S=!1,w=s.return;w!==null;)w.childLanes|=h,m=w.alternate,m!==null&&(m.childLanes|=h),w.tag===22&&(s=w.stateNode,s===null||s._visibility&1||(S=!0)),s=w,w=w.return;return s.tag===3?(w=s.stateNode,S&&o!==null&&(S=31-ft(h),s=w.hiddenUpdates,m=s[S],m===null?s[S]=[o]:m.push(o),o.lane=h|536870912),w):null}function da(s){if(50<Wl)throw Wl=0,Vc=null,Error(n(185));for(var o=s.return;o!==null;)s=o,o=s.return;return s.tag===3?s.stateNode:null}var Al={};function om(s,o,h,m){this.tag=s,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ni(s,o,h,m){return new om(s,o,h,m)}function Ud(s){return s=s.prototype,!(!s||!s.isReactComponent)}function vs(s,o){var h=s.alternate;return h===null?(h=Ni(s.tag,o,s.key,s.mode),h.elementType=s.elementType,h.type=s.type,h.stateNode=s.stateNode,h.alternate=s,s.alternate=h):(h.pendingProps=o,h.type=s.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=s.flags&65011712,h.childLanes=s.childLanes,h.lanes=s.lanes,h.child=s.child,h.memoizedProps=s.memoizedProps,h.memoizedState=s.memoizedState,h.updateQueue=s.updateQueue,o=s.dependencies,h.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},h.sibling=s.sibling,h.index=s.index,h.ref=s.ref,h.refCleanup=s.refCleanup,h}function yu(s,o){s.flags&=65011714;var h=s.alternate;return h===null?(s.childLanes=0,s.lanes=o,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=h.childLanes,s.lanes=h.lanes,s.child=h.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=h.memoizedProps,s.memoizedState=h.memoizedState,s.updateQueue=h.updateQueue,s.type=h.type,o=h.dependencies,s.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),s}function go(s,o,h,m,S,w){var z=0;if(m=s,typeof s=="function")Ud(s)&&(z=1);else if(typeof s=="string")z=O8(s,h,Le.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case O:return s=Ni(31,h,o,S),s.elementType=O,s.lanes=w,s;case E:return wl(h.children,S,w,o);case A:z=8,S|=24;break;case T:return s=Ni(12,h,o,S|2),s.elementType=T,s.lanes=w,s;case U:return s=Ni(13,h,o,S),s.elementType=U,s.lanes=w,s;case I:return s=Ni(19,h,o,S),s.elementType=I,s.lanes=w,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case D:z=10;break e;case R:z=9;break e;case N:z=11;break e;case B:z=14;break e;case k:z=16,m=null;break e}z=29,h=Error(n(130,s===null?"null":typeof s,"")),m=null}return o=Ni(z,h,o,S),o.elementType=s,o.type=m,o.lanes=w,o}function wl(s,o,h,m){return s=Ni(7,s,m,o),s.lanes=h,s}function Pd(s,o,h){return s=Ni(6,s,null,o),s.lanes=h,s}function bu(s){var o=Ni(18,null,null,0);return o.stateNode=s,o}function Id(s,o,h){return o=Ni(4,s.children!==null?s.children:[],s.key,o),o.lanes=h,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}var Zf=new WeakMap;function Hs(s,o){if(typeof s=="object"&&s!==null){var h=Zf.get(s);return h!==void 0?h:(o={value:s,source:o,stack:K(o)},Zf.set(s,o),o)}return{value:s,source:o,stack:K(o)}}var Cl=[],Rl=0,Su=null,Mu=0,_s=[],Ai=0,jo=null,Li=1,Va="";function vo(s,o){Cl[Rl++]=Mu,Cl[Rl++]=Su,Su=s,Mu=o}function bv(s,o,h){_s[Ai++]=Li,_s[Ai++]=Va,_s[Ai++]=jo,jo=s;var m=Li;s=Va;var S=32-ft(m)-1;m&=~(1<<S),h+=1;var w=32-ft(o)+S;if(30<w){var z=S-S%5;w=(m&(1<<z)-1).toString(32),m>>=z,S-=z,Li=1<<32-ft(o)+S|h<<S|m,Va=w+s}else Li=1<<w|h<<S|m,Va=s}function _o(s){s.return!==null&&(vo(s,1),bv(s,1,0))}function zd(s){for(;s===Su;)Su=Cl[--Rl],Cl[Rl]=null,Mu=Cl[--Rl],Cl[Rl]=null;for(;s===jo;)jo=_s[--Ai],_s[Ai]=null,Va=_s[--Ai],_s[Ai]=null,Li=_s[--Ai],_s[Ai]=null}function Bd(s,o){_s[Ai++]=Li,_s[Ai++]=Va,_s[Ai++]=jo,Li=o.id,Va=o.overflow,jo=s}var Vi=null,gi=null,Cn=!1,Zo=null,Gs=!1,Tu=Error(n(519));function xo(s){var o=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw yo(Hs(o,s)),Tu}function Sv(s){var o=s.stateNode,h=s.type,m=s.memoizedProps;switch(o[Jt]=s,o[tn]=m,h){case"dialog":Un("cancel",o),Un("close",o);break;case"iframe":case"object":case"embed":Un("load",o);break;case"video":case"audio":for(h=0;h<Aa.length;h++)Un(Aa[h],o);break;case"source":Un("error",o);break;case"img":case"image":case"link":Un("error",o),Un("load",o);break;case"details":Un("toggle",o);break;case"input":Un("invalid",o),ka(o,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":Un("invalid",o);break;case"textarea":Un("invalid",o),hr(o,m.value,m.defaultValue,m.children)}h=m.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||o.textContent===""+h||m.suppressHydrationWarning===!0||CT(o.textContent,h)?(m.popover!=null&&(Un("beforetoggle",o),Un("toggle",o)),m.onScroll!=null&&Un("scroll",o),m.onScrollEnd!=null&&Un("scrollend",o),m.onClick!=null&&(o.onclick=Xo),o=!0):o=!1,o||xo(s,!0)}function Mv(s){for(Vi=s.return;Vi;)switch(Vi.tag){case 5:case 31:case 13:Gs=!1;return;case 27:case 3:Gs=!0;return;default:Vi=Vi.return}}function Eu(s){if(s!==Vi)return!1;if(!Cn)return Mv(s),Cn=!0,!1;var o=s.tag,h;if((h=o!==3&&o!==27)&&((h=o===5)&&(h=s.type,h=!(h!=="form"&&h!=="button")||db(s.type,s.memoizedProps)),h=!h),h&&gi&&xo(s),Mv(s),o===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));gi=zT(s)}else if(o===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));gi=zT(s)}else o===27?(o=gi,Xu(s.type)?(s=_b,_b=null,gi=s):gi=o):gi=Vi?Uo(s.stateNode.nextSibling):null;return!0}function Dl(){gi=Vi=null,Cn=!1}function Fd(){var s=Zo;return s!==null&&(Gi===null?Gi=s:Gi.push.apply(Gi,s),Zo=null),s}function yo(s){Zo===null?Zo=[s]:Zo.push(s)}var Au=X(null),Nl=null,bo=null;function Qo(s,o,h){Se(Au,o._currentValue),o._currentValue=h}function So(s){s._currentValue=Au.current,ce(Au)}function kd(s,o,h){for(;s!==null;){var m=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,m!==null&&(m.childLanes|=o)):m!==null&&(m.childLanes&o)!==o&&(m.childLanes|=o),s===h)break;s=s.return}}function Vd(s,o,h,m){var S=s.child;for(S!==null&&(S.return=s);S!==null;){var w=S.dependencies;if(w!==null){var z=S.child;w=w.firstContext;e:for(;w!==null;){var G=w;w=S;for(var ne=0;ne<o.length;ne++)if(G.context===o[ne]){w.lanes|=h,G=w.alternate,G!==null&&(G.lanes|=h),kd(w.return,h,s),m||(z=null);break e}w=G.next}}else if(S.tag===18){if(z=S.return,z===null)throw Error(n(341));z.lanes|=h,w=z.alternate,w!==null&&(w.lanes|=h),kd(z,h,s),z=null}else z=S.child;if(z!==null)z.return=S;else for(z=S;z!==null;){if(z===s){z=null;break}if(S=z.sibling,S!==null){S.return=z.return,z=S;break}z=z.return}S=z}}function Mo(s,o,h,m){s=null;for(var S=o,w=!1;S!==null;){if(!w){if((S.flags&524288)!==0)w=!0;else if((S.flags&262144)!==0)break}if(S.tag===10){var z=S.alternate;if(z===null)throw Error(n(387));if(z=z.memoizedProps,z!==null){var G=S.type;ss(S.pendingProps.value,z.value)||(s!==null?s.push(G):s=[G])}}else if(S===xe.current){if(z=S.alternate,z===null)throw Error(n(387));z.memoizedState.memoizedState!==S.memoizedState.memoizedState&&(s!==null?s.push(r1):s=[r1])}S=S.return}s!==null&&Vd(o,s,h,m),o.flags|=262144}function Qf(s){for(s=s.firstContext;s!==null;){if(!ss(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Ll(s){Nl=s,bo=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Zt(s){return Tv(Nl,s)}function wu(s,o){return Nl===null&&Ll(s),Tv(s,o)}function Tv(s,o){var h=o._currentValue;if(o={context:o,memoizedValue:h,next:null},bo===null){if(s===null)throw Error(n(308));bo=o,s.dependencies={lanes:0,firstContext:o},s.flags|=524288}else bo=bo.next=o;return h}var Ev=typeof AbortController<"u"?AbortController:function(){var s=[],o=this.signal={aborted:!1,addEventListener:function(h,m){s.push(m)}};this.abort=function(){o.aborted=!0,s.forEach(function(h){return h()})}},J3=i.unstable_scheduleCallback,$3=i.unstable_NormalPriority,ar={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lm(){return{controller:new Ev,data:new Map,refCount:0}}function Mc(s){s.refCount--,s.refCount===0&&J3($3,function(){s.controller.abort()})}var Ws=null,Hd=0,Ko=0,pa=null;function cm(s,o){if(Ws===null){var h=Ws=[];Hd=0,Ko=we(),pa={status:"pending",value:void 0,then:function(m){h.push(m)}}}return Hd++,o.then(um,um),o}function um(){if(--Hd===0&&Ws!==null){pa!==null&&(pa.status="fulfilled");var s=Ws;Ws=null,Ko=0,pa=null;for(var o=0;o<s.length;o++)(0,s[o])()}}function fm(s,o){var h=[],m={status:"pending",value:null,reason:null,then:function(S){h.push(S)}};return s.then(function(){m.status="fulfilled",m.value=o;for(var S=0;S<h.length;S++)(0,h[S])(o)},function(S){for(m.status="rejected",m.reason=S,S=0;S<h.length;S++)(0,h[S])(void 0)}),m}var Av=Y.S;Y.S=function(s,o){Jm=F(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&cm(s,o),Av!==null&&Av(s,o)};var Ol=X(null);function Gd(){var s=Ol.current;return s!==null?s:$t.pooledCache}function Kf(s,o){o===null?Se(Ol,Ol.current):Se(Ol,o.pool)}function hm(){var s=Gd();return s===null?null:{parent:ar._currentValue,pool:s}}var Tc=Error(n(460)),Jf=Error(n(474)),pn=Error(n(542)),Wd={then:function(){}};function xs(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Xd(s,o,h){switch(h=s[h],h===void 0?s.push(o):h!==o&&(o.then(Xo,Xo),o=h),o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,wc(s),s;default:if(typeof o.status=="string")o.then(Xo,Xo);else{if(s=$t,s!==null&&100<s.shellSuspendCounter)throw Error(n(482));s=o,s.status="pending",s.then(function(m){if(o.status==="pending"){var S=o;S.status="fulfilled",S.value=m}},function(m){if(o.status==="pending"){var S=o;S.status="rejected",S.reason=m}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,wc(s),s}throw To=o,Tc}}function Ec(s){try{var o=s._init;return o(s._payload)}catch(h){throw h!==null&&typeof h=="object"&&typeof h.then=="function"?(To=h,Tc):h}}var To=null;function Ac(){if(To===null)throw Error(n(459));var s=To;return To=null,s}function wc(s){if(s===Tc||s===pn)throw Error(n(483))}var Cc=null,Rc=0;function $f(s){var o=Rc;return Rc+=1,Cc===null&&(Cc=[]),Xd(Cc,s,o)}function ma(s,o){o=o.props.ref,s.ref=o!==void 0?o:null}function Cu(s,o){throw o.$$typeof===y?Error(n(525)):(s=Object.prototype.toString.call(o),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s)))}function qd(s){function o(pe,oe){if(s){var ge=pe.deletions;ge===null?(pe.deletions=[oe],pe.flags|=16):ge.push(oe)}}function h(pe,oe){if(!s)return null;for(;oe!==null;)o(pe,oe),oe=oe.sibling;return null}function m(pe){for(var oe=new Map;pe!==null;)pe.key!==null?oe.set(pe.key,pe):oe.set(pe.index,pe),pe=pe.sibling;return oe}function S(pe,oe){return pe=vs(pe,oe),pe.index=0,pe.sibling=null,pe}function w(pe,oe,ge){return pe.index=ge,s?(ge=pe.alternate,ge!==null?(ge=ge.index,ge<oe?(pe.flags|=67108866,oe):ge):(pe.flags|=67108866,oe)):(pe.flags|=1048576,oe)}function z(pe){return s&&pe.alternate===null&&(pe.flags|=67108866),pe}function G(pe,oe,ge,ze){return oe===null||oe.tag!==6?(oe=Pd(ge,pe.mode,ze),oe.return=pe,oe):(oe=S(oe,ge),oe.return=pe,oe)}function ne(pe,oe,ge,ze){var kt=ge.type;return kt===E?Pe(pe,oe,ge.props.children,ze,ge.key):oe!==null&&(oe.elementType===kt||typeof kt=="object"&&kt!==null&&kt.$$typeof===k&&Ec(kt)===oe.type)?(oe=S(oe,ge.props),ma(oe,ge),oe.return=pe,oe):(oe=go(ge.type,ge.key,ge.props,null,pe.mode,ze),ma(oe,ge),oe.return=pe,oe)}function _e(pe,oe,ge,ze){return oe===null||oe.tag!==4||oe.stateNode.containerInfo!==ge.containerInfo||oe.stateNode.implementation!==ge.implementation?(oe=Id(ge,pe.mode,ze),oe.return=pe,oe):(oe=S(oe,ge.children||[]),oe.return=pe,oe)}function Pe(pe,oe,ge,ze,kt){return oe===null||oe.tag!==7?(oe=wl(ge,pe.mode,ze,kt),oe.return=pe,oe):(oe=S(oe,ge),oe.return=pe,oe)}function ke(pe,oe,ge){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return oe=Pd(""+oe,pe.mode,ge),oe.return=pe,oe;if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case x:return ge=go(oe.type,oe.key,oe.props,null,pe.mode,ge),ma(ge,oe),ge.return=pe,ge;case M:return oe=Id(oe,pe.mode,ge),oe.return=pe,oe;case k:return oe=Ec(oe),ke(pe,oe,ge)}if(se(oe)||Z(oe))return oe=wl(oe,pe.mode,ge,null),oe.return=pe,oe;if(typeof oe.then=="function")return ke(pe,$f(oe),ge);if(oe.$$typeof===D)return ke(pe,wu(pe,oe),ge);Cu(pe,oe)}return null}function Te(pe,oe,ge,ze){var kt=oe!==null?oe.key:null;if(typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint")return kt!==null?null:G(pe,oe,""+ge,ze);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case x:return ge.key===kt?ne(pe,oe,ge,ze):null;case M:return ge.key===kt?_e(pe,oe,ge,ze):null;case k:return ge=Ec(ge),Te(pe,oe,ge,ze)}if(se(ge)||Z(ge))return kt!==null?null:Pe(pe,oe,ge,ze,null);if(typeof ge.then=="function")return Te(pe,oe,$f(ge),ze);if(ge.$$typeof===D)return Te(pe,oe,wu(pe,ge),ze);Cu(pe,ge)}return null}function De(pe,oe,ge,ze,kt){if(typeof ze=="string"&&ze!==""||typeof ze=="number"||typeof ze=="bigint")return pe=pe.get(ge)||null,G(oe,pe,""+ze,kt);if(typeof ze=="object"&&ze!==null){switch(ze.$$typeof){case x:return pe=pe.get(ze.key===null?ge:ze.key)||null,ne(oe,pe,ze,kt);case M:return pe=pe.get(ze.key===null?ge:ze.key)||null,_e(oe,pe,ze,kt);case k:return ze=Ec(ze),De(pe,oe,ge,ze,kt)}if(se(ze)||Z(ze))return pe=pe.get(ge)||null,Pe(oe,pe,ze,kt,null);if(typeof ze.then=="function")return De(pe,oe,ge,$f(ze),kt);if(ze.$$typeof===D)return De(pe,oe,ge,wu(oe,ze),kt);Cu(oe,ze)}return null}function Rt(pe,oe,ge,ze){for(var kt=null,jn=null,Lt=oe,_n=oe=0,zn=null;Lt!==null&&_n<ge.length;_n++){Lt.index>_n?(zn=Lt,Lt=null):zn=Lt.sibling;var Zn=Te(pe,Lt,ge[_n],ze);if(Zn===null){Lt===null&&(Lt=zn);break}s&&Lt&&Zn.alternate===null&&o(pe,Lt),oe=w(Zn,oe,_n),jn===null?kt=Zn:jn.sibling=Zn,jn=Zn,Lt=zn}if(_n===ge.length)return h(pe,Lt),Cn&&vo(pe,_n),kt;if(Lt===null){for(;_n<ge.length;_n++)Lt=ke(pe,ge[_n],ze),Lt!==null&&(oe=w(Lt,oe,_n),jn===null?kt=Lt:jn.sibling=Lt,jn=Lt);return Cn&&vo(pe,_n),kt}for(Lt=m(Lt);_n<ge.length;_n++)zn=De(Lt,pe,_n,ge[_n],ze),zn!==null&&(s&&zn.alternate!==null&&Lt.delete(zn.key===null?_n:zn.key),oe=w(zn,oe,_n),jn===null?kt=zn:jn.sibling=zn,jn=zn);return s&&Lt.forEach(function(Qu){return o(pe,Qu)}),Cn&&vo(pe,_n),kt}function jt(pe,oe,ge,ze){if(ge==null)throw Error(n(151));for(var kt=null,jn=null,Lt=oe,_n=oe=0,zn=null,Zn=ge.next();Lt!==null&&!Zn.done;_n++,Zn=ge.next()){Lt.index>_n?(zn=Lt,Lt=null):zn=Lt.sibling;var Qu=Te(pe,Lt,Zn.value,ze);if(Qu===null){Lt===null&&(Lt=zn);break}s&&Lt&&Qu.alternate===null&&o(pe,Lt),oe=w(Qu,oe,_n),jn===null?kt=Qu:jn.sibling=Qu,jn=Qu,Lt=zn}if(Zn.done)return h(pe,Lt),Cn&&vo(pe,_n),kt;if(Lt===null){for(;!Zn.done;_n++,Zn=ge.next())Zn=ke(pe,Zn.value,ze),Zn!==null&&(oe=w(Zn,oe,_n),jn===null?kt=Zn:jn.sibling=Zn,jn=Zn);return Cn&&vo(pe,_n),kt}for(Lt=m(Lt);!Zn.done;_n++,Zn=ge.next())Zn=De(Lt,pe,_n,Zn.value,ze),Zn!==null&&(s&&Zn.alternate!==null&&Lt.delete(Zn.key===null?_n:Zn.key),oe=w(Zn,oe,_n),jn===null?kt=Zn:jn.sibling=Zn,jn=Zn);return s&&Lt.forEach(function(W8){return o(pe,W8)}),Cn&&vo(pe,_n),kt}function xi(pe,oe,ge,ze){if(typeof ge=="object"&&ge!==null&&ge.type===E&&ge.key===null&&(ge=ge.props.children),typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case x:e:{for(var kt=ge.key;oe!==null;){if(oe.key===kt){if(kt=ge.type,kt===E){if(oe.tag===7){h(pe,oe.sibling),ze=S(oe,ge.props.children),ze.return=pe,pe=ze;break e}}else if(oe.elementType===kt||typeof kt=="object"&&kt!==null&&kt.$$typeof===k&&Ec(kt)===oe.type){h(pe,oe.sibling),ze=S(oe,ge.props),ma(ze,ge),ze.return=pe,pe=ze;break e}h(pe,oe);break}else o(pe,oe);oe=oe.sibling}ge.type===E?(ze=wl(ge.props.children,pe.mode,ze,ge.key),ze.return=pe,pe=ze):(ze=go(ge.type,ge.key,ge.props,null,pe.mode,ze),ma(ze,ge),ze.return=pe,pe=ze)}return z(pe);case M:e:{for(kt=ge.key;oe!==null;){if(oe.key===kt)if(oe.tag===4&&oe.stateNode.containerInfo===ge.containerInfo&&oe.stateNode.implementation===ge.implementation){h(pe,oe.sibling),ze=S(oe,ge.children||[]),ze.return=pe,pe=ze;break e}else{h(pe,oe);break}else o(pe,oe);oe=oe.sibling}ze=Id(ge,pe.mode,ze),ze.return=pe,pe=ze}return z(pe);case k:return ge=Ec(ge),xi(pe,oe,ge,ze)}if(se(ge))return Rt(pe,oe,ge,ze);if(Z(ge)){if(kt=Z(ge),typeof kt!="function")throw Error(n(150));return ge=kt.call(ge),jt(pe,oe,ge,ze)}if(typeof ge.then=="function")return xi(pe,oe,$f(ge),ze);if(ge.$$typeof===D)return xi(pe,oe,wu(pe,ge),ze);Cu(pe,ge)}return typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint"?(ge=""+ge,oe!==null&&oe.tag===6?(h(pe,oe.sibling),ze=S(oe,ge),ze.return=pe,pe=ze):(h(pe,oe),ze=Pd(ge,pe.mode,ze),ze.return=pe,pe=ze),z(pe)):h(pe,oe)}return function(pe,oe,ge,ze){try{Rc=0;var kt=xi(pe,oe,ge,ze);return Cc=null,kt}catch(Lt){if(Lt===Tc||Lt===pn)throw Lt;var jn=Ni(29,Lt,null,pe.mode);return jn.lanes=ze,jn.return=pe,jn}}}var Jo=qd(!0),Yd=qd(!1),os=!1;function eh(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function dm(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function $o(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Ul(s,o,h){var m=s.updateQueue;if(m===null)return null;if(m=m.shared,(Ot&2)!==0){var S=m.pending;return S===null?o.next=o:(o.next=S.next,S.next=o),m.pending=o,o=da(s),El(s,null,h),o}return Ar(s,m,o,h),da(s)}function Pl(s,o,h){if(o=o.updateQueue,o!==null&&(o=o.shared,(h&4194048)!==0)){var m=o.lanes;m&=s.pendingLanes,h|=m,o.lanes=h,Vt(s,h)}}function Ft(s,o){var h=s.updateQueue,m=s.alternate;if(m!==null&&(m=m.updateQueue,h===m)){var S=null,w=null;if(h=h.firstBaseUpdate,h!==null){do{var z={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};w===null?S=w=z:w=w.next=z,h=h.next}while(h!==null);w===null?S=w=o:w=w.next=o}else S=w=o;h={baseState:m.baseState,firstBaseUpdate:S,lastBaseUpdate:w,shared:m.shared,callbacks:m.callbacks},s.updateQueue=h;return}s=h.lastBaseUpdate,s===null?h.firstBaseUpdate=o:s.next=o,h.lastBaseUpdate=o}var pm=!1;function th(){if(pm){var s=pa;if(s!==null)throw s}}function Ru(s,o,h,m){pm=!1;var S=s.updateQueue;os=!1;var w=S.firstBaseUpdate,z=S.lastBaseUpdate,G=S.shared.pending;if(G!==null){S.shared.pending=null;var ne=G,_e=ne.next;ne.next=null,z===null?w=_e:z.next=_e,z=ne;var Pe=s.alternate;Pe!==null&&(Pe=Pe.updateQueue,G=Pe.lastBaseUpdate,G!==z&&(G===null?Pe.firstBaseUpdate=_e:G.next=_e,Pe.lastBaseUpdate=ne))}if(w!==null){var ke=S.baseState;z=0,Pe=_e=ne=null,G=w;do{var Te=G.lane&-536870913,De=Te!==G.lane;if(De?(hn&Te)===Te:(m&Te)===Te){Te!==0&&Te===Ko&&(pm=!0),Pe!==null&&(Pe=Pe.next={lane:0,tag:G.tag,payload:G.payload,callback:null,next:null});e:{var Rt=s,jt=G;Te=o;var xi=h;switch(jt.tag){case 1:if(Rt=jt.payload,typeof Rt=="function"){ke=Rt.call(xi,ke,Te);break e}ke=Rt;break e;case 3:Rt.flags=Rt.flags&-65537|128;case 0:if(Rt=jt.payload,Te=typeof Rt=="function"?Rt.call(xi,ke,Te):Rt,Te==null)break e;ke=_({},ke,Te);break e;case 2:os=!0}}Te=G.callback,Te!==null&&(s.flags|=64,De&&(s.flags|=8192),De=S.callbacks,De===null?S.callbacks=[Te]:De.push(Te))}else De={lane:Te,tag:G.tag,payload:G.payload,callback:G.callback,next:null},Pe===null?(_e=Pe=De,ne=ke):Pe=Pe.next=De,z|=Te;if(G=G.next,G===null){if(G=S.shared.pending,G===null)break;De=G,G=De.next,De.next=null,S.lastBaseUpdate=De,S.shared.pending=null}}while(!0);Pe===null&&(ne=ke),S.baseState=ne,S.firstBaseUpdate=_e,S.lastBaseUpdate=Pe,w===null&&(S.shared.lanes=0),No|=z,s.lanes=z,s.memoizedState=ke}}function Du(s,o){if(typeof s!="function")throw Error(n(191,s));s.call(o)}function wv(s,o){var h=s.callbacks;if(h!==null)for(s.callbacks=null,s=0;s<h.length;s++)Du(h[s],o)}var Nu=X(null),jd=X(0);function Cv(s,o){s=js,Se(jd,s),Se(Nu,o),js=s|o.baseLanes}function mm(){Se(jd,js),Se(Nu,Nu.current)}function nh(){js=jd.current,ce(Nu),ce(jd)}var ys=X(null),ls=null;function el(s){var o=s.alternate;Se(Rn,Rn.current&1),Se(ys,s),ls===null&&(o===null||Nu.current!==null||o.memoizedState!==null)&&(ls=s)}function gm(s){Se(Rn,Rn.current),Se(ys,s),ls===null&&(ls=s)}function Rv(s){s.tag===22?(Se(Rn,Rn.current),Se(ys,s),ls===null&&(ls=s)):bs()}function bs(){Se(Rn,Rn.current),Se(ys,ys.current)}function Yi(s){ce(ys),ls===s&&(ls=null),ce(Rn)}var Rn=X(0);function Xs(s){for(var o=s;o!==null;){if(o.tag===13){var h=o.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||gb(h)||vb(h)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var wi=0,on=null,ri=null,Tn=null,ga=!1,Lu=!1,Dc=!1,Zd=0,ih=0,Ou=null,vm=0;function Oi(){throw Error(n(321))}function _m(s,o){if(o===null)return!1;for(var h=0;h<o.length&&h<s.length;h++)if(!ss(s[h],o[h]))return!1;return!0}function Qd(s,o,h,m,S,w){return wi=w,on=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Y.H=s===null||s.memoizedState===null?o_:Bm,Dc=!1,w=h(m,S),Dc=!1,Lu&&(w=Nc(o,h,m,S)),Dv(s),w}function Dv(s){Y.H=Uu;var o=ri!==null&&ri.next!==null;if(wi=0,Tn=ri=on=null,ga=!1,ih=0,Ou=null,o)throw Error(n(300));s===null||or||(s=s.dependencies,s!==null&&Qf(s)&&(or=!0))}function Nc(s,o,h,m){on=s;var S=0;do{if(Lu&&(Ou=null),ih=0,Lu=!1,25<=S)throw Error(n(301));if(S+=1,Tn=ri=null,s.updateQueue!=null){var w=s.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}Y.H=va,w=o(h,m)}while(Lu);return w}function Lc(){var s=Y.H,o=s.useState()[0];return o=typeof o.then=="function"?rh(o):o,s=s.useState()[0],(ri!==null?ri.memoizedState:null)!==s&&(on.flags|=1024),o}function xm(){var s=Zd!==0;return Zd=0,s}function ym(s,o,h){o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~h}function bm(s){if(ga){for(s=s.memoizedState;s!==null;){var o=s.queue;o!==null&&(o.pending=null),s=s.next}ga=!1}wi=0,Tn=ri=on=null,Lu=!1,ih=Zd=0,Ou=null}function dr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tn===null?on.memoizedState=Tn=s:Tn=Tn.next=s,Tn}function ji(){if(ri===null){var s=on.alternate;s=s!==null?s.memoizedState:null}else s=ri.next;var o=Tn===null?on.memoizedState:Tn.next;if(o!==null)Tn=o,ri=s;else{if(s===null)throw on.alternate===null?Error(n(467)):Error(n(310));ri=s,s={memoizedState:ri.memoizedState,baseState:ri.baseState,baseQueue:ri.baseQueue,queue:ri.queue,next:null},Tn===null?on.memoizedState=Tn=s:Tn=Tn.next=s}return Tn}function Kd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function rh(s){var o=ih;return ih+=1,Ou===null&&(Ou=[]),s=Xd(Ou,s,o),o=on,(Tn===null?o.memoizedState:Tn.next)===null&&(o=o.alternate,Y.H=o===null||o.memoizedState===null?o_:Bm),s}function Il(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return rh(s);if(s.$$typeof===D)return Zt(s)}throw Error(n(438,String(s)))}function Sm(s){var o=null,h=on.updateQueue;if(h!==null&&(o=h.memoCache),o==null){var m=on.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(o={data:m.data.map(function(S){return S.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),h===null&&(h=Kd(),on.updateQueue=h),h.memoCache=o,h=o.data[o.index],h===void 0)for(h=o.data[o.index]=Array(s),m=0;m<s;m++)h[m]=P;return o.index++,h}function tl(s,o){return typeof o=="function"?o(s):o}function Jd(s){var o=ji();return Mm(o,ri,s)}function Mm(s,o,h){var m=s.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=h;var S=s.baseQueue,w=m.pending;if(w!==null){if(S!==null){var z=S.next;S.next=w.next,w.next=z}o.baseQueue=S=w,m.pending=null}if(w=s.baseState,S===null)s.memoizedState=w;else{o=S.next;var G=z=null,ne=null,_e=o,Pe=!1;do{var ke=_e.lane&-536870913;if(ke!==_e.lane?(hn&ke)===ke:(wi&ke)===ke){var Te=_e.revertLane;if(Te===0)ne!==null&&(ne=ne.next={lane:0,revertLane:0,gesture:null,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null}),ke===Ko&&(Pe=!0);else if((wi&Te)===Te){_e=_e.next,Te===Ko&&(Pe=!0);continue}else ke={lane:0,revertLane:_e.revertLane,gesture:null,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null},ne===null?(G=ne=ke,z=w):ne=ne.next=ke,on.lanes|=Te,No|=Te;ke=_e.action,Dc&&h(w,ke),w=_e.hasEagerState?_e.eagerState:h(w,ke)}else Te={lane:ke,revertLane:_e.revertLane,gesture:_e.gesture,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null},ne===null?(G=ne=Te,z=w):ne=ne.next=Te,on.lanes|=ke,No|=ke;_e=_e.next}while(_e!==null&&_e!==o);if(ne===null?z=w:ne.next=G,!ss(w,s.memoizedState)&&(or=!0,Pe&&(h=pa,h!==null)))throw h;s.memoizedState=w,s.baseState=z,s.baseQueue=ne,m.lastRenderedState=w}return S===null&&(m.lanes=0),[s.memoizedState,m.dispatch]}function Tm(s){var o=ji(),h=o.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=s;var m=h.dispatch,S=h.pending,w=o.memoizedState;if(S!==null){h.pending=null;var z=S=S.next;do w=s(w,z.action),z=z.next;while(z!==S);ss(w,o.memoizedState)||(or=!0),o.memoizedState=w,o.baseQueue===null&&(o.baseState=w),h.lastRenderedState=w}return[w,m]}function Nv(s,o,h){var m=on,S=ji(),w=Cn;if(w){if(h===void 0)throw Error(n(407));h=h()}else h=o();var z=!ss((ri||S).memoizedState,h);if(z&&(S.memoizedState=h,or=!0),S=S.queue,Lm(Uv.bind(null,m,S,s),[s]),S.getSnapshot!==o||z||Tn!==null&&Tn.memoizedState.tag&1){if(m.flags|=2048,zl(9,{destroy:void 0},Ov.bind(null,m,S,h,o),null),$t===null)throw Error(n(349));w||(wi&127)!==0||Lv(m,o,h)}return h}function Lv(s,o,h){s.flags|=16384,s={getSnapshot:o,value:h},o=on.updateQueue,o===null?(o=Kd(),on.updateQueue=o,o.stores=[s]):(h=o.stores,h===null?o.stores=[s]:h.push(s))}function Ov(s,o,h,m){o.value=h,o.getSnapshot=m,Pv(o)&&Iv(s)}function Uv(s,o,h){return h(function(){Pv(o)&&Iv(s)})}function Pv(s){var o=s.getSnapshot;s=s.value;try{var h=o();return!ss(s,h)}catch{return!0}}function Iv(s){var o=as(s,2);o!==null&&gn(o,s,2)}function Em(s){var o=dr();if(typeof s=="function"){var h=s;if(s=h(),Dc){ht(!0);try{h()}finally{ht(!1)}}}return o.memoizedState=o.baseState=s,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tl,lastRenderedState:s},o}function Am(s,o,h,m){return s.baseState=h,Mm(s,ri,typeof m=="function"?m:tl)}function eb(s,o,h,m,S){if(np(s))throw Error(n(485));if(s=o.action,s!==null){var w={payload:S,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(z){w.listeners.push(z)}};Y.T!==null?h(!0):w.isTransition=!1,m(w),h=o.pending,h===null?(w.next=o.pending=w,zv(o,w)):(w.next=h.next,o.pending=h.next=w)}}function zv(s,o){var h=o.action,m=o.payload,S=s.state;if(o.isTransition){var w=Y.T,z={};Y.T=z;try{var G=h(S,m),ne=Y.S;ne!==null&&ne(z,G),Bv(s,o,G)}catch(_e){wm(s,o,_e)}finally{w!==null&&z.types!==null&&(w.types=z.types),Y.T=w}}else try{w=h(S,m),Bv(s,o,w)}catch(_e){wm(s,o,_e)}}function Bv(s,o,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(m){Fv(s,o,m)},function(m){return wm(s,o,m)}):Fv(s,o,h)}function Fv(s,o,h){o.status="fulfilled",o.value=h,kv(o),s.state=h,o=s.pending,o!==null&&(h=o.next,h===o?s.pending=null:(h=h.next,o.next=h,zv(s,h)))}function wm(s,o,h){var m=s.pending;if(s.pending=null,m!==null){m=m.next;do o.status="rejected",o.reason=h,kv(o),o=o.next;while(o!==m)}s.action=null}function kv(s){s=s.listeners;for(var o=0;o<s.length;o++)(0,s[o])()}function Cm(s,o){return o}function Rm(s,o){if(Cn){var h=$t.formState;if(h!==null){e:{var m=on;if(Cn){if(gi){t:{for(var S=gi,w=Gs;S.nodeType!==8;){if(!w){S=null;break t}if(S=Uo(S.nextSibling),S===null){S=null;break t}}w=S.data,S=w==="F!"||w==="F"?S:null}if(S){gi=Uo(S.nextSibling),m=S.data==="F!";break e}}xo(m)}m=!1}m&&(o=h[0])}}return h=dr(),h.memoizedState=h.baseState=o,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cm,lastRenderedState:o},h.queue=m,h=r_.bind(null,on,m),m.dispatch=h,m=Em(!1),w=zm.bind(null,on,!1,m.queue),m=dr(),S={state:o,dispatch:null,action:s,pending:null},m.queue=S,h=eb.bind(null,on,S,w,h),S.dispatch=h,m.memoizedState=s,[o,h,!1]}function Vv(s){var o=ji();return Dm(o,ri,s)}function Dm(s,o,h){if(o=Mm(s,o,Cm)[0],s=Jd(tl)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var m=rh(o)}catch(z){throw z===Tc?pn:z}else m=o;o=ji();var S=o.queue,w=S.dispatch;return h!==o.memoizedState&&(on.flags|=2048,zl(9,{destroy:void 0},Hv.bind(null,S,h),null)),[m,w,s]}function Hv(s,o){s.action=o}function Nm(s){var o=ji(),h=ri;if(h!==null)return Dm(o,h,s);ji(),o=o.memoizedState,h=ji();var m=h.queue.dispatch;return h.memoizedState=s,[o,m,!1]}function zl(s,o,h,m){return s={tag:s,create:h,deps:m,inst:o,next:null},o=on.updateQueue,o===null&&(o=Kd(),on.updateQueue=o),h=o.lastEffect,h===null?o.lastEffect=s.next=s:(m=h.next,h.next=s,s.next=m,o.lastEffect=s),s}function $d(){return ji().memoizedState}function ep(s,o,h,m){var S=dr();on.flags|=s,S.memoizedState=zl(1|o,{destroy:void 0},h,m===void 0?null:m)}function tp(s,o,h,m){var S=ji();m=m===void 0?null:m;var w=S.memoizedState.inst;ri!==null&&m!==null&&_m(m,ri.memoizedState.deps)?S.memoizedState=zl(o,w,h,m):(on.flags|=s,S.memoizedState=zl(1|o,w,h,m))}function Gv(s,o){ep(8390656,8,s,o)}function Lm(s,o){tp(2048,8,s,o)}function Wv(s){on.flags|=4;var o=on.updateQueue;if(o===null)o=Kd(),on.updateQueue=o,o.events=[s];else{var h=o.events;h===null?o.events=[s]:h.push(s)}}function Xv(s){var o=ji().memoizedState;return Wv({ref:o,nextImpl:s}),function(){if((Ot&2)!==0)throw Error(n(440));return o.impl.apply(void 0,arguments)}}function qv(s,o){return tp(4,2,s,o)}function Yv(s,o){return tp(4,4,s,o)}function jv(s,o){if(typeof o=="function"){s=s();var h=o(s);return function(){typeof h=="function"?h():o(null)}}if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function Zv(s,o,h){h=h!=null?h.concat([s]):null,tp(4,4,jv.bind(null,o,s),h)}function Om(){}function Qv(s,o){var h=ji();o=o===void 0?null:o;var m=h.memoizedState;return o!==null&&_m(o,m[1])?m[0]:(h.memoizedState=[s,o],s)}function Kv(s,o){var h=ji();o=o===void 0?null:o;var m=h.memoizedState;if(o!==null&&_m(o,m[1]))return m[0];if(m=s(),Dc){ht(!0);try{s()}finally{ht(!1)}}return h.memoizedState=[m,o],m}function Um(s,o,h){return h===void 0||(wi&1073741824)!==0&&(hn&261930)===0?s.memoizedState=o:(s.memoizedState=h,s=bn(),on.lanes|=s,No|=s,h)}function Jv(s,o,h,m){return ss(h,o)?h:Nu.current!==null?(s=Um(s,h,m),ss(s,o)||(or=!0),s):(wi&42)===0||(wi&1073741824)!==0&&(hn&261930)===0?(or=!0,s.memoizedState=h):(s=bn(),on.lanes|=s,No|=s,o)}function $v(s,o,h,m,S){var w=Q.p;Q.p=w!==0&&8>w?w:8;var z=Y.T,G={};Y.T=G,zm(s,!1,o,h);try{var ne=S(),_e=Y.S;if(_e!==null&&_e(G,ne),ne!==null&&typeof ne=="object"&&typeof ne.then=="function"){var Pe=fm(ne,m);sh(s,o,Pe,Qs(s))}else sh(s,o,m,Qs(s))}catch(ke){sh(s,o,{then:function(){},status:"rejected",reason:ke},Qs())}finally{Q.p=w,z!==null&&G.types!==null&&(z.types=G.types),Y.T=z}}function tb(){}function Pm(s,o,h,m){if(s.tag!==5)throw Error(n(476));var S=e_(s).queue;$v(s,S,o,ue,h===null?tb:function(){return t_(s),h(m)})}function e_(s){var o=s.memoizedState;if(o!==null)return o;o={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:tl,lastRenderedState:ue},next:null};var h={};return o.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:tl,lastRenderedState:h},next:null},s.memoizedState=o,s=s.alternate,s!==null&&(s.memoizedState=o),o}function t_(s){var o=e_(s);o.next===null&&(o=s.alternate.memoizedState),sh(s,o.next.queue,{},Qs())}function Im(){return Zt(r1)}function n_(){return ji().memoizedState}function i_(){return ji().memoizedState}function nb(s){for(var o=s.return;o!==null;){switch(o.tag){case 24:case 3:var h=Qs();s=$o(h);var m=Ul(o,s,h);m!==null&&(gn(m,o,h),Pl(m,o,h)),o={cache:lm()},s.payload=o;return}o=o.return}}function ib(s,o,h){var m=Qs();h={lane:m,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},np(s)?s_(o,h):(h=Od(s,o,h,m),h!==null&&(gn(h,s,m),a_(h,o,m)))}function r_(s,o,h){var m=Qs();sh(s,o,h,m)}function sh(s,o,h,m){var S={lane:m,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null};if(np(s))s_(o,S);else{var w=s.alternate;if(s.lanes===0&&(w===null||w.lanes===0)&&(w=o.lastRenderedReducer,w!==null))try{var z=o.lastRenderedState,G=w(z,h);if(S.hasEagerState=!0,S.eagerState=G,ss(G,z))return Ar(s,o,S,0),$t===null&&jf(),!1}catch{}if(h=Od(s,o,S,m),h!==null)return gn(h,s,m),a_(h,o,m),!0}return!1}function zm(s,o,h,m){if(m={lane:2,revertLane:we(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},np(s)){if(o)throw Error(n(479))}else o=Od(s,h,m,2),o!==null&&gn(o,s,2)}function np(s){var o=s.alternate;return s===on||o!==null&&o===on}function s_(s,o){Lu=ga=!0;var h=s.pending;h===null?o.next=o:(o.next=h.next,h.next=o),s.pending=o}function a_(s,o,h){if((h&4194048)!==0){var m=o.lanes;m&=s.pendingLanes,h|=m,o.lanes=h,Vt(s,h)}}var Uu={readContext:Zt,use:Il,useCallback:Oi,useContext:Oi,useEffect:Oi,useImperativeHandle:Oi,useLayoutEffect:Oi,useInsertionEffect:Oi,useMemo:Oi,useReducer:Oi,useRef:Oi,useState:Oi,useDebugValue:Oi,useDeferredValue:Oi,useTransition:Oi,useSyncExternalStore:Oi,useId:Oi,useHostTransitionStatus:Oi,useFormState:Oi,useActionState:Oi,useOptimistic:Oi,useMemoCache:Oi,useCacheRefresh:Oi};Uu.useEffectEvent=Oi;var o_={readContext:Zt,use:Il,useCallback:function(s,o){return dr().memoizedState=[s,o===void 0?null:o],s},useContext:Zt,useEffect:Gv,useImperativeHandle:function(s,o,h){h=h!=null?h.concat([s]):null,ep(4194308,4,jv.bind(null,o,s),h)},useLayoutEffect:function(s,o){return ep(4194308,4,s,o)},useInsertionEffect:function(s,o){ep(4,2,s,o)},useMemo:function(s,o){var h=dr();o=o===void 0?null:o;var m=s();if(Dc){ht(!0);try{s()}finally{ht(!1)}}return h.memoizedState=[m,o],m},useReducer:function(s,o,h){var m=dr();if(h!==void 0){var S=h(o);if(Dc){ht(!0);try{h(o)}finally{ht(!1)}}}else S=o;return m.memoizedState=m.baseState=S,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:S},m.queue=s,s=s.dispatch=ib.bind(null,on,s),[m.memoizedState,s]},useRef:function(s){var o=dr();return s={current:s},o.memoizedState=s},useState:function(s){s=Em(s);var o=s.queue,h=r_.bind(null,on,o);return o.dispatch=h,[s.memoizedState,h]},useDebugValue:Om,useDeferredValue:function(s,o){var h=dr();return Um(h,s,o)},useTransition:function(){var s=Em(!1);return s=$v.bind(null,on,s.queue,!0,!1),dr().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,o,h){var m=on,S=dr();if(Cn){if(h===void 0)throw Error(n(407));h=h()}else{if(h=o(),$t===null)throw Error(n(349));(hn&127)!==0||Lv(m,o,h)}S.memoizedState=h;var w={value:h,getSnapshot:o};return S.queue=w,Gv(Uv.bind(null,m,w,s),[s]),m.flags|=2048,zl(9,{destroy:void 0},Ov.bind(null,m,w,h,o),null),h},useId:function(){var s=dr(),o=$t.identifierPrefix;if(Cn){var h=Va,m=Li;h=(m&~(1<<32-ft(m)-1)).toString(32)+h,o="_"+o+"R_"+h,h=Zd++,0<h&&(o+="H"+h.toString(32)),o+="_"}else h=vm++,o="_"+o+"r_"+h.toString(32)+"_";return s.memoizedState=o},useHostTransitionStatus:Im,useFormState:Rm,useActionState:Rm,useOptimistic:function(s){var o=dr();o.memoizedState=o.baseState=s;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=h,o=zm.bind(null,on,!0,h),h.dispatch=o,[s,o]},useMemoCache:Sm,useCacheRefresh:function(){return dr().memoizedState=nb.bind(null,on)},useEffectEvent:function(s){var o=dr(),h={impl:s};return o.memoizedState=h,function(){if((Ot&2)!==0)throw Error(n(440));return h.impl.apply(void 0,arguments)}}},Bm={readContext:Zt,use:Il,useCallback:Qv,useContext:Zt,useEffect:Lm,useImperativeHandle:Zv,useInsertionEffect:qv,useLayoutEffect:Yv,useMemo:Kv,useReducer:Jd,useRef:$d,useState:function(){return Jd(tl)},useDebugValue:Om,useDeferredValue:function(s,o){var h=ji();return Jv(h,ri.memoizedState,s,o)},useTransition:function(){var s=Jd(tl)[0],o=ji().memoizedState;return[typeof s=="boolean"?s:rh(s),o]},useSyncExternalStore:Nv,useId:n_,useHostTransitionStatus:Im,useFormState:Vv,useActionState:Vv,useOptimistic:function(s,o){var h=ji();return Am(h,ri,s,o)},useMemoCache:Sm,useCacheRefresh:i_};Bm.useEffectEvent=Xv;var va={readContext:Zt,use:Il,useCallback:Qv,useContext:Zt,useEffect:Lm,useImperativeHandle:Zv,useInsertionEffect:qv,useLayoutEffect:Yv,useMemo:Kv,useReducer:Tm,useRef:$d,useState:function(){return Tm(tl)},useDebugValue:Om,useDeferredValue:function(s,o){var h=ji();return ri===null?Um(h,s,o):Jv(h,ri.memoizedState,s,o)},useTransition:function(){var s=Tm(tl)[0],o=ji().memoizedState;return[typeof s=="boolean"?s:rh(s),o]},useSyncExternalStore:Nv,useId:n_,useHostTransitionStatus:Im,useFormState:Nm,useActionState:Nm,useOptimistic:function(s,o){var h=ji();return ri!==null?Am(h,ri,s,o):(h.baseState=s,[s,h.queue.dispatch])},useMemoCache:Sm,useCacheRefresh:i_};va.useEffectEvent=Xv;function ip(s,o,h,m){o=s.memoizedState,h=h(m,o),h=h==null?o:_({},o,h),s.memoizedState=h,s.lanes===0&&(s.updateQueue.baseState=h)}var ah={enqueueSetState:function(s,o,h){s=s._reactInternals;var m=Qs(),S=$o(m);S.payload=o,h!=null&&(S.callback=h),o=Ul(s,S,m),o!==null&&(gn(o,s,m),Pl(o,s,m))},enqueueReplaceState:function(s,o,h){s=s._reactInternals;var m=Qs(),S=$o(m);S.tag=1,S.payload=o,h!=null&&(S.callback=h),o=Ul(s,S,m),o!==null&&(gn(o,s,m),Pl(o,s,m))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var h=Qs(),m=$o(h);m.tag=2,o!=null&&(m.callback=o),o=Ul(s,m,h),o!==null&&(gn(o,s,h),Pl(o,s,h))}};function Fm(s,o,h,m,S,w,z){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(m,w,z):o.prototype&&o.prototype.isPureReactComponent?!gu(h,m)||!gu(S,w):!0}function km(s,o,h,m){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(h,m),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(h,m),o.state!==s&&ah.enqueueReplaceState(o,o.state,null)}function Bl(s,o){var h=o;if("ref"in o){h={};for(var m in o)m!=="ref"&&(h[m]=o[m])}if(s=s.defaultProps){h===o&&(h=_({},h));for(var S in s)h[S]===void 0&&(h[S]=s[S])}return h}function l_(s){Yf(s)}function Vm(s){console.error(s)}function Hm(s){Yf(s)}function rp(s,o){try{var h=s.onUncaughtError;h(o.value,{componentStack:o.stack})}catch(m){setTimeout(function(){throw m})}}function c_(s,o,h){try{var m=s.onCaughtError;m(h.value,{componentStack:h.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(S){setTimeout(function(){throw S})}}function Gm(s,o,h){return h=$o(h),h.tag=3,h.payload={element:null},h.callback=function(){rp(s,o)},h}function Wm(s){return s=$o(s),s.tag=3,s}function u_(s,o,h,m){var S=h.type.getDerivedStateFromError;if(typeof S=="function"){var w=m.value;s.payload=function(){return S(w)},s.callback=function(){c_(o,h,m)}}var z=h.stateNode;z!==null&&typeof z.componentDidCatch=="function"&&(s.callback=function(){c_(o,h,m),typeof S!="function"&&(Ki===null?Ki=new Set([this]):Ki.add(this));var G=m.stack;this.componentDidCatch(m.value,{componentStack:G!==null?G:""})})}function pr(s,o,h,m,S){if(h.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(o=h.alternate,o!==null&&Mo(o,h,S,!0),h=ys.current,h!==null){switch(h.tag){case 31:case 13:return ls===null?Vu():h.alternate===null&&Ui===0&&(Ui=3),h.flags&=-257,h.flags|=65536,h.lanes=S,m===Wd?h.flags|=16384:(o=h.updateQueue,o===null?h.updateQueue=new Set([m]):o.add(m),_h(s,m,S)),!1;case 22:return h.flags|=65536,m===Wd?h.flags|=16384:(o=h.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([m])},h.updateQueue=o):(h=o.retryQueue,h===null?o.retryQueue=new Set([m]):h.add(m)),_h(s,m,S)),!1}throw Error(n(435,h.tag))}return _h(s,m,S),Vu(),!1}if(Cn)return o=ys.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=S,m!==Tu&&(s=Error(n(422),{cause:m}),yo(Hs(s,h)))):(m!==Tu&&(o=Error(n(423),{cause:m}),yo(Hs(o,h))),s=s.current.alternate,s.flags|=65536,S&=-S,s.lanes|=S,m=Hs(m,h),S=Gm(s.stateNode,m,S),Ft(s,S),Ui!==4&&(Ui=2)),!1;var w=Error(n(520),{cause:m});if(w=Hs(w,h),kc===null?kc=[w]:kc.push(w),Ui!==4&&(Ui=2),o===null)return!0;m=Hs(m,h),h=o;do{switch(h.tag){case 3:return h.flags|=65536,s=S&-S,h.lanes|=s,s=Gm(h.stateNode,m,s),Ft(h,s),!1;case 1:if(o=h.type,w=h.stateNode,(h.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ki===null||!Ki.has(w))))return h.flags|=65536,S&=-S,h.lanes|=S,S=Wm(S),u_(S,s,h,m),Ft(h,S),!1}h=h.return}while(h!==null);return!1}var sp=Error(n(461)),or=!1;function wr(s,o,h,m){o.child=s===null?Yd(o,null,h,m):Jo(o,s.child,h,m)}function Xm(s,o,h,m,S){h=h.render;var w=o.ref;if("ref"in m){var z={};for(var G in m)G!=="ref"&&(z[G]=m[G])}else z=m;return Ll(o),m=Qd(s,o,h,z,w,S),G=xm(),s!==null&&!or?(ym(s,o,S),Zi(s,o,S)):(Cn&&G&&_o(o),o.flags|=1,wr(s,o,m,S),o.child)}function Oc(s,o,h,m,S){if(s===null){var w=h.type;return typeof w=="function"&&!Ud(w)&&w.defaultProps===void 0&&h.compare===null?(o.tag=15,o.type=w,ap(s,o,w,m,S)):(s=go(h.type,null,m,o,o.mode,S),s.ref=o.ref,s.return=o,o.child=s)}if(w=s.child,!hp(s,S)){var z=w.memoizedProps;if(h=h.compare,h=h!==null?h:gu,h(z,m)&&s.ref===o.ref)return Zi(s,o,S)}return o.flags|=1,s=vs(w,m),s.ref=o.ref,s.return=o,o.child=s}function ap(s,o,h,m,S){if(s!==null){var w=s.memoizedProps;if(gu(w,m)&&s.ref===o.ref)if(or=!1,o.pendingProps=m=w,hp(s,S))(s.flags&131072)!==0&&(or=!0);else return o.lanes=s.lanes,Zi(s,o,S)}return Pu(s,o,h,m,S)}function Uc(s,o,h,m){var S=m.children,w=s!==null?s.memoizedState:null;if(s===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((o.flags&128)!==0){if(w=w!==null?w.baseLanes|h:h,s!==null){for(m=o.child=s.child,S=0;m!==null;)S=S|m.lanes|m.childLanes,m=m.sibling;m=S&~w}else m=0,o.child=null;return Ss(s,o,w,h,m)}if((h&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},s!==null&&Kf(o,w!==null?w.cachePool:null),w!==null?Cv(o,w):mm(),Rv(o);else return m=o.lanes=536870912,Ss(s,o,w!==null?w.baseLanes|h:h,h,m)}else w!==null?(Kf(o,w.cachePool),Cv(o,w),bs(),o.memoizedState=null):(s!==null&&Kf(o,null),mm(),bs());return wr(s,o,S,h),o.child}function Eo(s,o){return s!==null&&s.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function Ss(s,o,h,m,S){var w=Gd();return w=w===null?null:{parent:ar._currentValue,pool:w},o.memoizedState={baseLanes:h,cachePool:w},s!==null&&Kf(o,null),mm(),Rv(o),s!==null&&Mo(s,o,m,!0),o.childLanes=S,null}function op(s,o){return o=fp({mode:o.mode,children:o.children},s.mode),o.ref=s.ref,s.child=o,o.return=s,o}function f_(s,o,h){return Jo(o,s.child,null,h),s=op(o,o.pendingProps),s.flags|=2,Yi(o),o.memoizedState=null,s}function lp(s,o,h){var m=o.pendingProps,S=(o.flags&128)!==0;if(o.flags&=-129,s===null){if(Cn){if(m.mode==="hidden")return s=op(o,m),o.lanes=536870912,Eo(null,s);if(gm(o),(s=gi)?(s=IT(s,Gs),s=s!==null&&s.data==="&"?s:null,s!==null&&(o.memoizedState={dehydrated:s,treeContext:jo!==null?{id:Li,overflow:Va}:null,retryLane:536870912,hydrationErrors:null},h=bu(s),h.return=o,o.child=h,Vi=o,gi=null)):s=null,s===null)throw xo(o);return o.lanes=536870912,null}return op(o,m)}var w=s.memoizedState;if(w!==null){var z=w.dehydrated;if(gm(o),S)if(o.flags&256)o.flags&=-257,o=f_(s,o,h);else if(o.memoizedState!==null)o.child=s.child,o.flags|=128,o=null;else throw Error(n(558));else if(or||Mo(s,o,h,!1),S=(h&s.childLanes)!==0,or||S){if(m=$t,m!==null&&(z=Nt(m,h),z!==0&&z!==w.retryLane))throw w.retryLane=z,as(s,z),gn(m,s,z),sp;Vu(),o=f_(s,o,h)}else s=w.treeContext,gi=Uo(z.nextSibling),Vi=o,Cn=!0,Zo=null,Gs=!1,s!==null&&Bd(o,s),o=op(o,m),o.flags|=4096;return o}return s=vs(s.child,{mode:m.mode,children:m.children}),s.ref=o.ref,o.child=s,s.return=o,s}function Pc(s,o){var h=o.ref;if(h===null)s!==null&&s.ref!==null&&(o.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(n(284));(s===null||s.ref!==h)&&(o.flags|=4194816)}}function Pu(s,o,h,m,S){return Ll(o),h=Qd(s,o,h,m,void 0,S),m=xm(),s!==null&&!or?(ym(s,o,S),Zi(s,o,S)):(Cn&&m&&_o(o),o.flags|=1,wr(s,o,h,S),o.child)}function oh(s,o,h,m,S,w){return Ll(o),o.updateQueue=null,h=Nc(o,m,h,S),Dv(s),m=xm(),s!==null&&!or?(ym(s,o,w),Zi(s,o,w)):(Cn&&m&&_o(o),o.flags|=1,wr(s,o,h,w),o.child)}function cp(s,o,h,m,S){if(Ll(o),o.stateNode===null){var w=Al,z=h.contextType;typeof z=="object"&&z!==null&&(w=Zt(z)),w=new h(m,w),o.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=ah,o.stateNode=w,w._reactInternals=o,w=o.stateNode,w.props=m,w.state=o.memoizedState,w.refs={},eh(o),z=h.contextType,w.context=typeof z=="object"&&z!==null?Zt(z):Al,w.state=o.memoizedState,z=h.getDerivedStateFromProps,typeof z=="function"&&(ip(o,h,z,m),w.state=o.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(z=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),z!==w.state&&ah.enqueueReplaceState(w,w.state,null),Ru(o,m,w,S),th(),w.state=o.memoizedState),typeof w.componentDidMount=="function"&&(o.flags|=4194308),m=!0}else if(s===null){w=o.stateNode;var G=o.memoizedProps,ne=Bl(h,G);w.props=ne;var _e=w.context,Pe=h.contextType;z=Al,typeof Pe=="object"&&Pe!==null&&(z=Zt(Pe));var ke=h.getDerivedStateFromProps;Pe=typeof ke=="function"||typeof w.getSnapshotBeforeUpdate=="function",G=o.pendingProps!==G,Pe||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(G||_e!==z)&&km(o,w,m,z),os=!1;var Te=o.memoizedState;w.state=Te,Ru(o,m,w,S),th(),_e=o.memoizedState,G||Te!==_e||os?(typeof ke=="function"&&(ip(o,h,ke,m),_e=o.memoizedState),(ne=os||Fm(o,h,ne,m,Te,_e,z))?(Pe||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(o.flags|=4194308)):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=m,o.memoizedState=_e),w.props=m,w.state=_e,w.context=z,m=ne):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),m=!1)}else{w=o.stateNode,dm(s,o),z=o.memoizedProps,Pe=Bl(h,z),w.props=Pe,ke=o.pendingProps,Te=w.context,_e=h.contextType,ne=Al,typeof _e=="object"&&_e!==null&&(ne=Zt(_e)),G=h.getDerivedStateFromProps,(_e=typeof G=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(z!==ke||Te!==ne)&&km(o,w,m,ne),os=!1,Te=o.memoizedState,w.state=Te,Ru(o,m,w,S),th();var De=o.memoizedState;z!==ke||Te!==De||os||s!==null&&s.dependencies!==null&&Qf(s.dependencies)?(typeof G=="function"&&(ip(o,h,G,m),De=o.memoizedState),(Pe=os||Fm(o,h,Pe,m,Te,De,ne)||s!==null&&s.dependencies!==null&&Qf(s.dependencies))?(_e||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(m,De,ne),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(m,De,ne)),typeof w.componentDidUpdate=="function"&&(o.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof w.componentDidUpdate!="function"||z===s.memoizedProps&&Te===s.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||z===s.memoizedProps&&Te===s.memoizedState||(o.flags|=1024),o.memoizedProps=m,o.memoizedState=De),w.props=m,w.state=De,w.context=ne,m=Pe):(typeof w.componentDidUpdate!="function"||z===s.memoizedProps&&Te===s.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||z===s.memoizedProps&&Te===s.memoizedState||(o.flags|=1024),m=!1)}return w=m,Pc(s,o),m=(o.flags&128)!==0,w||m?(w=o.stateNode,h=m&&typeof h.getDerivedStateFromError!="function"?null:w.render(),o.flags|=1,s!==null&&m?(o.child=Jo(o,s.child,null,S),o.child=Jo(o,null,h,S)):wr(s,o,h,S),o.memoizedState=w.state,s=o.child):s=Zi(s,o,S),s}function h_(s,o,h,m){return Dl(),o.flags|=256,wr(s,o,h,m),o.child}var qm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Zr(s){return{baseLanes:s,cachePool:hm()}}function up(s,o,h){return s=s!==null?s.childLanes&~h:0,o&&(s|=fs),s}function d_(s,o,h){var m=o.pendingProps,S=!1,w=(o.flags&128)!==0,z;if((z=w)||(z=s!==null&&s.memoizedState===null?!1:(Rn.current&2)!==0),z&&(S=!0,o.flags&=-129),z=(o.flags&32)!==0,o.flags&=-33,s===null){if(Cn){if(S?el(o):bs(),(s=gi)?(s=IT(s,Gs),s=s!==null&&s.data!=="&"?s:null,s!==null&&(o.memoizedState={dehydrated:s,treeContext:jo!==null?{id:Li,overflow:Va}:null,retryLane:536870912,hydrationErrors:null},h=bu(s),h.return=o,o.child=h,Vi=o,gi=null)):s=null,s===null)throw xo(o);return vb(s)?o.lanes=32:o.lanes=536870912,null}var G=m.children;return m=m.fallback,S?(bs(),S=o.mode,G=fp({mode:"hidden",children:G},S),m=wl(m,S,h,null),G.return=o,m.return=o,G.sibling=m,o.child=G,m=o.child,m.memoizedState=Zr(h),m.childLanes=up(s,z,h),o.memoizedState=qm,Eo(null,m)):(el(o),lh(o,G))}var ne=s.memoizedState;if(ne!==null&&(G=ne.dehydrated,G!==null)){if(w)o.flags&256?(el(o),o.flags&=-257,o=Ym(s,o,h)):o.memoizedState!==null?(bs(),o.child=s.child,o.flags|=128,o=null):(bs(),G=m.fallback,S=o.mode,m=fp({mode:"visible",children:m.children},S),G=wl(G,S,h,null),G.flags|=2,m.return=o,G.return=o,m.sibling=G,o.child=m,Jo(o,s.child,null,h),m=o.child,m.memoizedState=Zr(h),m.childLanes=up(s,z,h),o.memoizedState=qm,o=Eo(null,m));else if(el(o),vb(G)){if(z=G.nextSibling&&G.nextSibling.dataset,z)var _e=z.dgst;z=_e,m=Error(n(419)),m.stack="",m.digest=z,yo({value:m,source:null,stack:null}),o=Ym(s,o,h)}else if(or||Mo(s,o,h,!1),z=(h&s.childLanes)!==0,or||z){if(z=$t,z!==null&&(m=Nt(z,h),m!==0&&m!==ne.retryLane))throw ne.retryLane=m,as(s,m),gn(z,s,m),sp;gb(G)||Vu(),o=Ym(s,o,h)}else gb(G)?(o.flags|=192,o.child=s.child,o=null):(s=ne.treeContext,gi=Uo(G.nextSibling),Vi=o,Cn=!0,Zo=null,Gs=!1,s!==null&&Bd(o,s),o=lh(o,m.children),o.flags|=4096);return o}return S?(bs(),G=m.fallback,S=o.mode,ne=s.child,_e=ne.sibling,m=vs(ne,{mode:"hidden",children:m.children}),m.subtreeFlags=ne.subtreeFlags&65011712,_e!==null?G=vs(_e,G):(G=wl(G,S,h,null),G.flags|=2),G.return=o,m.return=o,m.sibling=G,o.child=m,Eo(null,m),m=o.child,G=s.child.memoizedState,G===null?G=Zr(h):(S=G.cachePool,S!==null?(ne=ar._currentValue,S=S.parent!==ne?{parent:ne,pool:ne}:S):S=hm(),G={baseLanes:G.baseLanes|h,cachePool:S}),m.memoizedState=G,m.childLanes=up(s,z,h),o.memoizedState=qm,Eo(s.child,m)):(el(o),h=s.child,s=h.sibling,h=vs(h,{mode:"visible",children:m.children}),h.return=o,h.sibling=null,s!==null&&(z=o.deletions,z===null?(o.deletions=[s],o.flags|=16):z.push(s)),o.child=h,o.memoizedState=null,h)}function lh(s,o){return o=fp({mode:"visible",children:o},s.mode),o.return=s,s.child=o}function fp(s,o){return s=Ni(22,s,null,o),s.lanes=0,s}function Ym(s,o,h){return Jo(o,s.child,null,h),s=lh(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function p_(s,o,h){s.lanes|=o;var m=s.alternate;m!==null&&(m.lanes|=o),kd(s.return,o,h)}function Ic(s,o,h,m,S,w){var z=s.memoizedState;z===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:m,tail:h,tailMode:S,treeForkCount:w}:(z.isBackwards=o,z.rendering=null,z.renderingStartTime=0,z.last=m,z.tail=h,z.tailMode=S,z.treeForkCount=w)}function Ms(s,o,h){var m=o.pendingProps,S=m.revealOrder,w=m.tail;m=m.children;var z=Rn.current,G=(z&2)!==0;if(G?(z=z&1|2,o.flags|=128):z&=1,Se(Rn,z),wr(s,o,m,h),m=Cn?Mu:0,!G&&s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&p_(s,h,o);else if(s.tag===19)p_(s,h,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(S){case"forwards":for(h=o.child,S=null;h!==null;)s=h.alternate,s!==null&&Xs(s)===null&&(S=h),h=h.sibling;h=S,h===null?(S=o.child,o.child=null):(S=h.sibling,h.sibling=null),Ic(o,!1,S,h,w,m);break;case"backwards":case"unstable_legacy-backwards":for(h=null,S=o.child,o.child=null;S!==null;){if(s=S.alternate,s!==null&&Xs(s)===null){o.child=S;break}s=S.sibling,S.sibling=h,h=S,S=s}Ic(o,!0,h,null,w,m);break;case"together":Ic(o,!1,null,null,void 0,m);break;default:o.memoizedState=null}return o.child}function Zi(s,o,h){if(s!==null&&(o.dependencies=s.dependencies),No|=o.lanes,(h&o.childLanes)===0)if(s!==null){if(Mo(s,o,h,!1),(h&o.childLanes)===0)return null}else return null;if(s!==null&&o.child!==s.child)throw Error(n(153));if(o.child!==null){for(s=o.child,h=vs(s,s.pendingProps),o.child=h,h.return=o;s.sibling!==null;)s=s.sibling,h=h.sibling=vs(s,s.pendingProps),h.return=o;h.sibling=null}return o.child}function hp(s,o){return(s.lanes&o)!==0?!0:(s=s.dependencies,!!(s!==null&&Qf(s)))}function rb(s,o,h){switch(o.tag){case 3:qe(o,o.stateNode.containerInfo),Qo(o,ar,s.memoizedState.cache),Dl();break;case 27:case 5:ct(o);break;case 4:qe(o,o.stateNode.containerInfo);break;case 10:Qo(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,gm(o),null;break;case 13:var m=o.memoizedState;if(m!==null)return m.dehydrated!==null?(el(o),o.flags|=128,null):(h&o.child.childLanes)!==0?d_(s,o,h):(el(o),s=Zi(s,o,h),s!==null?s.sibling:null);el(o);break;case 19:var S=(s.flags&128)!==0;if(m=(h&o.childLanes)!==0,m||(Mo(s,o,h,!1),m=(h&o.childLanes)!==0),S){if(m)return Ms(s,o,h);o.flags|=128}if(S=o.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),Se(Rn,Rn.current),m)break;return null;case 22:return o.lanes=0,Uc(s,o,h,o.pendingProps);case 24:Qo(o,ar,s.memoizedState.cache)}return Zi(s,o,h)}function dp(s,o,h){if(s!==null)if(s.memoizedProps!==o.pendingProps)or=!0;else{if(!hp(s,h)&&(o.flags&128)===0)return or=!1,rb(s,o,h);or=(s.flags&131072)!==0}else or=!1,Cn&&(o.flags&1048576)!==0&&bv(o,Mu,o.index);switch(o.lanes=0,o.tag){case 16:e:{var m=o.pendingProps;if(s=Ec(o.elementType),o.type=s,typeof s=="function")Ud(s)?(m=Bl(s,m),o.tag=1,o=cp(null,o,s,m,h)):(o.tag=0,o=Pu(null,o,s,m,h));else{if(s!=null){var S=s.$$typeof;if(S===N){o.tag=11,o=Xm(null,o,s,m,h);break e}else if(S===B){o.tag=14,o=Oc(null,o,s,m,h);break e}}throw o=ee(s)||s,Error(n(306,o,""))}}return o;case 0:return Pu(s,o,o.type,o.pendingProps,h);case 1:return m=o.type,S=Bl(m,o.pendingProps),cp(s,o,m,S,h);case 3:e:{if(qe(o,o.stateNode.containerInfo),s===null)throw Error(n(387));m=o.pendingProps;var w=o.memoizedState;S=w.element,dm(s,o),Ru(o,m,null,h);var z=o.memoizedState;if(m=z.cache,Qo(o,ar,m),m!==w.cache&&Vd(o,[ar],h,!0),th(),m=z.element,w.isDehydrated)if(w={element:m,isDehydrated:!1,cache:z.cache},o.updateQueue.baseState=w,o.memoizedState=w,o.flags&256){o=h_(s,o,m,h);break e}else if(m!==S){S=Hs(Error(n(424)),o),yo(S),o=h_(s,o,m,h);break e}else for(s=o.stateNode.containerInfo,s.nodeType===9?s=s.body:s=s.nodeName==="HTML"?s.ownerDocument.body:s,gi=Uo(s.firstChild),Vi=o,Cn=!0,Zo=null,Gs=!0,h=Yd(o,null,m,h),o.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(Dl(),m===S){o=Zi(s,o,h);break e}wr(s,o,m,h)}o=o.child}return o;case 26:return Pc(s,o),s===null?(h=HT(o.type,null,o.pendingProps,null))?o.memoizedState=h:Cn||(h=o.type,s=o.pendingProps,m=__(de.current).createElement(h),m[Jt]=o,m[tn]=s,ds(m,h,s),V(m),o.stateNode=m):o.memoizedState=HT(o.type,s.memoizedProps,o.pendingProps,s.memoizedState),null;case 27:return ct(o),s===null&&Cn&&(m=o.stateNode=FT(o.type,o.pendingProps,de.current),Vi=o,Gs=!0,S=gi,Xu(o.type)?(_b=S,gi=Uo(m.firstChild)):gi=S),wr(s,o,o.pendingProps.children,h),Pc(s,o),s===null&&(o.flags|=4194304),o.child;case 5:return s===null&&Cn&&((S=m=gi)&&(m=y8(m,o.type,o.pendingProps,Gs),m!==null?(o.stateNode=m,Vi=o,gi=Uo(m.firstChild),Gs=!1,S=!0):S=!1),S||xo(o)),ct(o),S=o.type,w=o.pendingProps,z=s!==null?s.memoizedProps:null,m=w.children,db(S,w)?m=null:z!==null&&db(S,z)&&(o.flags|=32),o.memoizedState!==null&&(S=Qd(s,o,Lc,null,null,h),r1._currentValue=S),Pc(s,o),wr(s,o,m,h),o.child;case 6:return s===null&&Cn&&((s=h=gi)&&(h=b8(h,o.pendingProps,Gs),h!==null?(o.stateNode=h,Vi=o,gi=null,s=!0):s=!1),s||xo(o)),null;case 13:return d_(s,o,h);case 4:return qe(o,o.stateNode.containerInfo),m=o.pendingProps,s===null?o.child=Jo(o,null,m,h):wr(s,o,m,h),o.child;case 11:return Xm(s,o,o.type,o.pendingProps,h);case 7:return wr(s,o,o.pendingProps,h),o.child;case 8:return wr(s,o,o.pendingProps.children,h),o.child;case 12:return wr(s,o,o.pendingProps.children,h),o.child;case 10:return m=o.pendingProps,Qo(o,o.type,m.value),wr(s,o,m.children,h),o.child;case 9:return S=o.type._context,m=o.pendingProps.children,Ll(o),S=Zt(S),m=m(S),o.flags|=1,wr(s,o,m,h),o.child;case 14:return Oc(s,o,o.type,o.pendingProps,h);case 15:return ap(s,o,o.type,o.pendingProps,h);case 19:return Ms(s,o,h);case 31:return lp(s,o,h);case 22:return Uc(s,o,h,o.pendingProps);case 24:return Ll(o),m=Zt(ar),s===null?(S=Gd(),S===null&&(S=$t,w=lm(),S.pooledCache=w,w.refCount++,w!==null&&(S.pooledCacheLanes|=h),S=w),o.memoizedState={parent:m,cache:S},eh(o),Qo(o,ar,S)):((s.lanes&h)!==0&&(dm(s,o),Ru(o,null,null,h),th()),S=s.memoizedState,w=o.memoizedState,S.parent!==m?(S={parent:m,cache:m},o.memoizedState=S,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=S),Qo(o,ar,m)):(m=w.cache,Qo(o,ar,m),m!==S.cache&&Vd(o,[ar],h,!0))),wr(s,o,o.pendingProps.children,h),o.child;case 29:throw o.pendingProps}throw Error(n(156,o.tag))}function Ao(s){s.flags|=4}function ch(s,o,h,m,S){if((o=(s.mode&32)!==0)&&(o=!1),o){if(s.flags|=16777216,(S&335544128)===S)if(s.stateNode.complete)s.flags|=8192;else if(Ii())s.flags|=8192;else throw To=Wd,Jf}else s.flags&=-16777217}function jm(s,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!YT(o))if(Ii())s.flags|=8192;else throw To=Wd,Jf}function nl(s,o){o!==null&&(s.flags|=4),s.flags&16384&&(o=s.tag!==22?un():536870912,s.lanes|=o,Si|=o)}function wo(s,o){if(!Cn)switch(s.tailMode){case"hidden":o=s.tail;for(var h=null;o!==null;)o.alternate!==null&&(h=o),o=o.sibling;h===null?s.tail=null:h.sibling=null;break;case"collapsed":h=s.tail;for(var m=null;h!==null;)h.alternate!==null&&(m=h),h=h.sibling;m===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:m.sibling=null}}function si(s){var o=s.alternate!==null&&s.alternate.child===s.child,h=0,m=0;if(o)for(var S=s.child;S!==null;)h|=S.lanes|S.childLanes,m|=S.subtreeFlags&65011712,m|=S.flags&65011712,S.return=s,S=S.sibling;else for(S=s.child;S!==null;)h|=S.lanes|S.childLanes,m|=S.subtreeFlags,m|=S.flags,S.return=s,S=S.sibling;return s.subtreeFlags|=m,s.childLanes=h,o}function uh(s,o,h){var m=o.pendingProps;switch(zd(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return si(o),null;case 1:return si(o),null;case 3:return h=o.stateNode,m=null,s!==null&&(m=s.memoizedState.cache),o.memoizedState.cache!==m&&(o.flags|=2048),So(ar),Ze(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(s===null||s.child===null)&&(Eu(o)?Ao(o):s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Fd())),si(o),null;case 26:var S=o.type,w=o.memoizedState;return s===null?(Ao(o),w!==null?(si(o),jm(o,w)):(si(o),ch(o,S,null,m,h))):w?w!==s.memoizedState?(Ao(o),si(o),jm(o,w)):(si(o),o.flags&=-16777217):(s=s.memoizedProps,s!==m&&Ao(o),si(o),ch(o,S,s,m,h)),null;case 27:if(Pt(o),h=de.current,S=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==m&&Ao(o);else{if(!m){if(o.stateNode===null)throw Error(n(166));return si(o),null}s=Le.current,Eu(o)?Sv(o):(s=FT(S,m,h),o.stateNode=s,Ao(o))}return si(o),null;case 5:if(Pt(o),S=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==m&&Ao(o);else{if(!m){if(o.stateNode===null)throw Error(n(166));return si(o),null}if(w=Le.current,Eu(o))Sv(o);else{var z=__(de.current);switch(w){case 1:w=z.createElementNS("http://www.w3.org/2000/svg",S);break;case 2:w=z.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;default:switch(S){case"svg":w=z.createElementNS("http://www.w3.org/2000/svg",S);break;case"math":w=z.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;case"script":w=z.createElement("div"),w.innerHTML="<script><\/script>",w=w.removeChild(w.firstChild);break;case"select":w=typeof m.is=="string"?z.createElement("select",{is:m.is}):z.createElement("select"),m.multiple?w.multiple=!0:m.size&&(w.size=m.size);break;default:w=typeof m.is=="string"?z.createElement(S,{is:m.is}):z.createElement(S)}}w[Jt]=o,w[tn]=m;e:for(z=o.child;z!==null;){if(z.tag===5||z.tag===6)w.appendChild(z.stateNode);else if(z.tag!==4&&z.tag!==27&&z.child!==null){z.child.return=z,z=z.child;continue}if(z===o)break e;for(;z.sibling===null;){if(z.return===null||z.return===o)break e;z=z.return}z.sibling.return=z.return,z=z.sibling}o.stateNode=w;e:switch(ds(w,S,m),S){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&Ao(o)}}return si(o),ch(o,o.type,s===null?null:s.memoizedProps,o.pendingProps,h),null;case 6:if(s&&o.stateNode!=null)s.memoizedProps!==m&&Ao(o);else{if(typeof m!="string"&&o.stateNode===null)throw Error(n(166));if(s=de.current,Eu(o)){if(s=o.stateNode,h=o.memoizedProps,m=null,S=Vi,S!==null)switch(S.tag){case 27:case 5:m=S.memoizedProps}s[Jt]=o,s=!!(s.nodeValue===h||m!==null&&m.suppressHydrationWarning===!0||CT(s.nodeValue,h)),s||xo(o,!0)}else s=__(s).createTextNode(m),s[Jt]=o,o.stateNode=s}return si(o),null;case 31:if(h=o.memoizedState,s===null||s.memoizedState!==null){if(m=Eu(o),h!==null){if(s===null){if(!m)throw Error(n(318));if(s=o.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(557));s[Jt]=o}else Dl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;si(o),s=!1}else h=Fd(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=h),s=!0;if(!s)return o.flags&256?(Yi(o),o):(Yi(o),null);if((o.flags&128)!==0)throw Error(n(558))}return si(o),null;case 13:if(m=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(S=Eu(o),m!==null&&m.dehydrated!==null){if(s===null){if(!S)throw Error(n(318));if(S=o.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(n(317));S[Jt]=o}else Dl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;si(o),S=!1}else S=Fd(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=S),S=!0;if(!S)return o.flags&256?(Yi(o),o):(Yi(o),null)}return Yi(o),(o.flags&128)!==0?(o.lanes=h,o):(h=m!==null,s=s!==null&&s.memoizedState!==null,h&&(m=o.child,S=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(S=m.alternate.memoizedState.cachePool.pool),w=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(w=m.memoizedState.cachePool.pool),w!==S&&(m.flags|=2048)),h!==s&&h&&(o.child.flags|=8192),nl(o,o.updateQueue),si(o),null);case 4:return Ze(),s===null&&lb(o.stateNode.containerInfo),si(o),null;case 10:return So(o.type),si(o),null;case 19:if(ce(Rn),m=o.memoizedState,m===null)return si(o),null;if(S=(o.flags&128)!==0,w=m.rendering,w===null)if(S)wo(m,!1);else{if(Ui!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(w=Xs(s),w!==null){for(o.flags|=128,wo(m,!1),s=w.updateQueue,o.updateQueue=s,nl(o,s),o.subtreeFlags=0,s=h,h=o.child;h!==null;)yu(h,s),h=h.sibling;return Se(Rn,Rn.current&1|2),Cn&&vo(o,m.treeForkCount),o.child}s=s.sibling}m.tail!==null&&F()>Qi&&(o.flags|=128,S=!0,wo(m,!1),o.lanes=4194304)}else{if(!S)if(s=Xs(w),s!==null){if(o.flags|=128,S=!0,s=s.updateQueue,o.updateQueue=s,nl(o,s),wo(m,!0),m.tail===null&&m.tailMode==="hidden"&&!w.alternate&&!Cn)return si(o),null}else 2*F()-m.renderingStartTime>Qi&&h!==536870912&&(o.flags|=128,S=!0,wo(m,!1),o.lanes=4194304);m.isBackwards?(w.sibling=o.child,o.child=w):(s=m.last,s!==null?s.sibling=w:o.child=w,m.last=w)}return m.tail!==null?(s=m.tail,m.rendering=s,m.tail=s.sibling,m.renderingStartTime=F(),s.sibling=null,h=Rn.current,Se(Rn,S?h&1|2:h&1),Cn&&vo(o,m.treeForkCount),s):(si(o),null);case 22:case 23:return Yi(o),nh(),m=o.memoizedState!==null,s!==null?s.memoizedState!==null!==m&&(o.flags|=8192):m&&(o.flags|=8192),m?(h&536870912)!==0&&(o.flags&128)===0&&(si(o),o.subtreeFlags&6&&(o.flags|=8192)):si(o),h=o.updateQueue,h!==null&&nl(o,h.retryQueue),h=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==h&&(o.flags|=2048),s!==null&&ce(Ol),null;case 24:return h=null,s!==null&&(h=s.memoizedState.cache),o.memoizedState.cache!==h&&(o.flags|=2048),So(ar),si(o),null;case 25:return null;case 30:return null}throw Error(n(156,o.tag))}function _a(s,o){switch(zd(o),o.tag){case 1:return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return So(ar),Ze(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 26:case 27:case 5:return Pt(o),null;case 31:if(o.memoizedState!==null){if(Yi(o),o.alternate===null)throw Error(n(340));Dl()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 13:if(Yi(o),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(n(340));Dl()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return ce(Rn),null;case 4:return Ze(),null;case 10:return So(o.type),null;case 22:case 23:return Yi(o),nh(),s!==null&&ce(Ol),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 24:return So(ar),null;case 25:return null;default:return null}}function qs(s,o){switch(zd(o),o.tag){case 3:So(ar),Ze();break;case 26:case 27:case 5:Pt(o);break;case 4:Ze();break;case 31:o.memoizedState!==null&&Yi(o);break;case 13:Yi(o);break;case 19:ce(Rn);break;case 10:So(o.type);break;case 22:case 23:Yi(o),nh(),s!==null&&ce(Ol);break;case 24:So(ar)}}function xa(s,o){try{var h=o.updateQueue,m=h!==null?h.lastEffect:null;if(m!==null){var S=m.next;h=S;do{if((h.tag&s)===s){m=void 0;var w=h.create,z=h.inst;m=w(),z.destroy=m}h=h.next}while(h!==S)}}catch(G){kn(o,o.return,G)}}function Ir(s,o,h){try{var m=o.updateQueue,S=m!==null?m.lastEffect:null;if(S!==null){var w=S.next;m=w;do{if((m.tag&s)===s){var z=m.inst,G=z.destroy;if(G!==void 0){z.destroy=void 0,S=o;var ne=h,_e=G;try{_e()}catch(Pe){kn(S,ne,Pe)}}}m=m.next}while(m!==w)}}catch(Pe){kn(o,o.return,Pe)}}function Ha(s){var o=s.updateQueue;if(o!==null){var h=s.stateNode;try{wv(o,h)}catch(m){kn(s,s.return,m)}}}function Cr(s,o,h){h.props=Bl(s.type,s.memoizedProps),h.state=s.memoizedState;try{h.componentWillUnmount()}catch(m){kn(s,o,m)}}function il(s,o){try{var h=s.ref;if(h!==null){switch(s.tag){case 26:case 27:case 5:var m=s.stateNode;break;case 30:m=s.stateNode;break;default:m=s.stateNode}typeof h=="function"?s.refCleanup=h(m):h.current=m}}catch(S){kn(s,o,S)}}function zr(s,o){var h=s.ref,m=s.refCleanup;if(h!==null)if(typeof m=="function")try{m()}catch(S){kn(s,o,S)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(S){kn(s,o,S)}else h.current=null}function fh(s){var o=s.type,h=s.memoizedProps,m=s.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":h.autoFocus&&m.focus();break e;case"img":h.src?m.src=h.src:h.srcSet&&(m.srcset=h.srcSet)}}catch(S){kn(s,s.return,S)}}function mr(s,o,h){try{var m=s.stateNode;p8(m,s.type,h,o),m[tn]=o}catch(S){kn(s,s.return,S)}}function Ci(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Xu(s.type)||s.tag===4}function En(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Ci(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Xu(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Co(s,o,h){var m=s.tag;if(m===5||m===6)s=s.stateNode,o?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(s,o):(o=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,o.appendChild(s),h=h._reactRootContainer,h!=null||o.onclick!==null||(o.onclick=Xo));else if(m!==4&&(m===27&&Xu(s.type)&&(h=s.stateNode,o=null),s=s.child,s!==null))for(Co(s,o,h),s=s.sibling;s!==null;)Co(s,o,h),s=s.sibling}function cs(s,o,h){var m=s.tag;if(m===5||m===6)s=s.stateNode,o?h.insertBefore(s,o):h.appendChild(s);else if(m!==4&&(m===27&&Xu(s.type)&&(h=s.stateNode),s=s.child,s!==null))for(cs(s,o,h),s=s.sibling;s!==null;)cs(s,o,h),s=s.sibling}function pp(s){var o=s.stateNode,h=s.memoizedProps;try{for(var m=s.type,S=o.attributes;S.length;)o.removeAttributeNode(S[0]);ds(o,m,h),o[Jt]=s,o[tn]=h}catch(w){kn(s,s.return,w)}}var ya=!1,vi=!1,Ga=!1,m_=typeof WeakSet=="function"?WeakSet:Set,Rr=null;function sb(s,o){if(s=s.containerInfo,fb=E_,s=vv(s),im(s)){if("selectionStart"in s)var h={start:s.selectionStart,end:s.selectionEnd};else e:{h=(h=s.ownerDocument)&&h.defaultView||window;var m=h.getSelection&&h.getSelection();if(m&&m.rangeCount!==0){h=m.anchorNode;var S=m.anchorOffset,w=m.focusNode;m=m.focusOffset;try{h.nodeType,w.nodeType}catch{h=null;break e}var z=0,G=-1,ne=-1,_e=0,Pe=0,ke=s,Te=null;t:for(;;){for(var De;ke!==h||S!==0&&ke.nodeType!==3||(G=z+S),ke!==w||m!==0&&ke.nodeType!==3||(ne=z+m),ke.nodeType===3&&(z+=ke.nodeValue.length),(De=ke.firstChild)!==null;)Te=ke,ke=De;for(;;){if(ke===s)break t;if(Te===h&&++_e===S&&(G=z),Te===w&&++Pe===m&&(ne=z),(De=ke.nextSibling)!==null)break;ke=Te,Te=ke.parentNode}ke=De}h=G===-1||ne===-1?null:{start:G,end:ne}}else h=null}h=h||{start:0,end:0}}else h=null;for(hb={focusedElem:s,selectionRange:h},E_=!1,Rr=o;Rr!==null;)if(o=Rr,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,Rr=s;else for(;Rr!==null;){switch(o=Rr,w=o.alternate,s=o.flags,o.tag){case 0:if((s&4)!==0&&(s=o.updateQueue,s=s!==null?s.events:null,s!==null))for(h=0;h<s.length;h++)S=s[h],S.ref.impl=S.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&w!==null){s=void 0,h=o,S=w.memoizedProps,w=w.memoizedState,m=h.stateNode;try{var Rt=Bl(h.type,S);s=m.getSnapshotBeforeUpdate(Rt,w),m.__reactInternalSnapshotBeforeUpdate=s}catch(jt){kn(h,h.return,jt)}}break;case 3:if((s&1024)!==0){if(s=o.stateNode.containerInfo,h=s.nodeType,h===9)mb(s);else if(h===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":mb(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(n(163))}if(s=o.sibling,s!==null){s.return=o.return,Rr=s;break}Rr=o.return}}function Ri(s,o,h){var m=h.flags;switch(h.tag){case 0:case 11:case 15:Ma(s,h),m&4&&xa(5,h);break;case 1:if(Ma(s,h),m&4)if(s=h.stateNode,o===null)try{s.componentDidMount()}catch(z){kn(h,h.return,z)}else{var S=Bl(h.type,o.memoizedProps);o=o.memoizedState;try{s.componentDidUpdate(S,o,s.__reactInternalSnapshotBeforeUpdate)}catch(z){kn(h,h.return,z)}}m&64&&Ha(h),m&512&&il(h,h.return);break;case 3:if(Ma(s,h),m&64&&(s=h.updateQueue,s!==null)){if(o=null,h.child!==null)switch(h.child.tag){case 27:case 5:o=h.child.stateNode;break;case 1:o=h.child.stateNode}try{wv(s,o)}catch(z){kn(h,h.return,z)}}break;case 27:o===null&&m&4&&pp(h);case 26:case 5:Ma(s,h),o===null&&m&4&&fh(h),m&512&&il(h,h.return);break;case 12:Ma(s,h);break;case 31:Ma(s,h),m&4&&Fl(s,h);break;case 13:Ma(s,h),m&4&&Iu(s,h),m&64&&(s=h.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(h=g.bind(null,h),S8(s,h))));break;case 22:if(m=h.memoizedState!==null||ya,!m){o=o!==null&&o.memoizedState!==null||vi,S=ya;var w=vi;ya=m,(vi=o)&&!w?us(s,h,(h.subtreeFlags&8772)!==0):Ma(s,h),ya=S,vi=w}break;case 30:break;default:Ma(s,h)}}function hh(s){var o=s.alternate;o!==null&&(s.alternate=null,hh(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&ui(o)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var $n=null,Qr=!1;function ba(s,o,h){for(h=h.child;h!==null;)mp(s,o,h),h=h.sibling}function mp(s,o,h){if(We&&typeof We.onCommitFiberUnmount=="function")try{We.onCommitFiberUnmount(Ve,h)}catch{}switch(h.tag){case 26:vi||zr(h,o),ba(s,o,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:vi||zr(h,o);var m=$n,S=Qr;Xu(h.type)&&($n=h.stateNode,Qr=!1),ba(s,o,h),t1(h.stateNode),$n=m,Qr=S;break;case 5:vi||zr(h,o);case 6:if(m=$n,S=Qr,$n=null,ba(s,o,h),$n=m,Qr=S,$n!==null)if(Qr)try{($n.nodeType===9?$n.body:$n.nodeName==="HTML"?$n.ownerDocument.body:$n).removeChild(h.stateNode)}catch(w){kn(h,o,w)}else try{$n.removeChild(h.stateNode)}catch(w){kn(h,o,w)}break;case 18:$n!==null&&(Qr?(s=$n,UT(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,h.stateNode),Mp(s)):UT($n,h.stateNode));break;case 4:m=$n,S=Qr,$n=h.stateNode.containerInfo,Qr=!0,ba(s,o,h),$n=m,Qr=S;break;case 0:case 11:case 14:case 15:Ir(2,h,o),vi||Ir(4,h,o),ba(s,o,h);break;case 1:vi||(zr(h,o),m=h.stateNode,typeof m.componentWillUnmount=="function"&&Cr(h,o,m)),ba(s,o,h);break;case 21:ba(s,o,h);break;case 22:vi=(m=vi)||h.memoizedState!==null,ba(s,o,h),vi=m;break;default:ba(s,o,h)}}function Fl(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Mp(s)}catch(h){kn(o,o.return,h)}}}function Iu(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Mp(s)}catch(h){kn(o,o.return,h)}}function Zm(s){switch(s.tag){case 31:case 13:case 19:var o=s.stateNode;return o===null&&(o=s.stateNode=new m_),o;case 22:return s=s.stateNode,o=s._retryCache,o===null&&(o=s._retryCache=new m_),o;default:throw Error(n(435,s.tag))}}function rl(s,o){var h=Zm(s);o.forEach(function(m){if(!h.has(m)){h.add(m);var S=b.bind(null,s,m);m.then(S,S)}})}function gr(s,o){var h=o.deletions;if(h!==null)for(var m=0;m<h.length;m++){var S=h[m],w=s,z=o,G=z;e:for(;G!==null;){switch(G.tag){case 27:if(Xu(G.type)){$n=G.stateNode,Qr=!1;break e}break;case 5:$n=G.stateNode,Qr=!1;break e;case 3:case 4:$n=G.stateNode.containerInfo,Qr=!0;break e}G=G.return}if($n===null)throw Error(n(160));mp(w,z,S),$n=null,Qr=!1,w=S.alternate,w!==null&&(w.return=null),S.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)kl(o,s),o=o.sibling}var Sa=null;function kl(s,o){var h=s.alternate,m=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:gr(o,s),vr(s),m&4&&(Ir(3,s,s.return),xa(3,s),Ir(5,s,s.return));break;case 1:gr(o,s),vr(s),m&512&&(vi||h===null||zr(h,h.return)),m&64&&ya&&(s=s.updateQueue,s!==null&&(m=s.callbacks,m!==null&&(h=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=h===null?m:h.concat(m))));break;case 26:var S=Sa;if(gr(o,s),vr(s),m&512&&(vi||h===null||zr(h,h.return)),m&4){var w=h!==null?h.memoizedState:null;if(m=s.memoizedState,h===null)if(m===null)if(s.stateNode===null){e:{m=s.type,h=s.memoizedProps,S=S.ownerDocument||S;t:switch(m){case"title":w=S.getElementsByTagName("title")[0],(!w||w[Jn]||w[Jt]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=S.createElement(m),S.head.insertBefore(w,S.querySelector("head > title"))),ds(w,m,h),w[Jt]=s,V(w),m=w;break e;case"link":var z=XT("link","href",S).get(m+(h.href||""));if(z){for(var G=0;G<z.length;G++)if(w=z[G],w.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&w.getAttribute("rel")===(h.rel==null?null:h.rel)&&w.getAttribute("title")===(h.title==null?null:h.title)&&w.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){z.splice(G,1);break t}}w=S.createElement(m),ds(w,m,h),S.head.appendChild(w);break;case"meta":if(z=XT("meta","content",S).get(m+(h.content||""))){for(G=0;G<z.length;G++)if(w=z[G],w.getAttribute("content")===(h.content==null?null:""+h.content)&&w.getAttribute("name")===(h.name==null?null:h.name)&&w.getAttribute("property")===(h.property==null?null:h.property)&&w.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&w.getAttribute("charset")===(h.charSet==null?null:h.charSet)){z.splice(G,1);break t}}w=S.createElement(m),ds(w,m,h),S.head.appendChild(w);break;default:throw Error(n(468,m))}w[Jt]=s,V(w),m=w}s.stateNode=m}else qT(S,s.type,s.stateNode);else s.stateNode=WT(S,m,s.memoizedProps);else w!==m?(w===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):w.count--,m===null?qT(S,s.type,s.stateNode):WT(S,m,s.memoizedProps)):m===null&&s.stateNode!==null&&mr(s,s.memoizedProps,h.memoizedProps)}break;case 27:gr(o,s),vr(s),m&512&&(vi||h===null||zr(h,h.return)),h!==null&&m&4&&mr(s,s.memoizedProps,h.memoizedProps);break;case 5:if(gr(o,s),vr(s),m&512&&(vi||h===null||zr(h,h.return)),s.flags&32){S=s.stateNode;try{sr(S,"")}catch(Rt){kn(s,s.return,Rt)}}m&4&&s.stateNode!=null&&(S=s.memoizedProps,mr(s,S,h!==null?h.memoizedProps:S)),m&1024&&(Ga=!0);break;case 6:if(gr(o,s),vr(s),m&4){if(s.stateNode===null)throw Error(n(162));m=s.memoizedProps,h=s.stateNode;try{h.nodeValue=m}catch(Rt){kn(s,s.return,Rt)}}break;case 3:if(b_=null,S=Sa,Sa=x_(o.containerInfo),gr(o,s),Sa=S,vr(s),m&4&&h!==null&&h.memoizedState.isDehydrated)try{Mp(o.containerInfo)}catch(Rt){kn(s,s.return,Rt)}Ga&&(Ga=!1,gp(s));break;case 4:m=Sa,Sa=x_(s.stateNode.containerInfo),gr(o,s),vr(s),Sa=m;break;case 12:gr(o,s),vr(s);break;case 31:gr(o,s),vr(s),m&4&&(m=s.updateQueue,m!==null&&(s.updateQueue=null,rl(s,m)));break;case 13:gr(o,s),vr(s),s.child.flags&8192&&s.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(zu=F()),m&4&&(m=s.updateQueue,m!==null&&(s.updateQueue=null,rl(s,m)));break;case 22:S=s.memoizedState!==null;var ne=h!==null&&h.memoizedState!==null,_e=ya,Pe=vi;if(ya=_e||S,vi=Pe||ne,gr(o,s),vi=Pe,ya=_e,vr(s),m&8192)e:for(o=s.stateNode,o._visibility=S?o._visibility&-2:o._visibility|1,S&&(h===null||ne||ya||vi||Ro(s)),h=null,o=s;;){if(o.tag===5||o.tag===26){if(h===null){ne=h=o;try{if(w=ne.stateNode,S)z=w.style,typeof z.setProperty=="function"?z.setProperty("display","none","important"):z.display="none";else{G=ne.stateNode;var ke=ne.memoizedProps.style,Te=ke!=null&&ke.hasOwnProperty("display")?ke.display:null;G.style.display=Te==null||typeof Te=="boolean"?"":(""+Te).trim()}}catch(Rt){kn(ne,ne.return,Rt)}}}else if(o.tag===6){if(h===null){ne=o;try{ne.stateNode.nodeValue=S?"":ne.memoizedProps}catch(Rt){kn(ne,ne.return,Rt)}}}else if(o.tag===18){if(h===null){ne=o;try{var De=ne.stateNode;S?PT(De,!0):PT(ne.stateNode,!1)}catch(Rt){kn(ne,ne.return,Rt)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===s)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;h===o&&(h=null),o=o.return}h===o&&(h=null),o.sibling.return=o.return,o=o.sibling}m&4&&(m=s.updateQueue,m!==null&&(h=m.retryQueue,h!==null&&(m.retryQueue=null,rl(s,h))));break;case 19:gr(o,s),vr(s),m&4&&(m=s.updateQueue,m!==null&&(s.updateQueue=null,rl(s,m)));break;case 30:break;case 21:break;default:gr(o,s),vr(s)}}function vr(s){var o=s.flags;if(o&2){try{for(var h,m=s.return;m!==null;){if(Ci(m)){h=m;break}m=m.return}if(h==null)throw Error(n(160));switch(h.tag){case 27:var S=h.stateNode,w=En(s);cs(s,w,S);break;case 5:var z=h.stateNode;h.flags&32&&(sr(z,""),h.flags&=-33);var G=En(s);cs(s,G,z);break;case 3:case 4:var ne=h.stateNode.containerInfo,_e=En(s);Co(s,_e,ne);break;default:throw Error(n(161))}}catch(Pe){kn(s,s.return,Pe)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function gp(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var o=s;gp(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),s=s.sibling}}function Ma(s,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)Ri(s,o.alternate,o),o=o.sibling}function Ro(s){for(s=s.child;s!==null;){var o=s;switch(o.tag){case 0:case 11:case 14:case 15:Ir(4,o,o.return),Ro(o);break;case 1:zr(o,o.return);var h=o.stateNode;typeof h.componentWillUnmount=="function"&&Cr(o,o.return,h),Ro(o);break;case 27:t1(o.stateNode);case 26:case 5:zr(o,o.return),Ro(o);break;case 22:o.memoizedState===null&&Ro(o);break;case 30:Ro(o);break;default:Ro(o)}s=s.sibling}}function us(s,o,h){for(h=h&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var m=o.alternate,S=s,w=o,z=w.flags;switch(w.tag){case 0:case 11:case 15:us(S,w,h),xa(4,w);break;case 1:if(us(S,w,h),m=w,S=m.stateNode,typeof S.componentDidMount=="function")try{S.componentDidMount()}catch(_e){kn(m,m.return,_e)}if(m=w,S=m.updateQueue,S!==null){var G=m.stateNode;try{var ne=S.shared.hiddenCallbacks;if(ne!==null)for(S.shared.hiddenCallbacks=null,S=0;S<ne.length;S++)Du(ne[S],G)}catch(_e){kn(m,m.return,_e)}}h&&z&64&&Ha(w),il(w,w.return);break;case 27:pp(w);case 26:case 5:us(S,w,h),h&&m===null&&z&4&&fh(w),il(w,w.return);break;case 12:us(S,w,h);break;case 31:us(S,w,h),h&&z&4&&Fl(S,w);break;case 13:us(S,w,h),h&&z&4&&Iu(S,w);break;case 22:w.memoizedState===null&&us(S,w,h),il(w,w.return);break;case 30:break;default:us(S,w,h)}o=o.sibling}}function Vl(s,o){var h=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),s=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(s=o.memoizedState.cachePool.pool),s!==h&&(s!=null&&s.refCount++,h!=null&&Mc(h))}function zc(s,o){s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&Mc(s))}function Br(s,o,h,m){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Qm(s,o,h,m),o=o.sibling}function Qm(s,o,h,m){var S=o.flags;switch(o.tag){case 0:case 11:case 15:Br(s,o,h,m),S&2048&&xa(9,o);break;case 1:Br(s,o,h,m);break;case 3:Br(s,o,h,m),S&2048&&(s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&Mc(s)));break;case 12:if(S&2048){Br(s,o,h,m),s=o.stateNode;try{var w=o.memoizedProps,z=w.id,G=w.onPostCommit;typeof G=="function"&&G(z,o.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(ne){kn(o,o.return,ne)}}else Br(s,o,h,m);break;case 31:Br(s,o,h,m);break;case 13:Br(s,o,h,m);break;case 23:break;case 22:w=o.stateNode,z=o.alternate,o.memoizedState!==null?w._visibility&2?Br(s,o,h,m):Do(s,o):w._visibility&2?Br(s,o,h,m):(w._visibility|=2,Fr(s,o,h,m,(o.subtreeFlags&10256)!==0||!1)),S&2048&&Vl(z,o);break;case 24:Br(s,o,h,m),S&2048&&zc(o.alternate,o);break;default:Br(s,o,h,m)}}function Fr(s,o,h,m,S){for(S=S&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var w=s,z=o,G=h,ne=m,_e=z.flags;switch(z.tag){case 0:case 11:case 15:Fr(w,z,G,ne,S),xa(8,z);break;case 23:break;case 22:var Pe=z.stateNode;z.memoizedState!==null?Pe._visibility&2?Fr(w,z,G,ne,S):Do(w,z):(Pe._visibility|=2,Fr(w,z,G,ne,S)),S&&_e&2048&&Vl(z.alternate,z);break;case 24:Fr(w,z,G,ne,S),S&&_e&2048&&zc(z.alternate,z);break;default:Fr(w,z,G,ne,S)}o=o.sibling}}function Do(s,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var h=s,m=o,S=m.flags;switch(m.tag){case 22:Do(h,m),S&2048&&Vl(m.alternate,m);break;case 24:Do(h,m),S&2048&&zc(m.alternate,m);break;default:Do(h,m)}o=o.sibling}}var Bc=8192;function Ys(s,o,h){if(s.subtreeFlags&Bc)for(s=s.child;s!==null;)vp(s,o,h),s=s.sibling}function vp(s,o,h){switch(s.tag){case 26:Ys(s,o,h),s.flags&Bc&&s.memoizedState!==null&&U8(h,Sa,s.memoizedState,s.memoizedProps);break;case 5:Ys(s,o,h);break;case 3:case 4:var m=Sa;Sa=x_(s.stateNode.containerInfo),Ys(s,o,h),Sa=m;break;case 22:s.memoizedState===null&&(m=s.alternate,m!==null&&m.memoizedState!==null?(m=Bc,Bc=16777216,Ys(s,o,h),Bc=m):Ys(s,o,h));break;default:Ys(s,o,h)}}function Fc(s){var o=s.alternate;if(o!==null&&(s=o.child,s!==null)){o.child=null;do o=s.sibling,s.sibling=null,s=o;while(s!==null)}}function Hl(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var h=0;h<o.length;h++){var m=o[h];Rr=m,Hi(m,s)}Fc(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Ts(s),s=s.sibling}function Ts(s){switch(s.tag){case 0:case 11:case 15:Hl(s),s.flags&2048&&Ir(9,s,s.return);break;case 3:Hl(s);break;case 12:Hl(s);break;case 22:var o=s.stateNode;s.memoizedState!==null&&o._visibility&2&&(s.return===null||s.return.tag!==13)?(o._visibility&=-3,Es(s)):Hl(s);break;default:Hl(s)}}function Es(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var h=0;h<o.length;h++){var m=o[h];Rr=m,Hi(m,s)}Fc(s)}for(s=s.child;s!==null;){switch(o=s,o.tag){case 0:case 11:case 15:Ir(8,o,o.return),Es(o);break;case 22:h=o.stateNode,h._visibility&2&&(h._visibility&=-3,Es(o));break;default:Es(o)}s=s.sibling}}function Hi(s,o){for(;Rr!==null;){var h=Rr;switch(h.tag){case 0:case 11:case 15:Ir(8,h,o);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var m=h.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Mc(h.memoizedState.cache)}if(m=h.child,m!==null)m.return=h,Rr=m;else e:for(h=s;Rr!==null;){m=Rr;var S=m.sibling,w=m.return;if(hh(m),m===h){Rr=null;break e}if(S!==null){S.return=w,Rr=S;break e}Rr=w}}}var sl={getCacheForType:function(s){var o=Zt(ar),h=o.data.get(s);return h===void 0&&(h=s(),o.data.set(s,h)),h},cacheSignal:function(){return Zt(ar).controller.signal}},ln=typeof WeakMap=="function"?WeakMap:Map,Ot=0,$t=null,mn=null,hn=0,On=0,Kr=null,Ta=!1,Wa=!1,Km=!1,js=0,Ui=0,No=0,Gl=0,dh=0,fs=0,Si=0,kc=null,Gi=null,Wi=!1,zu=0,Jm=0,Qi=1/0,Pi=null,Ki=null,ei=0,Zs=null,Bu=null,Ea=0,Fu=0,ku=null,ph=null,Wl=0,Vc=null;function Qs(){return(Ot&2)!==0&&hn!==0?hn&-hn:Y.T!==null?we():rn()}function bn(){if(fs===0)if((hn&536870912)===0||Cn){var s=He;He<<=1,(He&3932160)===0&&(He=262144),fs=s}else fs=536870912;return s=ys.current,s!==null&&(s.flags|=32),fs}function gn(s,o,h){(s===$t&&(On===2||On===9)||s.cancelPendingCommit!==null)&&(ql(s,0),lr(s,hn,fs,!1)),Et(s,h),((Ot&2)===0||s!==$t)&&(s===$t&&((Ot&2)===0&&(Gl|=h),Ui===4&&lr(s,hn,fs,!1)),Ke(s))}function Sn(s,o,h){if((Ot&6)!==0)throw Error(n(327));var m=!h&&(o&127)===0&&(o&s.expiredLanes)===0||$e(s,o),S=m?mh(s,o):hs(s,o,!0),w=m;do{if(S===0){Wa&&!m&&lr(s,o,0,!1);break}else{if(h=s.current.alternate,w&&!ti(h)){S=hs(s,o,!1),w=!1;continue}if(S===2){if(w=o,s.errorRecoveryDisabledLanes&w)var z=0;else z=s.pendingLanes&-536870913,z=z!==0?z:z&536870912?536870912:0;if(z!==0){o=z;e:{var G=s;S=kc;var ne=G.current.memoizedState.isDehydrated;if(ne&&(ql(G,z).flags|=256),z=hs(G,z,!1),z!==2){if(Km&&!ne){G.errorRecoveryDisabledLanes|=w,Gl|=w,S=4;break e}w=Gi,Gi=S,w!==null&&(Gi===null?Gi=w:Gi.push.apply(Gi,w))}S=z}if(w=!1,S!==2)continue}}if(S===1){ql(s,0),lr(s,o,0,!0);break}e:{switch(m=s,w=S,w){case 0:case 1:throw Error(n(345));case 4:if((o&4194048)!==o)break;case 6:lr(m,o,fs,!Ta);break e;case 2:Gi=null;break;case 3:case 5:break;default:throw Error(n(329))}if((o&62914560)===o&&(S=zu+300-F(),10<S)){if(lr(m,o,fs,!Ta),Ue(m,0,!0)!==0)break e;Ea=o,m.timeoutHandle=LT(An.bind(null,m,h,Gi,Pi,Wi,o,fs,Gl,Si,Ta,w,"Throttled",-0,0),S);break e}An(m,h,Gi,Pi,Wi,o,fs,Gl,Si,Ta,w,null,-0,0)}}break}while(!0);Ke(s)}function An(s,o,h,m,S,w,z,G,ne,_e,Pe,ke,Te,De){if(s.timeoutHandle=-1,ke=o.subtreeFlags,ke&8192||(ke&16785408)===16785408){ke={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Xo},vp(o,w,ke);var Rt=(w&62914560)===w?zu-F():(w&4194048)===w?Jm-F():0;if(Rt=P8(ke,Rt),Rt!==null){Ea=w,s.cancelPendingCommit=Rt(ol.bind(null,s,o,w,h,m,S,z,G,ne,Pe,ke,null,Te,De)),lr(s,w,z,!_e);return}}ol(s,o,w,h,m,S,z,G,ne)}function ti(s){for(var o=s;;){var h=o.tag;if((h===0||h===11||h===15)&&o.flags&16384&&(h=o.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var m=0;m<h.length;m++){var S=h[m],w=S.getSnapshot;S=S.value;try{if(!ss(w(),S))return!1}catch{return!1}}if(h=o.child,o.subtreeFlags&16384&&h!==null)h.return=o,o=h;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function lr(s,o,h,m){o&=~dh,o&=~Gl,s.suspendedLanes|=o,s.pingedLanes&=~o,m&&(s.warmLanes|=o),m=s.expirationTimes;for(var S=o;0<S;){var w=31-ft(S),z=1<<w;m[w]=-1,S&=~z}h!==0&&lt(s,h,o)}function Xa(){return(Ot&6)===0?(St(0),!1):!0}function Xl(){if(mn!==null){if(On===0)var s=mn.return;else s=mn,bo=Nl=null,bm(s),Cc=null,Rc=0,s=mn;for(;s!==null;)qs(s.alternate,s),s=s.return;mn=null}}function ql(s,o){var h=s.timeoutHandle;h!==-1&&(s.timeoutHandle=-1,v8(h)),h=s.cancelPendingCommit,h!==null&&(s.cancelPendingCommit=null,h()),Ea=0,Xl(),$t=s,mn=h=vs(s.current,null),hn=o,On=0,Kr=null,Ta=!1,Wa=$e(s,o),Km=!1,Si=fs=dh=Gl=No=Ui=0,Gi=kc=null,Wi=!1,(o&8)!==0&&(o|=o&32);var m=s.entangledLanes;if(m!==0)for(s=s.entanglements,m&=o;0<m;){var S=31-ft(m),w=1<<S;o|=s[S],m&=~w}return js=o,jf(),h}function Lo(s,o){on=null,Y.H=Uu,o===Tc||o===pn?(o=Ac(),On=3):o===Jf?(o=Ac(),On=4):On=o===sp?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Kr=o,mn===null&&(Ui=1,rp(s,Hs(o,s.current)))}function Ii(){var s=ys.current;return s===null?!0:(hn&4194048)===hn?ls===null:(hn&62914560)===hn||(hn&536870912)!==0?s===ls:!1}function al(){var s=Y.H;return Y.H=Uu,s===null?Uu:s}function Yl(){var s=Y.A;return Y.A=sl,s}function Vu(){Ui=4,Ta||(hn&4194048)!==hn&&ys.current!==null||(Wa=!0),(No&134217727)===0&&(Gl&134217727)===0||$t===null||lr($t,hn,fs,!1)}function hs(s,o,h){var m=Ot;Ot|=2;var S=al(),w=Yl();($t!==s||hn!==o)&&(Pi=null,ql(s,o)),o=!1;var z=Ui;e:do try{if(On!==0&&mn!==null){var G=mn,ne=Kr;switch(On){case 8:Xl(),z=6;break e;case 3:case 2:case 9:case 6:ys.current===null&&(o=!0);var _e=On;if(On=0,Kr=null,Hc(s,G,ne,_e),h&&Wa){z=0;break e}break;default:_e=On,On=0,Kr=null,Hc(s,G,ne,_e)}}Hu(),z=Ui;break}catch(Pe){Lo(s,Pe)}while(!0);return o&&s.shellSuspendCounter++,bo=Nl=null,Ot=m,Y.H=S,Y.A=w,mn===null&&($t=null,hn=0,jf()),z}function Hu(){for(;mn!==null;)_p(mn)}function mh(s,o){var h=Ot;Ot|=2;var m=al(),S=Yl();$t!==s||hn!==o?(Pi=null,Qi=F()+500,ql(s,o)):Wa=$e(s,o);e:do try{if(On!==0&&mn!==null){o=mn;var w=Kr;t:switch(On){case 1:On=0,Kr=null,Hc(s,o,w,1);break;case 2:case 9:if(xs(w)){On=0,Kr=null,gh(o);break}o=function(){On!==2&&On!==9||$t!==s||(On=7),Ke(s)},w.then(o,o);break e;case 3:On=7;break e;case 4:On=5;break e;case 7:xs(w)?(On=0,Kr=null,gh(o)):(On=0,Kr=null,Hc(s,o,w,7));break;case 5:var z=null;switch(mn.tag){case 26:z=mn.memoizedState;case 5:case 27:var G=mn;if(z?YT(z):G.stateNode.complete){On=0,Kr=null;var ne=G.sibling;if(ne!==null)mn=ne;else{var _e=G.return;_e!==null?(mn=_e,jl(_e)):mn=null}break t}}On=0,Kr=null,Hc(s,o,w,5);break;case 6:On=0,Kr=null,Hc(s,o,w,6);break;case 8:Xl(),Ui=6;break e;default:throw Error(n(462))}}As();break}catch(Pe){Lo(s,Pe)}while(!0);return bo=Nl=null,Y.H=m,Y.A=S,Ot=h,mn!==null?0:($t=null,hn=0,jf(),Ui)}function As(){for(;mn!==null&&!Ye();)_p(mn)}function _p(s){var o=dp(s.alternate,s,js);s.memoizedProps=s.pendingProps,o===null?jl(s):mn=o}function gh(s){var o=s,h=o.alternate;switch(o.tag){case 15:case 0:o=oh(h,o,o.pendingProps,o.type,void 0,hn);break;case 11:o=oh(h,o,o.pendingProps,o.type.render,o.ref,hn);break;case 5:bm(o);default:qs(h,o),o=mn=yu(o,js),o=dp(h,o,js)}s.memoizedProps=s.pendingProps,o===null?jl(s):mn=o}function Hc(s,o,h,m){bo=Nl=null,bm(o),Cc=null,Rc=0;var S=o.return;try{if(pr(s,S,o,h,hn)){Ui=1,rp(s,Hs(h,s.current)),mn=null;return}}catch(w){if(S!==null)throw mn=S,w;Ui=1,rp(s,Hs(h,s.current)),mn=null;return}o.flags&32768?(Cn||m===1?s=!0:Wa||(hn&536870912)!==0?s=!1:(Ta=s=!0,(m===2||m===9||m===3||m===6)&&(m=ys.current,m!==null&&m.tag===13&&(m.flags|=16384))),vh(o,s)):jl(o)}function jl(s){var o=s;do{if((o.flags&32768)!==0){vh(o,Ta);return}s=o.return;var h=uh(o.alternate,o,js);if(h!==null){mn=h;return}if(o=o.sibling,o!==null){mn=o;return}mn=o=s}while(o!==null);Ui===0&&(Ui=5)}function vh(s,o){do{var h=_a(s.alternate,s);if(h!==null){h.flags&=32767,mn=h;return}if(h=s.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!o&&(s=s.sibling,s!==null)){mn=s;return}mn=s=h}while(s!==null);Ui=6,mn=null}function ol(s,o,h,m,S,w,z,G,ne){s.cancelPendingCommit=null;do Gu();while(ei!==0);if((Ot&6)!==0)throw Error(n(327));if(o!==null){if(o===s.current)throw Error(n(177));if(w=o.lanes|o.childLanes,w|=Er,Kt(s,h,w,z,G,ne),s===$t&&(mn=$t=null,hn=0),Bu=o,Zs=s,Ea=h,Fu=w,ku=S,ph=m,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,C(Me,function(){return xp(),null})):(s.callbackNode=null,s.callbackPriority=0),m=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||m){m=Y.T,Y.T=null,S=Q.p,Q.p=2,z=Ot,Ot|=4;try{sb(s,o,h)}finally{Ot=z,Q.p=S,Y.T=m}}ei=1,cr(),ll(),Gc()}}function cr(){if(ei===1){ei=0;var s=Zs,o=Bu,h=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||h){h=Y.T,Y.T=null;var m=Q.p;Q.p=2;var S=Ot;Ot|=4;try{kl(o,s);var w=hb,z=vv(s.containerInfo),G=w.focusedElem,ne=w.selectionRange;if(z!==G&&G&&G.ownerDocument&&mi(G.ownerDocument.documentElement,G)){if(ne!==null&&im(G)){var _e=ne.start,Pe=ne.end;if(Pe===void 0&&(Pe=_e),"selectionStart"in G)G.selectionStart=_e,G.selectionEnd=Math.min(Pe,G.value.length);else{var ke=G.ownerDocument||document,Te=ke&&ke.defaultView||window;if(Te.getSelection){var De=Te.getSelection(),Rt=G.textContent.length,jt=Math.min(ne.start,Rt),xi=ne.end===void 0?jt:Math.min(ne.end,Rt);!De.extend&&jt>xi&&(z=xi,xi=jt,jt=z);var pe=vu(G,jt),oe=vu(G,xi);if(pe&&oe&&(De.rangeCount!==1||De.anchorNode!==pe.node||De.anchorOffset!==pe.offset||De.focusNode!==oe.node||De.focusOffset!==oe.offset)){var ge=ke.createRange();ge.setStart(pe.node,pe.offset),De.removeAllRanges(),jt>xi?(De.addRange(ge),De.extend(oe.node,oe.offset)):(ge.setEnd(oe.node,oe.offset),De.addRange(ge))}}}}for(ke=[],De=G;De=De.parentNode;)De.nodeType===1&&ke.push({element:De,left:De.scrollLeft,top:De.scrollTop});for(typeof G.focus=="function"&&G.focus(),G=0;G<ke.length;G++){var ze=ke[G];ze.element.scrollLeft=ze.left,ze.element.scrollTop=ze.top}}E_=!!fb,hb=fb=null}finally{Ot=S,Q.p=m,Y.T=h}}s.current=o,ei=2}}function ll(){if(ei===2){ei=0;var s=Zs,o=Bu,h=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||h){h=Y.T,Y.T=null;var m=Q.p;Q.p=2;var S=Ot;Ot|=4;try{Ri(s,o.alternate,o)}finally{Ot=S,Q.p=m,Y.T=h}}ei=3}}function Gc(){if(ei===4||ei===3){ei=0,q();var s=Zs,o=Bu,h=Ea,m=ph;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?ei=5:(ei=0,Bu=Zs=null,Oo(s,s.pendingLanes));var S=s.pendingLanes;if(S===0&&(Ki=null),ni(h),o=o.stateNode,We&&typeof We.onCommitFiberRoot=="function")try{We.onCommitFiberRoot(Ve,o,void 0,(o.current.flags&128)===128)}catch{}if(m!==null){o=Y.T,S=Q.p,Q.p=2,Y.T=null;try{for(var w=s.onRecoverableError,z=0;z<m.length;z++){var G=m[z];w(G.value,{componentStack:G.stack})}}finally{Y.T=o,Q.p=S}}(Ea&3)!==0&&Gu(),Ke(s),S=s.pendingLanes,(h&261930)!==0&&(S&42)!==0?s===Vc?Wl++:(Wl=0,Vc=s):Wl=0,St(0)}}function Oo(s,o){(s.pooledCacheLanes&=o)===0&&(o=s.pooledCache,o!=null&&(s.pooledCache=null,Mc(o)))}function Gu(){return cr(),ll(),Gc(),xp()}function xp(){if(ei!==5)return!1;var s=Zs,o=Fu;Fu=0;var h=ni(Ea),m=Y.T,S=Q.p;try{Q.p=32>h?32:h,Y.T=null,h=ku,ku=null;var w=Zs,z=Ea;if(ei=0,Bu=Zs=null,Ea=0,(Ot&6)!==0)throw Error(n(331));var G=Ot;if(Ot|=4,Ts(w.current),Qm(w,w.current,z,h),Ot=G,St(0,!1),We&&typeof We.onPostCommitFiberRoot=="function")try{We.onPostCommitFiberRoot(Ve,w)}catch{}return!0}finally{Q.p=S,Y.T=m,Oo(s,o)}}function $m(s,o,h){o=Hs(h,o),o=Gm(s.stateNode,o,2),s=Ul(s,o,2),s!==null&&(Et(s,2),Ke(s))}function kn(s,o,h){if(s.tag===3)$m(s,s,h);else for(;o!==null;){if(o.tag===3){$m(o,s,h);break}else if(o.tag===1){var m=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Ki===null||!Ki.has(m))){s=Hs(h,s),h=Wm(2),m=Ul(o,h,2),m!==null&&(u_(h,m,o,s),Et(m,2),Ke(m));break}}o=o.return}}function _h(s,o,h){var m=s.pingCache;if(m===null){m=s.pingCache=new ln;var S=new Set;m.set(o,S)}else S=m.get(o),S===void 0&&(S=new Set,m.set(o,S));S.has(h)||(Km=!0,S.add(h),s=c.bind(null,s,o,h),o.then(s,s))}function c(s,o,h){var m=s.pingCache;m!==null&&m.delete(o),s.pingedLanes|=s.suspendedLanes&h,s.warmLanes&=~h,$t===s&&(hn&h)===h&&(Ui===4||Ui===3&&(hn&62914560)===hn&&300>F()-zu?(Ot&2)===0&&ql(s,0):dh|=h,Si===hn&&(Si=0)),Ke(s)}function f(s,o){o===0&&(o=un()),s=as(s,o),s!==null&&(Et(s,o),Ke(s))}function g(s){var o=s.memoizedState,h=0;o!==null&&(h=o.retryLane),f(s,h)}function b(s,o){var h=0;switch(s.tag){case 31:case 13:var m=s.stateNode,S=s.memoizedState;S!==null&&(h=S.retryLane);break;case 19:m=s.stateNode;break;case 22:m=s.stateNode._retryCache;break;default:throw Error(n(314))}m!==null&&m.delete(o),f(s,h)}function C(s,o){return nt(s,o)}var L=null,H=null,ie=!1,Re=!1,Ge=!1,st=0;function Ke(s){s!==H&&s.next===null&&(H===null?L=H=s:H=H.next=s),Re=!0,ie||(ie=!0,me())}function St(s,o){if(!Ge&&Re){Ge=!0;do for(var h=!1,m=L;m!==null;){if(s!==0){var S=m.pendingLanes;if(S===0)var w=0;else{var z=m.suspendedLanes,G=m.pingedLanes;w=(1<<31-ft(42|s)+1)-1,w&=S&~(z&~G),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(h=!0,be(m,w))}else w=hn,w=Ue(m,m===$t?w:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(w&3)===0||$e(m,w)||(h=!0,be(m,w));m=m.next}while(h);Ge=!1}}function sn(){Ji()}function Ji(){Re=ie=!1;var s=0;st!==0&&g8()&&(s=st);for(var o=F(),h=null,m=L;m!==null;){var S=m.next,w=Wu(m,o);w===0?(m.next=null,h===null?L=S:h.next=S,S===null&&(H=h)):(h=m,(s!==0||(w&3)!==0)&&(Re=!0)),m=S}ei!==0&&ei!==5||St(s),st!==0&&(st=0)}function Wu(s,o){for(var h=s.suspendedLanes,m=s.pingedLanes,S=s.expirationTimes,w=s.pendingLanes&-62914561;0<w;){var z=31-ft(w),G=1<<z,ne=S[z];ne===-1?((G&h)===0||(G&m)!==0)&&(S[z]=Ut(G,o)):ne<=o&&(s.expiredLanes|=G),w&=~G}if(o=$t,h=hn,h=Ue(s,s===o?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),m=s.callbackNode,h===0||s===o&&(On===2||On===9)||s.cancelPendingCommit!==null)return m!==null&&m!==null&&ut(m),s.callbackNode=null,s.callbackPriority=0;if((h&3)===0||$e(s,h)){if(o=h&-h,o===s.callbackPriority)return o;switch(m!==null&&ut(m),ni(h)){case 2:case 8:h=Ne;break;case 32:h=Me;break;case 268435456:h=Qe;break;default:h=Me}return m=Zl.bind(null,s),h=nt(h,m),s.callbackPriority=o,s.callbackNode=h,o}return m!==null&&m!==null&&ut(m),s.callbackPriority=2,s.callbackNode=null,2}function Zl(s,o){if(ei!==0&&ei!==5)return s.callbackNode=null,s.callbackPriority=0,null;var h=s.callbackNode;if(Gu()&&s.callbackNode!==h)return null;var m=hn;return m=Ue(s,s===$t?m:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),m===0?null:(Sn(s,m,o),Wu(s,F()),s.callbackNode!=null&&s.callbackNode===h?Zl.bind(null,s):null)}function be(s,o){if(Gu())return null;Sn(s,o,!0)}function me(){_8(function(){(Ot&6)!==0?nt(Ae,sn):Ji()})}function we(){if(st===0){var s=Ko;s===0&&(s=ot,ot<<=1,(ot&261888)===0&&(ot=256)),st=s}return st}function tt(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Uf(""+s)}function Gt(s,o){var h=o.ownerDocument.createElement("input");return h.name=o.name,h.value=o.value,s.id&&h.setAttribute("form",s.id),o.parentNode.insertBefore(h,o),s=new FormData(s),h.parentNode.removeChild(h),s}function zi(s,o,h,m,S){if(o==="submit"&&h&&h.stateNode===S){var w=tt((S[tn]||null).action),z=m.submitter;z&&(o=(o=z[tn]||null)?tt(o.formAction):z.getAttribute("formAction"),o!==null&&(w=o,z=null));var G=new zf("action","action",null,m,S);s.push({event:G,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(st!==0){var ne=z?Gt(S,z):new FormData(S);Pm(h,{pending:!0,data:ne,method:S.method,action:w},null,ne)}}else typeof w=="function"&&(G.preventDefault(),ne=z?Gt(S,z):new FormData(S),Pm(h,{pending:!0,data:ne,method:S.method,action:w},w,ne))},currentTarget:S}]})}}for(var Xt=0;Xt<qf.length;Xt++){var In=qf[Xt],Dr=In.toLowerCase(),Gn=In[0].toUpperCase()+In.slice(1);fa(Dr,"on"+Gn)}fa(Ld,"onAnimationEnd"),fa(Xf,"onAnimationIteration"),fa(sm,"onAnimationStart"),fa("dblclick","onDoubleClick"),fa("focusin","onFocus"),fa("focusout","onBlur"),fa(xv,"onTransitionRun"),fa(K3,"onTransitionStart"),fa(yv,"onTransitionCancel"),fa(am,"onTransitionEnd"),he("onMouseEnter",["mouseout","mouseover"]),he("onMouseLeave",["mouseout","mouseover"]),he("onPointerEnter",["pointerout","pointerover"]),he("onPointerLeave",["pointerout","pointerover"]),ve("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ve("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ve("onBeforeInput",["compositionend","keypress","textInput","paste"]),ve("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ve("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ve("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Aa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ab=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Aa));function TT(s,o){o=(o&4)!==0;for(var h=0;h<s.length;h++){var m=s[h],S=m.event;m=m.listeners;e:{var w=void 0;if(o)for(var z=m.length-1;0<=z;z--){var G=m[z],ne=G.instance,_e=G.currentTarget;if(G=G.listener,ne!==w&&S.isPropagationStopped())break e;w=G,S.currentTarget=_e;try{w(S)}catch(Pe){Yf(Pe)}S.currentTarget=null,w=ne}else for(z=0;z<m.length;z++){if(G=m[z],ne=G.instance,_e=G.currentTarget,G=G.listener,ne!==w&&S.isPropagationStopped())break e;w=G,S.currentTarget=_e;try{w(S)}catch(Pe){Yf(Pe)}S.currentTarget=null,w=ne}}}}function Un(s,o){var h=o[yi];h===void 0&&(h=o[yi]=new Set);var m=s+"__bubble";h.has(m)||(ET(o,s,2,!1),h.add(m))}function ob(s,o,h){var m=0;o&&(m|=4),ET(h,s,m,o)}var g_="_reactListening"+Math.random().toString(36).slice(2);function lb(s){if(!s[g_]){s[g_]=!0,le.forEach(function(h){h!=="selectionchange"&&(ab.has(h)||ob(h,!1,s),ob(h,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[g_]||(o[g_]=!0,ob("selectionchange",!1,o))}}function ET(s,o,h,m){switch(eE(o)){case 2:var S=B8;break;case 8:S=F8;break;default:S=Mb}h=S.bind(null,o,h,s),S=void 0,!V0||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(S=!0),m?S!==void 0?s.addEventListener(o,h,{capture:!0,passive:S}):s.addEventListener(o,h,!0):S!==void 0?s.addEventListener(o,h,{passive:S}):s.addEventListener(o,h,!1)}function cb(s,o,h,m,S){var w=m;if((o&1)===0&&(o&2)===0&&m!==null)e:for(;;){if(m===null)return;var z=m.tag;if(z===3||z===4){var G=m.stateNode.containerInfo;if(G===S)break;if(z===4)for(z=m.return;z!==null;){var ne=z.tag;if((ne===3||ne===4)&&z.stateNode.containerInfo===S)return;z=z.return}for(;G!==null;){if(z=di(G),z===null)return;if(ne=z.tag,ne===5||ne===6||ne===26||ne===27){m=w=z;continue e}G=G.parentNode}}m=m.return}k0(function(){var _e=w,Pe=xd(h),ke=[];e:{var Te=ua.get(s);if(Te!==void 0){var De=zf,Rt=s;switch(s){case"keypress":if(If(h)===0)break e;case"keydown":case"keyup":De=_c;break;case"focusin":Rt="focus",De=Md;break;case"focusout":Rt="blur",De=Md;break;case"beforeblur":case"afterblur":De=Md;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":De=H0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":De=$g;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":De=sv;break;case Ld:case Xf:case sm:De=j3;break;case am:De=Q3;break;case"scroll":case"scrollend":De=Kg;break;case"wheel":De=ov;break;case"copy":case"cut":case"paste":De=tv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":De=X0;break;case"toggle":case"beforetoggle":De=cv}var jt=(o&4)!==0,xi=!jt&&(s==="scroll"||s==="scrollend"),pe=jt?Te!==null?Te+"Capture":null:Te;jt=[];for(var oe=_e,ge;oe!==null;){var ze=oe;if(ge=ze.stateNode,ze=ze.tag,ze!==5&&ze!==26&&ze!==27||ge===null||pe===null||(ze=lu(oe,pe),ze!=null&&jt.push(e1(oe,ze,ge))),xi)break;oe=oe.return}0<jt.length&&(Te=new De(Te,Rt,null,h,Pe),ke.push({event:Te,listeners:jt}))}}if((o&7)===0){e:{if(Te=s==="mouseover"||s==="pointerover",De=s==="mouseout"||s==="pointerout",Te&&h!==_d&&(Rt=h.relatedTarget||h.fromElement)&&(di(Rt)||Rt[fn]))break e;if((De||Te)&&(Te=Pe.window===Pe?Pe:(Te=Pe.ownerDocument)?Te.defaultView||Te.parentWindow:window,De?(Rt=h.relatedTarget||h.toElement,De=_e,Rt=Rt?di(Rt):null,Rt!==null&&(xi=a(Rt),jt=Rt.tag,Rt!==xi||jt!==5&&jt!==27&&jt!==6)&&(Rt=null)):(De=null,Rt=_e),De!==Rt)){if(jt=H0,ze="onMouseLeave",pe="onMouseEnter",oe="mouse",(s==="pointerout"||s==="pointerover")&&(jt=X0,ze="onPointerLeave",pe="onPointerEnter",oe="pointer"),xi=De==null?Te:ks(De),ge=Rt==null?Te:ks(Rt),Te=new jt(ze,oe+"leave",De,h,Pe),Te.target=xi,Te.relatedTarget=ge,ze=null,di(Pe)===_e&&(jt=new jt(pe,oe+"enter",Rt,h,Pe),jt.target=ge,jt.relatedTarget=xi,ze=jt),xi=ze,De&&Rt)t:{for(jt=f8,pe=De,oe=Rt,ge=0,ze=pe;ze;ze=jt(ze))ge++;ze=0;for(var kt=oe;kt;kt=jt(kt))ze++;for(;0<ge-ze;)pe=jt(pe),ge--;for(;0<ze-ge;)oe=jt(oe),ze--;for(;ge--;){if(pe===oe||oe!==null&&pe===oe.alternate){jt=pe;break t}pe=jt(pe),oe=jt(oe)}jt=null}else jt=null;De!==null&&AT(ke,Te,De,jt,!1),Rt!==null&&xi!==null&&AT(ke,xi,Rt,jt,!0)}}e:{if(Te=_e?ks(_e):window,De=Te.nodeName&&Te.nodeName.toLowerCase(),De==="select"||De==="input"&&Te.type==="file")var jn=J0;else if(K0(Te))if(ho)jn=gv;else{jn=tm;var Lt=pv}else De=Te.nodeName,!De||De.toLowerCase()!=="input"||Te.type!=="checkbox"&&Te.type!=="radio"?_e&&la(_e.elementType)&&(jn=J0):jn=mv;if(jn&&(jn=jn(s,_e))){Dd(ke,jn,h,Pe);break e}Lt&&Lt(s,Te,_e),s==="focusout"&&_e&&Te.type==="number"&&_e.memoizedProps.value!=null&&bi(Te,"number",Te.value)}switch(Lt=_e?ks(_e):window,s){case"focusin":(K0(Lt)||Lt.contentEditable==="true")&&(po=Lt,mo=_e,_u=null);break;case"focusout":_u=mo=po=null;break;case"mousedown":Nd=!0;break;case"contextmenu":case"mouseup":case"dragend":Nd=!1,xu(ke,h,Pe);break;case"selectionchange":if(_v)break;case"keydown":case"keyup":xu(ke,h,Pe)}var _n;if(xc)e:{switch(s){case"compositionstart":var zn="onCompositionStart";break e;case"compositionend":zn="onCompositionEnd";break e;case"compositionupdate":zn="onCompositionUpdate";break e}zn=void 0}else yc?Rd(s,h)&&(zn="onCompositionEnd"):s==="keydown"&&h.keyCode===229&&(zn="onCompositionStart");zn&&(Y0&&h.locale!=="ko"&&(yc||zn!=="onCompositionStart"?zn==="onCompositionEnd"&&yc&&(_n=Pf()):(Vs=Pe,bd="value"in Vs?Vs.value:Vs.textContent,yc=!0)),Lt=v_(_e,zn),0<Lt.length&&(zn=new Td(zn,s,null,h,Pe),ke.push({event:zn,listeners:Lt}),_n?zn.data=_n:(_n=j0(h),_n!==null&&(zn.data=_n)))),(_n=Cd?hv(s,h):Z0(s,h))&&(zn=v_(_e,"onBeforeInput"),0<zn.length&&(Lt=new Td("onBeforeInput","beforeinput",null,h,Pe),ke.push({event:Lt,listeners:zn}),Lt.data=_n)),zi(ke,s,_e,h,Pe)}TT(ke,o)})}function e1(s,o,h){return{instance:s,listener:o,currentTarget:h}}function v_(s,o){for(var h=o+"Capture",m=[];s!==null;){var S=s,w=S.stateNode;if(S=S.tag,S!==5&&S!==26&&S!==27||w===null||(S=lu(s,h),S!=null&&m.unshift(e1(s,S,w)),S=lu(s,o),S!=null&&m.push(e1(s,S,w))),s.tag===3)return m;s=s.return}return[]}function f8(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function AT(s,o,h,m,S){for(var w=o._reactName,z=[];h!==null&&h!==m;){var G=h,ne=G.alternate,_e=G.stateNode;if(G=G.tag,ne!==null&&ne===m)break;G!==5&&G!==26&&G!==27||_e===null||(ne=_e,S?(_e=lu(h,w),_e!=null&&z.unshift(e1(h,_e,ne))):S||(_e=lu(h,w),_e!=null&&z.push(e1(h,_e,ne)))),h=h.return}z.length!==0&&s.push({event:o,listeners:z})}var h8=/\r\n?/g,d8=/\u0000|\uFFFD/g;function wT(s){return(typeof s=="string"?s:""+s).replace(h8,`
`).replace(d8,"")}function CT(s,o){return o=wT(o),wT(s)===o}function _i(s,o,h,m,S,w){switch(h){case"children":typeof m=="string"?o==="body"||o==="textarea"&&m===""||sr(s,m):(typeof m=="number"||typeof m=="bigint")&&o!=="body"&&sr(s,""+m);break;case"className":zt(s,"class",m);break;case"tabIndex":zt(s,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":zt(s,h,m);break;case"style":mc(s,m,w);break;case"data":if(o!=="object"){zt(s,"data",m);break}case"src":case"href":if(m===""&&(o!=="a"||h!=="href")){s.removeAttribute(h);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){s.removeAttribute(h);break}m=Uf(""+m),s.setAttribute(h,m);break;case"action":case"formAction":if(typeof m=="function"){s.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(h==="formAction"?(o!=="input"&&_i(s,o,"name",S.name,S,null),_i(s,o,"formEncType",S.formEncType,S,null),_i(s,o,"formMethod",S.formMethod,S,null),_i(s,o,"formTarget",S.formTarget,S,null)):(_i(s,o,"encType",S.encType,S,null),_i(s,o,"method",S.method,S,null),_i(s,o,"target",S.target,S,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){s.removeAttribute(h);break}m=Uf(""+m),s.setAttribute(h,m);break;case"onClick":m!=null&&(s.onclick=Xo);break;case"onScroll":m!=null&&Un("scroll",s);break;case"onScrollEnd":m!=null&&Un("scrollend",s);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(n(61));if(h=m.__html,h!=null){if(S.children!=null)throw Error(n(60));s.innerHTML=h}}break;case"multiple":s.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":s.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){s.removeAttribute("xlink:href");break}h=Uf(""+m),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?s.setAttribute(h,""+m):s.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?s.setAttribute(h,""):s.removeAttribute(h);break;case"capture":case"download":m===!0?s.setAttribute(h,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?s.setAttribute(h,m):s.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?s.setAttribute(h,m):s.removeAttribute(h);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?s.removeAttribute(h):s.setAttribute(h,m);break;case"popover":Un("beforetoggle",s),Un("toggle",s),At(s,"popover",m);break;case"xlinkActuate":Ct(s,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Ct(s,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Ct(s,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Ct(s,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Ct(s,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Ct(s,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Ct(s,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Ct(s,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Ct(s,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":At(s,"is",m);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=Zg.get(h)||h,At(s,h,m))}}function ub(s,o,h,m,S,w){switch(h){case"style":mc(s,m,w);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(n(61));if(h=m.__html,h!=null){if(S.children!=null)throw Error(n(60));s.innerHTML=h}}break;case"children":typeof m=="string"?sr(s,m):(typeof m=="number"||typeof m=="bigint")&&sr(s,""+m);break;case"onScroll":m!=null&&Un("scroll",s);break;case"onScrollEnd":m!=null&&Un("scrollend",s);break;case"onClick":m!=null&&(s.onclick=Xo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ee.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(S=h.endsWith("Capture"),o=h.slice(2,S?h.length-7:void 0),w=s[tn]||null,w=w!=null?w[h]:null,typeof w=="function"&&s.removeEventListener(o,w,S),typeof m=="function")){typeof w!="function"&&w!==null&&(h in s?s[h]=null:s.hasAttribute(h)&&s.removeAttribute(h)),s.addEventListener(o,m,S);break e}h in s?s[h]=m:m===!0?s.setAttribute(h,""):At(s,h,m)}}}function ds(s,o,h){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Un("error",s),Un("load",s);var m=!1,S=!1,w;for(w in h)if(h.hasOwnProperty(w)){var z=h[w];if(z!=null)switch(w){case"src":m=!0;break;case"srcSet":S=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:_i(s,o,w,z,h,null)}}S&&_i(s,o,"srcSet",h.srcSet,h,null),m&&_i(s,o,"src",h.src,h,null);return;case"input":Un("invalid",s);var G=w=z=S=null,ne=null,_e=null;for(m in h)if(h.hasOwnProperty(m)){var Pe=h[m];if(Pe!=null)switch(m){case"name":S=Pe;break;case"type":z=Pe;break;case"checked":ne=Pe;break;case"defaultChecked":_e=Pe;break;case"value":w=Pe;break;case"defaultValue":G=Pe;break;case"children":case"dangerouslySetInnerHTML":if(Pe!=null)throw Error(n(137,o));break;default:_i(s,o,m,Pe,h,null)}}ka(s,w,G,ne,_e,z,S,!1);return;case"select":Un("invalid",s),m=z=w=null;for(S in h)if(h.hasOwnProperty(S)&&(G=h[S],G!=null))switch(S){case"value":w=G;break;case"defaultValue":z=G;break;case"multiple":m=G;default:_i(s,o,S,G,h,null)}o=w,h=z,s.multiple=!!m,o!=null?is(s,!!m,o,!1):h!=null&&is(s,!!m,h,!0);return;case"textarea":Un("invalid",s),w=S=m=null;for(z in h)if(h.hasOwnProperty(z)&&(G=h[z],G!=null))switch(z){case"value":m=G;break;case"defaultValue":S=G;break;case"children":w=G;break;case"dangerouslySetInnerHTML":if(G!=null)throw Error(n(91));break;default:_i(s,o,z,G,h,null)}hr(s,m,S,w);return;case"option":for(ne in h)h.hasOwnProperty(ne)&&(m=h[ne],m!=null)&&(ne==="selected"?s.selected=m&&typeof m!="function"&&typeof m!="symbol":_i(s,o,ne,m,h,null));return;case"dialog":Un("beforetoggle",s),Un("toggle",s),Un("cancel",s),Un("close",s);break;case"iframe":case"object":Un("load",s);break;case"video":case"audio":for(m=0;m<Aa.length;m++)Un(Aa[m],s);break;case"image":Un("error",s),Un("load",s);break;case"details":Un("toggle",s);break;case"embed":case"source":case"link":Un("error",s),Un("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(_e in h)if(h.hasOwnProperty(_e)&&(m=h[_e],m!=null))switch(_e){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:_i(s,o,_e,m,h,null)}return;default:if(la(o)){for(Pe in h)h.hasOwnProperty(Pe)&&(m=h[Pe],m!==void 0&&ub(s,o,Pe,m,h,void 0));return}}for(G in h)h.hasOwnProperty(G)&&(m=h[G],m!=null&&_i(s,o,G,m,h,null))}function p8(s,o,h,m){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var S=null,w=null,z=null,G=null,ne=null,_e=null,Pe=null;for(De in h){var ke=h[De];if(h.hasOwnProperty(De)&&ke!=null)switch(De){case"checked":break;case"value":break;case"defaultValue":ne=ke;default:m.hasOwnProperty(De)||_i(s,o,De,null,m,ke)}}for(var Te in m){var De=m[Te];if(ke=h[Te],m.hasOwnProperty(Te)&&(De!=null||ke!=null))switch(Te){case"type":w=De;break;case"name":S=De;break;case"checked":_e=De;break;case"defaultChecked":Pe=De;break;case"value":z=De;break;case"defaultValue":G=De;break;case"children":case"dangerouslySetInnerHTML":if(De!=null)throw Error(n(137,o));break;default:De!==ke&&_i(s,o,Te,De,m,ke)}}rr(s,z,G,ne,_e,Pe,w,S);return;case"select":De=z=G=Te=null;for(w in h)if(ne=h[w],h.hasOwnProperty(w)&&ne!=null)switch(w){case"value":break;case"multiple":De=ne;default:m.hasOwnProperty(w)||_i(s,o,w,null,m,ne)}for(S in m)if(w=m[S],ne=h[S],m.hasOwnProperty(S)&&(w!=null||ne!=null))switch(S){case"value":Te=w;break;case"defaultValue":G=w;break;case"multiple":z=w;default:w!==ne&&_i(s,o,S,w,m,ne)}o=G,h=z,m=De,Te!=null?is(s,!!h,Te,!1):!!m!=!!h&&(o!=null?is(s,!!h,o,!0):is(s,!!h,h?[]:"",!1));return;case"textarea":De=Te=null;for(G in h)if(S=h[G],h.hasOwnProperty(G)&&S!=null&&!m.hasOwnProperty(G))switch(G){case"value":break;case"children":break;default:_i(s,o,G,null,m,S)}for(z in m)if(S=m[z],w=h[z],m.hasOwnProperty(z)&&(S!=null||w!=null))switch(z){case"value":Te=S;break;case"defaultValue":De=S;break;case"children":break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(n(91));break;default:S!==w&&_i(s,o,z,S,m,w)}Wn(s,Te,De);return;case"option":for(var Rt in h)Te=h[Rt],h.hasOwnProperty(Rt)&&Te!=null&&!m.hasOwnProperty(Rt)&&(Rt==="selected"?s.selected=!1:_i(s,o,Rt,null,m,Te));for(ne in m)Te=m[ne],De=h[ne],m.hasOwnProperty(ne)&&Te!==De&&(Te!=null||De!=null)&&(ne==="selected"?s.selected=Te&&typeof Te!="function"&&typeof Te!="symbol":_i(s,o,ne,Te,m,De));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var jt in h)Te=h[jt],h.hasOwnProperty(jt)&&Te!=null&&!m.hasOwnProperty(jt)&&_i(s,o,jt,null,m,Te);for(_e in m)if(Te=m[_e],De=h[_e],m.hasOwnProperty(_e)&&Te!==De&&(Te!=null||De!=null))switch(_e){case"children":case"dangerouslySetInnerHTML":if(Te!=null)throw Error(n(137,o));break;default:_i(s,o,_e,Te,m,De)}return;default:if(la(o)){for(var xi in h)Te=h[xi],h.hasOwnProperty(xi)&&Te!==void 0&&!m.hasOwnProperty(xi)&&ub(s,o,xi,void 0,m,Te);for(Pe in m)Te=m[Pe],De=h[Pe],!m.hasOwnProperty(Pe)||Te===De||Te===void 0&&De===void 0||ub(s,o,Pe,Te,m,De);return}}for(var pe in h)Te=h[pe],h.hasOwnProperty(pe)&&Te!=null&&!m.hasOwnProperty(pe)&&_i(s,o,pe,null,m,Te);for(ke in m)Te=m[ke],De=h[ke],!m.hasOwnProperty(ke)||Te===De||Te==null&&De==null||_i(s,o,ke,Te,m,De)}function RT(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function m8(){if(typeof performance.getEntriesByType=="function"){for(var s=0,o=0,h=performance.getEntriesByType("resource"),m=0;m<h.length;m++){var S=h[m],w=S.transferSize,z=S.initiatorType,G=S.duration;if(w&&G&&RT(z)){for(z=0,G=S.responseEnd,m+=1;m<h.length;m++){var ne=h[m],_e=ne.startTime;if(_e>G)break;var Pe=ne.transferSize,ke=ne.initiatorType;Pe&&RT(ke)&&(ne=ne.responseEnd,z+=Pe*(ne<G?1:(G-_e)/(ne-_e)))}if(--m,o+=8*(w+z)/(S.duration/1e3),s++,10<s)break}}if(0<s)return o/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var fb=null,hb=null;function __(s){return s.nodeType===9?s:s.ownerDocument}function DT(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function NT(s,o){if(s===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&o==="foreignObject"?0:s}function db(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var pb=null;function g8(){var s=window.event;return s&&s.type==="popstate"?s===pb?!1:(pb=s,!0):(pb=null,!1)}var LT=typeof setTimeout=="function"?setTimeout:void 0,v8=typeof clearTimeout=="function"?clearTimeout:void 0,OT=typeof Promise=="function"?Promise:void 0,_8=typeof queueMicrotask=="function"?queueMicrotask:typeof OT<"u"?function(s){return OT.resolve(null).then(s).catch(x8)}:LT;function x8(s){setTimeout(function(){throw s})}function Xu(s){return s==="head"}function UT(s,o){var h=o,m=0;do{var S=h.nextSibling;if(s.removeChild(h),S&&S.nodeType===8)if(h=S.data,h==="/$"||h==="/&"){if(m===0){s.removeChild(S),Mp(o);return}m--}else if(h==="$"||h==="$?"||h==="$~"||h==="$!"||h==="&")m++;else if(h==="html")t1(s.ownerDocument.documentElement);else if(h==="head"){h=s.ownerDocument.head,t1(h);for(var w=h.firstChild;w;){var z=w.nextSibling,G=w.nodeName;w[Jn]||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&w.rel.toLowerCase()==="stylesheet"||h.removeChild(w),w=z}}else h==="body"&&t1(s.ownerDocument.body);h=S}while(h);Mp(o)}function PT(s,o){var h=s;s=0;do{var m=h.nextSibling;if(h.nodeType===1?o?(h._stashedDisplay=h.style.display,h.style.display="none"):(h.style.display=h._stashedDisplay||"",h.getAttribute("style")===""&&h.removeAttribute("style")):h.nodeType===3&&(o?(h._stashedText=h.nodeValue,h.nodeValue=""):h.nodeValue=h._stashedText||""),m&&m.nodeType===8)if(h=m.data,h==="/$"){if(s===0)break;s--}else h!=="$"&&h!=="$?"&&h!=="$~"&&h!=="$!"||s++;h=m}while(h)}function mb(s){var o=s.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var h=o;switch(o=o.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":mb(h),ui(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}s.removeChild(h)}}function y8(s,o,h,m){for(;s.nodeType===1;){var S=h;if(s.nodeName.toLowerCase()!==o.toLowerCase()){if(!m&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(m){if(!s[Jn])switch(o){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(w=s.getAttribute("rel"),w==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(w!==S.rel||s.getAttribute("href")!==(S.href==null||S.href===""?null:S.href)||s.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin)||s.getAttribute("title")!==(S.title==null?null:S.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(w=s.getAttribute("src"),(w!==(S.src==null?null:S.src)||s.getAttribute("type")!==(S.type==null?null:S.type)||s.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin))&&w&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(o==="input"&&s.type==="hidden"){var w=S.name==null?null:""+S.name;if(S.type==="hidden"&&s.getAttribute("name")===w)return s}else return s;if(s=Uo(s.nextSibling),s===null)break}return null}function b8(s,o,h){if(o==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!h||(s=Uo(s.nextSibling),s===null))return null;return s}function IT(s,o){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!o||(s=Uo(s.nextSibling),s===null))return null;return s}function gb(s){return s.data==="$?"||s.data==="$~"}function vb(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function S8(s,o){var h=s.ownerDocument;if(s.data==="$~")s._reactRetry=o;else if(s.data!=="$?"||h.readyState!=="loading")o();else{var m=function(){o(),h.removeEventListener("DOMContentLoaded",m)};h.addEventListener("DOMContentLoaded",m),s._reactRetry=m}}function Uo(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return s}var _b=null;function zT(s){s=s.nextSibling;for(var o=0;s;){if(s.nodeType===8){var h=s.data;if(h==="/$"||h==="/&"){if(o===0)return Uo(s.nextSibling);o--}else h!=="$"&&h!=="$!"&&h!=="$?"&&h!=="$~"&&h!=="&"||o++}s=s.nextSibling}return null}function BT(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var h=s.data;if(h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"){if(o===0)return s;o--}else h!=="/$"&&h!=="/&"||o++}s=s.previousSibling}return null}function FT(s,o,h){switch(o=__(h),s){case"html":if(s=o.documentElement,!s)throw Error(n(452));return s;case"head":if(s=o.head,!s)throw Error(n(453));return s;case"body":if(s=o.body,!s)throw Error(n(454));return s;default:throw Error(n(451))}}function t1(s){for(var o=s.attributes;o.length;)s.removeAttributeNode(o[0]);ui(s)}var Po=new Map,kT=new Set;function x_(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Wc=Q.d;Q.d={f:M8,r:T8,D:E8,C:A8,L:w8,m:C8,X:D8,S:R8,M:N8};function M8(){var s=Wc.f(),o=Xa();return s||o}function T8(s){var o=Ur(s);o!==null&&o.tag===5&&o.type==="form"?t_(o):Wc.r(s)}var yp=typeof document>"u"?null:document;function VT(s,o,h){var m=yp;if(m&&typeof o=="string"&&o){var S=Yt(o);S='link[rel="'+s+'"][href="'+S+'"]',typeof h=="string"&&(S+='[crossorigin="'+h+'"]'),kT.has(S)||(kT.add(S),s={rel:s,crossOrigin:h,href:o},m.querySelector(S)===null&&(o=m.createElement("link"),ds(o,"link",s),V(o),m.head.appendChild(o)))}}function E8(s){Wc.D(s),VT("dns-prefetch",s,null)}function A8(s,o){Wc.C(s,o),VT("preconnect",s,o)}function w8(s,o,h){Wc.L(s,o,h);var m=yp;if(m&&s&&o){var S='link[rel="preload"][as="'+Yt(o)+'"]';o==="image"&&h&&h.imageSrcSet?(S+='[imagesrcset="'+Yt(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(S+='[imagesizes="'+Yt(h.imageSizes)+'"]')):S+='[href="'+Yt(s)+'"]';var w=S;switch(o){case"style":w=bp(s);break;case"script":w=Sp(s)}Po.has(w)||(s=_({rel:"preload",href:o==="image"&&h&&h.imageSrcSet?void 0:s,as:o},h),Po.set(w,s),m.querySelector(S)!==null||o==="style"&&m.querySelector(n1(w))||o==="script"&&m.querySelector(i1(w))||(o=m.createElement("link"),ds(o,"link",s),V(o),m.head.appendChild(o)))}}function C8(s,o){Wc.m(s,o);var h=yp;if(h&&s){var m=o&&typeof o.as=="string"?o.as:"script",S='link[rel="modulepreload"][as="'+Yt(m)+'"][href="'+Yt(s)+'"]',w=S;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=Sp(s)}if(!Po.has(w)&&(s=_({rel:"modulepreload",href:s},o),Po.set(w,s),h.querySelector(S)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(i1(w)))return}m=h.createElement("link"),ds(m,"link",s),V(m),h.head.appendChild(m)}}}function R8(s,o,h){Wc.S(s,o,h);var m=yp;if(m&&s){var S=fi(m).hoistableStyles,w=bp(s);o=o||"default";var z=S.get(w);if(!z){var G={loading:0,preload:null};if(z=m.querySelector(n1(w)))G.loading=5;else{s=_({rel:"stylesheet",href:s,"data-precedence":o},h),(h=Po.get(w))&&xb(s,h);var ne=z=m.createElement("link");V(ne),ds(ne,"link",s),ne._p=new Promise(function(_e,Pe){ne.onload=_e,ne.onerror=Pe}),ne.addEventListener("load",function(){G.loading|=1}),ne.addEventListener("error",function(){G.loading|=2}),G.loading|=4,y_(z,o,m)}z={type:"stylesheet",instance:z,count:1,state:G},S.set(w,z)}}}function D8(s,o){Wc.X(s,o);var h=yp;if(h&&s){var m=fi(h).hoistableScripts,S=Sp(s),w=m.get(S);w||(w=h.querySelector(i1(S)),w||(s=_({src:s,async:!0},o),(o=Po.get(S))&&yb(s,o),w=h.createElement("script"),V(w),ds(w,"link",s),h.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},m.set(S,w))}}function N8(s,o){Wc.M(s,o);var h=yp;if(h&&s){var m=fi(h).hoistableScripts,S=Sp(s),w=m.get(S);w||(w=h.querySelector(i1(S)),w||(s=_({src:s,async:!0,type:"module"},o),(o=Po.get(S))&&yb(s,o),w=h.createElement("script"),V(w),ds(w,"link",s),h.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},m.set(S,w))}}function HT(s,o,h,m){var S=(S=de.current)?x_(S):null;if(!S)throw Error(n(446));switch(s){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(o=bp(h.href),h=fi(S).hoistableStyles,m=h.get(o),m||(m={type:"style",instance:null,count:0,state:null},h.set(o,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){s=bp(h.href);var w=fi(S).hoistableStyles,z=w.get(s);if(z||(S=S.ownerDocument||S,z={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(s,z),(w=S.querySelector(n1(s)))&&!w._p&&(z.instance=w,z.state.loading=5),Po.has(s)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},Po.set(s,h),w||L8(S,s,h,z.state))),o&&m===null)throw Error(n(528,""));return z}if(o&&m!==null)throw Error(n(529,""));return null;case"script":return o=h.async,h=h.src,typeof h=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Sp(h),h=fi(S).hoistableScripts,m=h.get(o),m||(m={type:"script",instance:null,count:0,state:null},h.set(o,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,s))}}function bp(s){return'href="'+Yt(s)+'"'}function n1(s){return'link[rel="stylesheet"]['+s+"]"}function GT(s){return _({},s,{"data-precedence":s.precedence,precedence:null})}function L8(s,o,h,m){s.querySelector('link[rel="preload"][as="style"]['+o+"]")?m.loading=1:(o=s.createElement("link"),m.preload=o,o.addEventListener("load",function(){return m.loading|=1}),o.addEventListener("error",function(){return m.loading|=2}),ds(o,"link",h),V(o),s.head.appendChild(o))}function Sp(s){return'[src="'+Yt(s)+'"]'}function i1(s){return"script[async]"+s}function WT(s,o,h){if(o.count++,o.instance===null)switch(o.type){case"style":var m=s.querySelector('style[data-href~="'+Yt(h.href)+'"]');if(m)return o.instance=m,V(m),m;var S=_({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return m=(s.ownerDocument||s).createElement("style"),V(m),ds(m,"style",S),y_(m,h.precedence,s),o.instance=m;case"stylesheet":S=bp(h.href);var w=s.querySelector(n1(S));if(w)return o.state.loading|=4,o.instance=w,V(w),w;m=GT(h),(S=Po.get(S))&&xb(m,S),w=(s.ownerDocument||s).createElement("link"),V(w);var z=w;return z._p=new Promise(function(G,ne){z.onload=G,z.onerror=ne}),ds(w,"link",m),o.state.loading|=4,y_(w,h.precedence,s),o.instance=w;case"script":return w=Sp(h.src),(S=s.querySelector(i1(w)))?(o.instance=S,V(S),S):(m=h,(S=Po.get(w))&&(m=_({},h),yb(m,S)),s=s.ownerDocument||s,S=s.createElement("script"),V(S),ds(S,"link",m),s.head.appendChild(S),o.instance=S);case"void":return null;default:throw Error(n(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(m=o.instance,o.state.loading|=4,y_(m,h.precedence,s));return o.instance}function y_(s,o,h){for(var m=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),S=m.length?m[m.length-1]:null,w=S,z=0;z<m.length;z++){var G=m[z];if(G.dataset.precedence===o)w=G;else if(w!==S)break}w?w.parentNode.insertBefore(s,w.nextSibling):(o=h.nodeType===9?h.head:h,o.insertBefore(s,o.firstChild))}function xb(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.title==null&&(s.title=o.title)}function yb(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.integrity==null&&(s.integrity=o.integrity)}var b_=null;function XT(s,o,h){if(b_===null){var m=new Map,S=b_=new Map;S.set(h,m)}else S=b_,m=S.get(h),m||(m=new Map,S.set(h,m));if(m.has(s))return m;for(m.set(s,null),h=h.getElementsByTagName(s),S=0;S<h.length;S++){var w=h[S];if(!(w[Jn]||w[Jt]||s==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var z=w.getAttribute(o)||"";z=s+z;var G=m.get(z);G?G.push(w):m.set(z,[w])}}return m}function qT(s,o,h){s=s.ownerDocument||s,s.head.insertBefore(h,o==="title"?s.querySelector("head > title"):null)}function O8(s,o,h){if(h===1||o.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;return o.rel==="stylesheet"?(s=o.disabled,typeof o.precedence=="string"&&s==null):!0;case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function YT(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function U8(s,o,h,m){if(h.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var S=bp(m.href),w=o.querySelector(n1(S));if(w){o=w._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(s.count++,s=S_.bind(s),o.then(s,s)),h.state.loading|=4,h.instance=w,V(w);return}w=o.ownerDocument||o,m=GT(m),(S=Po.get(S))&&xb(m,S),w=w.createElement("link"),V(w);var z=w;z._p=new Promise(function(G,ne){z.onload=G,z.onerror=ne}),ds(w,"link",m),h.instance=w}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(h,o),(o=h.state.preload)&&(h.state.loading&3)===0&&(s.count++,h=S_.bind(s),o.addEventListener("load",h),o.addEventListener("error",h))}}var bb=0;function P8(s,o){return s.stylesheets&&s.count===0&&T_(s,s.stylesheets),0<s.count||0<s.imgCount?function(h){var m=setTimeout(function(){if(s.stylesheets&&T_(s,s.stylesheets),s.unsuspend){var w=s.unsuspend;s.unsuspend=null,w()}},6e4+o);0<s.imgBytes&&bb===0&&(bb=62500*m8());var S=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&T_(s,s.stylesheets),s.unsuspend)){var w=s.unsuspend;s.unsuspend=null,w()}},(s.imgBytes>bb?50:800)+o);return s.unsuspend=h,function(){s.unsuspend=null,clearTimeout(m),clearTimeout(S)}}:null}function S_(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)T_(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var M_=null;function T_(s,o){s.stylesheets=null,s.unsuspend!==null&&(s.count++,M_=new Map,o.forEach(I8,s),M_=null,S_.call(s))}function I8(s,o){if(!(o.state.loading&4)){var h=M_.get(s);if(h)var m=h.get(null);else{h=new Map,M_.set(s,h);for(var S=s.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<S.length;w++){var z=S[w];(z.nodeName==="LINK"||z.getAttribute("media")!=="not all")&&(h.set(z.dataset.precedence,z),m=z)}m&&h.set(null,m)}S=o.instance,z=S.getAttribute("data-precedence"),w=h.get(z)||m,w===m&&h.set(null,S),h.set(z,S),this.count++,m=S_.bind(this),S.addEventListener("load",m),S.addEventListener("error",m),w?w.parentNode.insertBefore(S,w.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(S,s.firstChild)),o.state.loading|=4}}var r1={$$typeof:D,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function z8(s,o,h,m,S,w,z,G,ne){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pt(0),this.hiddenUpdates=pt(null),this.identifierPrefix=m,this.onUncaughtError=S,this.onCaughtError=w,this.onRecoverableError=z,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ne,this.incompleteTransitions=new Map}function jT(s,o,h,m,S,w,z,G,ne,_e,Pe,ke){return s=new z8(s,o,h,z,ne,_e,Pe,ke,G),o=1,w===!0&&(o|=24),w=Ni(3,null,null,o),s.current=w,w.stateNode=s,o=lm(),o.refCount++,s.pooledCache=o,o.refCount++,w.memoizedState={element:m,isDehydrated:h,cache:o},eh(w),s}function ZT(s){return s?(s=Al,s):Al}function QT(s,o,h,m,S,w){S=ZT(S),m.context===null?m.context=S:m.pendingContext=S,m=$o(o),m.payload={element:h},w=w===void 0?null:w,w!==null&&(m.callback=w),h=Ul(s,m,o),h!==null&&(gn(h,s,o),Pl(h,s,o))}function KT(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var h=s.retryLane;s.retryLane=h!==0&&h<o?h:o}}function Sb(s,o){KT(s,o),(s=s.alternate)&&KT(s,o)}function JT(s){if(s.tag===13||s.tag===31){var o=as(s,67108864);o!==null&&gn(o,s,67108864),Sb(s,67108864)}}function $T(s){if(s.tag===13||s.tag===31){var o=Qs();o=Ht(o);var h=as(s,o);h!==null&&gn(h,s,o),Sb(s,o)}}var E_=!0;function B8(s,o,h,m){var S=Y.T;Y.T=null;var w=Q.p;try{Q.p=2,Mb(s,o,h,m)}finally{Q.p=w,Y.T=S}}function F8(s,o,h,m){var S=Y.T;Y.T=null;var w=Q.p;try{Q.p=8,Mb(s,o,h,m)}finally{Q.p=w,Y.T=S}}function Mb(s,o,h,m){if(E_){var S=Tb(m);if(S===null)cb(s,o,m,A_,h),tE(s,m);else if(V8(S,s,o,h,m))m.stopPropagation();else if(tE(s,m),o&4&&-1<k8.indexOf(s)){for(;S!==null;){var w=Ur(S);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var z=Fe(w.pendingLanes);if(z!==0){var G=w;for(G.pendingLanes|=2,G.entangledLanes|=2;z;){var ne=1<<31-ft(z);G.entanglements[1]|=ne,z&=~ne}Ke(w),(Ot&6)===0&&(Qi=F()+500,St(0))}}break;case 31:case 13:G=as(w,2),G!==null&&gn(G,w,2),Xa(),Sb(w,2)}if(w=Tb(m),w===null&&cb(s,o,m,A_,h),w===S)break;S=w}S!==null&&m.stopPropagation()}else cb(s,o,m,null,h)}}function Tb(s){return s=xd(s),Eb(s)}var A_=null;function Eb(s){if(A_=null,s=di(s),s!==null){var o=a(s);if(o===null)s=null;else{var h=o.tag;if(h===13){if(s=l(o),s!==null)return s;s=null}else if(h===31){if(s=u(o),s!==null)return s;s=null}else if(h===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null)}}return A_=s,null}function eE(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ae()){case Ae:return 2;case Ne:return 8;case Me:case at:return 32;case Qe:return 268435456;default:return 32}default:return 32}}var Ab=!1,qu=null,Yu=null,ju=null,s1=new Map,a1=new Map,Zu=[],k8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function tE(s,o){switch(s){case"focusin":case"focusout":qu=null;break;case"dragenter":case"dragleave":Yu=null;break;case"mouseover":case"mouseout":ju=null;break;case"pointerover":case"pointerout":s1.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":a1.delete(o.pointerId)}}function o1(s,o,h,m,S,w){return s===null||s.nativeEvent!==w?(s={blockedOn:o,domEventName:h,eventSystemFlags:m,nativeEvent:w,targetContainers:[S]},o!==null&&(o=Ur(o),o!==null&&JT(o)),s):(s.eventSystemFlags|=m,o=s.targetContainers,S!==null&&o.indexOf(S)===-1&&o.push(S),s)}function V8(s,o,h,m,S){switch(o){case"focusin":return qu=o1(qu,s,o,h,m,S),!0;case"dragenter":return Yu=o1(Yu,s,o,h,m,S),!0;case"mouseover":return ju=o1(ju,s,o,h,m,S),!0;case"pointerover":var w=S.pointerId;return s1.set(w,o1(s1.get(w)||null,s,o,h,m,S)),!0;case"gotpointercapture":return w=S.pointerId,a1.set(w,o1(a1.get(w)||null,s,o,h,m,S)),!0}return!1}function nE(s){var o=di(s.target);if(o!==null){var h=a(o);if(h!==null){if(o=h.tag,o===13){if(o=l(h),o!==null){s.blockedOn=o,yn(s.priority,function(){$T(h)});return}}else if(o===31){if(o=u(h),o!==null){s.blockedOn=o,yn(s.priority,function(){$T(h)});return}}else if(o===3&&h.stateNode.current.memoizedState.isDehydrated){s.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}s.blockedOn=null}function w_(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var h=Tb(s.nativeEvent);if(h===null){h=s.nativeEvent;var m=new h.constructor(h.type,h);_d=m,h.target.dispatchEvent(m),_d=null}else return o=Ur(h),o!==null&&JT(o),s.blockedOn=h,!1;o.shift()}return!0}function iE(s,o,h){w_(s)&&h.delete(o)}function H8(){Ab=!1,qu!==null&&w_(qu)&&(qu=null),Yu!==null&&w_(Yu)&&(Yu=null),ju!==null&&w_(ju)&&(ju=null),s1.forEach(iE),a1.forEach(iE)}function C_(s,o){s.blockedOn===o&&(s.blockedOn=null,Ab||(Ab=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,H8)))}var R_=null;function rE(s){R_!==s&&(R_=s,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){R_===s&&(R_=null);for(var o=0;o<s.length;o+=3){var h=s[o],m=s[o+1],S=s[o+2];if(typeof m!="function"){if(Eb(m||h)===null)continue;break}var w=Ur(h);w!==null&&(s.splice(o,3),o-=3,Pm(w,{pending:!0,data:S,method:h.method,action:m},m,S))}}))}function Mp(s){function o(ne){return C_(ne,s)}qu!==null&&C_(qu,s),Yu!==null&&C_(Yu,s),ju!==null&&C_(ju,s),s1.forEach(o),a1.forEach(o);for(var h=0;h<Zu.length;h++){var m=Zu[h];m.blockedOn===s&&(m.blockedOn=null)}for(;0<Zu.length&&(h=Zu[0],h.blockedOn===null);)nE(h),h.blockedOn===null&&Zu.shift();if(h=(s.ownerDocument||s).$$reactFormReplay,h!=null)for(m=0;m<h.length;m+=3){var S=h[m],w=h[m+1],z=S[tn]||null;if(typeof w=="function")z||rE(h);else if(z){var G=null;if(w&&w.hasAttribute("formAction")){if(S=w,z=w[tn]||null)G=z.formAction;else if(Eb(S)!==null)continue}else G=z.action;typeof G=="function"?h[m+1]=G:(h.splice(m,3),m-=3),rE(h)}}}function sE(){function s(w){w.canIntercept&&w.info==="react-transition"&&w.intercept({handler:function(){return new Promise(function(z){return S=z})},focusReset:"manual",scroll:"manual"})}function o(){S!==null&&(S(),S=null),m||setTimeout(h,20)}function h(){if(!m&&!navigation.transition){var w=navigation.currentEntry;w&&w.url!=null&&navigation.navigate(w.url,{state:w.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,S=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(h,100),function(){m=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),S!==null&&(S(),S=null)}}}function wb(s){this._internalRoot=s}D_.prototype.render=wb.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(n(409));var h=o.current,m=Qs();QT(h,m,s,o,null,null)},D_.prototype.unmount=wb.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;QT(s.current,2,null,s,null,null),Xa(),o[fn]=null}};function D_(s){this._internalRoot=s}D_.prototype.unstable_scheduleHydration=function(s){if(s){var o=rn();s={blockedOn:null,target:s,priority:o};for(var h=0;h<Zu.length&&o!==0&&o<Zu[h].priority;h++);Zu.splice(h,0,s),h===0&&nE(s)}};var aE=e.version;if(aE!=="19.2.4")throw Error(n(527,aE,"19.2.4"));Q.findDOMNode=function(s){var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=p(o),s=s!==null?v(s):null,s=s===null?null:s.stateNode,s};var G8={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var N_=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!N_.isDisabled&&N_.supportsFiber)try{Ve=N_.inject(G8),We=N_}catch{}}return c1.createRoot=function(s,o){if(!r(s))throw Error(n(299));var h=!1,m="",S=l_,w=Vm,z=Hm;return o!=null&&(o.unstable_strictMode===!0&&(h=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(S=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(z=o.onRecoverableError)),o=jT(s,1,!1,null,null,h,m,null,S,w,z,sE),s[fn]=o.current,lb(s),new wb(o)},c1.hydrateRoot=function(s,o,h){if(!r(s))throw Error(n(299));var m=!1,S="",w=l_,z=Vm,G=Hm,ne=null;return h!=null&&(h.unstable_strictMode===!0&&(m=!0),h.identifierPrefix!==void 0&&(S=h.identifierPrefix),h.onUncaughtError!==void 0&&(w=h.onUncaughtError),h.onCaughtError!==void 0&&(z=h.onCaughtError),h.onRecoverableError!==void 0&&(G=h.onRecoverableError),h.formState!==void 0&&(ne=h.formState)),o=jT(s,1,!0,o,h??null,m,S,ne,w,z,G,sE),o.context=ZT(null),h=o.current,m=Qs(),m=Ht(m),S=$o(m),S.callback=null,Ul(h,S,m),h=m,o.current.lanes=h,Et(o,h),Ke(o),s[fn]=o.current,lb(s),new D_(o)},c1.version="19.2.4",c1}var gE;function J8(){if(gE)return Db.exports;gE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Db.exports=K8(),Db.exports}var $8=J8();const eR=i=>i<.5?4*i*i*i:1-Math.pow(-2*i+2,3)/2;function tR(){return gt.useCallback(e=>{const t=document.getElementById(e);if(!t)return;const n=document.querySelector("main");if(!n)return;const r=t.offsetTop,a=n.scrollTop,l=r-a,u=800;let d=null;function p(v){d===null&&(d=v,n.style.scrollSnapType="none",n.style.scrollBehavior="auto");const _=v-d,y=Math.min(_/u,1),x=eR(y);n.scrollTop=a+l*x,_<u?requestAnimationFrame(p):(n.style.scrollSnapType="",n.style.scrollBehavior="")}requestAnimationFrame(p)},[])}function nR(){const i=tR(),e=(t,n)=>{t.preventDefault(),i(n)};return fe.jsxs("header",{className:"fixed top-0 left-0 w-full flex justify-between items-center p-6 z-50 text-white mix-blend-difference pointer-events-none",children:[fe.jsx("a",{href:"#hero",onClick:t=>e(t,"hero"),className:"text-xl font-bold uppercase pointer-events-auto cursor-pointer",children:"DV"}),fe.jsxs("nav",{className:"flex gap-8 pointer-events-auto",children:[fe.jsx("a",{href:"#about",onClick:t=>e(t,"about"),className:"hover:opacity-70 transition-opacity uppercase text-sm cursor-pointer",children:"About"}),fe.jsx("a",{href:"#projects",onClick:t=>e(t,"projects"),className:"hover:opacity-70 transition-opacity uppercase text-sm cursor-pointer",children:"Projects"}),fe.jsx("a",{href:"#skills",onClick:t=>e(t,"skills"),className:"hover:opacity-70 transition-opacity uppercase text-sm cursor-pointer",children:"Skills"}),fe.jsx("a",{href:"#experience",onClick:t=>e(t,"experience"),className:"hover:opacity-70 transition-opacity uppercase text-sm cursor-pointer",children:"Experience"}),fe.jsx("a",{href:"#contact",onClick:t=>e(t,"contact"),className:"hover:opacity-70 transition-opacity uppercase text-sm cursor-pointer",children:"Contact"})]})]})}function Tp({children:i,id:e,className:t=""}){return fe.jsx("section",{id:e,className:`min-h-screen w-full snap-start flex items-center justify-center ${t}`,children:i})}const zg="182",iR={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},rR={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},bA=0,rM=1,SA=2,sR=3,MA=0,o0=1,I1=2,kh=3,cc=0,Wr=1,Na=2,io=0,qh=1,sM=2,aM=3,oM=4,TA=5,lf=100,EA=101,AA=102,wA=103,CA=104,RA=200,DA=201,NA=202,LA=203,Kx=204,Jx=205,OA=206,UA=207,PA=208,IA=209,zA=210,BA=211,FA=212,kA=213,VA=214,$x=0,og=1,ey=2,id=3,ty=4,ny=5,iy=6,ry=7,Bg=0,HA=1,GA=2,ro=0,i4=1,r4=2,s4=3,a3=4,a4=5,o4=6,l4=7,lM="attached",WA="detached",o3=300,uc=301,bf=302,lg=303,cg=304,L0=306,ug=1e3,La=1001,fg=1002,Fi=1003,c4=1004,aR=1004,t0=1005,oR=1005,hi=1006,z1=1007,lR=1007,ic=1008,cR=1008,Gr=1009,u4=1010,f4=1011,g0=1012,l3=1013,oo=1014,Ps=1015,_l=1016,c3=1017,u3=1018,rd=1020,h4=35902,d4=35899,p4=1021,m4=1022,Is=1023,fc=1026,tu=1027,f3=1028,Fg=1029,sd=1030,h3=1031,uR=1032,d3=1033,B1=33776,F1=33777,k1=33778,V1=33779,sy=35840,ay=35841,oy=35842,ly=35843,cy=36196,uy=37492,fy=37496,hy=37488,dy=37489,py=37490,my=37491,gy=37808,vy=37809,_y=37810,xy=37811,yy=37812,by=37813,Sy=37814,My=37815,Ty=37816,Ey=37817,Ay=37818,wy=37819,Cy=37820,Ry=37821,Dy=36492,Ny=36494,Ly=36495,Oy=36283,Uy=36284,Py=36285,Iy=36286,XA=2200,qA=2201,YA=2202,hg=2300,zy=2301,Bx=2302,Vh=2400,Hh=2401,dg=2402,p3=2500,g4=2501,fR=0,hR=1,dR=2,Cf=3200,pR=3201,mR=3202,gR=3203,Rf=0,jA=1,pl="",Bi="srgb",hc="srgb-linear",pg="linear",ai="srgb",vR="",_R="rg",xR="ga",yR=0,Ph=7680,bR=7681,SR=7682,MR=7683,TR=34055,ER=34056,AR=5386,wR=512,CR=513,RR=514,DR=515,NR=516,LR=517,OR=518,cM=519,ZA=512,QA=513,KA=514,m3=515,JA=516,$A=517,g3=518,ew=519,mg=35044,UR=35048,PR=35040,IR=35045,zR=35049,BR=35041,FR=35046,kR=35050,VR=35042,HR="100",uM="300 es",eo=2e3,v0=2001,GR={COMPUTE:"compute",RENDER:"render"},WR={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},XR={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FIRST:"first",EITHER:"either"};function tw(i){for(let e=i.length-1;e>=0;--e)if(i[e]>=65535)return!0;return!1}const qR={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function n0(i,e){return new qR[i](e)}function nw(i){return ArrayBuffer.isView(i)&&!(i instanceof DataView)}function gg(i){return document.createElementNS("http://www.w3.org/1999/xhtml",i)}function iw(){const i=gg("canvas");return i.style.display="block",i}const vE={};let Sf=null;function YR(i){Sf=i}function jR(){return Sf}function vg(...i){const e="THREE."+i.shift();Sf?Sf("log",e,...i):console.log(e,...i)}function _t(...i){const e="THREE."+i.shift();Sf?Sf("warn",e,...i):console.warn(e,...i)}function It(...i){const e="THREE."+i.shift();Sf?Sf("error",e,...i):console.error(e,...i)}function _0(...i){const e=i.join(" ");e in vE||(vE[e]=!0,_t(...i))}function ZR(i,e,t){return new Promise(function(n,r){function a(){switch(i.clientWaitSync(e,i.SYNC_FLUSH_COMMANDS_BIT,0)){case i.WAIT_FAILED:r();break;case i.TIMEOUT_EXPIRED:setTimeout(a,t);break;default:n()}}setTimeout(a,t)})}class uo{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const n=this._listeners;n[e]===void 0&&(n[e]=[]),n[e].indexOf(t)===-1&&n[e].push(t)}hasEventListener(e,t){const n=this._listeners;return n===void 0?!1:n[e]!==void 0&&n[e].indexOf(t)!==-1}removeEventListener(e,t){const n=this._listeners;if(n===void 0)return;const r=n[e];if(r!==void 0){const a=r.indexOf(t);a!==-1&&r.splice(a,1)}}dispatchEvent(e){const t=this._listeners;if(t===void 0)return;const n=t[e.type];if(n!==void 0){e.target=this;const r=n.slice(0);for(let a=0,l=r.length;a<l;a++)r[a].call(this,e);e.target=null}}}const Cs=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let _E=1234567;const Yh=Math.PI/180,x0=180/Math.PI;function so(){const i=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,n=Math.random()*4294967295|0;return(Cs[i&255]+Cs[i>>8&255]+Cs[i>>16&255]+Cs[i>>24&255]+"-"+Cs[e&255]+Cs[e>>8&255]+"-"+Cs[e>>16&15|64]+Cs[e>>24&255]+"-"+Cs[t&63|128]+Cs[t>>8&255]+"-"+Cs[t>>16&255]+Cs[t>>24&255]+Cs[n&255]+Cs[n>>8&255]+Cs[n>>16&255]+Cs[n>>24&255]).toLowerCase()}function Qt(i,e,t){return Math.max(e,Math.min(t,i))}function v4(i,e){return(i%e+e)%e}function QR(i,e,t,n,r){return n+(i-e)*(r-n)/(t-e)}function KR(i,e,t){return i!==e?(t-i)/(e-i):0}function H1(i,e,t){return(1-t)*i+t*e}function JR(i,e,t,n){return H1(i,e,1-Math.exp(-t*n))}function $R(i,e=1){return e-Math.abs(v4(i,e*2)-e)}function e7(i,e,t){return i<=e?0:i>=t?1:(i=(i-e)/(t-e),i*i*(3-2*i))}function t7(i,e,t){return i<=e?0:i>=t?1:(i=(i-e)/(t-e),i*i*i*(i*(i*6-15)+10))}function n7(i,e){return i+Math.floor(Math.random()*(e-i+1))}function i7(i,e){return i+Math.random()*(e-i)}function r7(i){return i*(.5-Math.random())}function s7(i){i!==void 0&&(_E=i);let e=_E+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function a7(i){return i*Yh}function o7(i){return i*x0}function l7(i){return(i&i-1)===0&&i!==0}function c7(i){return Math.pow(2,Math.ceil(Math.log(i)/Math.LN2))}function u7(i){return Math.pow(2,Math.floor(Math.log(i)/Math.LN2))}function f7(i,e,t,n,r){const a=Math.cos,l=Math.sin,u=a(t/2),d=l(t/2),p=a((e+n)/2),v=l((e+n)/2),_=a((e-n)/2),y=l((e-n)/2),x=a((n-e)/2),M=l((n-e)/2);switch(r){case"XYX":i.set(u*v,d*_,d*y,u*p);break;case"YZY":i.set(d*y,u*v,d*_,u*p);break;case"ZXZ":i.set(d*_,d*y,u*v,u*p);break;case"XZX":i.set(u*v,d*M,d*x,u*p);break;case"YXY":i.set(d*x,u*v,d*M,u*p);break;case"ZYZ":i.set(d*M,d*x,u*v,u*p);break;default:_t("MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function ra(i,e){switch(e.constructor){case Float32Array:return i;case Uint32Array:return i/4294967295;case Uint16Array:return i/65535;case Uint8Array:return i/255;case Int32Array:return Math.max(i/2147483647,-1);case Int16Array:return Math.max(i/32767,-1);case Int8Array:return Math.max(i/127,-1);default:throw new Error("Invalid component type.")}}function vn(i,e){switch(e.constructor){case Float32Array:return i;case Uint32Array:return Math.round(i*4294967295);case Uint16Array:return Math.round(i*65535);case Uint8Array:return Math.round(i*255);case Int32Array:return Math.round(i*2147483647);case Int16Array:return Math.round(i*32767);case Int8Array:return Math.round(i*127);default:throw new Error("Invalid component type.")}}const h7={DEG2RAD:Yh,RAD2DEG:x0,generateUUID:so,clamp:Qt,euclideanModulo:v4,mapLinear:QR,inverseLerp:KR,lerp:H1,damp:JR,pingpong:$R,smoothstep:e7,smootherstep:t7,randInt:n7,randFloat:i7,randFloatSpread:r7,seededRandom:s7,degToRad:a7,radToDeg:o7,isPowerOfTwo:l7,ceilPowerOfTwo:c7,floorPowerOfTwo:u7,setQuaternionFromProperEuler:f7,normalize:vn,denormalize:ra};class Ie{constructor(e=0,t=0){Ie.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Qt(this.x,e.x,t.x),this.y=Qt(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=Qt(this.x,e,t),this.y=Qt(this.y,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Qt(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(Qt(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const n=Math.cos(t),r=Math.sin(t),a=this.x-e.x,l=this.y-e.y;return this.x=a*n-l*r+e.x,this.y=a*r+l*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Oa{constructor(e=0,t=0,n=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=n,this._w=r}static slerpFlat(e,t,n,r,a,l,u){let d=n[r+0],p=n[r+1],v=n[r+2],_=n[r+3],y=a[l+0],x=a[l+1],M=a[l+2],E=a[l+3];if(u<=0){e[t+0]=d,e[t+1]=p,e[t+2]=v,e[t+3]=_;return}if(u>=1){e[t+0]=y,e[t+1]=x,e[t+2]=M,e[t+3]=E;return}if(_!==E||d!==y||p!==x||v!==M){let A=d*y+p*x+v*M+_*E;A<0&&(y=-y,x=-x,M=-M,E=-E,A=-A);let T=1-u;if(A<.9995){const R=Math.acos(A),D=Math.sin(R);T=Math.sin(T*R)/D,u=Math.sin(u*R)/D,d=d*T+y*u,p=p*T+x*u,v=v*T+M*u,_=_*T+E*u}else{d=d*T+y*u,p=p*T+x*u,v=v*T+M*u,_=_*T+E*u;const R=1/Math.sqrt(d*d+p*p+v*v+_*_);d*=R,p*=R,v*=R,_*=R}}e[t]=d,e[t+1]=p,e[t+2]=v,e[t+3]=_}static multiplyQuaternionsFlat(e,t,n,r,a,l){const u=n[r],d=n[r+1],p=n[r+2],v=n[r+3],_=a[l],y=a[l+1],x=a[l+2],M=a[l+3];return e[t]=u*M+v*_+d*x-p*y,e[t+1]=d*M+v*y+p*_-u*x,e[t+2]=p*M+v*x+u*y-d*_,e[t+3]=v*M-u*_-d*y-p*x,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const n=e._x,r=e._y,a=e._z,l=e._order,u=Math.cos,d=Math.sin,p=u(n/2),v=u(r/2),_=u(a/2),y=d(n/2),x=d(r/2),M=d(a/2);switch(l){case"XYZ":this._x=y*v*_+p*x*M,this._y=p*x*_-y*v*M,this._z=p*v*M+y*x*_,this._w=p*v*_-y*x*M;break;case"YXZ":this._x=y*v*_+p*x*M,this._y=p*x*_-y*v*M,this._z=p*v*M-y*x*_,this._w=p*v*_+y*x*M;break;case"ZXY":this._x=y*v*_-p*x*M,this._y=p*x*_+y*v*M,this._z=p*v*M+y*x*_,this._w=p*v*_-y*x*M;break;case"ZYX":this._x=y*v*_-p*x*M,this._y=p*x*_+y*v*M,this._z=p*v*M-y*x*_,this._w=p*v*_+y*x*M;break;case"YZX":this._x=y*v*_+p*x*M,this._y=p*x*_+y*v*M,this._z=p*v*M-y*x*_,this._w=p*v*_-y*x*M;break;case"XZY":this._x=y*v*_-p*x*M,this._y=p*x*_-y*v*M,this._z=p*v*M+y*x*_,this._w=p*v*_+y*x*M;break;default:_t("Quaternion: .setFromEuler() encountered an unknown order: "+l)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,n=t[0],r=t[4],a=t[8],l=t[1],u=t[5],d=t[9],p=t[2],v=t[6],_=t[10],y=n+u+_;if(y>0){const x=.5/Math.sqrt(y+1);this._w=.25/x,this._x=(v-d)*x,this._y=(a-p)*x,this._z=(l-r)*x}else if(n>u&&n>_){const x=2*Math.sqrt(1+n-u-_);this._w=(v-d)/x,this._x=.25*x,this._y=(r+l)/x,this._z=(a+p)/x}else if(u>_){const x=2*Math.sqrt(1+u-n-_);this._w=(a-p)/x,this._x=(r+l)/x,this._y=.25*x,this._z=(d+v)/x}else{const x=2*Math.sqrt(1+_-n-u);this._w=(l-r)/x,this._x=(a+p)/x,this._y=(d+v)/x,this._z=.25*x}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<1e-8?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Qt(this.dot(e),-1,1)))}rotateTowards(e,t){const n=this.angleTo(e);if(n===0)return this;const r=Math.min(1,t/n);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const n=e._x,r=e._y,a=e._z,l=e._w,u=t._x,d=t._y,p=t._z,v=t._w;return this._x=n*v+l*u+r*p-a*d,this._y=r*v+l*d+a*u-n*p,this._z=a*v+l*p+n*d-r*u,this._w=l*v-n*u-r*d-a*p,this._onChangeCallback(),this}slerp(e,t){if(t<=0)return this;if(t>=1)return this.copy(e);let n=e._x,r=e._y,a=e._z,l=e._w,u=this.dot(e);u<0&&(n=-n,r=-r,a=-a,l=-l,u=-u);let d=1-t;if(u<.9995){const p=Math.acos(u),v=Math.sin(p);d=Math.sin(d*p)/v,t=Math.sin(t*p)/v,this._x=this._x*d+n*t,this._y=this._y*d+r*t,this._z=this._z*d+a*t,this._w=this._w*d+l*t,this._onChangeCallback()}else this._x=this._x*d+n*t,this._y=this._y*d+r*t,this._z=this._z*d+a*t,this._w=this._w*d+l*t,this.normalize();return this}slerpQuaternions(e,t,n){return this.copy(e).slerp(t,n)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),n=Math.random(),r=Math.sqrt(1-n),a=Math.sqrt(n);return this.set(r*Math.sin(e),r*Math.cos(e),a*Math.sin(t),a*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class ${constructor(e=0,t=0,n=0){$.prototype.isVector3=!0,this.x=e,this.y=t,this.z=n}set(e,t,n){return n===void 0&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(xE.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(xE.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,n=this.y,r=this.z,a=e.elements;return this.x=a[0]*t+a[3]*n+a[6]*r,this.y=a[1]*t+a[4]*n+a[7]*r,this.z=a[2]*t+a[5]*n+a[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,a=e.elements,l=1/(a[3]*t+a[7]*n+a[11]*r+a[15]);return this.x=(a[0]*t+a[4]*n+a[8]*r+a[12])*l,this.y=(a[1]*t+a[5]*n+a[9]*r+a[13])*l,this.z=(a[2]*t+a[6]*n+a[10]*r+a[14])*l,this}applyQuaternion(e){const t=this.x,n=this.y,r=this.z,a=e.x,l=e.y,u=e.z,d=e.w,p=2*(l*r-u*n),v=2*(u*t-a*r),_=2*(a*n-l*t);return this.x=t+d*p+l*_-u*v,this.y=n+d*v+u*p-a*_,this.z=r+d*_+a*v-l*p,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,n=this.y,r=this.z,a=e.elements;return this.x=a[0]*t+a[4]*n+a[8]*r,this.y=a[1]*t+a[5]*n+a[9]*r,this.z=a[2]*t+a[6]*n+a[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Qt(this.x,e.x,t.x),this.y=Qt(this.y,e.y,t.y),this.z=Qt(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=Qt(this.x,e,t),this.y=Qt(this.y,e,t),this.z=Qt(this.z,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Qt(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const n=e.x,r=e.y,a=e.z,l=t.x,u=t.y,d=t.z;return this.x=r*d-a*u,this.y=a*l-n*d,this.z=n*u-r*l,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return Ub.copy(this).projectOnVector(e),this.sub(Ub)}reflect(e){return this.sub(Ub.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(Qt(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){const r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,n=Math.sqrt(1-t*t);return this.x=n*Math.cos(e),this.y=t,this.z=n*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Ub=new $,xE=new Oa;class dn{constructor(e,t,n,r,a,l,u,d,p){dn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,n,r,a,l,u,d,p)}set(e,t,n,r,a,l,u,d,p){const v=this.elements;return v[0]=e,v[1]=r,v[2]=u,v[3]=t,v[4]=a,v[5]=d,v[6]=n,v[7]=l,v[8]=p,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,a=this.elements,l=n[0],u=n[3],d=n[6],p=n[1],v=n[4],_=n[7],y=n[2],x=n[5],M=n[8],E=r[0],A=r[3],T=r[6],R=r[1],D=r[4],N=r[7],U=r[2],I=r[5],B=r[8];return a[0]=l*E+u*R+d*U,a[3]=l*A+u*D+d*I,a[6]=l*T+u*N+d*B,a[1]=p*E+v*R+_*U,a[4]=p*A+v*D+_*I,a[7]=p*T+v*N+_*B,a[2]=y*E+x*R+M*U,a[5]=y*A+x*D+M*I,a[8]=y*T+x*N+M*B,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[1],r=e[2],a=e[3],l=e[4],u=e[5],d=e[6],p=e[7],v=e[8];return t*l*v-t*u*p-n*a*v+n*u*d+r*a*p-r*l*d}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],a=e[3],l=e[4],u=e[5],d=e[6],p=e[7],v=e[8],_=v*l-u*p,y=u*d-v*a,x=p*a-l*d,M=t*_+n*y+r*x;if(M===0)return this.set(0,0,0,0,0,0,0,0,0);const E=1/M;return e[0]=_*E,e[1]=(r*p-v*n)*E,e[2]=(u*n-r*l)*E,e[3]=y*E,e[4]=(v*t-r*d)*E,e[5]=(r*a-u*t)*E,e[6]=x*E,e[7]=(n*d-p*t)*E,e[8]=(l*t-n*a)*E,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,r,a,l,u){const d=Math.cos(a),p=Math.sin(a);return this.set(n*d,n*p,-n*(d*l+p*u)+l+e,-r*p,r*d,-r*(-p*l+d*u)+u+t,0,0,1),this}scale(e,t){return this.premultiply(Pb.makeScale(e,t)),this}rotate(e){return this.premultiply(Pb.makeRotation(-e)),this}translate(e,t){return this.premultiply(Pb.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,n=e.elements;for(let r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e,t=0){for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const Pb=new dn,yE=new dn().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),bE=new dn().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function d7(){const i={enabled:!0,workingColorSpace:hc,spaces:{},convert:function(r,a,l){return this.enabled===!1||a===l||!a||!l||(this.spaces[a].transfer===ai&&(r.r=iu(r.r),r.g=iu(r.g),r.b=iu(r.b)),this.spaces[a].primaries!==this.spaces[l].primaries&&(r.applyMatrix3(this.spaces[a].toXYZ),r.applyMatrix3(this.spaces[l].fromXYZ)),this.spaces[l].transfer===ai&&(r.r=l0(r.r),r.g=l0(r.g),r.b=l0(r.b))),r},workingToColorSpace:function(r,a){return this.convert(r,this.workingColorSpace,a)},colorSpaceToWorking:function(r,a){return this.convert(r,a,this.workingColorSpace)},getPrimaries:function(r){return this.spaces[r].primaries},getTransfer:function(r){return r===pl?pg:this.spaces[r].transfer},getToneMappingMode:function(r){return this.spaces[r].outputColorSpaceConfig.toneMappingMode||"standard"},getLuminanceCoefficients:function(r,a=this.workingColorSpace){return r.fromArray(this.spaces[a].luminanceCoefficients)},define:function(r){Object.assign(this.spaces,r)},_getMatrix:function(r,a,l){return r.copy(this.spaces[a].toXYZ).multiply(this.spaces[l].fromXYZ)},_getDrawingBufferColorSpace:function(r){return this.spaces[r].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(r=this.workingColorSpace){return this.spaces[r].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(r,a){return _0("ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),i.workingToColorSpace(r,a)},toWorkingColorSpace:function(r,a){return _0("ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),i.colorSpaceToWorking(r,a)}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],n=[.3127,.329];return i.define({[hc]:{primaries:e,whitePoint:n,transfer:pg,toXYZ:yE,fromXYZ:bE,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:Bi},outputColorSpaceConfig:{drawingBufferColorSpace:Bi}},[Bi]:{primaries:e,whitePoint:n,transfer:ai,toXYZ:yE,fromXYZ:bE,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:Bi}}}),i}const Bn=d7();function iu(i){return i<.04045?i*.0773993808:Math.pow(i*.9478672986+.0521327014,2.4)}function l0(i){return i<.0031308?i*12.92:1.055*Math.pow(i,.41666)-.055}let Ep;class rw{static getDataURL(e,t="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{Ep===void 0&&(Ep=gg("canvas")),Ep.width=e.width,Ep.height=e.height;const r=Ep.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),n=Ep}return n.toDataURL(t)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=gg("canvas");t.width=e.width,t.height=e.height;const n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);const r=n.getImageData(0,0,e.width,e.height),a=r.data;for(let l=0;l<a.length;l++)a[l]=iu(a[l]/255)*255;return n.putImageData(r,0,0),t}else if(e.data){const t=e.data.slice(0);for(let n=0;n<t.length;n++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[n]=Math.floor(iu(t[n]/255)*255):t[n]=iu(t[n]);return{data:t,width:e.width,height:e.height}}else return _t("ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let p7=0;class ff{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:p7++}),this.uuid=so(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const t=this.data;return typeof HTMLVideoElement<"u"&&t instanceof HTMLVideoElement?e.set(t.videoWidth,t.videoHeight,0):typeof VideoFrame<"u"&&t instanceof VideoFrame?e.set(t.displayHeight,t.displayWidth,0):t!==null?e.set(t.width,t.height,t.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const n={uuid:this.uuid,url:""},r=this.data;if(r!==null){let a;if(Array.isArray(r)){a=[];for(let l=0,u=r.length;l<u;l++)r[l].isDataTexture?a.push(Ib(r[l].image)):a.push(Ib(r[l]))}else a=Ib(r);n.url=a}return t||(e.images[this.uuid]=n),n}}function Ib(i){return typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&i instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&i instanceof ImageBitmap?rw.getDataURL(i):i.data?{data:Array.from(i.data),width:i.width,height:i.height,type:i.data.constructor.name}:(_t("Texture: Unable to serialize Texture."),{})}let m7=0;const zb=new $;class qi extends uo{constructor(e=qi.DEFAULT_IMAGE,t=qi.DEFAULT_MAPPING,n=La,r=La,a=hi,l=ic,u=Is,d=Gr,p=qi.DEFAULT_ANISOTROPY,v=pl){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:m7++}),this.uuid=so(),this.name="",this.source=new ff(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=n,this.wrapT=r,this.magFilter=a,this.minFilter=l,this.anisotropy=p,this.format=u,this.internalFormat=null,this.type=d,this.offset=new Ie(0,0),this.repeat=new Ie(1,1),this.center=new Ie(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new dn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=v,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(zb).x}get height(){return this.source.getSize(zb).y}get depth(){return this.source.getSize(zb).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const t in e){const n=e[t];if(n===void 0){_t(`Texture.setValues(): parameter '${t}' has value of undefined.`);continue}const r=this[t];if(r===void 0){_t(`Texture.setValues(): property '${t}' does not exist.`);continue}r&&n&&r.isVector2&&n.isVector2||r&&n&&r.isVector3&&n.isVector3||r&&n&&r.isMatrix3&&n.isMatrix3?r.copy(n):this[t]=n}}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const n={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==o3)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case ug:e.x=e.x-Math.floor(e.x);break;case La:e.x=e.x<0?0:1;break;case fg:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case ug:e.y=e.y-Math.floor(e.y);break;case La:e.y=e.y<0?0:1;break;case fg:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}qi.DEFAULT_IMAGE=null;qi.DEFAULT_MAPPING=o3;qi.DEFAULT_ANISOTROPY=1;class Ei{constructor(e=0,t=0,n=0,r=1){Ei.prototype.isVector4=!0,this.x=e,this.y=t,this.z=n,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,a=this.w,l=e.elements;return this.x=l[0]*t+l[4]*n+l[8]*r+l[12]*a,this.y=l[1]*t+l[5]*n+l[9]*r+l[13]*a,this.z=l[2]*t+l[6]*n+l[10]*r+l[14]*a,this.w=l[3]*t+l[7]*n+l[11]*r+l[15]*a,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,r,a;const d=e.elements,p=d[0],v=d[4],_=d[8],y=d[1],x=d[5],M=d[9],E=d[2],A=d[6],T=d[10];if(Math.abs(v-y)<.01&&Math.abs(_-E)<.01&&Math.abs(M-A)<.01){if(Math.abs(v+y)<.1&&Math.abs(_+E)<.1&&Math.abs(M+A)<.1&&Math.abs(p+x+T-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const D=(p+1)/2,N=(x+1)/2,U=(T+1)/2,I=(v+y)/4,B=(_+E)/4,k=(M+A)/4;return D>N&&D>U?D<.01?(n=0,r=.707106781,a=.707106781):(n=Math.sqrt(D),r=I/n,a=B/n):N>U?N<.01?(n=.707106781,r=0,a=.707106781):(r=Math.sqrt(N),n=I/r,a=k/r):U<.01?(n=.707106781,r=.707106781,a=0):(a=Math.sqrt(U),n=B/a,r=k/a),this.set(n,r,a,t),this}let R=Math.sqrt((A-M)*(A-M)+(_-E)*(_-E)+(y-v)*(y-v));return Math.abs(R)<.001&&(R=1),this.x=(A-M)/R,this.y=(_-E)/R,this.z=(y-v)/R,this.w=Math.acos((p+x+T-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Qt(this.x,e.x,t.x),this.y=Qt(this.y,e.y,t.y),this.z=Qt(this.z,e.z,t.z),this.w=Qt(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=Qt(this.x,e,t),this.y=Qt(this.y,e,t),this.z=Qt(this.z,e,t),this.w=Qt(this.w,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Qt(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class _4 extends uo{constructor(e=1,t=1,n={}){super(),n=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:hi,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},n),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=n.depth,this.scissor=new Ei(0,0,e,t),this.scissorTest=!1,this.viewport=new Ei(0,0,e,t);const r={width:e,height:t,depth:n.depth},a=new qi(r);this.textures=[];const l=n.count;for(let u=0;u<l;u++)this.textures[u]=a.clone(),this.textures[u].isRenderTargetTexture=!0,this.textures[u].renderTarget=this;this._setTextureOptions(n),this.depthBuffer=n.depthBuffer,this.stencilBuffer=n.stencilBuffer,this.resolveDepthBuffer=n.resolveDepthBuffer,this.resolveStencilBuffer=n.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=n.depthTexture,this.samples=n.samples,this.multiview=n.multiview}_setTextureOptions(e={}){const t={minFilter:hi,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(t.mapping=e.mapping),e.wrapS!==void 0&&(t.wrapS=e.wrapS),e.wrapT!==void 0&&(t.wrapT=e.wrapT),e.wrapR!==void 0&&(t.wrapR=e.wrapR),e.magFilter!==void 0&&(t.magFilter=e.magFilter),e.minFilter!==void 0&&(t.minFilter=e.minFilter),e.format!==void 0&&(t.format=e.format),e.type!==void 0&&(t.type=e.type),e.anisotropy!==void 0&&(t.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(t.colorSpace=e.colorSpace),e.flipY!==void 0&&(t.flipY=e.flipY),e.generateMipmaps!==void 0&&(t.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(t.internalFormat=e.internalFormat);for(let n=0;n<this.textures.length;n++)this.textures[n].setValues(t)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,n=1){if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(let r=0,a=this.textures.length;r<a;r++)this.textures[r].image.width=e,this.textures[r].image.height=t,this.textures[r].image.depth=n,this.textures[r].isData3DTexture!==!0&&(this.textures[r].isArrayTexture=this.textures[r].image.depth>1);this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let t=0,n=e.textures.length;t<n;t++){this.textures[t]=e.textures[t].clone(),this.textures[t].isRenderTargetTexture=!0,this.textures[t].renderTarget=this;const r=Object.assign({},e.textures[t].image);this.textures[t].source=new ff(r)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Xr extends _4{constructor(e=1,t=1,n={}){super(e,t,n),this.isWebGLRenderTarget=!0}}class v3 extends qi{constructor(e=null,t=1,n=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=Fi,this.minFilter=Fi,this.wrapR=La,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class g7 extends Xr{constructor(e=1,t=1,n=1,r={}){super(e,t,r),this.isWebGLArrayRenderTarget=!0,this.depth=n,this.texture=new v3(null,e,t,n),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class _3 extends qi{constructor(e=null,t=1,n=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=Fi,this.minFilter=Fi,this.wrapR=La,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class v7 extends Xr{constructor(e=1,t=1,n=1,r={}){super(e,t,r),this.isWebGL3DRenderTarget=!0,this.depth=n,this.texture=new _3(null,e,t,n),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class zs{constructor(e=new $(1/0,1/0,1/0),t=new $(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t+=3)this.expandByPoint(cl.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,n=e.count;t<n;t++)this.expandByPoint(cl.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=cl.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const n=e.geometry;if(n!==void 0){const a=n.getAttribute("position");if(t===!0&&a!==void 0&&e.isInstancedMesh!==!0)for(let l=0,u=a.count;l<u;l++)e.isMesh===!0?e.getVertexPosition(l,cl):cl.fromBufferAttribute(a,l),cl.applyMatrix4(e.matrixWorld),this.expandByPoint(cl);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),L_.copy(e.boundingBox)):(n.boundingBox===null&&n.computeBoundingBox(),L_.copy(n.boundingBox)),L_.applyMatrix4(e.matrixWorld),this.union(L_)}const r=e.children;for(let a=0,l=r.length;a<l;a++)this.expandByObject(r[a],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,cl),cl.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(u1),O_.subVectors(this.max,u1),Ap.subVectors(e.a,u1),wp.subVectors(e.b,u1),Cp.subVectors(e.c,u1),Ku.subVectors(wp,Ap),Ju.subVectors(Cp,wp),xh.subVectors(Ap,Cp);let t=[0,-Ku.z,Ku.y,0,-Ju.z,Ju.y,0,-xh.z,xh.y,Ku.z,0,-Ku.x,Ju.z,0,-Ju.x,xh.z,0,-xh.x,-Ku.y,Ku.x,0,-Ju.y,Ju.x,0,-xh.y,xh.x,0];return!Bb(t,Ap,wp,Cp,O_)||(t=[1,0,0,0,1,0,0,0,1],!Bb(t,Ap,wp,Cp,O_))?!1:(U_.crossVectors(Ku,Ju),t=[U_.x,U_.y,U_.z],Bb(t,Ap,wp,Cp,O_))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,cl).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(cl).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Xc[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Xc[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Xc[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Xc[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Xc[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Xc[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Xc[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Xc[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Xc),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const Xc=[new $,new $,new $,new $,new $,new $,new $,new $],cl=new $,L_=new zs,Ap=new $,wp=new $,Cp=new $,Ku=new $,Ju=new $,xh=new $,u1=new $,O_=new $,U_=new $,yh=new $;function Bb(i,e,t,n,r){for(let a=0,l=i.length-3;a<=l;a+=3){yh.fromArray(i,a);const u=r.x*Math.abs(yh.x)+r.y*Math.abs(yh.y)+r.z*Math.abs(yh.z),d=e.dot(yh),p=t.dot(yh),v=n.dot(yh);if(Math.max(-Math.max(d,p,v),Math.min(d,p,v))>u)return!1}return!0}const _7=new zs,f1=new $,Fb=new $;class ms{constructor(e=new $,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const n=this.center;t!==void 0?n.copy(t):_7.setFromPoints(e).getCenter(n);let r=0;for(let a=0,l=e.length;a<l;a++)r=Math.max(r,n.distanceToSquared(e[a]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;f1.subVectors(e,this.center);const t=f1.lengthSq();if(t>this.radius*this.radius){const n=Math.sqrt(t),r=(n-this.radius)*.5;this.center.addScaledVector(f1,r/n),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(Fb.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(f1.copy(e.center).add(Fb)),this.expandByPoint(f1.copy(e.center).sub(Fb))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}const qc=new $,kb=new $,P_=new $,$u=new $,Vb=new $,I_=new $,Hb=new $;class O0{constructor(e=new $,t=new $(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,qc)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,n)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=qc.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(qc.copy(this.origin).addScaledVector(this.direction,t),qc.distanceToSquared(e))}distanceSqToSegment(e,t,n,r){kb.copy(e).add(t).multiplyScalar(.5),P_.copy(t).sub(e).normalize(),$u.copy(this.origin).sub(kb);const a=e.distanceTo(t)*.5,l=-this.direction.dot(P_),u=$u.dot(this.direction),d=-$u.dot(P_),p=$u.lengthSq(),v=Math.abs(1-l*l);let _,y,x,M;if(v>0)if(_=l*d-u,y=l*u-d,M=a*v,_>=0)if(y>=-M)if(y<=M){const E=1/v;_*=E,y*=E,x=_*(_+l*y+2*u)+y*(l*_+y+2*d)+p}else y=a,_=Math.max(0,-(l*y+u)),x=-_*_+y*(y+2*d)+p;else y=-a,_=Math.max(0,-(l*y+u)),x=-_*_+y*(y+2*d)+p;else y<=-M?(_=Math.max(0,-(-l*a+u)),y=_>0?-a:Math.min(Math.max(-a,-d),a),x=-_*_+y*(y+2*d)+p):y<=M?(_=0,y=Math.min(Math.max(-a,-d),a),x=y*(y+2*d)+p):(_=Math.max(0,-(l*a+u)),y=_>0?a:Math.min(Math.max(-a,-d),a),x=-_*_+y*(y+2*d)+p);else y=l>0?-a:a,_=Math.max(0,-(l*y+u)),x=-_*_+y*(y+2*d)+p;return n&&n.copy(this.origin).addScaledVector(this.direction,_),r&&r.copy(kb).addScaledVector(P_,y),x}intersectSphere(e,t){qc.subVectors(e.center,this.origin);const n=qc.dot(this.direction),r=qc.dot(qc)-n*n,a=e.radius*e.radius;if(r>a)return null;const l=Math.sqrt(a-r),u=n-l,d=n+l;return d<0?null:u<0?this.at(d,t):this.at(u,t)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){const n=this.distanceToPlane(e);return n===null?null:this.at(n,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let n,r,a,l,u,d;const p=1/this.direction.x,v=1/this.direction.y,_=1/this.direction.z,y=this.origin;return p>=0?(n=(e.min.x-y.x)*p,r=(e.max.x-y.x)*p):(n=(e.max.x-y.x)*p,r=(e.min.x-y.x)*p),v>=0?(a=(e.min.y-y.y)*v,l=(e.max.y-y.y)*v):(a=(e.max.y-y.y)*v,l=(e.min.y-y.y)*v),n>l||a>r||((a>n||isNaN(n))&&(n=a),(l<r||isNaN(r))&&(r=l),_>=0?(u=(e.min.z-y.z)*_,d=(e.max.z-y.z)*_):(u=(e.max.z-y.z)*_,d=(e.min.z-y.z)*_),n>d||u>r)||((u>n||n!==n)&&(n=u),(d<r||r!==r)&&(r=d),r<0)?null:this.at(n>=0?n:r,t)}intersectsBox(e){return this.intersectBox(e,qc)!==null}intersectTriangle(e,t,n,r,a){Vb.subVectors(t,e),I_.subVectors(n,e),Hb.crossVectors(Vb,I_);let l=this.direction.dot(Hb),u;if(l>0){if(r)return null;u=1}else if(l<0)u=-1,l=-l;else return null;$u.subVectors(this.origin,e);const d=u*this.direction.dot(I_.crossVectors($u,I_));if(d<0)return null;const p=u*this.direction.dot(Vb.cross($u));if(p<0||d+p>l)return null;const v=-u*$u.dot(Hb);return v<0?null:this.at(v/l,a)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class en{constructor(e,t,n,r,a,l,u,d,p,v,_,y,x,M,E,A){en.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,n,r,a,l,u,d,p,v,_,y,x,M,E,A)}set(e,t,n,r,a,l,u,d,p,v,_,y,x,M,E,A){const T=this.elements;return T[0]=e,T[4]=t,T[8]=n,T[12]=r,T[1]=a,T[5]=l,T[9]=u,T[13]=d,T[2]=p,T[6]=v,T[10]=_,T[14]=y,T[3]=x,T[7]=M,T[11]=E,T[15]=A,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new en().fromArray(this.elements)}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return this.determinant()===0?(e.set(1,0,0),t.set(0,1,0),n.set(0,0,1),this):(e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this)}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){if(e.determinant()===0)return this.identity();const t=this.elements,n=e.elements,r=1/Rp.setFromMatrixColumn(e,0).length(),a=1/Rp.setFromMatrixColumn(e,1).length(),l=1/Rp.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*a,t[5]=n[5]*a,t[6]=n[6]*a,t[7]=0,t[8]=n[8]*l,t[9]=n[9]*l,t[10]=n[10]*l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,n=e.x,r=e.y,a=e.z,l=Math.cos(n),u=Math.sin(n),d=Math.cos(r),p=Math.sin(r),v=Math.cos(a),_=Math.sin(a);if(e.order==="XYZ"){const y=l*v,x=l*_,M=u*v,E=u*_;t[0]=d*v,t[4]=-d*_,t[8]=p,t[1]=x+M*p,t[5]=y-E*p,t[9]=-u*d,t[2]=E-y*p,t[6]=M+x*p,t[10]=l*d}else if(e.order==="YXZ"){const y=d*v,x=d*_,M=p*v,E=p*_;t[0]=y+E*u,t[4]=M*u-x,t[8]=l*p,t[1]=l*_,t[5]=l*v,t[9]=-u,t[2]=x*u-M,t[6]=E+y*u,t[10]=l*d}else if(e.order==="ZXY"){const y=d*v,x=d*_,M=p*v,E=p*_;t[0]=y-E*u,t[4]=-l*_,t[8]=M+x*u,t[1]=x+M*u,t[5]=l*v,t[9]=E-y*u,t[2]=-l*p,t[6]=u,t[10]=l*d}else if(e.order==="ZYX"){const y=l*v,x=l*_,M=u*v,E=u*_;t[0]=d*v,t[4]=M*p-x,t[8]=y*p+E,t[1]=d*_,t[5]=E*p+y,t[9]=x*p-M,t[2]=-p,t[6]=u*d,t[10]=l*d}else if(e.order==="YZX"){const y=l*d,x=l*p,M=u*d,E=u*p;t[0]=d*v,t[4]=E-y*_,t[8]=M*_+x,t[1]=_,t[5]=l*v,t[9]=-u*v,t[2]=-p*v,t[6]=x*_+M,t[10]=y-E*_}else if(e.order==="XZY"){const y=l*d,x=l*p,M=u*d,E=u*p;t[0]=d*v,t[4]=-_,t[8]=p*v,t[1]=y*_+E,t[5]=l*v,t[9]=x*_-M,t[2]=M*_-x,t[6]=u*v,t[10]=E*_+y}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(x7,e,y7)}lookAt(e,t,n){const r=this.elements;return qa.subVectors(e,t),qa.lengthSq()===0&&(qa.z=1),qa.normalize(),ef.crossVectors(n,qa),ef.lengthSq()===0&&(Math.abs(n.z)===1?qa.x+=1e-4:qa.z+=1e-4,qa.normalize(),ef.crossVectors(n,qa)),ef.normalize(),z_.crossVectors(qa,ef),r[0]=ef.x,r[4]=z_.x,r[8]=qa.x,r[1]=ef.y,r[5]=z_.y,r[9]=qa.y,r[2]=ef.z,r[6]=z_.z,r[10]=qa.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,a=this.elements,l=n[0],u=n[4],d=n[8],p=n[12],v=n[1],_=n[5],y=n[9],x=n[13],M=n[2],E=n[6],A=n[10],T=n[14],R=n[3],D=n[7],N=n[11],U=n[15],I=r[0],B=r[4],k=r[8],O=r[12],P=r[1],W=r[5],Z=r[9],J=r[13],ee=r[2],se=r[6],Y=r[10],Q=r[14],ue=r[3],ye=r[7],j=r[11],X=r[15];return a[0]=l*I+u*P+d*ee+p*ue,a[4]=l*B+u*W+d*se+p*ye,a[8]=l*k+u*Z+d*Y+p*j,a[12]=l*O+u*J+d*Q+p*X,a[1]=v*I+_*P+y*ee+x*ue,a[5]=v*B+_*W+y*se+x*ye,a[9]=v*k+_*Z+y*Y+x*j,a[13]=v*O+_*J+y*Q+x*X,a[2]=M*I+E*P+A*ee+T*ue,a[6]=M*B+E*W+A*se+T*ye,a[10]=M*k+E*Z+A*Y+T*j,a[14]=M*O+E*J+A*Q+T*X,a[3]=R*I+D*P+N*ee+U*ue,a[7]=R*B+D*W+N*se+U*ye,a[11]=R*k+D*Z+N*Y+U*j,a[15]=R*O+D*J+N*Q+U*X,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[4],r=e[8],a=e[12],l=e[1],u=e[5],d=e[9],p=e[13],v=e[2],_=e[6],y=e[10],x=e[14],M=e[3],E=e[7],A=e[11],T=e[15],R=d*x-p*y,D=u*x-p*_,N=u*y-d*_,U=l*x-p*v,I=l*y-d*v,B=l*_-u*v;return t*(E*R-A*D+T*N)-n*(M*R-A*U+T*I)+r*(M*D-E*U+T*B)-a*(M*N-E*I+A*B)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],a=e[3],l=e[4],u=e[5],d=e[6],p=e[7],v=e[8],_=e[9],y=e[10],x=e[11],M=e[12],E=e[13],A=e[14],T=e[15],R=_*A*p-E*y*p+E*d*x-u*A*x-_*d*T+u*y*T,D=M*y*p-v*A*p-M*d*x+l*A*x+v*d*T-l*y*T,N=v*E*p-M*_*p+M*u*x-l*E*x-v*u*T+l*_*T,U=M*_*d-v*E*d-M*u*y+l*E*y+v*u*A-l*_*A,I=t*R+n*D+r*N+a*U;if(I===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const B=1/I;return e[0]=R*B,e[1]=(E*y*a-_*A*a-E*r*x+n*A*x+_*r*T-n*y*T)*B,e[2]=(u*A*a-E*d*a+E*r*p-n*A*p-u*r*T+n*d*T)*B,e[3]=(_*d*a-u*y*a-_*r*p+n*y*p+u*r*x-n*d*x)*B,e[4]=D*B,e[5]=(v*A*a-M*y*a+M*r*x-t*A*x-v*r*T+t*y*T)*B,e[6]=(M*d*a-l*A*a-M*r*p+t*A*p+l*r*T-t*d*T)*B,e[7]=(l*y*a-v*d*a+v*r*p-t*y*p-l*r*x+t*d*x)*B,e[8]=N*B,e[9]=(M*_*a-v*E*a-M*n*x+t*E*x+v*n*T-t*_*T)*B,e[10]=(l*E*a-M*u*a+M*n*p-t*E*p-l*n*T+t*u*T)*B,e[11]=(v*u*a-l*_*a-v*n*p+t*_*p+l*n*x-t*u*x)*B,e[12]=U*B,e[13]=(v*E*r-M*_*r+M*n*y-t*E*y-v*n*A+t*_*A)*B,e[14]=(M*u*r-l*E*r-M*n*d+t*E*d+l*n*A-t*u*A)*B,e[15]=(l*_*r-v*u*r+v*n*d-t*_*d-l*n*y+t*u*y)*B,this}scale(e){const t=this.elements,n=e.x,r=e.y,a=e.z;return t[0]*=n,t[4]*=r,t[8]*=a,t[1]*=n,t[5]*=r,t[9]*=a,t[2]*=n,t[6]*=r,t[10]*=a,t[3]*=n,t[7]*=r,t[11]*=a,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))}makeTranslation(e,t,n){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const n=Math.cos(t),r=Math.sin(t),a=1-n,l=e.x,u=e.y,d=e.z,p=a*l,v=a*u;return this.set(p*l+n,p*u-r*d,p*d+r*u,0,p*u+r*d,v*u+n,v*d-r*l,0,p*d-r*u,v*d+r*l,a*d*d+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,r,a,l){return this.set(1,n,a,0,e,1,l,0,t,r,1,0,0,0,0,1),this}compose(e,t,n){const r=this.elements,a=t._x,l=t._y,u=t._z,d=t._w,p=a+a,v=l+l,_=u+u,y=a*p,x=a*v,M=a*_,E=l*v,A=l*_,T=u*_,R=d*p,D=d*v,N=d*_,U=n.x,I=n.y,B=n.z;return r[0]=(1-(E+T))*U,r[1]=(x+N)*U,r[2]=(M-D)*U,r[3]=0,r[4]=(x-N)*I,r[5]=(1-(y+T))*I,r[6]=(A+R)*I,r[7]=0,r[8]=(M+D)*B,r[9]=(A-R)*B,r[10]=(1-(y+E))*B,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,n){const r=this.elements;if(e.x=r[12],e.y=r[13],e.z=r[14],this.determinant()===0)return n.set(1,1,1),t.identity(),this;let a=Rp.set(r[0],r[1],r[2]).length();const l=Rp.set(r[4],r[5],r[6]).length(),u=Rp.set(r[8],r[9],r[10]).length();this.determinant()<0&&(a=-a),ul.copy(this);const p=1/a,v=1/l,_=1/u;return ul.elements[0]*=p,ul.elements[1]*=p,ul.elements[2]*=p,ul.elements[4]*=v,ul.elements[5]*=v,ul.elements[6]*=v,ul.elements[8]*=_,ul.elements[9]*=_,ul.elements[10]*=_,t.setFromRotationMatrix(ul),n.x=a,n.y=l,n.z=u,this}makePerspective(e,t,n,r,a,l,u=eo,d=!1){const p=this.elements,v=2*a/(t-e),_=2*a/(n-r),y=(t+e)/(t-e),x=(n+r)/(n-r);let M,E;if(d)M=a/(l-a),E=l*a/(l-a);else if(u===eo)M=-(l+a)/(l-a),E=-2*l*a/(l-a);else if(u===v0)M=-l/(l-a),E=-l*a/(l-a);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+u);return p[0]=v,p[4]=0,p[8]=y,p[12]=0,p[1]=0,p[5]=_,p[9]=x,p[13]=0,p[2]=0,p[6]=0,p[10]=M,p[14]=E,p[3]=0,p[7]=0,p[11]=-1,p[15]=0,this}makeOrthographic(e,t,n,r,a,l,u=eo,d=!1){const p=this.elements,v=2/(t-e),_=2/(n-r),y=-(t+e)/(t-e),x=-(n+r)/(n-r);let M,E;if(d)M=1/(l-a),E=l/(l-a);else if(u===eo)M=-2/(l-a),E=-(l+a)/(l-a);else if(u===v0)M=-1/(l-a),E=-a/(l-a);else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+u);return p[0]=v,p[4]=0,p[8]=0,p[12]=y,p[1]=0,p[5]=_,p[9]=0,p[13]=x,p[2]=0,p[6]=0,p[10]=M,p[14]=E,p[3]=0,p[7]=0,p[11]=0,p[15]=1,this}equals(e){const t=this.elements,n=e.elements;for(let r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e,t=0){for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}const Rp=new $,ul=new en,x7=new $(0,0,0),y7=new $(1,1,1),ef=new $,z_=new $,qa=new $,SE=new en,ME=new Oa;let xl=class sw{constructor(e=0,t=0,n=0,r=sw.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=n,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n,r=this._order){return this._x=e,this._y=t,this._z=n,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,n=!0){const r=e.elements,a=r[0],l=r[4],u=r[8],d=r[1],p=r[5],v=r[9],_=r[2],y=r[6],x=r[10];switch(t){case"XYZ":this._y=Math.asin(Qt(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(-v,x),this._z=Math.atan2(-l,a)):(this._x=Math.atan2(y,p),this._z=0);break;case"YXZ":this._x=Math.asin(-Qt(v,-1,1)),Math.abs(v)<.9999999?(this._y=Math.atan2(u,x),this._z=Math.atan2(d,p)):(this._y=Math.atan2(-_,a),this._z=0);break;case"ZXY":this._x=Math.asin(Qt(y,-1,1)),Math.abs(y)<.9999999?(this._y=Math.atan2(-_,x),this._z=Math.atan2(-l,p)):(this._y=0,this._z=Math.atan2(d,a));break;case"ZYX":this._y=Math.asin(-Qt(_,-1,1)),Math.abs(_)<.9999999?(this._x=Math.atan2(y,x),this._z=Math.atan2(d,a)):(this._x=0,this._z=Math.atan2(-l,p));break;case"YZX":this._z=Math.asin(Qt(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(-v,p),this._y=Math.atan2(-_,a)):(this._x=0,this._y=Math.atan2(u,x));break;case"XZY":this._z=Math.asin(-Qt(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(y,p),this._y=Math.atan2(u,a)):(this._x=Math.atan2(-v,x),this._y=0);break;default:_t("Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,n===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return SE.makeRotationFromQuaternion(e),this.setFromRotationMatrix(SE,t,n)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return ME.setFromEuler(this),this.setFromQuaternion(ME,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}};xl.DEFAULT_ORDER="XYZ";class y0{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let b7=0;const TE=new $,Dp=new Oa,Yc=new en,B_=new $,h1=new $,S7=new $,M7=new Oa,EE=new $(1,0,0),AE=new $(0,1,0),wE=new $(0,0,1),CE={type:"added"},T7={type:"removed"},Np={type:"childadded",child:null},Gb={type:"childremoved",child:null};class qn extends uo{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:b7++}),this.uuid=so(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=qn.DEFAULT_UP.clone();const e=new $,t=new xl,n=new Oa,r=new $(1,1,1);function a(){n.setFromEuler(t,!1)}function l(){t.setFromQuaternion(n,void 0,!1)}t._onChange(a),n._onChange(l),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new en},normalMatrix:{value:new dn}}),this.matrix=new en,this.matrixWorld=new en,this.matrixAutoUpdate=qn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=qn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new y0,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Dp.setFromAxisAngle(e,t),this.quaternion.multiply(Dp),this}rotateOnWorldAxis(e,t){return Dp.setFromAxisAngle(e,t),this.quaternion.premultiply(Dp),this}rotateX(e){return this.rotateOnAxis(EE,e)}rotateY(e){return this.rotateOnAxis(AE,e)}rotateZ(e){return this.rotateOnAxis(wE,e)}translateOnAxis(e,t){return TE.copy(e).applyQuaternion(this.quaternion),this.position.add(TE.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(EE,e)}translateY(e){return this.translateOnAxis(AE,e)}translateZ(e){return this.translateOnAxis(wE,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Yc.copy(this.matrixWorld).invert())}lookAt(e,t,n){e.isVector3?B_.copy(e):B_.set(e,t,n);const r=this.parent;this.updateWorldMatrix(!0,!1),h1.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Yc.lookAt(h1,B_,this.up):Yc.lookAt(B_,h1,this.up),this.quaternion.setFromRotationMatrix(Yc),r&&(Yc.extractRotation(r.matrixWorld),Dp.setFromRotationMatrix(Yc),this.quaternion.premultiply(Dp.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(It("Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(CE),Np.child=e,this.dispatchEvent(Np),Np.child=null):It("Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.remove(arguments[n]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(T7),Gb.child=e,this.dispatchEvent(Gb),Gb.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Yc.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Yc.multiply(e.parent.matrixWorld)),e.applyMatrix4(Yc),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(CE),Np.child=e,this.dispatchEvent(Np),Np.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let n=0,r=this.children.length;n<r;n++){const l=this.children[n].getObjectByProperty(e,t);if(l!==void 0)return l}}getObjectsByProperty(e,t,n=[]){this[e]===t&&n.push(this);const r=this.children;for(let a=0,l=r.length;a<l;a++)r[a].getObjectsByProperty(e,t,n);return n}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(h1,e,S7),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(h1,M7,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].updateMatrixWorld(e)}updateWorldMatrix(e,t){const n=this.parent;if(e===!0&&n!==null&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const r=this.children;for(let a=0,l=r.length;a<l;a++)r[a].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.geometryInfo=this._geometryInfo.map(u=>({...u,boundingBox:u.boundingBox?u.boundingBox.toJSON():void 0,boundingSphere:u.boundingSphere?u.boundingSphere.toJSON():void 0})),r.instanceInfo=this._instanceInfo.map(u=>({...u})),r.availableInstanceIds=this._availableInstanceIds.slice(),r.availableGeometryIds=this._availableGeometryIds.slice(),r.nextIndexStart=this._nextIndexStart,r.nextVertexStart=this._nextVertexStart,r.geometryCount=this._geometryCount,r.maxInstanceCount=this._maxInstanceCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.matricesTexture=this._matricesTexture.toJSON(e),r.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(r.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(r.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(r.boundingBox=this.boundingBox.toJSON()));function a(u,d){return u[d.uuid]===void 0&&(u[d.uuid]=d.toJSON(e)),d.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=a(e.geometries,this.geometry);const u=this.geometry.parameters;if(u!==void 0&&u.shapes!==void 0){const d=u.shapes;if(Array.isArray(d))for(let p=0,v=d.length;p<v;p++){const _=d[p];a(e.shapes,_)}else a(e.shapes,d)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(a(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const u=[];for(let d=0,p=this.material.length;d<p;d++)u.push(a(e.materials,this.material[d]));r.material=u}else r.material=a(e.materials,this.material);if(this.children.length>0){r.children=[];for(let u=0;u<this.children.length;u++)r.children.push(this.children[u].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let u=0;u<this.animations.length;u++){const d=this.animations[u];r.animations.push(a(e.animations,d))}}if(t){const u=l(e.geometries),d=l(e.materials),p=l(e.textures),v=l(e.images),_=l(e.shapes),y=l(e.skeletons),x=l(e.animations),M=l(e.nodes);u.length>0&&(n.geometries=u),d.length>0&&(n.materials=d),p.length>0&&(n.textures=p),v.length>0&&(n.images=v),_.length>0&&(n.shapes=_),y.length>0&&(n.skeletons=y),x.length>0&&(n.animations=x),M.length>0&&(n.nodes=M)}return n.object=r,n;function l(u){const d=[];for(const p in u){const v=u[p];delete v.metadata,d.push(v)}return d}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let n=0;n<e.children.length;n++){const r=e.children[n];this.add(r.clone())}return this}}qn.DEFAULT_UP=new $(0,1,0);qn.DEFAULT_MATRIX_AUTO_UPDATE=!0;qn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const fl=new $,jc=new $,Wb=new $,Zc=new $,Lp=new $,Op=new $,RE=new $,Xb=new $,qb=new $,Yb=new $,jb=new Ei,Zb=new Ei,Qb=new Ei;let cf=class Jp{constructor(e=new $,t=new $,n=new $){this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,r){r.subVectors(n,t),fl.subVectors(e,t),r.cross(fl);const a=r.lengthSq();return a>0?r.multiplyScalar(1/Math.sqrt(a)):r.set(0,0,0)}static getBarycoord(e,t,n,r,a){fl.subVectors(r,t),jc.subVectors(n,t),Wb.subVectors(e,t);const l=fl.dot(fl),u=fl.dot(jc),d=fl.dot(Wb),p=jc.dot(jc),v=jc.dot(Wb),_=l*p-u*u;if(_===0)return a.set(0,0,0),null;const y=1/_,x=(p*d-u*v)*y,M=(l*v-u*d)*y;return a.set(1-x-M,M,x)}static containsPoint(e,t,n,r){return this.getBarycoord(e,t,n,r,Zc)===null?!1:Zc.x>=0&&Zc.y>=0&&Zc.x+Zc.y<=1}static getInterpolation(e,t,n,r,a,l,u,d){return this.getBarycoord(e,t,n,r,Zc)===null?(d.x=0,d.y=0,"z"in d&&(d.z=0),"w"in d&&(d.w=0),null):(d.setScalar(0),d.addScaledVector(a,Zc.x),d.addScaledVector(l,Zc.y),d.addScaledVector(u,Zc.z),d)}static getInterpolatedAttribute(e,t,n,r,a,l){return jb.setScalar(0),Zb.setScalar(0),Qb.setScalar(0),jb.fromBufferAttribute(e,t),Zb.fromBufferAttribute(e,n),Qb.fromBufferAttribute(e,r),l.setScalar(0),l.addScaledVector(jb,a.x),l.addScaledVector(Zb,a.y),l.addScaledVector(Qb,a.z),l}static isFrontFacing(e,t,n,r){return fl.subVectors(n,t),jc.subVectors(e,t),fl.cross(jc).dot(r)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,n,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return fl.subVectors(this.c,this.b),jc.subVectors(this.a,this.b),fl.cross(jc).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Jp.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Jp.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,n,r,a){return Jp.getInterpolation(e,this.a,this.b,this.c,t,n,r,a)}containsPoint(e){return Jp.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Jp.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const n=this.a,r=this.b,a=this.c;let l,u;Lp.subVectors(r,n),Op.subVectors(a,n),Xb.subVectors(e,n);const d=Lp.dot(Xb),p=Op.dot(Xb);if(d<=0&&p<=0)return t.copy(n);qb.subVectors(e,r);const v=Lp.dot(qb),_=Op.dot(qb);if(v>=0&&_<=v)return t.copy(r);const y=d*_-v*p;if(y<=0&&d>=0&&v<=0)return l=d/(d-v),t.copy(n).addScaledVector(Lp,l);Yb.subVectors(e,a);const x=Lp.dot(Yb),M=Op.dot(Yb);if(M>=0&&x<=M)return t.copy(a);const E=x*p-d*M;if(E<=0&&p>=0&&M<=0)return u=p/(p-M),t.copy(n).addScaledVector(Op,u);const A=v*M-x*_;if(A<=0&&_-v>=0&&x-M>=0)return RE.subVectors(a,r),u=(_-v)/(_-v+(x-M)),t.copy(r).addScaledVector(RE,u);const T=1/(A+E+y);return l=E*T,u=y*T,t.copy(n).addScaledVector(Lp,l).addScaledVector(Op,u)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}};const aw={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},tf={h:0,s:0,l:0},F_={h:0,s:0,l:0};function Kb(i,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?i+(e-i)*6*t:t<1/2?e:t<2/3?i+(e-i)*6*(2/3-t):i}class Mt{constructor(e,t,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,n)}set(e,t,n){if(t===void 0&&n===void 0){const r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,t,n);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Bi){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Bn.colorSpaceToWorking(this,t),this}setRGB(e,t,n,r=Bn.workingColorSpace){return this.r=e,this.g=t,this.b=n,Bn.colorSpaceToWorking(this,r),this}setHSL(e,t,n,r=Bn.workingColorSpace){if(e=v4(e,1),t=Qt(t,0,1),n=Qt(n,0,1),t===0)this.r=this.g=this.b=n;else{const a=n<=.5?n*(1+t):n+t-n*t,l=2*n-a;this.r=Kb(l,a,e+1/3),this.g=Kb(l,a,e),this.b=Kb(l,a,e-1/3)}return Bn.colorSpaceToWorking(this,r),this}setStyle(e,t=Bi){function n(a){a!==void 0&&parseFloat(a)<1&&_t("Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let a;const l=r[1],u=r[2];switch(l){case"rgb":case"rgba":if(a=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u))return n(a[4]),this.setRGB(Math.min(255,parseInt(a[1],10))/255,Math.min(255,parseInt(a[2],10))/255,Math.min(255,parseInt(a[3],10))/255,t);if(a=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u))return n(a[4]),this.setRGB(Math.min(100,parseInt(a[1],10))/100,Math.min(100,parseInt(a[2],10))/100,Math.min(100,parseInt(a[3],10))/100,t);break;case"hsl":case"hsla":if(a=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u))return n(a[4]),this.setHSL(parseFloat(a[1])/360,parseFloat(a[2])/100,parseFloat(a[3])/100,t);break;default:_t("Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const a=r[1],l=a.length;if(l===3)return this.setRGB(parseInt(a.charAt(0),16)/15,parseInt(a.charAt(1),16)/15,parseInt(a.charAt(2),16)/15,t);if(l===6)return this.setHex(parseInt(a,16),t);_t("Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=Bi){const n=aw[e.toLowerCase()];return n!==void 0?this.setHex(n,t):_t("Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=iu(e.r),this.g=iu(e.g),this.b=iu(e.b),this}copyLinearToSRGB(e){return this.r=l0(e.r),this.g=l0(e.g),this.b=l0(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Bi){return Bn.workingToColorSpace(Rs.copy(this),e),Math.round(Qt(Rs.r*255,0,255))*65536+Math.round(Qt(Rs.g*255,0,255))*256+Math.round(Qt(Rs.b*255,0,255))}getHexString(e=Bi){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Bn.workingColorSpace){Bn.workingToColorSpace(Rs.copy(this),t);const n=Rs.r,r=Rs.g,a=Rs.b,l=Math.max(n,r,a),u=Math.min(n,r,a);let d,p;const v=(u+l)/2;if(u===l)d=0,p=0;else{const _=l-u;switch(p=v<=.5?_/(l+u):_/(2-l-u),l){case n:d=(r-a)/_+(r<a?6:0);break;case r:d=(a-n)/_+2;break;case a:d=(n-r)/_+4;break}d/=6}return e.h=d,e.s=p,e.l=v,e}getRGB(e,t=Bn.workingColorSpace){return Bn.workingToColorSpace(Rs.copy(this),t),e.r=Rs.r,e.g=Rs.g,e.b=Rs.b,e}getStyle(e=Bi){Bn.workingToColorSpace(Rs.copy(this),e);const t=Rs.r,n=Rs.g,r=Rs.b;return e!==Bi?`color(${e} ${t.toFixed(3)} ${n.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(n*255)},${Math.round(r*255)})`}offsetHSL(e,t,n){return this.getHSL(tf),this.setHSL(tf.h+e,tf.s+t,tf.l+n)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}lerpHSL(e,t){this.getHSL(tf),e.getHSL(F_);const n=H1(tf.h,F_.h,t),r=H1(tf.s,F_.s,t),a=H1(tf.l,F_.l,t);return this.setHSL(n,r,a),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,n=this.g,r=this.b,a=e.elements;return this.r=a[0]*t+a[3]*n+a[6]*r,this.g=a[1]*t+a[4]*n+a[7]*r,this.b=a[2]*t+a[5]*n+a[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Rs=new Mt;Mt.NAMES=aw;let E7=0;class ns extends uo{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:E7++}),this.uuid=so(),this.name="",this.type="Material",this.blending=qh,this.side=cc,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=Kx,this.blendDst=Jx,this.blendEquation=lf,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Mt(0,0,0),this.blendAlpha=0,this.depthFunc=id,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=cM,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Ph,this.stencilZFail=Ph,this.stencilZPass=Ph,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const n=e[t];if(n===void 0){_t(`Material: parameter '${t}' has value of undefined.`);continue}const r=this[t];if(r===void 0){_t(`Material: '${t}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const n={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),this.roughness!==void 0&&(n.roughness=this.roughness),this.metalness!==void 0&&(n.metalness=this.metalness),this.sheen!==void 0&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(n.shininess=this.shininess),this.clearcoat!==void 0&&(n.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.sheenColorMap&&this.sheenColorMap.isTexture&&(n.sheenColorMap=this.sheenColorMap.toJSON(e).uuid),this.sheenRoughnessMap&&this.sheenRoughnessMap.isTexture&&(n.sheenRoughnessMap=this.sheenRoughnessMap.toJSON(e).uuid),this.dispersion!==void 0&&(n.dispersion=this.dispersion),this.iridescence!==void 0&&(n.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(n.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(n.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(n.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(n.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(n.combine=this.combine)),this.envMapRotation!==void 0&&(n.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(n.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(n.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(n.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(n.size=this.size),this.shadowSide!==null&&(n.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==qh&&(n.blending=this.blending),this.side!==cc&&(n.side=this.side),this.vertexColors===!0&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),this.transparent===!0&&(n.transparent=!0),this.blendSrc!==Kx&&(n.blendSrc=this.blendSrc),this.blendDst!==Jx&&(n.blendDst=this.blendDst),this.blendEquation!==lf&&(n.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(n.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(n.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(n.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(n.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(n.blendAlpha=this.blendAlpha),this.depthFunc!==id&&(n.depthFunc=this.depthFunc),this.depthTest===!1&&(n.depthTest=this.depthTest),this.depthWrite===!1&&(n.depthWrite=this.depthWrite),this.colorWrite===!1&&(n.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(n.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==cM&&(n.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(n.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(n.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Ph&&(n.stencilFail=this.stencilFail),this.stencilZFail!==Ph&&(n.stencilZFail=this.stencilZFail),this.stencilZPass!==Ph&&(n.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(n.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(n.rotation=this.rotation),this.polygonOffset===!0&&(n.polygonOffset=!0),this.polygonOffsetFactor!==0&&(n.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(n.linewidth=this.linewidth),this.dashSize!==void 0&&(n.dashSize=this.dashSize),this.gapSize!==void 0&&(n.gapSize=this.gapSize),this.scale!==void 0&&(n.scale=this.scale),this.dithering===!0&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),this.alphaHash===!0&&(n.alphaHash=!0),this.alphaToCoverage===!0&&(n.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(n.premultipliedAlpha=!0),this.forceSinglePass===!0&&(n.forceSinglePass=!0),this.allowOverride===!1&&(n.allowOverride=!1),this.wireframe===!0&&(n.wireframe=!0),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(n.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(n.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(n.flatShading=!0),this.visible===!1&&(n.visible=!1),this.toneMapped===!1&&(n.toneMapped=!1),this.fog===!1&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData);function r(a){const l=[];for(const u in a){const d=a[u];delete d.metadata,l.push(d)}return l}if(t){const a=r(e.textures),l=r(e.images);a.length>0&&(n.textures=a),l.length>0&&(n.images=l)}return n}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(t!==null){const r=t.length;n=new Array(r);for(let a=0;a!==r;++a)n[a]=t[a].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.allowOverride=e.allowOverride,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Df extends ns{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Mt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new xl,this.combine=Bg,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const $c=A7();function A7(){const i=new ArrayBuffer(4),e=new Float32Array(i),t=new Uint32Array(i),n=new Uint32Array(512),r=new Uint32Array(512);for(let d=0;d<256;++d){const p=d-127;p<-27?(n[d]=0,n[d|256]=32768,r[d]=24,r[d|256]=24):p<-14?(n[d]=1024>>-p-14,n[d|256]=1024>>-p-14|32768,r[d]=-p-1,r[d|256]=-p-1):p<=15?(n[d]=p+15<<10,n[d|256]=p+15<<10|32768,r[d]=13,r[d|256]=13):p<128?(n[d]=31744,n[d|256]=64512,r[d]=24,r[d|256]=24):(n[d]=31744,n[d|256]=64512,r[d]=13,r[d|256]=13)}const a=new Uint32Array(2048),l=new Uint32Array(64),u=new Uint32Array(64);for(let d=1;d<1024;++d){let p=d<<13,v=0;for(;(p&8388608)===0;)p<<=1,v-=8388608;p&=-8388609,v+=947912704,a[d]=p|v}for(let d=1024;d<2048;++d)a[d]=939524096+(d-1024<<13);for(let d=1;d<31;++d)l[d]=d<<23;l[31]=1199570944,l[32]=2147483648;for(let d=33;d<63;++d)l[d]=2147483648+(d-32<<23);l[63]=3347054592;for(let d=1;d<64;++d)d!==32&&(u[d]=1024);return{floatView:e,uint32View:t,baseTable:n,shiftTable:r,mantissaTable:a,exponentTable:l,offsetTable:u}}function Ca(i){Math.abs(i)>65504&&_t("DataUtils.toHalfFloat(): Value out of range."),i=Qt(i,-65504,65504),$c.floatView[0]=i;const e=$c.uint32View[0],t=e>>23&511;return $c.baseTable[t]+((e&8388607)>>$c.shiftTable[t])}function A1(i){const e=i>>10;return $c.uint32View[0]=$c.mantissaTable[$c.offsetTable[e]+(i&1023)]+$c.exponentTable[e],$c.floatView[0]}class w7{static toHalfFloat(e){return Ca(e)}static fromHalfFloat(e){return A1(e)}}const Nr=new $,k_=new Ie;let C7=0;class ci{constructor(e,t,n=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:C7++}),this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=n,this.usage=mg,this.updateRanges=[],this.gpuType=Ps,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let r=0,a=this.itemSize;r<a;r++)this.array[e+r]=t.array[n+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,n=this.count;t<n;t++)k_.fromBufferAttribute(this,t),k_.applyMatrix3(e),this.setXY(t,k_.x,k_.y);else if(this.itemSize===3)for(let t=0,n=this.count;t<n;t++)Nr.fromBufferAttribute(this,t),Nr.applyMatrix3(e),this.setXYZ(t,Nr.x,Nr.y,Nr.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)Nr.fromBufferAttribute(this,t),Nr.applyMatrix4(e),this.setXYZ(t,Nr.x,Nr.y,Nr.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)Nr.fromBufferAttribute(this,t),Nr.applyNormalMatrix(e),this.setXYZ(t,Nr.x,Nr.y,Nr.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)Nr.fromBufferAttribute(this,t),Nr.transformDirection(e),this.setXYZ(t,Nr.x,Nr.y,Nr.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let n=this.array[e*this.itemSize+t];return this.normalized&&(n=ra(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=vn(n,this.array)),this.array[e*this.itemSize+t]=n,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=ra(t,this.array)),t}setX(e,t){return this.normalized&&(t=vn(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=ra(t,this.array)),t}setY(e,t){return this.normalized&&(t=vn(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=ra(t,this.array)),t}setZ(e,t){return this.normalized&&(t=vn(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=ra(t,this.array)),t}setW(e,t){return this.normalized&&(t=vn(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=vn(t,this.array),n=vn(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}setXYZ(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=vn(t,this.array),n=vn(n,this.array),r=vn(r,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this}setXYZW(e,t,n,r,a){return e*=this.itemSize,this.normalized&&(t=vn(t,this.array),n=vn(n,this.array),r=vn(r,this.array),a=vn(a,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=a,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==mg&&(e.usage=this.usage),e}}class R7 extends ci{constructor(e,t,n){super(new Int8Array(e),t,n)}}class D7 extends ci{constructor(e,t,n){super(new Uint8Array(e),t,n)}}class N7 extends ci{constructor(e,t,n){super(new Uint8ClampedArray(e),t,n)}}class L7 extends ci{constructor(e,t,n){super(new Int16Array(e),t,n)}}class x4 extends ci{constructor(e,t,n){super(new Uint16Array(e),t,n)}}class O7 extends ci{constructor(e,t,n){super(new Int32Array(e),t,n)}}class y4 extends ci{constructor(e,t,n){super(new Uint32Array(e),t,n)}}class U7 extends ci{constructor(e,t,n){super(new Uint16Array(e),t,n),this.isFloat16BufferAttribute=!0}getX(e){let t=A1(this.array[e*this.itemSize]);return this.normalized&&(t=ra(t,this.array)),t}setX(e,t){return this.normalized&&(t=vn(t,this.array)),this.array[e*this.itemSize]=Ca(t),this}getY(e){let t=A1(this.array[e*this.itemSize+1]);return this.normalized&&(t=ra(t,this.array)),t}setY(e,t){return this.normalized&&(t=vn(t,this.array)),this.array[e*this.itemSize+1]=Ca(t),this}getZ(e){let t=A1(this.array[e*this.itemSize+2]);return this.normalized&&(t=ra(t,this.array)),t}setZ(e,t){return this.normalized&&(t=vn(t,this.array)),this.array[e*this.itemSize+2]=Ca(t),this}getW(e){let t=A1(this.array[e*this.itemSize+3]);return this.normalized&&(t=ra(t,this.array)),t}setW(e,t){return this.normalized&&(t=vn(t,this.array)),this.array[e*this.itemSize+3]=Ca(t),this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=vn(t,this.array),n=vn(n,this.array)),this.array[e+0]=Ca(t),this.array[e+1]=Ca(n),this}setXYZ(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=vn(t,this.array),n=vn(n,this.array),r=vn(r,this.array)),this.array[e+0]=Ca(t),this.array[e+1]=Ca(n),this.array[e+2]=Ca(r),this}setXYZW(e,t,n,r,a){return e*=this.itemSize,this.normalized&&(t=vn(t,this.array),n=vn(n,this.array),r=vn(r,this.array),a=vn(a,this.array)),this.array[e+0]=Ca(t),this.array[e+1]=Ca(n),this.array[e+2]=Ca(r),this.array[e+3]=Ca(a),this}}class wt extends ci{constructor(e,t,n){super(new Float32Array(e),t,n)}}let P7=0;const Io=new en,Jb=new qn,Up=new $,Ya=new zs,d1=new zs,Jr=new $;class an extends uo{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:P7++}),this.uuid=so(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.indirectOffset=0,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(tw(e)?y4:x4)(e,1):this.index=e,this}setIndirect(e,t=0){return this.indirect=e,this.indirectOffset=t,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,n=0){this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(n!==void 0){const a=new dn().getNormalMatrix(e);n.applyNormalMatrix(a),n.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Io.makeRotationFromQuaternion(e),this.applyMatrix4(Io),this}rotateX(e){return Io.makeRotationX(e),this.applyMatrix4(Io),this}rotateY(e){return Io.makeRotationY(e),this.applyMatrix4(Io),this}rotateZ(e){return Io.makeRotationZ(e),this.applyMatrix4(Io),this}translate(e,t,n){return Io.makeTranslation(e,t,n),this.applyMatrix4(Io),this}scale(e,t,n){return Io.makeScale(e,t,n),this.applyMatrix4(Io),this}lookAt(e){return Jb.lookAt(e),Jb.updateMatrix(),this.applyMatrix4(Jb.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Up).negate(),this.translate(Up.x,Up.y,Up.z),this}setFromPoints(e){const t=this.getAttribute("position");if(t===void 0){const n=[];for(let r=0,a=e.length;r<a;r++){const l=e[r];n.push(l.x,l.y,l.z||0)}this.setAttribute("position",new wt(n,3))}else{const n=Math.min(e.length,t.count);for(let r=0;r<n;r++){const a=e[r];t.setXYZ(r,a.x,a.y,a.z||0)}e.length>t.count&&_t("BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new zs);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){It("BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new $(-1/0,-1/0,-1/0),new $(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let n=0,r=t.length;n<r;n++){const a=t[n];Ya.setFromBufferAttribute(a),this.morphTargetsRelative?(Jr.addVectors(this.boundingBox.min,Ya.min),this.boundingBox.expandByPoint(Jr),Jr.addVectors(this.boundingBox.max,Ya.max),this.boundingBox.expandByPoint(Jr)):(this.boundingBox.expandByPoint(Ya.min),this.boundingBox.expandByPoint(Ya.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&It('BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new ms);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){It("BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new $,1/0);return}if(e){const n=this.boundingSphere.center;if(Ya.setFromBufferAttribute(e),t)for(let a=0,l=t.length;a<l;a++){const u=t[a];d1.setFromBufferAttribute(u),this.morphTargetsRelative?(Jr.addVectors(Ya.min,d1.min),Ya.expandByPoint(Jr),Jr.addVectors(Ya.max,d1.max),Ya.expandByPoint(Jr)):(Ya.expandByPoint(d1.min),Ya.expandByPoint(d1.max))}Ya.getCenter(n);let r=0;for(let a=0,l=e.count;a<l;a++)Jr.fromBufferAttribute(e,a),r=Math.max(r,n.distanceToSquared(Jr));if(t)for(let a=0,l=t.length;a<l;a++){const u=t[a],d=this.morphTargetsRelative;for(let p=0,v=u.count;p<v;p++)Jr.fromBufferAttribute(u,p),d&&(Up.fromBufferAttribute(e,p),Jr.add(Up)),r=Math.max(r,n.distanceToSquared(Jr))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&It('BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){It("BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const n=t.position,r=t.normal,a=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new ci(new Float32Array(4*n.count),4));const l=this.getAttribute("tangent"),u=[],d=[];for(let k=0;k<n.count;k++)u[k]=new $,d[k]=new $;const p=new $,v=new $,_=new $,y=new Ie,x=new Ie,M=new Ie,E=new $,A=new $;function T(k,O,P){p.fromBufferAttribute(n,k),v.fromBufferAttribute(n,O),_.fromBufferAttribute(n,P),y.fromBufferAttribute(a,k),x.fromBufferAttribute(a,O),M.fromBufferAttribute(a,P),v.sub(p),_.sub(p),x.sub(y),M.sub(y);const W=1/(x.x*M.y-M.x*x.y);isFinite(W)&&(E.copy(v).multiplyScalar(M.y).addScaledVector(_,-x.y).multiplyScalar(W),A.copy(_).multiplyScalar(x.x).addScaledVector(v,-M.x).multiplyScalar(W),u[k].add(E),u[O].add(E),u[P].add(E),d[k].add(A),d[O].add(A),d[P].add(A))}let R=this.groups;R.length===0&&(R=[{start:0,count:e.count}]);for(let k=0,O=R.length;k<O;++k){const P=R[k],W=P.start,Z=P.count;for(let J=W,ee=W+Z;J<ee;J+=3)T(e.getX(J+0),e.getX(J+1),e.getX(J+2))}const D=new $,N=new $,U=new $,I=new $;function B(k){U.fromBufferAttribute(r,k),I.copy(U);const O=u[k];D.copy(O),D.sub(U.multiplyScalar(U.dot(O))).normalize(),N.crossVectors(I,O);const W=N.dot(d[k])<0?-1:1;l.setXYZW(k,D.x,D.y,D.z,W)}for(let k=0,O=R.length;k<O;++k){const P=R[k],W=P.start,Z=P.count;for(let J=W,ee=W+Z;J<ee;J+=3)B(e.getX(J+0)),B(e.getX(J+1)),B(e.getX(J+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let n=this.getAttribute("normal");if(n===void 0)n=new ci(new Float32Array(t.count*3),3),this.setAttribute("normal",n);else for(let y=0,x=n.count;y<x;y++)n.setXYZ(y,0,0,0);const r=new $,a=new $,l=new $,u=new $,d=new $,p=new $,v=new $,_=new $;if(e)for(let y=0,x=e.count;y<x;y+=3){const M=e.getX(y+0),E=e.getX(y+1),A=e.getX(y+2);r.fromBufferAttribute(t,M),a.fromBufferAttribute(t,E),l.fromBufferAttribute(t,A),v.subVectors(l,a),_.subVectors(r,a),v.cross(_),u.fromBufferAttribute(n,M),d.fromBufferAttribute(n,E),p.fromBufferAttribute(n,A),u.add(v),d.add(v),p.add(v),n.setXYZ(M,u.x,u.y,u.z),n.setXYZ(E,d.x,d.y,d.z),n.setXYZ(A,p.x,p.y,p.z)}else for(let y=0,x=t.count;y<x;y+=3)r.fromBufferAttribute(t,y+0),a.fromBufferAttribute(t,y+1),l.fromBufferAttribute(t,y+2),v.subVectors(l,a),_.subVectors(r,a),v.cross(_),n.setXYZ(y+0,v.x,v.y,v.z),n.setXYZ(y+1,v.x,v.y,v.z),n.setXYZ(y+2,v.x,v.y,v.z);this.normalizeNormals(),n.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)Jr.fromBufferAttribute(e,t),Jr.normalize(),e.setXYZ(t,Jr.x,Jr.y,Jr.z)}toNonIndexed(){function e(u,d){const p=u.array,v=u.itemSize,_=u.normalized,y=new p.constructor(d.length*v);let x=0,M=0;for(let E=0,A=d.length;E<A;E++){u.isInterleavedBufferAttribute?x=d[E]*u.data.stride+u.offset:x=d[E]*v;for(let T=0;T<v;T++)y[M++]=p[x++]}return new ci(y,v,_)}if(this.index===null)return _t("BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new an,n=this.index.array,r=this.attributes;for(const u in r){const d=r[u],p=e(d,n);t.setAttribute(u,p)}const a=this.morphAttributes;for(const u in a){const d=[],p=a[u];for(let v=0,_=p.length;v<_;v++){const y=p[v],x=e(y,n);d.push(x)}t.morphAttributes[u]=d}t.morphTargetsRelative=this.morphTargetsRelative;const l=this.groups;for(let u=0,d=l.length;u<d;u++){const p=l[u];t.addGroup(p.start,p.count,p.materialIndex)}return t}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const d=this.parameters;for(const p in d)d[p]!==void 0&&(e[p]=d[p]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const d in n){const p=n[d];e.data.attributes[d]=p.toJSON(e.data)}const r={};let a=!1;for(const d in this.morphAttributes){const p=this.morphAttributes[d],v=[];for(let _=0,y=p.length;_<y;_++){const x=p[_];v.push(x.toJSON(e.data))}v.length>0&&(r[d]=v,a=!0)}a&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const l=this.groups;l.length>0&&(e.data.groups=JSON.parse(JSON.stringify(l)));const u=this.boundingSphere;return u!==null&&(e.data.boundingSphere=u.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;n!==null&&this.setIndex(n.clone());const r=e.attributes;for(const p in r){const v=r[p];this.setAttribute(p,v.clone(t))}const a=e.morphAttributes;for(const p in a){const v=[],_=a[p];for(let y=0,x=_.length;y<x;y++)v.push(_[y].clone(t));this.morphAttributes[p]=v}this.morphTargetsRelative=e.morphTargetsRelative;const l=e.groups;for(let p=0,v=l.length;p<v;p++){const _=l[p];this.addGroup(_.start,_.count,_.materialIndex)}const u=e.boundingBox;u!==null&&(this.boundingBox=u.clone());const d=e.boundingSphere;return d!==null&&(this.boundingSphere=d.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const DE=new en,bh=new O0,V_=new ms,NE=new $,H_=new $,G_=new $,W_=new $,$b=new $,X_=new $,LE=new $,q_=new $;let br=class extends qn{constructor(e=new an,t=new Df){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const r=t[n[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,l=r.length;a<l;a++){const u=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[u]=a}}}}getVertexPosition(e,t){const n=this.geometry,r=n.attributes.position,a=n.morphAttributes.position,l=n.morphTargetsRelative;t.fromBufferAttribute(r,e);const u=this.morphTargetInfluences;if(a&&u){X_.set(0,0,0);for(let d=0,p=a.length;d<p;d++){const v=u[d],_=a[d];v!==0&&($b.fromBufferAttribute(_,e),l?X_.addScaledVector($b,v):X_.addScaledVector($b.sub(t),v))}t.add(X_)}return t}raycast(e,t){const n=this.geometry,r=this.material,a=this.matrixWorld;r!==void 0&&(n.boundingSphere===null&&n.computeBoundingSphere(),V_.copy(n.boundingSphere),V_.applyMatrix4(a),bh.copy(e.ray).recast(e.near),!(V_.containsPoint(bh.origin)===!1&&(bh.intersectSphere(V_,NE)===null||bh.origin.distanceToSquared(NE)>(e.far-e.near)**2))&&(DE.copy(a).invert(),bh.copy(e.ray).applyMatrix4(DE),!(n.boundingBox!==null&&bh.intersectsBox(n.boundingBox)===!1)&&this._computeIntersections(e,t,bh)))}_computeIntersections(e,t,n){let r;const a=this.geometry,l=this.material,u=a.index,d=a.attributes.position,p=a.attributes.uv,v=a.attributes.uv1,_=a.attributes.normal,y=a.groups,x=a.drawRange;if(u!==null)if(Array.isArray(l))for(let M=0,E=y.length;M<E;M++){const A=y[M],T=l[A.materialIndex],R=Math.max(A.start,x.start),D=Math.min(u.count,Math.min(A.start+A.count,x.start+x.count));for(let N=R,U=D;N<U;N+=3){const I=u.getX(N),B=u.getX(N+1),k=u.getX(N+2);r=Y_(this,T,e,n,p,v,_,I,B,k),r&&(r.faceIndex=Math.floor(N/3),r.face.materialIndex=A.materialIndex,t.push(r))}}else{const M=Math.max(0,x.start),E=Math.min(u.count,x.start+x.count);for(let A=M,T=E;A<T;A+=3){const R=u.getX(A),D=u.getX(A+1),N=u.getX(A+2);r=Y_(this,l,e,n,p,v,_,R,D,N),r&&(r.faceIndex=Math.floor(A/3),t.push(r))}}else if(d!==void 0)if(Array.isArray(l))for(let M=0,E=y.length;M<E;M++){const A=y[M],T=l[A.materialIndex],R=Math.max(A.start,x.start),D=Math.min(d.count,Math.min(A.start+A.count,x.start+x.count));for(let N=R,U=D;N<U;N+=3){const I=N,B=N+1,k=N+2;r=Y_(this,T,e,n,p,v,_,I,B,k),r&&(r.faceIndex=Math.floor(N/3),r.face.materialIndex=A.materialIndex,t.push(r))}}else{const M=Math.max(0,x.start),E=Math.min(d.count,x.start+x.count);for(let A=M,T=E;A<T;A+=3){const R=A,D=A+1,N=A+2;r=Y_(this,l,e,n,p,v,_,R,D,N),r&&(r.faceIndex=Math.floor(A/3),t.push(r))}}}};function I7(i,e,t,n,r,a,l,u){let d;if(e.side===Wr?d=n.intersectTriangle(l,a,r,!0,u):d=n.intersectTriangle(r,a,l,e.side===cc,u),d===null)return null;q_.copy(u),q_.applyMatrix4(i.matrixWorld);const p=t.ray.origin.distanceTo(q_);return p<t.near||p>t.far?null:{distance:p,point:q_.clone(),object:i}}function Y_(i,e,t,n,r,a,l,u,d,p){i.getVertexPosition(u,H_),i.getVertexPosition(d,G_),i.getVertexPosition(p,W_);const v=I7(i,e,t,n,H_,G_,W_,LE);if(v){const _=new $;cf.getBarycoord(LE,H_,G_,W_,_),r&&(v.uv=cf.getInterpolatedAttribute(r,u,d,p,_,new Ie)),a&&(v.uv1=cf.getInterpolatedAttribute(a,u,d,p,_,new Ie)),l&&(v.normal=cf.getInterpolatedAttribute(l,u,d,p,_,new $),v.normal.dot(n.direction)>0&&v.normal.multiplyScalar(-1));const y={a:u,b:d,c:p,normal:new $,materialIndex:0};cf.getNormal(H_,G_,W_,y.normal),v.face=y,v.barycoord=_}return v}class dd extends an{constructor(e=1,t=1,n=1,r=1,a=1,l=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:a,depthSegments:l};const u=this;r=Math.floor(r),a=Math.floor(a),l=Math.floor(l);const d=[],p=[],v=[],_=[];let y=0,x=0;M("z","y","x",-1,-1,n,t,e,l,a,0),M("z","y","x",1,-1,n,t,-e,l,a,1),M("x","z","y",1,1,e,n,t,r,l,2),M("x","z","y",1,-1,e,n,-t,r,l,3),M("x","y","z",1,-1,e,t,n,r,a,4),M("x","y","z",-1,-1,e,t,-n,r,a,5),this.setIndex(d),this.setAttribute("position",new wt(p,3)),this.setAttribute("normal",new wt(v,3)),this.setAttribute("uv",new wt(_,2));function M(E,A,T,R,D,N,U,I,B,k,O){const P=N/B,W=U/k,Z=N/2,J=U/2,ee=I/2,se=B+1,Y=k+1;let Q=0,ue=0;const ye=new $;for(let j=0;j<Y;j++){const X=j*W-J;for(let ce=0;ce<se;ce++){const Se=ce*P-Z;ye[E]=Se*R,ye[A]=X*D,ye[T]=ee,p.push(ye.x,ye.y,ye.z),ye[E]=0,ye[A]=0,ye[T]=I>0?1:-1,v.push(ye.x,ye.y,ye.z),_.push(ce/B),_.push(1-j/k),Q+=1}}for(let j=0;j<k;j++)for(let X=0;X<B;X++){const ce=y+X+se*j,Se=y+X+se*(j+1),Le=y+(X+1)+se*(j+1),Je=y+(X+1)+se*j;d.push(ce,Se,Je),d.push(Se,Le,Je),ue+=6}u.addGroup(x,ue,O),x+=ue,y+=Q}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new dd(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function b0(i){const e={};for(const t in i){e[t]={};for(const n in i[t]){const r=i[t][n];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(_t("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][n]=null):e[t][n]=r.clone():Array.isArray(r)?e[t][n]=r.slice():e[t][n]=r}}return e}function ea(i){const e={};for(let t=0;t<i.length;t++){const n=b0(i[t]);for(const r in n)e[r]=n[r]}return e}function z7(i){const e=[];for(let t=0;t<i.length;t++)e.push(i[t].clone());return e}function ow(i){const e=i.getRenderTarget();return e===null?i.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:Bn.workingColorSpace}const lw={clone:b0,merge:ea};var B7=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,F7=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Fs extends ns{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=B7,this.fragmentShader=F7,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=b0(e.uniforms),this.uniformsGroups=z7(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this.defaultAttributeValues=Object.assign({},e.defaultAttributeValues),this.index0AttributeName=e.index0AttributeName,this.uniformsNeedUpdate=e.uniformsNeedUpdate,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const l=this.uniforms[r].value;l&&l.isTexture?t.uniforms[r]={type:"t",value:l.toJSON(e).uuid}:l&&l.isColor?t.uniforms[r]={type:"c",value:l.getHex()}:l&&l.isVector2?t.uniforms[r]={type:"v2",value:l.toArray()}:l&&l.isVector3?t.uniforms[r]={type:"v3",value:l.toArray()}:l&&l.isVector4?t.uniforms[r]={type:"v4",value:l.toArray()}:l&&l.isMatrix3?t.uniforms[r]={type:"m3",value:l.toArray()}:l&&l.isMatrix4?t.uniforms[r]={type:"m4",value:l.toArray()}:t.uniforms[r]={value:l}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const n={};for(const r in this.extensions)this.extensions[r]===!0&&(n[r]=!0);return Object.keys(n).length>0&&(t.extensions=n),t}}class x3 extends qn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new en,this.projectionMatrix=new en,this.projectionMatrixInverse=new en,this.coordinateSystem=eo,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const nf=new $,OE=new Ie,UE=new Ie;class Hr extends x3{constructor(e=50,t=1,n=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=x0*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Yh*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return x0*2*Math.atan(Math.tan(Yh*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,n){nf.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(nf.x,nf.y).multiplyScalar(-e/nf.z),nf.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(nf.x,nf.y).multiplyScalar(-e/nf.z)}getViewSize(e,t){return this.getViewBounds(e,OE,UE),t.subVectors(UE,OE)}setViewOffset(e,t,n,r,a,l){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=a,this.view.height=l,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Yh*.5*this.fov)/this.zoom,n=2*t,r=this.aspect*n,a=-.5*r;const l=this.view;if(this.view!==null&&this.view.enabled){const d=l.fullWidth,p=l.fullHeight;a+=l.offsetX*r/d,t-=l.offsetY*n/p,r*=l.width/d,n*=l.height/p}const u=this.filmOffset;u!==0&&(a+=e*u/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+r,t,t-n,e,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const Pp=-90,Ip=1;class cw extends qn{constructor(e,t,n){super(),this.type="CubeCamera",this.renderTarget=n,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new Hr(Pp,Ip,e,t);r.layers=this.layers,this.add(r);const a=new Hr(Pp,Ip,e,t);a.layers=this.layers,this.add(a);const l=new Hr(Pp,Ip,e,t);l.layers=this.layers,this.add(l);const u=new Hr(Pp,Ip,e,t);u.layers=this.layers,this.add(u);const d=new Hr(Pp,Ip,e,t);d.layers=this.layers,this.add(d);const p=new Hr(Pp,Ip,e,t);p.layers=this.layers,this.add(p)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[n,r,a,l,u,d]=t;for(const p of t)this.remove(p);if(e===eo)n.up.set(0,1,0),n.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),a.up.set(0,0,-1),a.lookAt(0,1,0),l.up.set(0,0,1),l.lookAt(0,-1,0),u.up.set(0,1,0),u.lookAt(0,0,1),d.up.set(0,1,0),d.lookAt(0,0,-1);else if(e===v0)n.up.set(0,-1,0),n.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),a.up.set(0,0,1),a.lookAt(0,1,0),l.up.set(0,0,-1),l.lookAt(0,-1,0),u.up.set(0,-1,0),u.lookAt(0,0,1),d.up.set(0,-1,0),d.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const p of t)this.add(p),p.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:n,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[a,l,u,d,p,v]=this.children,_=e.getRenderTarget(),y=e.getActiveCubeFace(),x=e.getActiveMipmapLevel(),M=e.xr.enabled;e.xr.enabled=!1;const E=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0,r),e.render(t,a),e.setRenderTarget(n,1,r),e.render(t,l),e.setRenderTarget(n,2,r),e.render(t,u),e.setRenderTarget(n,3,r),e.render(t,d),e.setRenderTarget(n,4,r),e.render(t,p),n.texture.generateMipmaps=E,e.setRenderTarget(n,5,r),e.render(t,v),e.setRenderTarget(_,y,x),e.xr.enabled=M,n.texture.needsPMREMUpdate=!0}}class kg extends qi{constructor(e=[],t=uc,n,r,a,l,u,d,p,v){super(e,t,n,r,a,l,u,d,p,v),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class b4 extends Xr{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const n={width:e,height:e,depth:1},r=[n,n,n,n,n,n];this.texture=new kg(r),this._setTextureOptions(t),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const n={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new dd(5,5,5),a=new Fs({name:"CubemapFromEquirect",uniforms:b0(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:Wr,blending:io});a.uniforms.tEquirect.value=t;const l=new br(r,a),u=t.minFilter;return t.minFilter===ic&&(t.minFilter=hi),new cw(1,10,this).update(e,l),t.minFilter=u,l.geometry.dispose(),l.material.dispose(),this}clear(e,t=!0,n=!0,r=!0){const a=e.getRenderTarget();for(let l=0;l<6;l++)e.setRenderTarget(this,l),e.clear(t,n,r);e.setRenderTarget(a)}}class i0 extends qn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const k7={type:"move"};class Fx{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new i0,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new i0,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new $,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new $),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new i0,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new $,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new $),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const n of e.hand.values())this._getHandJoint(t,n)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,n){let r=null,a=null,l=null;const u=this._targetRay,d=this._grip,p=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(p&&e.hand){l=!0;for(const E of e.hand.values()){const A=t.getJointPose(E,n),T=this._getHandJoint(p,E);A!==null&&(T.matrix.fromArray(A.transform.matrix),T.matrix.decompose(T.position,T.rotation,T.scale),T.matrixWorldNeedsUpdate=!0,T.jointRadius=A.radius),T.visible=A!==null}const v=p.joints["index-finger-tip"],_=p.joints["thumb-tip"],y=v.position.distanceTo(_.position),x=.02,M=.005;p.inputState.pinching&&y>x+M?(p.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!p.inputState.pinching&&y<=x-M&&(p.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else d!==null&&e.gripSpace&&(a=t.getPose(e.gripSpace,n),a!==null&&(d.matrix.fromArray(a.transform.matrix),d.matrix.decompose(d.position,d.rotation,d.scale),d.matrixWorldNeedsUpdate=!0,a.linearVelocity?(d.hasLinearVelocity=!0,d.linearVelocity.copy(a.linearVelocity)):d.hasLinearVelocity=!1,a.angularVelocity?(d.hasAngularVelocity=!0,d.angularVelocity.copy(a.angularVelocity)):d.hasAngularVelocity=!1));u!==null&&(r=t.getPose(e.targetRaySpace,n),r===null&&a!==null&&(r=a),r!==null&&(u.matrix.fromArray(r.transform.matrix),u.matrix.decompose(u.position,u.rotation,u.scale),u.matrixWorldNeedsUpdate=!0,r.linearVelocity?(u.hasLinearVelocity=!0,u.linearVelocity.copy(r.linearVelocity)):u.hasLinearVelocity=!1,r.angularVelocity?(u.hasAngularVelocity=!0,u.angularVelocity.copy(r.angularVelocity)):u.hasAngularVelocity=!1,this.dispatchEvent(k7)))}return u!==null&&(u.visible=r!==null),d!==null&&(d.visible=a!==null),p!==null&&(p.visible=l!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const n=new i0;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}}class y3{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new Mt(e),this.density=t}clone(){return new y3(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class b3{constructor(e,t=1,n=1e3){this.isFog=!0,this.name="",this.color=new Mt(e),this.near=t,this.far=n}clone(){return new b3(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class _g extends qn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new xl,this.environmentIntensity=1,this.environmentRotation=new xl,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class S3{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=mg,this.updateRanges=[],this.version=0,this.uuid=so()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,n){e*=this.stride,n*=t.stride;for(let r=0,a=this.stride;r<a;r++)this.array[e+r]=t.array[n+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=so()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=so()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Ks=new $;class ad{constructor(e,t,n,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,n=this.data.count;t<n;t++)Ks.fromBufferAttribute(this,t),Ks.applyMatrix4(e),this.setXYZ(t,Ks.x,Ks.y,Ks.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)Ks.fromBufferAttribute(this,t),Ks.applyNormalMatrix(e),this.setXYZ(t,Ks.x,Ks.y,Ks.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)Ks.fromBufferAttribute(this,t),Ks.transformDirection(e),this.setXYZ(t,Ks.x,Ks.y,Ks.z);return this}getComponent(e,t){let n=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(n=ra(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=vn(n,this.array)),this.data.array[e*this.data.stride+this.offset+t]=n,this}setX(e,t){return this.normalized&&(t=vn(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=vn(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=vn(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=vn(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=ra(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=ra(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=ra(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=ra(t,this.array)),t}setXY(e,t,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=vn(t,this.array),n=vn(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this}setXYZ(e,t,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=vn(t,this.array),n=vn(n,this.array),r=vn(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this}setXYZW(e,t,n,r,a){return e=e*this.data.stride+this.offset,this.normalized&&(t=vn(t,this.array),n=vn(n,this.array),r=vn(r,this.array),a=vn(a,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=a,this}clone(e){if(e===void 0){vg("InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const r=n*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)t.push(this.data.array[r+a])}return new ci(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new ad(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){vg("InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const r=n*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)t.push(this.data.array[r+a])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class S4 extends ns{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Mt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let zp;const p1=new $,Bp=new $,Fp=new $,kp=new Ie,m1=new Ie,uw=new en,j_=new $,g1=new $,Z_=new $,PE=new Ie,eS=new Ie,IE=new Ie;class fw extends qn{constructor(e=new S4){if(super(),this.isSprite=!0,this.type="Sprite",zp===void 0){zp=new an;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),n=new S3(t,5);zp.setIndex([0,1,2,0,2,3]),zp.setAttribute("position",new ad(n,3,0,!1)),zp.setAttribute("uv",new ad(n,2,3,!1))}this.geometry=zp,this.material=e,this.center=new Ie(.5,.5),this.count=1}raycast(e,t){e.camera===null&&It('Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Bp.setFromMatrixScale(this.matrixWorld),uw.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Fp.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Bp.multiplyScalar(-Fp.z);const n=this.material.rotation;let r,a;n!==0&&(a=Math.cos(n),r=Math.sin(n));const l=this.center;Q_(j_.set(-.5,-.5,0),Fp,l,Bp,r,a),Q_(g1.set(.5,-.5,0),Fp,l,Bp,r,a),Q_(Z_.set(.5,.5,0),Fp,l,Bp,r,a),PE.set(0,0),eS.set(1,0),IE.set(1,1);let u=e.ray.intersectTriangle(j_,g1,Z_,!1,p1);if(u===null&&(Q_(g1.set(-.5,.5,0),Fp,l,Bp,r,a),eS.set(0,1),u=e.ray.intersectTriangle(j_,Z_,g1,!1,p1),u===null))return;const d=e.ray.origin.distanceTo(p1);d<e.near||d>e.far||t.push({distance:d,point:p1.clone(),uv:cf.getInterpolation(p1,j_,g1,Z_,PE,eS,IE,new Ie),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function Q_(i,e,t,n,r,a){kp.subVectors(i,t).addScalar(.5).multiply(n),r!==void 0?(m1.x=a*kp.x-r*kp.y,m1.y=r*kp.x+a*kp.y):m1.copy(kp),i.copy(e),i.x+=m1.x,i.y+=m1.y,i.applyMatrix4(uw)}const K_=new $,zE=new $;class hw extends qn{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let n=0,r=t.length;n<r;n++){const a=t[n];this.addLevel(a.object.clone(),a.distance,a.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,n=0){t=Math.abs(t);const r=this.levels;let a;for(a=0;a<r.length&&!(t<r[a].distance);a++);return r.splice(a,0,{distance:t,hysteresis:n,object:e}),this.add(e),this}removeLevel(e){const t=this.levels;for(let n=0;n<t.length;n++)if(t[n].distance===e){const r=t.splice(n,1);return this.remove(r[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let n,r;for(n=1,r=t.length;n<r;n++){let a=t[n].distance;if(t[n].object.visible&&(a-=a*t[n].hysteresis),e<a)break}return t[n-1].object}return null}raycast(e,t){if(this.levels.length>0){K_.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(K_);this.getObjectForDistance(r).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){K_.setFromMatrixPosition(e.matrixWorld),zE.setFromMatrixPosition(this.matrixWorld);const n=K_.distanceTo(zE)/e.zoom;t[0].object.visible=!0;let r,a;for(r=1,a=t.length;r<a;r++){let l=t[r].distance;if(t[r].object.visible&&(l-=l*t[r].hysteresis),n>=l)t[r-1].object.visible=!1,t[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<a;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const n=this.levels;for(let r=0,a=n.length;r<a;r++){const l=n[r];t.object.levels.push({object:l.object.uuid,distance:l.distance,hysteresis:l.hysteresis})}return t}}const BE=new $,FE=new Ei,kE=new Ei,V7=new $,VE=new en,J_=new $,tS=new ms,HE=new en,nS=new O0;class dw extends br{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=lM,this.bindMatrix=new en,this.bindMatrixInverse=new en,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new zs),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)this.getVertexPosition(n,J_),this.boundingBox.expandByPoint(J_)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new ms),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)this.getVertexPosition(n,J_),this.boundingSphere.expandByPoint(J_)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const n=this.material,r=this.matrixWorld;n!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),tS.copy(this.boundingSphere),tS.applyMatrix4(r),e.ray.intersectsSphere(tS)!==!1&&(HE.copy(r).invert(),nS.copy(e.ray).applyMatrix4(HE),!(this.boundingBox!==null&&nS.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,nS)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Ei,t=this.geometry.attributes.skinWeight;for(let n=0,r=t.count;n<r;n++){e.fromBufferAttribute(t,n);const a=1/e.manhattanLength();a!==1/0?e.multiplyScalar(a):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===lM?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===WA?this.bindMatrixInverse.copy(this.bindMatrix).invert():_t("SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const n=this.skeleton,r=this.geometry;FE.fromBufferAttribute(r.attributes.skinIndex,e),kE.fromBufferAttribute(r.attributes.skinWeight,e),BE.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let a=0;a<4;a++){const l=kE.getComponent(a);if(l!==0){const u=FE.getComponent(a);VE.multiplyMatrices(n.bones[u].matrixWorld,n.boneInverses[u]),t.addScaledVector(V7.copy(BE).applyMatrix4(VE),l)}}return t.applyMatrix4(this.bindMatrixInverse)}}class M4 extends qn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class vl extends qi{constructor(e=null,t=1,n=1,r,a,l,u,d,p=Fi,v=Fi,_,y){super(null,l,u,d,p,v,r,a,_,y),this.isDataTexture=!0,this.image={data:e,width:t,height:n},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const GE=new en,H7=new en;class M3{constructor(e=[],t=[]){this.uuid=so(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.previousBoneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){_t("Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let n=0,r=this.bones.length;n<r;n++)this.boneInverses.push(new en)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const n=new en;this.bones[e]&&n.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(n)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&n.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&(n.parent&&n.parent.isBone?(n.matrix.copy(n.parent.matrixWorld).invert(),n.matrix.multiply(n.matrixWorld)):n.matrix.copy(n.matrixWorld),n.matrix.decompose(n.position,n.quaternion,n.scale))}}update(){const e=this.bones,t=this.boneInverses,n=this.boneMatrices,r=this.boneTexture;for(let a=0,l=e.length;a<l;a++){const u=e[a]?e[a].matrixWorld:H7;GE.multiplyMatrices(u,t[a]),GE.toArray(n,a*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new M3(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const n=new vl(t,e,e,Is,Ps);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this}getBoneByName(e){for(let t=0,n=this.bones.length;t<n;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let n=0,r=e.bones.length;n<r;n++){const a=e.bones[n];let l=t[a];l===void 0&&(_t("Skeleton: No bone found with UUID:",a),l=new M4),this.bones.push(l),this.boneInverses.push(new en().fromArray(e.boneInverses[n]))}return this.init(),this}toJSON(){const e={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,n=this.boneInverses;for(let r=0,a=t.length;r<a;r++){const l=t[r];e.bones.push(l.uuid);const u=n[r];e.boneInverses.push(u.toArray())}return e}}class S0 extends ci{constructor(e,t,n,r=1){super(e,t,n),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Vp=new en,WE=new en,$_=[],XE=new zs,G7=new en,v1=new br,_1=new ms;class pw extends br{constructor(e,t,n){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new S0(new Float32Array(n*16),16),this.instanceColor=null,this.morphTexture=null,this.count=n,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<n;r++)this.setMatrixAt(r,G7)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new zs),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,Vp),XE.copy(e.boundingBox).applyMatrix4(Vp),this.boundingBox.union(XE)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new ms),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,Vp),_1.copy(e.boundingSphere).applyMatrix4(Vp),this.boundingSphere.union(_1)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const n=t.morphTargetInfluences,r=this.morphTexture.source.data.data,a=n.length+1,l=e*a+1;for(let u=0;u<n.length;u++)n[u]=r[l+u]}raycast(e,t){const n=this.matrixWorld,r=this.count;if(v1.geometry=this.geometry,v1.material=this.material,v1.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),_1.copy(this.boundingSphere),_1.applyMatrix4(n),e.ray.intersectsSphere(_1)!==!1))for(let a=0;a<r;a++){this.getMatrixAt(a,Vp),WE.multiplyMatrices(n,Vp),v1.matrixWorld=WE,v1.raycast(e,$_);for(let l=0,u=$_.length;l<u;l++){const d=$_[l];d.instanceId=a,d.object=this,t.push(d)}$_.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new S0(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const n=t.morphTargetInfluences,r=n.length+1;this.morphTexture===null&&(this.morphTexture=new vl(new Float32Array(r*this.count),r,this.count,f3,Ps));const a=this.morphTexture.source.data.data;let l=0;for(let p=0;p<n.length;p++)l+=n[p];const u=this.geometry.morphTargetsRelative?1:1-l,d=r*e;a[d]=u,a.set(n,d+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const iS=new $,W7=new $,X7=new dn;class of{constructor(e=new $(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){const r=iS.subVectors(n,t).cross(W7.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const n=e.delta(iS),r=this.normal.dot(n);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const a=-(e.start.dot(this.normal)+this.constant)/r;return a<0||a>1?null:t.copy(e.start).addScaledVector(n,a)}intersectsLine(e){const t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const n=t||X7.getNormalMatrix(e),r=this.coplanarPoint(iS).applyMatrix4(e),a=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(a),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Sh=new ms,q7=new Ie(.5,.5),ex=new $;class U0{constructor(e=new of,t=new of,n=new of,r=new of,a=new of,l=new of){this.planes=[e,t,n,r,a,l]}set(e,t,n,r,a,l){const u=this.planes;return u[0].copy(e),u[1].copy(t),u[2].copy(n),u[3].copy(r),u[4].copy(a),u[5].copy(l),this}copy(e){const t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e,t=eo,n=!1){const r=this.planes,a=e.elements,l=a[0],u=a[1],d=a[2],p=a[3],v=a[4],_=a[5],y=a[6],x=a[7],M=a[8],E=a[9],A=a[10],T=a[11],R=a[12],D=a[13],N=a[14],U=a[15];if(r[0].setComponents(p-l,x-v,T-M,U-R).normalize(),r[1].setComponents(p+l,x+v,T+M,U+R).normalize(),r[2].setComponents(p+u,x+_,T+E,U+D).normalize(),r[3].setComponents(p-u,x-_,T-E,U-D).normalize(),n)r[4].setComponents(d,y,A,N).normalize(),r[5].setComponents(p-d,x-y,T-A,U-N).normalize();else if(r[4].setComponents(p-d,x-y,T-A,U-N).normalize(),t===eo)r[5].setComponents(p+d,x+y,T+A,U+N).normalize();else if(t===v0)r[5].setComponents(d,y,A,N).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Sh.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),Sh.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Sh)}intersectsSprite(e){Sh.center.set(0,0,0);const t=q7.distanceTo(e.center);return Sh.radius=.7071067811865476+t,Sh.applyMatrix4(e.matrixWorld),this.intersectsSphere(Sh)}intersectsSphere(e){const t=this.planes,n=e.center,r=-e.radius;for(let a=0;a<6;a++)if(t[a].distanceToPoint(n)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let n=0;n<6;n++){const r=t[n];if(ex.x=r.normal.x>0?e.max.x:e.min.x,ex.y=r.normal.y>0?e.max.y:e.min.y,ex.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(ex)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const Ql=new en,Kl=new U0;class T3{constructor(){this.coordinateSystem=eo}intersectsObject(e,t){if(!t.isArrayCamera||t.cameras.length===0)return!1;for(let n=0;n<t.cameras.length;n++){const r=t.cameras[n];if(Ql.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Kl.setFromProjectionMatrix(Ql,r.coordinateSystem,r.reversedDepth),Kl.intersectsObject(e))return!0}return!1}intersectsSprite(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let n=0;n<t.cameras.length;n++){const r=t.cameras[n];if(Ql.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Kl.setFromProjectionMatrix(Ql,r.coordinateSystem,r.reversedDepth),Kl.intersectsSprite(e))return!0}return!1}intersectsSphere(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let n=0;n<t.cameras.length;n++){const r=t.cameras[n];if(Ql.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Kl.setFromProjectionMatrix(Ql,r.coordinateSystem,r.reversedDepth),Kl.intersectsSphere(e))return!0}return!1}intersectsBox(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let n=0;n<t.cameras.length;n++){const r=t.cameras[n];if(Ql.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Kl.setFromProjectionMatrix(Ql,r.coordinateSystem,r.reversedDepth),Kl.intersectsBox(e))return!0}return!1}containsPoint(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let n=0;n<t.cameras.length;n++){const r=t.cameras[n];if(Ql.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Kl.setFromProjectionMatrix(Ql,r.coordinateSystem,r.reversedDepth),Kl.containsPoint(e))return!0}return!1}clone(){return new T3}}function rS(i,e){return i-e}function Y7(i,e){return i.z-e.z}function j7(i,e){return e.z-i.z}class Z7{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,n,r){const a=this.pool,l=this.list;this.index>=a.length&&a.push({start:-1,count:-1,z:-1,index:-1});const u=a[this.index];l.push(u),this.index++,u.start=e,u.count=t,u.z=n,u.index=r}reset(){this.list.length=0,this.index=0}}const wa=new en,Q7=new Mt(1,1,1),qE=new U0,K7=new T3,tx=new zs,Mh=new ms,x1=new $,YE=new $,J7=new $,sS=new Z7,Ds=new br,nx=[];function $7(i,e,t=0){const n=e.itemSize;if(i.isInterleavedBufferAttribute||i.array.constructor!==e.array.constructor){const r=i.count;for(let a=0;a<r;a++)for(let l=0;l<n;l++)e.setComponent(a+t,l,i.getComponent(a,l))}else e.array.set(i.array,t*n);e.needsUpdate=!0}function Th(i,e){if(i.constructor!==e.constructor){const t=Math.min(i.length,e.length);for(let n=0;n<t;n++)e[n]=i[n]}else{const t=Math.min(i.length,e.length);e.set(new i.constructor(i.buffer,0,t))}}class mw extends br{constructor(e,t,n=t*2,r){super(new an,r),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=n,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),n=new vl(t,e,e,Is,Ps);this._matricesTexture=n}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),n=new vl(t,e,e,Fg,oo);this._indirectTexture=n}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),n=new vl(t,e,e,Is,Ps);n.colorSpace=Bn.workingColorSpace,this._colorsTexture=n}_initializeGeometry(e){const t=this.geometry,n=this._maxVertexCount,r=this._maxIndexCount;if(this._geometryInitialized===!1){for(const a in e.attributes){const l=e.getAttribute(a),{array:u,itemSize:d,normalized:p}=l,v=new u.constructor(n*d),_=new ci(v,d,p);t.setAttribute(a,_)}if(e.getIndex()!==null){const a=n>65535?new Uint32Array(r):new Uint16Array(r);t.setIndex(new ci(a,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const n in t.attributes){if(!e.hasAttribute(n))throw new Error(`THREE.BatchedMesh: Added geometry missing "${n}". All geometries must have consistent attributes.`);const r=e.getAttribute(n),a=t.getAttribute(n);if(r.itemSize!==a.itemSize||r.normalized!==a.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const t=this._instanceInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const t=this._geometryInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new zs);const e=this.boundingBox,t=this._instanceInfo;e.makeEmpty();for(let n=0,r=t.length;n<r;n++){if(t[n].active===!1)continue;const a=t[n].geometryIndex;this.getMatrixAt(n,wa),this.getBoundingBoxAt(a,tx).applyMatrix4(wa),e.union(tx)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new ms);const e=this.boundingSphere,t=this._instanceInfo;e.makeEmpty();for(let n=0,r=t.length;n<r;n++){if(t[n].active===!1)continue;const a=t[n].geometryIndex;this.getMatrixAt(n,wa),this.getBoundingSphereAt(a,Mh).applyMatrix4(wa),e.union(Mh)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const n={visible:!0,active:!0,geometryIndex:e};let r=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(rS),r=this._availableInstanceIds.shift(),this._instanceInfo[r]=n):(r=this._instanceInfo.length,this._instanceInfo.push(n));const a=this._matricesTexture;wa.identity().toArray(a.image.data,r*16),a.needsUpdate=!0;const l=this._colorsTexture;return l&&(Q7.toArray(l.image.data,r*4),l.needsUpdate=!0),this._visibilityChanged=!0,r}addGeometry(e,t=-1,n=-1){this._initializeGeometry(e),this._validateGeometry(e);const r={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},a=this._geometryInfo;r.vertexStart=this._nextVertexStart,r.reservedVertexCount=t===-1?e.getAttribute("position").count:t;const l=e.getIndex();if(l!==null&&(r.indexStart=this._nextIndexStart,r.reservedIndexCount=n===-1?l.count:n),r.indexStart!==-1&&r.indexStart+r.reservedIndexCount>this._maxIndexCount||r.vertexStart+r.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let d;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(rS),d=this._availableGeometryIds.shift(),a[d]=r):(d=this._geometryCount,this._geometryCount++,a.push(r)),this.setGeometryAt(d,e),this._nextIndexStart=r.indexStart+r.reservedIndexCount,this._nextVertexStart=r.vertexStart+r.reservedVertexCount,d}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const n=this.geometry,r=n.getIndex()!==null,a=n.getIndex(),l=t.getIndex(),u=this._geometryInfo[e];if(r&&l.count>u.reservedIndexCount||t.attributes.position.count>u.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const d=u.vertexStart,p=u.reservedVertexCount;u.vertexCount=t.getAttribute("position").count;for(const v in n.attributes){const _=t.getAttribute(v),y=n.getAttribute(v);$7(_,y,d);const x=_.itemSize;for(let M=_.count,E=p;M<E;M++){const A=d+M;for(let T=0;T<x;T++)y.setComponent(A,T,0)}y.needsUpdate=!0,y.addUpdateRange(d*x,p*x)}if(r){const v=u.indexStart,_=u.reservedIndexCount;u.indexCount=t.getIndex().count;for(let y=0;y<l.count;y++)a.setX(v+y,d+l.getX(y));for(let y=l.count,x=_;y<x;y++)a.setX(v+y,d);a.needsUpdate=!0,a.addUpdateRange(v,u.reservedIndexCount)}return u.start=r?u.indexStart:u.vertexStart,u.count=r?u.indexCount:u.vertexCount,u.boundingBox=null,t.boundingBox!==null&&(u.boundingBox=t.boundingBox.clone()),u.boundingSphere=null,t.boundingSphere!==null&&(u.boundingSphere=t.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._geometryInfo;if(e>=t.length||t[e].active===!1)return this;const n=this._instanceInfo;for(let r=0,a=n.length;r<a;r++)n[r].active&&n[r].geometryIndex===e&&this.deleteInstance(r);return t[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,t=0;const n=this._geometryInfo,r=n.map((l,u)=>u).sort((l,u)=>n[l].vertexStart-n[u].vertexStart),a=this.geometry;for(let l=0,u=n.length;l<u;l++){const d=r[l],p=n[d];if(p.active!==!1){if(a.index!==null){if(p.indexStart!==t){const{indexStart:v,vertexStart:_,reservedIndexCount:y}=p,x=a.index,M=x.array,E=e-_;for(let A=v;A<v+y;A++)M[A]=M[A]+E;x.array.copyWithin(t,v,v+y),x.addUpdateRange(t,y),x.needsUpdate=!0,p.indexStart=t}t+=p.reservedIndexCount}if(p.vertexStart!==e){const{vertexStart:v,reservedVertexCount:_}=p,y=a.attributes;for(const x in y){const M=y[x],{array:E,itemSize:A}=M;E.copyWithin(e*A,v*A,(v+_)*A),M.addUpdateRange(e*A,_*A),M.needsUpdate=!0}p.vertexStart=e}e+=p.reservedVertexCount,p.start=a.index?p.indexStart:p.vertexStart,this._nextIndexStart=a.index?p.indexStart+p.reservedIndexCount:0,this._nextVertexStart=p.vertexStart+p.reservedVertexCount}}return this._visibilityChanged=!0,this}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const n=this.geometry,r=this._geometryInfo[e];if(r.boundingBox===null){const a=new zs,l=n.index,u=n.attributes.position;for(let d=r.start,p=r.start+r.count;d<p;d++){let v=d;l&&(v=l.getX(v)),a.expandByPoint(x1.fromBufferAttribute(u,v))}r.boundingBox=a}return t.copy(r.boundingBox),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const n=this.geometry,r=this._geometryInfo[e];if(r.boundingSphere===null){const a=new ms;this.getBoundingBoxAt(e,tx),tx.getCenter(a.center);const l=n.index,u=n.attributes.position;let d=0;for(let p=r.start,v=r.start+r.count;p<v;p++){let _=p;l&&(_=l.getX(_)),x1.fromBufferAttribute(u,_),d=Math.max(d,a.center.distanceToSquared(x1))}a.radius=Math.sqrt(d),r.boundingSphere=a}return t.copy(r.boundingSphere),t}setMatrixAt(e,t){this.validateInstanceId(e);const n=this._matricesTexture,r=this._matricesTexture.image.data;return t.toArray(r,e*16),n.needsUpdate=!0,this}getMatrixAt(e,t){return this.validateInstanceId(e),t.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,t){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),t.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,t){return this.validateInstanceId(e),t.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,t){return this.validateInstanceId(e),this._instanceInfo[e].visible===t?this:(this._instanceInfo[e].visible=t,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,t){return this.validateInstanceId(e),this.validateGeometryId(t),this._instanceInfo[e].geometryIndex=t,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,t={}){this.validateGeometryId(e);const n=this._geometryInfo[e];return t.vertexStart=n.vertexStart,t.vertexCount=n.vertexCount,t.reservedVertexCount=n.reservedVertexCount,t.indexStart=n.indexStart,t.indexCount=n.indexCount,t.reservedIndexCount=n.reservedIndexCount,t.start=n.start,t.count=n.count,t}setInstanceCount(e){const t=this._availableInstanceIds,n=this._instanceInfo;for(t.sort(rS);t[t.length-1]===n.length-1;)n.pop(),t.pop();if(e<n.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const r=new Int32Array(e),a=new Int32Array(e);Th(this._multiDrawCounts,r),Th(this._multiDrawStarts,a),this._multiDrawCounts=r,this._multiDrawStarts=a,this._maxInstanceCount=e;const l=this._indirectTexture,u=this._matricesTexture,d=this._colorsTexture;l.dispose(),this._initIndirectTexture(),Th(l.image.data,this._indirectTexture.image.data),u.dispose(),this._initMatricesTexture(),Th(u.image.data,this._matricesTexture.image.data),d&&(d.dispose(),this._initColorsTexture(),Th(d.image.data,this._colorsTexture.image.data))}setGeometrySize(e,t){const n=[...this._geometryInfo].filter(u=>u.active);if(Math.max(...n.map(u=>u.vertexStart+u.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${t}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...n.map(d=>d.indexStart+d.reservedIndexCount))>t)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${t}. Cannot shrink further.`);const a=this.geometry;a.dispose(),this._maxVertexCount=e,this._maxIndexCount=t,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new an,this._initializeGeometry(a));const l=this.geometry;a.index&&Th(a.index.array,l.index.array);for(const u in a.attributes)Th(a.attributes[u].array,l.attributes[u].array)}raycast(e,t){const n=this._instanceInfo,r=this._geometryInfo,a=this.matrixWorld,l=this.geometry;Ds.material=this.material,Ds.geometry.index=l.index,Ds.geometry.attributes=l.attributes,Ds.geometry.boundingBox===null&&(Ds.geometry.boundingBox=new zs),Ds.geometry.boundingSphere===null&&(Ds.geometry.boundingSphere=new ms);for(let u=0,d=n.length;u<d;u++){if(!n[u].visible||!n[u].active)continue;const p=n[u].geometryIndex,v=r[p];Ds.geometry.setDrawRange(v.start,v.count),this.getMatrixAt(u,Ds.matrixWorld).premultiply(a),this.getBoundingBoxAt(p,Ds.geometry.boundingBox),this.getBoundingSphereAt(p,Ds.geometry.boundingSphere),Ds.raycast(e,nx);for(let _=0,y=nx.length;_<y;_++){const x=nx[_];x.object=this,x.batchId=u,t.push(x)}nx.length=0}Ds.material=null,Ds.geometry.index=null,Ds.geometry.attributes={},Ds.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(t=>({...t,boundingBox:t.boundingBox!==null?t.boundingBox.clone():null,boundingSphere:t.boundingSphere!==null?t.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(t=>({...t})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,t,n,r,a){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const l=r.getIndex(),u=l===null?1:l.array.BYTES_PER_ELEMENT,d=this._instanceInfo,p=this._multiDrawStarts,v=this._multiDrawCounts,_=this._geometryInfo,y=this.perObjectFrustumCulled,x=this._indirectTexture,M=x.image.data,E=n.isArrayCamera?K7:qE;y&&!n.isArrayCamera&&(wa.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse).multiply(this.matrixWorld),qE.setFromProjectionMatrix(wa,n.coordinateSystem,n.reversedDepth));let A=0;if(this.sortObjects){wa.copy(this.matrixWorld).invert(),x1.setFromMatrixPosition(n.matrixWorld).applyMatrix4(wa),YE.set(0,0,-1).transformDirection(n.matrixWorld).transformDirection(wa);for(let D=0,N=d.length;D<N;D++)if(d[D].visible&&d[D].active){const U=d[D].geometryIndex;this.getMatrixAt(D,wa),this.getBoundingSphereAt(U,Mh).applyMatrix4(wa);let I=!1;if(y&&(I=!E.intersectsSphere(Mh,n)),!I){const B=_[U],k=J7.subVectors(Mh.center,x1).dot(YE);sS.push(B.start,B.count,k,D)}}const T=sS.list,R=this.customSort;R===null?T.sort(a.transparent?j7:Y7):R.call(this,T,n);for(let D=0,N=T.length;D<N;D++){const U=T[D];p[A]=U.start*u,v[A]=U.count,M[A]=U.index,A++}sS.reset()}else for(let T=0,R=d.length;T<R;T++)if(d[T].visible&&d[T].active){const D=d[T].geometryIndex;let N=!1;if(y&&(this.getMatrixAt(T,wa),this.getBoundingSphereAt(D,Mh).applyMatrix4(wa),N=!E.intersectsSphere(Mh,n)),!N){const U=_[D];p[A]=U.start*u,v[A]=U.count,M[A]=T,A++}}x.needsUpdate=!0,this._multiDrawCount=A,this._visibilityChanged=!1}onBeforeShadow(e,t,n,r,a,l){this.onBeforeRender(e,null,r,a,l)}}class oa extends ns{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Mt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const By=new $,Fy=new $,jE=new en,y1=new O0,ix=new ms,aS=new $,ZE=new $;class Mf extends qn{constructor(e=new an,t=new oa){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,n=[0];for(let r=1,a=t.count;r<a;r++)By.fromBufferAttribute(t,r-1),Fy.fromBufferAttribute(t,r),n[r]=n[r-1],n[r]+=By.distanceTo(Fy);e.setAttribute("lineDistance",new wt(n,1))}else _t("Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const n=this.geometry,r=this.matrixWorld,a=e.params.Line.threshold,l=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),ix.copy(n.boundingSphere),ix.applyMatrix4(r),ix.radius+=a,e.ray.intersectsSphere(ix)===!1)return;jE.copy(r).invert(),y1.copy(e.ray).applyMatrix4(jE);const u=a/((this.scale.x+this.scale.y+this.scale.z)/3),d=u*u,p=this.isLineSegments?2:1,v=n.index,y=n.attributes.position;if(v!==null){const x=Math.max(0,l.start),M=Math.min(v.count,l.start+l.count);for(let E=x,A=M-1;E<A;E+=p){const T=v.getX(E),R=v.getX(E+1),D=rx(this,e,y1,d,T,R,E);D&&t.push(D)}if(this.isLineLoop){const E=v.getX(M-1),A=v.getX(x),T=rx(this,e,y1,d,E,A,M-1);T&&t.push(T)}}else{const x=Math.max(0,l.start),M=Math.min(y.count,l.start+l.count);for(let E=x,A=M-1;E<A;E+=p){const T=rx(this,e,y1,d,E,E+1,E);T&&t.push(T)}if(this.isLineLoop){const E=rx(this,e,y1,d,M-1,x,M-1);E&&t.push(E)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const r=t[n[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,l=r.length;a<l;a++){const u=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[u]=a}}}}}function rx(i,e,t,n,r,a,l){const u=i.geometry.attributes.position;if(By.fromBufferAttribute(u,r),Fy.fromBufferAttribute(u,a),t.distanceSqToSegment(By,Fy,aS,ZE)>n)return;aS.applyMatrix4(i.matrixWorld);const p=e.ray.origin.distanceTo(aS);if(!(p<e.near||p>e.far))return{distance:p,point:ZE.clone().applyMatrix4(i.matrixWorld),index:l,face:null,faceIndex:null,barycoord:null,object:i}}const QE=new $,KE=new $;class pc extends Mf{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,n=[];for(let r=0,a=t.count;r<a;r+=2)QE.fromBufferAttribute(t,r),KE.fromBufferAttribute(t,r+1),n[r]=r===0?0:n[r-1],n[r+1]=n[r]+QE.distanceTo(KE);e.setAttribute("lineDistance",new wt(n,1))}else _t("LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class gw extends Mf{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class T4 extends ns{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Mt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const JE=new en,fM=new O0,sx=new ms,ax=new $;class vw extends qn{constructor(e=new an,t=new T4){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const n=this.geometry,r=this.matrixWorld,a=e.params.Points.threshold,l=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),sx.copy(n.boundingSphere),sx.applyMatrix4(r),sx.radius+=a,e.ray.intersectsSphere(sx)===!1)return;JE.copy(r).invert(),fM.copy(e.ray).applyMatrix4(JE);const u=a/((this.scale.x+this.scale.y+this.scale.z)/3),d=u*u,p=n.index,_=n.attributes.position;if(p!==null){const y=Math.max(0,l.start),x=Math.min(p.count,l.start+l.count);for(let M=y,E=x;M<E;M++){const A=p.getX(M);ax.fromBufferAttribute(_,A),$E(ax,A,d,r,e,t,this)}}else{const y=Math.max(0,l.start),x=Math.min(_.count,l.start+l.count);for(let M=y,E=x;M<E;M++)ax.fromBufferAttribute(_,M),$E(ax,M,d,r,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const r=t[n[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,l=r.length;a<l;a++){const u=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[u]=a}}}}}function $E(i,e,t,n,r,a,l){const u=fM.distanceSqToPoint(i);if(u<t){const d=new $;fM.closestPointToPoint(i,d),d.applyMatrix4(n);const p=r.ray.origin.distanceTo(d);if(p<r.near||p>r.far)return;a.push({distance:p,distanceToRay:Math.sqrt(u),point:d,index:e,face:null,faceIndex:null,barycoord:null,object:l})}}class _w extends qi{constructor(e,t,n,r,a=hi,l=hi,u,d,p){super(e,t,n,r,a,l,u,d,p),this.isVideoTexture=!0,this.generateMipmaps=!1,this._requestVideoFrameCallbackId=0;const v=this;function _(){v.needsUpdate=!0,v._requestVideoFrameCallbackId=e.requestVideoFrameCallback(_)}"requestVideoFrameCallback"in e&&(this._requestVideoFrameCallbackId=e.requestVideoFrameCallback(_))}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}dispose(){this._requestVideoFrameCallbackId!==0&&(this.source.data.cancelVideoFrameCallback(this._requestVideoFrameCallbackId),this._requestVideoFrameCallbackId=0),super.dispose()}}class eD extends _w{constructor(e,t,n,r,a,l,u,d){super({},e,t,n,r,a,l,u,d),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class tD extends qi{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=Fi,this.minFilter=Fi,this.generateMipmaps=!1,this.needsUpdate=!0}}class E3 extends qi{constructor(e,t,n,r,a,l,u,d,p,v,_,y){super(null,l,u,d,p,v,r,a,_,y),this.isCompressedTexture=!0,this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class nD extends E3{constructor(e,t,n,r,a,l){super(e,t,n,a,l),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=La,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class iD extends E3{constructor(e,t,n){super(void 0,e[0].width,e[0].height,t,n,uc),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class rD extends qi{constructor(e,t,n,r,a,l,u,d,p){super(e,t,n,r,a,l,u,d,p),this.isCanvasTexture=!0,this.needsUpdate=!0}}class od extends qi{constructor(e,t,n=oo,r,a,l,u=Fi,d=Fi,p,v=fc,_=1){if(v!==fc&&v!==tu)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const y={width:e,height:t,depth:_};super(y,r,a,l,u,d,v,n,p),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new ff(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class xw extends od{constructor(e,t=oo,n=uc,r,a,l=Fi,u=Fi,d,p=fc){const v={width:e,height:e,depth:1},_=[v,v,v,v,v,v];super(e,e,t,n,r,a,l,u,d,p),this.image=_,this.isCubeDepthTexture=!0,this.isCubeTexture=!0}get images(){return this.image}set images(e){this.image=e}}class E4 extends qi{constructor(e=null){super(),this.sourceTexture=e,this.isExternalTexture=!0}copy(e){return super.copy(e),this.sourceTexture=e.sourceTexture,this}}class A3 extends an{constructor(e=1,t=1,n=4,r=8,a=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:n,radialSegments:r,heightSegments:a},t=Math.max(0,t),n=Math.max(1,Math.floor(n)),r=Math.max(3,Math.floor(r)),a=Math.max(1,Math.floor(a));const l=[],u=[],d=[],p=[],v=t/2,_=Math.PI/2*e,y=t,x=2*_+y,M=n*2+a,E=r+1,A=new $,T=new $;for(let R=0;R<=M;R++){let D=0,N=0,U=0,I=0;if(R<=n){const O=R/n,P=O*Math.PI/2;N=-v-e*Math.cos(P),U=e*Math.sin(P),I=-e*Math.cos(P),D=O*_}else if(R<=n+a){const O=(R-n)/a;N=-v+O*t,U=e,I=0,D=_+O*y}else{const O=(R-n-a)/n,P=O*Math.PI/2;N=v+e*Math.sin(P),U=e*Math.cos(P),I=e*Math.sin(P),D=_+y+O*_}const B=Math.max(0,Math.min(1,D/x));let k=0;R===0?k=.5/r:R===M&&(k=-.5/r);for(let O=0;O<=r;O++){const P=O/r,W=P*Math.PI*2,Z=Math.sin(W),J=Math.cos(W);T.x=-U*J,T.y=N,T.z=U*Z,u.push(T.x,T.y,T.z),A.set(-U*J,I,U*Z),A.normalize(),d.push(A.x,A.y,A.z),p.push(P+k,B)}if(R>0){const O=(R-1)*E;for(let P=0;P<r;P++){const W=O+P,Z=O+P+1,J=R*E+P,ee=R*E+P+1;l.push(W,Z,J),l.push(Z,ee,J)}}}this.setIndex(l),this.setAttribute("position",new wt(u,3)),this.setAttribute("normal",new wt(d,3)),this.setAttribute("uv",new wt(p,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new A3(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class w3 extends an{constructor(e=1,t=32,n=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},t=Math.max(3,t);const a=[],l=[],u=[],d=[],p=new $,v=new Ie;l.push(0,0,0),u.push(0,0,1),d.push(.5,.5);for(let _=0,y=3;_<=t;_++,y+=3){const x=n+_/t*r;p.x=e*Math.cos(x),p.y=e*Math.sin(x),l.push(p.x,p.y,p.z),u.push(0,0,1),v.x=(l[y]/e+1)/2,v.y=(l[y+1]/e+1)/2,d.push(v.x,v.y)}for(let _=1;_<=t;_++)a.push(_,_+1,0);this.setIndex(a),this.setAttribute("position",new wt(l,3)),this.setAttribute("normal",new wt(u,3)),this.setAttribute("uv",new wt(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new w3(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Vg extends an{constructor(e=1,t=1,n=1,r=32,a=1,l=!1,u=0,d=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:a,openEnded:l,thetaStart:u,thetaLength:d};const p=this;r=Math.floor(r),a=Math.floor(a);const v=[],_=[],y=[],x=[];let M=0;const E=[],A=n/2;let T=0;R(),l===!1&&(e>0&&D(!0),t>0&&D(!1)),this.setIndex(v),this.setAttribute("position",new wt(_,3)),this.setAttribute("normal",new wt(y,3)),this.setAttribute("uv",new wt(x,2));function R(){const N=new $,U=new $;let I=0;const B=(t-e)/n;for(let k=0;k<=a;k++){const O=[],P=k/a,W=P*(t-e)+e;for(let Z=0;Z<=r;Z++){const J=Z/r,ee=J*d+u,se=Math.sin(ee),Y=Math.cos(ee);U.x=W*se,U.y=-P*n+A,U.z=W*Y,_.push(U.x,U.y,U.z),N.set(se,B,Y).normalize(),y.push(N.x,N.y,N.z),x.push(J,1-P),O.push(M++)}E.push(O)}for(let k=0;k<r;k++)for(let O=0;O<a;O++){const P=E[O][k],W=E[O+1][k],Z=E[O+1][k+1],J=E[O][k+1];(e>0||O!==0)&&(v.push(P,W,J),I+=3),(t>0||O!==a-1)&&(v.push(W,Z,J),I+=3)}p.addGroup(T,I,0),T+=I}function D(N){const U=M,I=new Ie,B=new $;let k=0;const O=N===!0?e:t,P=N===!0?1:-1;for(let Z=1;Z<=r;Z++)_.push(0,A*P,0),y.push(0,P,0),x.push(.5,.5),M++;const W=M;for(let Z=0;Z<=r;Z++){const ee=Z/r*d+u,se=Math.cos(ee),Y=Math.sin(ee);B.x=O*Y,B.y=A*P,B.z=O*se,_.push(B.x,B.y,B.z),y.push(0,P,0),I.x=se*.5+.5,I.y=Y*.5*P+.5,x.push(I.x,I.y),M++}for(let Z=0;Z<r;Z++){const J=U+Z,ee=W+Z;N===!0?v.push(ee,ee+1,J):v.push(ee+1,ee,J),k+=3}p.addGroup(T,k,N===!0?1:2),T+=k}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Vg(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Hg extends Vg{constructor(e=1,t=1,n=32,r=1,a=!1,l=0,u=Math.PI*2){super(0,e,t,n,r,a,l,u),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:a,thetaStart:l,thetaLength:u}}static fromJSON(e){return new Hg(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Nf extends an{constructor(e=[],t=[],n=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r};const a=[],l=[];u(r),p(n),v(),this.setAttribute("position",new wt(a,3)),this.setAttribute("normal",new wt(a.slice(),3)),this.setAttribute("uv",new wt(l,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function u(R){const D=new $,N=new $,U=new $;for(let I=0;I<t.length;I+=3)x(t[I+0],D),x(t[I+1],N),x(t[I+2],U),d(D,N,U,R)}function d(R,D,N,U){const I=U+1,B=[];for(let k=0;k<=I;k++){B[k]=[];const O=R.clone().lerp(N,k/I),P=D.clone().lerp(N,k/I),W=I-k;for(let Z=0;Z<=W;Z++)Z===0&&k===I?B[k][Z]=O:B[k][Z]=O.clone().lerp(P,Z/W)}for(let k=0;k<I;k++)for(let O=0;O<2*(I-k)-1;O++){const P=Math.floor(O/2);O%2===0?(y(B[k][P+1]),y(B[k+1][P]),y(B[k][P])):(y(B[k][P+1]),y(B[k+1][P+1]),y(B[k+1][P]))}}function p(R){const D=new $;for(let N=0;N<a.length;N+=3)D.x=a[N+0],D.y=a[N+1],D.z=a[N+2],D.normalize().multiplyScalar(R),a[N+0]=D.x,a[N+1]=D.y,a[N+2]=D.z}function v(){const R=new $;for(let D=0;D<a.length;D+=3){R.x=a[D+0],R.y=a[D+1],R.z=a[D+2];const N=A(R)/2/Math.PI+.5,U=T(R)/Math.PI+.5;l.push(N,1-U)}M(),_()}function _(){for(let R=0;R<l.length;R+=6){const D=l[R+0],N=l[R+2],U=l[R+4],I=Math.max(D,N,U),B=Math.min(D,N,U);I>.9&&B<.1&&(D<.2&&(l[R+0]+=1),N<.2&&(l[R+2]+=1),U<.2&&(l[R+4]+=1))}}function y(R){a.push(R.x,R.y,R.z)}function x(R,D){const N=R*3;D.x=e[N+0],D.y=e[N+1],D.z=e[N+2]}function M(){const R=new $,D=new $,N=new $,U=new $,I=new Ie,B=new Ie,k=new Ie;for(let O=0,P=0;O<a.length;O+=9,P+=6){R.set(a[O+0],a[O+1],a[O+2]),D.set(a[O+3],a[O+4],a[O+5]),N.set(a[O+6],a[O+7],a[O+8]),I.set(l[P+0],l[P+1]),B.set(l[P+2],l[P+3]),k.set(l[P+4],l[P+5]),U.copy(R).add(D).add(N).divideScalar(3);const W=A(U);E(I,P+0,R,W),E(B,P+2,D,W),E(k,P+4,N,W)}}function E(R,D,N,U){U<0&&R.x===1&&(l[D]=R.x-1),N.x===0&&N.z===0&&(l[D]=U/2/Math.PI+.5)}function A(R){return Math.atan2(R.z,-R.x)}function T(R){return Math.atan2(-R.y,Math.sqrt(R.x*R.x+R.z*R.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Nf(e.vertices,e.indices,e.radius,e.detail)}}class C3 extends Nf{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,r=1/n,a=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r],l=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(a,l,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new C3(e.radius,e.detail)}}const ox=new $,lx=new $,oS=new $,cx=new cf;class yw extends an{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const r=Math.pow(10,4),a=Math.cos(Yh*t),l=e.getIndex(),u=e.getAttribute("position"),d=l?l.count:u.count,p=[0,0,0],v=["a","b","c"],_=new Array(3),y={},x=[];for(let M=0;M<d;M+=3){l?(p[0]=l.getX(M),p[1]=l.getX(M+1),p[2]=l.getX(M+2)):(p[0]=M,p[1]=M+1,p[2]=M+2);const{a:E,b:A,c:T}=cx;if(E.fromBufferAttribute(u,p[0]),A.fromBufferAttribute(u,p[1]),T.fromBufferAttribute(u,p[2]),cx.getNormal(oS),_[0]=`${Math.round(E.x*r)},${Math.round(E.y*r)},${Math.round(E.z*r)}`,_[1]=`${Math.round(A.x*r)},${Math.round(A.y*r)},${Math.round(A.z*r)}`,_[2]=`${Math.round(T.x*r)},${Math.round(T.y*r)},${Math.round(T.z*r)}`,!(_[0]===_[1]||_[1]===_[2]||_[2]===_[0]))for(let R=0;R<3;R++){const D=(R+1)%3,N=_[R],U=_[D],I=cx[v[R]],B=cx[v[D]],k=`${N}_${U}`,O=`${U}_${N}`;O in y&&y[O]?(oS.dot(y[O].normal)<=a&&(x.push(I.x,I.y,I.z),x.push(B.x,B.y,B.z)),y[O]=null):k in y||(y[k]={index0:p[R],index1:p[D],normal:oS.clone()})}}for(const M in y)if(y[M]){const{index0:E,index1:A}=y[M];ox.fromBufferAttribute(u,E),lx.fromBufferAttribute(u,A),x.push(ox.x,ox.y,ox.z),x.push(lx.x,lx.y,lx.z)}this.setAttribute("position",new wt(x,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class yl{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){_t("Curve: .getPoint() not implemented.")}getPointAt(e,t){const n=this.getUtoTmapping(e);return this.getPoint(n,t)}getPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}getSpacedPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let n,r=this.getPoint(0),a=0;t.push(0);for(let l=1;l<=e;l++)n=this.getPoint(l/e),a+=n.distanceTo(r),t.push(a),r=n;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t=null){const n=this.getLengths();let r=0;const a=n.length;let l;t?l=t:l=e*n[a-1];let u=0,d=a-1,p;for(;u<=d;)if(r=Math.floor(u+(d-u)/2),p=n[r]-l,p<0)u=r+1;else if(p>0)d=r-1;else{d=r;break}if(r=d,n[r]===l)return r/(a-1);const v=n[r],y=n[r+1]-v,x=(l-v)/y;return(r+x)/(a-1)}getTangent(e,t){let r=e-1e-4,a=e+1e-4;r<0&&(r=0),a>1&&(a=1);const l=this.getPoint(r),u=this.getPoint(a),d=t||(l.isVector2?new Ie:new $);return d.copy(u).sub(l).normalize(),d}getTangentAt(e,t){const n=this.getUtoTmapping(e);return this.getTangent(n,t)}computeFrenetFrames(e,t=!1){const n=new $,r=[],a=[],l=[],u=new $,d=new en;for(let x=0;x<=e;x++){const M=x/e;r[x]=this.getTangentAt(M,new $)}a[0]=new $,l[0]=new $;let p=Number.MAX_VALUE;const v=Math.abs(r[0].x),_=Math.abs(r[0].y),y=Math.abs(r[0].z);v<=p&&(p=v,n.set(1,0,0)),_<=p&&(p=_,n.set(0,1,0)),y<=p&&n.set(0,0,1),u.crossVectors(r[0],n).normalize(),a[0].crossVectors(r[0],u),l[0].crossVectors(r[0],a[0]);for(let x=1;x<=e;x++){if(a[x]=a[x-1].clone(),l[x]=l[x-1].clone(),u.crossVectors(r[x-1],r[x]),u.length()>Number.EPSILON){u.normalize();const M=Math.acos(Qt(r[x-1].dot(r[x]),-1,1));a[x].applyMatrix4(d.makeRotationAxis(u,M))}l[x].crossVectors(r[x],a[x])}if(t===!0){let x=Math.acos(Qt(a[0].dot(a[e]),-1,1));x/=e,r[0].dot(u.crossVectors(a[0],a[e]))>0&&(x=-x);for(let M=1;M<=e;M++)a[M].applyMatrix4(d.makeRotationAxis(r[M],x*M)),l[M].crossVectors(r[M],a[M])}return{tangents:r,normals:a,binormals:l}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.7,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class R3 extends yl{constructor(e=0,t=0,n=1,r=1,a=0,l=Math.PI*2,u=!1,d=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=n,this.yRadius=r,this.aStartAngle=a,this.aEndAngle=l,this.aClockwise=u,this.aRotation=d}getPoint(e,t=new Ie){const n=t,r=Math.PI*2;let a=this.aEndAngle-this.aStartAngle;const l=Math.abs(a)<Number.EPSILON;for(;a<0;)a+=r;for(;a>r;)a-=r;a<Number.EPSILON&&(l?a=0:a=r),this.aClockwise===!0&&!l&&(a===r?a=-r:a=a-r);const u=this.aStartAngle+e*a;let d=this.aX+this.xRadius*Math.cos(u),p=this.aY+this.yRadius*Math.sin(u);if(this.aRotation!==0){const v=Math.cos(this.aRotation),_=Math.sin(this.aRotation),y=d-this.aX,x=p-this.aY;d=y*v-x*_+this.aX,p=y*_+x*v+this.aY}return n.set(d,p)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class bw extends R3{constructor(e,t,n,r,a,l){super(e,t,n,n,r,a,l),this.isArcCurve=!0,this.type="ArcCurve"}}function A4(){let i=0,e=0,t=0,n=0;function r(a,l,u,d){i=a,e=u,t=-3*a+3*l-2*u-d,n=2*a-2*l+u+d}return{initCatmullRom:function(a,l,u,d,p){r(l,u,p*(u-a),p*(d-l))},initNonuniformCatmullRom:function(a,l,u,d,p,v,_){let y=(l-a)/p-(u-a)/(p+v)+(u-l)/v,x=(u-l)/v-(d-l)/(v+_)+(d-u)/_;y*=v,x*=v,r(l,u,y,x)},calc:function(a){const l=a*a,u=l*a;return i+e*a+t*l+n*u}}}const ux=new $,lS=new A4,cS=new A4,uS=new A4;class Sw extends yl{constructor(e=[],t=!1,n="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=n,this.tension=r}getPoint(e,t=new $){const n=t,r=this.points,a=r.length,l=(a-(this.closed?0:1))*e;let u=Math.floor(l),d=l-u;this.closed?u+=u>0?0:(Math.floor(Math.abs(u)/a)+1)*a:d===0&&u===a-1&&(u=a-2,d=1);let p,v;this.closed||u>0?p=r[(u-1)%a]:(ux.subVectors(r[0],r[1]).add(r[0]),p=ux);const _=r[u%a],y=r[(u+1)%a];if(this.closed||u+2<a?v=r[(u+2)%a]:(ux.subVectors(r[a-1],r[a-2]).add(r[a-1]),v=ux),this.curveType==="centripetal"||this.curveType==="chordal"){const x=this.curveType==="chordal"?.5:.25;let M=Math.pow(p.distanceToSquared(_),x),E=Math.pow(_.distanceToSquared(y),x),A=Math.pow(y.distanceToSquared(v),x);E<1e-4&&(E=1),M<1e-4&&(M=E),A<1e-4&&(A=E),lS.initNonuniformCatmullRom(p.x,_.x,y.x,v.x,M,E,A),cS.initNonuniformCatmullRom(p.y,_.y,y.y,v.y,M,E,A),uS.initNonuniformCatmullRom(p.z,_.z,y.z,v.z,M,E,A)}else this.curveType==="catmullrom"&&(lS.initCatmullRom(p.x,_.x,y.x,v.x,this.tension),cS.initCatmullRom(p.y,_.y,y.y,v.y,this.tension),uS.initCatmullRom(p.z,_.z,y.z,v.z,this.tension));return n.set(lS.calc(d),cS.calc(d),uS.calc(d)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const r=e.points[t];this.points.push(new $().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function e2(i,e,t,n,r){const a=(n-e)*.5,l=(r-t)*.5,u=i*i,d=i*u;return(2*t-2*n+a+l)*d+(-3*t+3*n-2*a-l)*u+a*i+t}function sD(i,e){const t=1-i;return t*t*e}function aD(i,e){return 2*(1-i)*i*e}function oD(i,e){return i*i*e}function G1(i,e,t,n){return sD(i,e)+aD(i,t)+oD(i,n)}function lD(i,e){const t=1-i;return t*t*t*e}function cD(i,e){const t=1-i;return 3*t*t*i*e}function uD(i,e){return 3*(1-i)*i*i*e}function fD(i,e){return i*i*i*e}function W1(i,e,t,n,r){return lD(i,e)+cD(i,t)+uD(i,n)+fD(i,r)}class w4 extends yl{constructor(e=new Ie,t=new Ie,n=new Ie,r=new Ie){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=n,this.v3=r}getPoint(e,t=new Ie){const n=t,r=this.v0,a=this.v1,l=this.v2,u=this.v3;return n.set(W1(e,r.x,a.x,l.x,u.x),W1(e,r.y,a.y,l.y,u.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class Mw extends yl{constructor(e=new $,t=new $,n=new $,r=new $){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=n,this.v3=r}getPoint(e,t=new $){const n=t,r=this.v0,a=this.v1,l=this.v2,u=this.v3;return n.set(W1(e,r.x,a.x,l.x,u.x),W1(e,r.y,a.y,l.y,u.y),W1(e,r.z,a.z,l.z,u.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class C4 extends yl{constructor(e=new Ie,t=new Ie){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Ie){const n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new Ie){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Tw extends yl{constructor(e=new $,t=new $){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new $){const n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new $){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class R4 extends yl{constructor(e=new Ie,t=new Ie,n=new Ie){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new Ie){const n=t,r=this.v0,a=this.v1,l=this.v2;return n.set(G1(e,r.x,a.x,l.x),G1(e,r.y,a.y,l.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class D4 extends yl{constructor(e=new $,t=new $,n=new $){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new $){const n=t,r=this.v0,a=this.v1,l=this.v2;return n.set(G1(e,r.x,a.x,l.x),G1(e,r.y,a.y,l.y),G1(e,r.z,a.z,l.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class N4 extends yl{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new Ie){const n=t,r=this.points,a=(r.length-1)*e,l=Math.floor(a),u=a-l,d=r[l===0?l:l-1],p=r[l],v=r[l>r.length-2?r.length-1:l+1],_=r[l>r.length-3?r.length-1:l+2];return n.set(e2(u,d.x,p.x,v.x,_.x),e2(u,d.y,p.y,v.y,_.y)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const r=e.points[t];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const r=e.points[t];this.points.push(new Ie().fromArray(r))}return this}}var ky=Object.freeze({__proto__:null,ArcCurve:bw,CatmullRomCurve3:Sw,CubicBezierCurve:w4,CubicBezierCurve3:Mw,EllipseCurve:R3,LineCurve:C4,LineCurve3:Tw,QuadraticBezierCurve:R4,QuadraticBezierCurve3:D4,SplineCurve:N4});class Ew extends yl{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const n=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new ky[n](t,e))}return this}getPoint(e,t){const n=e*this.getLength(),r=this.getCurveLengths();let a=0;for(;a<r.length;){if(r[a]>=n){const l=r[a]-n,u=this.curves[a],d=u.getLength(),p=d===0?0:1-l/d;return u.getPointAt(p,t)}a++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let n;for(let r=0,a=this.curves;r<a.length;r++){const l=a[r],u=l.isEllipseCurve?e*2:l.isLineCurve||l.isLineCurve3?1:l.isSplineCurve?e*l.points.length:e,d=l.getPoints(u);for(let p=0;p<d.length;p++){const v=d[p];n&&n.equals(v)||(t.push(v),n=v)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,n=this.curves.length;t<n;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const r=e.curves[t];this.curves.push(new ky[r.type]().fromJSON(r))}return this}}class Vy extends Ew{constructor(e){super(),this.type="Path",this.currentPoint=new Ie,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const n=new C4(this.currentPoint.clone(),new Ie(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,n,r){const a=new R4(this.currentPoint.clone(),new Ie(e,t),new Ie(n,r));return this.curves.push(a),this.currentPoint.set(n,r),this}bezierCurveTo(e,t,n,r,a,l){const u=new w4(this.currentPoint.clone(),new Ie(e,t),new Ie(n,r),new Ie(a,l));return this.curves.push(u),this.currentPoint.set(a,l),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),n=new N4(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,n,r,a,l){const u=this.currentPoint.x,d=this.currentPoint.y;return this.absarc(e+u,t+d,n,r,a,l),this}absarc(e,t,n,r,a,l){return this.absellipse(e,t,n,n,r,a,l),this}ellipse(e,t,n,r,a,l,u,d){const p=this.currentPoint.x,v=this.currentPoint.y;return this.absellipse(e+p,t+v,n,r,a,l,u,d),this}absellipse(e,t,n,r,a,l,u,d){const p=new R3(e,t,n,r,a,l,u,d);if(this.curves.length>0){const _=p.getPoint(0);_.equals(this.currentPoint)||this.lineTo(_.x,_.y)}this.curves.push(p);const v=p.getPoint(1);return this.currentPoint.copy(v),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class jh extends Vy{constructor(e){super(e),this.uuid=so(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,n=this.holes.length;t<n;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const r=e.holes[t];this.holes.push(new Vy().fromJSON(r))}return this}}function hD(i,e,t=2){const n=e&&e.length,r=n?e[0]*t:i.length;let a=Aw(i,0,r,t,!0);const l=[];if(!a||a.next===a.prev)return l;let u,d,p;if(n&&(a=vD(i,e,a,t)),i.length>80*t){u=i[0],d=i[1];let v=u,_=d;for(let y=t;y<r;y+=t){const x=i[y],M=i[y+1];x<u&&(u=x),M<d&&(d=M),x>v&&(v=x),M>_&&(_=M)}p=Math.max(v-u,_-d),p=p!==0?32767/p:0}return xg(a,l,t,u,d,p,0),l}function Aw(i,e,t,n,r){let a;if(r===CD(i,e,t,n)>0)for(let l=e;l<t;l+=n)a=t2(l/n|0,i[l],i[l+1],a);else for(let l=t-n;l>=e;l-=n)a=t2(l/n|0,i[l],i[l+1],a);return a&&M0(a,a.next)&&(bg(a),a=a.next),a}function ld(i,e){if(!i)return i;e||(e=i);let t=i,n;do if(n=!1,!t.steiner&&(M0(t,t.next)||nr(t.prev,t,t.next)===0)){if(bg(t),t=e=t.prev,t===t.next)break;n=!0}else t=t.next;while(n||t!==e);return e}function xg(i,e,t,n,r,a,l){if(!i)return;!l&&a&&SD(i,n,r,a);let u=i;for(;i.prev!==i.next;){const d=i.prev,p=i.next;if(a?pD(i,n,r,a):dD(i)){e.push(d.i,i.i,p.i),bg(i),i=p.next,u=p.next;continue}if(i=p,i===u){l?l===1?(i=mD(ld(i),e),xg(i,e,t,n,r,a,2)):l===2&&gD(i,e,t,n,r,a):xg(ld(i),e,t,n,r,a,1);break}}}function dD(i){const e=i.prev,t=i,n=i.next;if(nr(e,t,n)>=0)return!1;const r=e.x,a=t.x,l=n.x,u=e.y,d=t.y,p=n.y,v=Math.min(r,a,l),_=Math.min(u,d,p),y=Math.max(r,a,l),x=Math.max(u,d,p);let M=n.next;for(;M!==e;){if(M.x>=v&&M.x<=y&&M.y>=_&&M.y<=x&&w1(r,u,a,d,l,p,M.x,M.y)&&nr(M.prev,M,M.next)>=0)return!1;M=M.next}return!0}function pD(i,e,t,n){const r=i.prev,a=i,l=i.next;if(nr(r,a,l)>=0)return!1;const u=r.x,d=a.x,p=l.x,v=r.y,_=a.y,y=l.y,x=Math.min(u,d,p),M=Math.min(v,_,y),E=Math.max(u,d,p),A=Math.max(v,_,y),T=hM(x,M,e,t,n),R=hM(E,A,e,t,n);let D=i.prevZ,N=i.nextZ;for(;D&&D.z>=T&&N&&N.z<=R;){if(D.x>=x&&D.x<=E&&D.y>=M&&D.y<=A&&D!==r&&D!==l&&w1(u,v,d,_,p,y,D.x,D.y)&&nr(D.prev,D,D.next)>=0||(D=D.prevZ,N.x>=x&&N.x<=E&&N.y>=M&&N.y<=A&&N!==r&&N!==l&&w1(u,v,d,_,p,y,N.x,N.y)&&nr(N.prev,N,N.next)>=0))return!1;N=N.nextZ}for(;D&&D.z>=T;){if(D.x>=x&&D.x<=E&&D.y>=M&&D.y<=A&&D!==r&&D!==l&&w1(u,v,d,_,p,y,D.x,D.y)&&nr(D.prev,D,D.next)>=0)return!1;D=D.prevZ}for(;N&&N.z<=R;){if(N.x>=x&&N.x<=E&&N.y>=M&&N.y<=A&&N!==r&&N!==l&&w1(u,v,d,_,p,y,N.x,N.y)&&nr(N.prev,N,N.next)>=0)return!1;N=N.nextZ}return!0}function mD(i,e){let t=i;do{const n=t.prev,r=t.next.next;!M0(n,r)&&Cw(n,t,t.next,r)&&yg(n,r)&&yg(r,n)&&(e.push(n.i,t.i,r.i),bg(t),bg(t.next),t=i=r),t=t.next}while(t!==i);return ld(t)}function gD(i,e,t,n,r,a){let l=i;do{let u=l.next.next;for(;u!==l.prev;){if(l.i!==u.i&&ED(l,u)){let d=Rw(l,u);l=ld(l,l.next),d=ld(d,d.next),xg(l,e,t,n,r,a,0),xg(d,e,t,n,r,a,0);return}u=u.next}l=l.next}while(l!==i)}function vD(i,e,t,n){const r=[];for(let a=0,l=e.length;a<l;a++){const u=e[a]*n,d=a<l-1?e[a+1]*n:i.length,p=Aw(i,u,d,n,!1);p===p.next&&(p.steiner=!0),r.push(TD(p))}r.sort(_D);for(let a=0;a<r.length;a++)t=xD(r[a],t);return t}function _D(i,e){let t=i.x-e.x;if(t===0&&(t=i.y-e.y,t===0)){const n=(i.next.y-i.y)/(i.next.x-i.x),r=(e.next.y-e.y)/(e.next.x-e.x);t=n-r}return t}function xD(i,e){const t=yD(i,e);if(!t)return e;const n=Rw(t,i);return ld(n,n.next),ld(t,t.next)}function yD(i,e){let t=e;const n=i.x,r=i.y;let a=-1/0,l;if(M0(i,t))return t;do{if(M0(i,t.next))return t.next;if(r<=t.y&&r>=t.next.y&&t.next.y!==t.y){const _=t.x+(r-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(_<=n&&_>a&&(a=_,l=t.x<t.next.x?t:t.next,_===n))return l}t=t.next}while(t!==e);if(!l)return null;const u=l,d=l.x,p=l.y;let v=1/0;t=l;do{if(n>=t.x&&t.x>=d&&n!==t.x&&ww(r<p?n:a,r,d,p,r<p?a:n,r,t.x,t.y)){const _=Math.abs(r-t.y)/(n-t.x);yg(t,i)&&(_<v||_===v&&(t.x>l.x||t.x===l.x&&bD(l,t)))&&(l=t,v=_)}t=t.next}while(t!==u);return l}function bD(i,e){return nr(i.prev,i,e.prev)<0&&nr(e.next,i,i.next)<0}function SD(i,e,t,n){let r=i;do r.z===0&&(r.z=hM(r.x,r.y,e,t,n)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==i);r.prevZ.nextZ=null,r.prevZ=null,MD(r)}function MD(i){let e,t=1;do{let n=i,r;i=null;let a=null;for(e=0;n;){e++;let l=n,u=0;for(let p=0;p<t&&(u++,l=l.nextZ,!!l);p++);let d=t;for(;u>0||d>0&&l;)u!==0&&(d===0||!l||n.z<=l.z)?(r=n,n=n.nextZ,u--):(r=l,l=l.nextZ,d--),a?a.nextZ=r:i=r,r.prevZ=a,a=r;n=l}a.nextZ=null,t*=2}while(e>1);return i}function hM(i,e,t,n,r){return i=(i-t)*r|0,e=(e-n)*r|0,i=(i|i<<8)&16711935,i=(i|i<<4)&252645135,i=(i|i<<2)&858993459,i=(i|i<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,i|e<<1}function TD(i){let e=i,t=i;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==i);return t}function ww(i,e,t,n,r,a,l,u){return(r-l)*(e-u)>=(i-l)*(a-u)&&(i-l)*(n-u)>=(t-l)*(e-u)&&(t-l)*(a-u)>=(r-l)*(n-u)}function w1(i,e,t,n,r,a,l,u){return!(i===l&&e===u)&&ww(i,e,t,n,r,a,l,u)}function ED(i,e){return i.next.i!==e.i&&i.prev.i!==e.i&&!AD(i,e)&&(yg(i,e)&&yg(e,i)&&wD(i,e)&&(nr(i.prev,i,e.prev)||nr(i,e.prev,e))||M0(i,e)&&nr(i.prev,i,i.next)>0&&nr(e.prev,e,e.next)>0)}function nr(i,e,t){return(e.y-i.y)*(t.x-e.x)-(e.x-i.x)*(t.y-e.y)}function M0(i,e){return i.x===e.x&&i.y===e.y}function Cw(i,e,t,n){const r=hx(nr(i,e,t)),a=hx(nr(i,e,n)),l=hx(nr(t,n,i)),u=hx(nr(t,n,e));return!!(r!==a&&l!==u||r===0&&fx(i,t,e)||a===0&&fx(i,n,e)||l===0&&fx(t,i,n)||u===0&&fx(t,e,n))}function fx(i,e,t){return e.x<=Math.max(i.x,t.x)&&e.x>=Math.min(i.x,t.x)&&e.y<=Math.max(i.y,t.y)&&e.y>=Math.min(i.y,t.y)}function hx(i){return i>0?1:i<0?-1:0}function AD(i,e){let t=i;do{if(t.i!==i.i&&t.next.i!==i.i&&t.i!==e.i&&t.next.i!==e.i&&Cw(t,t.next,i,e))return!0;t=t.next}while(t!==i);return!1}function yg(i,e){return nr(i.prev,i,i.next)<0?nr(i,e,i.next)>=0&&nr(i,i.prev,e)>=0:nr(i,e,i.prev)<0||nr(i,i.next,e)<0}function wD(i,e){let t=i,n=!1;const r=(i.x+e.x)/2,a=(i.y+e.y)/2;do t.y>a!=t.next.y>a&&t.next.y!==t.y&&r<(t.next.x-t.x)*(a-t.y)/(t.next.y-t.y)+t.x&&(n=!n),t=t.next;while(t!==i);return n}function Rw(i,e){const t=dM(i.i,i.x,i.y),n=dM(e.i,e.x,e.y),r=i.next,a=e.prev;return i.next=e,e.prev=i,t.next=r,r.prev=t,n.next=t,t.prev=n,a.next=n,n.prev=a,n}function t2(i,e,t,n){const r=dM(i,e,t);return n?(r.next=n.next,r.prev=n,n.next.prev=r,n.next=r):(r.prev=r,r.next=r),r}function bg(i){i.next.prev=i.prev,i.prev.next=i.next,i.prevZ&&(i.prevZ.nextZ=i.nextZ),i.nextZ&&(i.nextZ.prevZ=i.prevZ)}function dM(i,e,t){return{i,x:e,y:t,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function CD(i,e,t,n){let r=0;for(let a=e,l=t-n;a<t;a+=n)r+=(i[l]-i[a])*(i[a+1]+i[l+1]),l=a;return r}class RD{static triangulate(e,t,n=2){return hD(e,t,n)}}class ml{static area(e){const t=e.length;let n=0;for(let r=t-1,a=0;a<t;r=a++)n+=e[r].x*e[a].y-e[a].x*e[r].y;return n*.5}static isClockWise(e){return ml.area(e)<0}static triangulateShape(e,t){const n=[],r=[],a=[];n2(e),i2(n,e);let l=e.length;t.forEach(n2);for(let d=0;d<t.length;d++)r.push(l),l+=t[d].length,i2(n,t[d]);const u=RD.triangulate(n,r);for(let d=0;d<u.length;d+=3)a.push(u.slice(d,d+3));return a}}function n2(i){const e=i.length;e>2&&i[e-1].equals(i[0])&&i.pop()}function i2(i,e){for(let t=0;t<e.length;t++)i.push(e[t].x),i.push(e[t].y)}class D3 extends an{constructor(e=new jh([new Ie(.5,.5),new Ie(-.5,.5),new Ie(-.5,-.5),new Ie(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const n=this,r=[],a=[];for(let u=0,d=e.length;u<d;u++){const p=e[u];l(p)}this.setAttribute("position",new wt(r,3)),this.setAttribute("uv",new wt(a,2)),this.computeVertexNormals();function l(u){const d=[],p=t.curveSegments!==void 0?t.curveSegments:12,v=t.steps!==void 0?t.steps:1,_=t.depth!==void 0?t.depth:1;let y=t.bevelEnabled!==void 0?t.bevelEnabled:!0,x=t.bevelThickness!==void 0?t.bevelThickness:.2,M=t.bevelSize!==void 0?t.bevelSize:x-.1,E=t.bevelOffset!==void 0?t.bevelOffset:0,A=t.bevelSegments!==void 0?t.bevelSegments:3;const T=t.extrudePath,R=t.UVGenerator!==void 0?t.UVGenerator:DD;let D,N=!1,U,I,B,k;if(T){D=T.getSpacedPoints(v),N=!0,y=!1;const Ce=T.isCatmullRomCurve3?T.closed:!1;U=T.computeFrenetFrames(v,Ce),I=new $,B=new $,k=new $}y||(A=0,x=0,M=0,E=0);const O=u.extractPoints(p);let P=O.shape;const W=O.holes;if(!ml.isClockWise(P)){P=P.reverse();for(let Ce=0,Be=W.length;Ce<Be;Ce++){const Oe=W[Ce];ml.isClockWise(Oe)&&(W[Ce]=Oe.reverse())}}function J(Ce){const Oe=10000000000000001e-36;let re=Ce[0];for(let K=1;K<=Ce.length;K++){const Tt=K%Ce.length,nt=Ce[Tt],ut=nt.x-re.x,Ye=nt.y-re.y,q=ut*ut+Ye*Ye,F=Math.max(Math.abs(nt.x),Math.abs(nt.y),Math.abs(re.x),Math.abs(re.y)),ae=Oe*F*F;if(q<=ae){Ce.splice(Tt,1),K--;continue}re=nt}}J(P),W.forEach(J);const ee=W.length,se=P;for(let Ce=0;Ce<ee;Ce++){const Be=W[Ce];P=P.concat(Be)}function Y(Ce,Be,Oe){return Be||It("ExtrudeGeometry: vec does not exist"),Ce.clone().addScaledVector(Be,Oe)}const Q=P.length;function ue(Ce,Be,Oe){let re,K,Tt;const nt=Ce.x-Be.x,ut=Ce.y-Be.y,Ye=Oe.x-Ce.x,q=Oe.y-Ce.y,F=nt*nt+ut*ut,ae=nt*q-ut*Ye;if(Math.abs(ae)>Number.EPSILON){const Ae=Math.sqrt(F),Ne=Math.sqrt(Ye*Ye+q*q),Me=Be.x-ut/Ae,at=Be.y+nt/Ae,Qe=Oe.x-q/Ne,bt=Oe.y+Ye/Ne,xt=((Qe-Me)*q-(bt-at)*Ye)/(nt*q-ut*Ye);re=Me+nt*xt-Ce.x,K=at+ut*xt-Ce.y;const Ve=re*re+K*K;if(Ve<=2)return new Ie(re,K);Tt=Math.sqrt(Ve/2)}else{let Ae=!1;nt>Number.EPSILON?Ye>Number.EPSILON&&(Ae=!0):nt<-Number.EPSILON?Ye<-Number.EPSILON&&(Ae=!0):Math.sign(ut)===Math.sign(q)&&(Ae=!0),Ae?(re=-ut,K=nt,Tt=Math.sqrt(F)):(re=nt,K=ut,Tt=Math.sqrt(F/2))}return new Ie(re/Tt,K/Tt)}const ye=[];for(let Ce=0,Be=se.length,Oe=Be-1,re=Ce+1;Ce<Be;Ce++,Oe++,re++)Oe===Be&&(Oe=0),re===Be&&(re=0),ye[Ce]=ue(se[Ce],se[Oe],se[re]);const j=[];let X,ce=ye.concat();for(let Ce=0,Be=ee;Ce<Be;Ce++){const Oe=W[Ce];X=[];for(let re=0,K=Oe.length,Tt=K-1,nt=re+1;re<K;re++,Tt++,nt++)Tt===K&&(Tt=0),nt===K&&(nt=0),X[re]=ue(Oe[re],Oe[Tt],Oe[nt]);j.push(X),ce=ce.concat(X)}let Se;if(A===0)Se=ml.triangulateShape(se,W);else{const Ce=[],Be=[];for(let Oe=0;Oe<A;Oe++){const re=Oe/A,K=x*Math.cos(re*Math.PI/2),Tt=M*Math.sin(re*Math.PI/2)+E;for(let nt=0,ut=se.length;nt<ut;nt++){const Ye=Y(se[nt],ye[nt],Tt);Ze(Ye.x,Ye.y,-K),re===0&&Ce.push(Ye)}for(let nt=0,ut=ee;nt<ut;nt++){const Ye=W[nt];X=j[nt];const q=[];for(let F=0,ae=Ye.length;F<ae;F++){const Ae=Y(Ye[F],X[F],Tt);Ze(Ae.x,Ae.y,-K),re===0&&q.push(Ae)}re===0&&Be.push(q)}}Se=ml.triangulateShape(Ce,Be)}const Le=Se.length,Je=M+E;for(let Ce=0;Ce<Q;Ce++){const Be=y?Y(P[Ce],ce[Ce],Je):P[Ce];N?(B.copy(U.normals[0]).multiplyScalar(Be.x),I.copy(U.binormals[0]).multiplyScalar(Be.y),k.copy(D[0]).add(B).add(I),Ze(k.x,k.y,k.z)):Ze(Be.x,Be.y,0)}for(let Ce=1;Ce<=v;Ce++)for(let Be=0;Be<Q;Be++){const Oe=y?Y(P[Be],ce[Be],Je):P[Be];N?(B.copy(U.normals[Ce]).multiplyScalar(Oe.x),I.copy(U.binormals[Ce]).multiplyScalar(Oe.y),k.copy(D[Ce]).add(B).add(I),Ze(k.x,k.y,k.z)):Ze(Oe.x,Oe.y,_/v*Ce)}for(let Ce=A-1;Ce>=0;Ce--){const Be=Ce/A,Oe=x*Math.cos(Be*Math.PI/2),re=M*Math.sin(Be*Math.PI/2)+E;for(let K=0,Tt=se.length;K<Tt;K++){const nt=Y(se[K],ye[K],re);Ze(nt.x,nt.y,_+Oe)}for(let K=0,Tt=W.length;K<Tt;K++){const nt=W[K];X=j[K];for(let ut=0,Ye=nt.length;ut<Ye;ut++){const q=Y(nt[ut],X[ut],re);N?Ze(q.x,q.y+D[v-1].y,D[v-1].x+Oe):Ze(q.x,q.y,_+Oe)}}}de(),xe();function de(){const Ce=r.length/3;if(y){let Be=0,Oe=Q*Be;for(let re=0;re<Le;re++){const K=Se[re];ct(K[2]+Oe,K[1]+Oe,K[0]+Oe)}Be=v+A*2,Oe=Q*Be;for(let re=0;re<Le;re++){const K=Se[re];ct(K[0]+Oe,K[1]+Oe,K[2]+Oe)}}else{for(let Be=0;Be<Le;Be++){const Oe=Se[Be];ct(Oe[2],Oe[1],Oe[0])}for(let Be=0;Be<Le;Be++){const Oe=Se[Be];ct(Oe[0]+Q*v,Oe[1]+Q*v,Oe[2]+Q*v)}}n.addGroup(Ce,r.length/3-Ce,0)}function xe(){const Ce=r.length/3;let Be=0;qe(se,Be),Be+=se.length;for(let Oe=0,re=W.length;Oe<re;Oe++){const K=W[Oe];qe(K,Be),Be+=K.length}n.addGroup(Ce,r.length/3-Ce,1)}function qe(Ce,Be){let Oe=Ce.length;for(;--Oe>=0;){const re=Oe;let K=Oe-1;K<0&&(K=Ce.length-1);for(let Tt=0,nt=v+A*2;Tt<nt;Tt++){const ut=Q*Tt,Ye=Q*(Tt+1),q=Be+re+ut,F=Be+K+ut,ae=Be+K+Ye,Ae=Be+re+Ye;Pt(q,F,ae,Ae)}}}function Ze(Ce,Be,Oe){d.push(Ce),d.push(Be),d.push(Oe)}function ct(Ce,Be,Oe){Bt(Ce),Bt(Be),Bt(Oe);const re=r.length/3,K=R.generateTopUV(n,r,re-3,re-2,re-1);rt(K[0]),rt(K[1]),rt(K[2])}function Pt(Ce,Be,Oe,re){Bt(Ce),Bt(Be),Bt(re),Bt(Be),Bt(Oe),Bt(re);const K=r.length/3,Tt=R.generateSideWallUV(n,r,K-6,K-3,K-2,K-1);rt(Tt[0]),rt(Tt[1]),rt(Tt[3]),rt(Tt[1]),rt(Tt[2]),rt(Tt[3])}function Bt(Ce){r.push(d[Ce*3+0]),r.push(d[Ce*3+1]),r.push(d[Ce*3+2])}function rt(Ce){a.push(Ce.x),a.push(Ce.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,n=this.parameters.options;return ND(t,n,e)}static fromJSON(e,t){const n=[];for(let a=0,l=e.shapes.length;a<l;a++){const u=t[e.shapes[a]];n.push(u)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new ky[r.type]().fromJSON(r)),new D3(n,e.options)}}const DD={generateTopUV:function(i,e,t,n,r){const a=e[t*3],l=e[t*3+1],u=e[n*3],d=e[n*3+1],p=e[r*3],v=e[r*3+1];return[new Ie(a,l),new Ie(u,d),new Ie(p,v)]},generateSideWallUV:function(i,e,t,n,r,a){const l=e[t*3],u=e[t*3+1],d=e[t*3+2],p=e[n*3],v=e[n*3+1],_=e[n*3+2],y=e[r*3],x=e[r*3+1],M=e[r*3+2],E=e[a*3],A=e[a*3+1],T=e[a*3+2];return Math.abs(u-v)<Math.abs(l-p)?[new Ie(l,1-d),new Ie(p,1-_),new Ie(y,1-M),new Ie(E,1-T)]:[new Ie(u,1-d),new Ie(v,1-_),new Ie(x,1-M),new Ie(A,1-T)]}};function ND(i,e,t){if(t.shapes=[],Array.isArray(i))for(let n=0,r=i.length;n<r;n++){const a=i[n];t.shapes.push(a.uuid)}else t.shapes.push(i.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class N3 extends Nf{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,r=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],a=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,a,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new N3(e.radius,e.detail)}}class L3 extends an{constructor(e=[new Ie(0,-.5),new Ie(.5,0),new Ie(0,.5)],t=12,n=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},t=Math.floor(t),r=Qt(r,0,Math.PI*2);const a=[],l=[],u=[],d=[],p=[],v=1/t,_=new $,y=new Ie,x=new $,M=new $,E=new $;let A=0,T=0;for(let R=0;R<=e.length-1;R++)switch(R){case 0:A=e[R+1].x-e[R].x,T=e[R+1].y-e[R].y,x.x=T*1,x.y=-A,x.z=T*0,E.copy(x),x.normalize(),d.push(x.x,x.y,x.z);break;case e.length-1:d.push(E.x,E.y,E.z);break;default:A=e[R+1].x-e[R].x,T=e[R+1].y-e[R].y,x.x=T*1,x.y=-A,x.z=T*0,M.copy(x),x.x+=E.x,x.y+=E.y,x.z+=E.z,x.normalize(),d.push(x.x,x.y,x.z),E.copy(M)}for(let R=0;R<=t;R++){const D=n+R*v*r,N=Math.sin(D),U=Math.cos(D);for(let I=0;I<=e.length-1;I++){_.x=e[I].x*N,_.y=e[I].y,_.z=e[I].x*U,l.push(_.x,_.y,_.z),y.x=R/t,y.y=I/(e.length-1),u.push(y.x,y.y);const B=d[3*I+0]*N,k=d[3*I+1],O=d[3*I+0]*U;p.push(B,k,O)}}for(let R=0;R<t;R++)for(let D=0;D<e.length-1;D++){const N=D+R*e.length,U=N,I=N+e.length,B=N+e.length+1,k=N+1;a.push(U,I,k),a.push(B,k,I)}this.setIndex(a),this.setAttribute("position",new wt(l,3)),this.setAttribute("uv",new wt(u,2)),this.setAttribute("normal",new wt(p,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new L3(e.points,e.segments,e.phiStart,e.phiLength)}}class Gg extends Nf{constructor(e=1,t=0){const n=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(n,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Gg(e.radius,e.detail)}}class P0 extends an{constructor(e=1,t=1,n=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r};const a=e/2,l=t/2,u=Math.floor(n),d=Math.floor(r),p=u+1,v=d+1,_=e/u,y=t/d,x=[],M=[],E=[],A=[];for(let T=0;T<v;T++){const R=T*y-l;for(let D=0;D<p;D++){const N=D*_-a;M.push(N,-R,0),E.push(0,0,1),A.push(D/u),A.push(1-T/d)}}for(let T=0;T<d;T++)for(let R=0;R<u;R++){const D=R+p*T,N=R+p*(T+1),U=R+1+p*(T+1),I=R+1+p*T;x.push(D,N,I),x.push(N,U,I)}this.setIndex(x),this.setAttribute("position",new wt(M,3)),this.setAttribute("normal",new wt(E,3)),this.setAttribute("uv",new wt(A,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new P0(e.width,e.height,e.widthSegments,e.heightSegments)}}class O3 extends an{constructor(e=.5,t=1,n=32,r=1,a=0,l=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:a,thetaLength:l},n=Math.max(3,n),r=Math.max(1,r);const u=[],d=[],p=[],v=[];let _=e;const y=(t-e)/r,x=new $,M=new Ie;for(let E=0;E<=r;E++){for(let A=0;A<=n;A++){const T=a+A/n*l;x.x=_*Math.cos(T),x.y=_*Math.sin(T),d.push(x.x,x.y,x.z),p.push(0,0,1),M.x=(x.x/t+1)/2,M.y=(x.y/t+1)/2,v.push(M.x,M.y)}_+=y}for(let E=0;E<r;E++){const A=E*(n+1);for(let T=0;T<n;T++){const R=T+A,D=R,N=R+n+1,U=R+n+2,I=R+1;u.push(D,N,I),u.push(N,U,I)}}this.setIndex(u),this.setAttribute("position",new wt(d,3)),this.setAttribute("normal",new wt(p,3)),this.setAttribute("uv",new wt(v,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new O3(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class U3 extends an{constructor(e=new jh([new Ie(0,.5),new Ie(-.5,-.5),new Ie(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const n=[],r=[],a=[],l=[];let u=0,d=0;if(Array.isArray(e)===!1)p(e);else for(let v=0;v<e.length;v++)p(e[v]),this.addGroup(u,d,v),u+=d,d=0;this.setIndex(n),this.setAttribute("position",new wt(r,3)),this.setAttribute("normal",new wt(a,3)),this.setAttribute("uv",new wt(l,2));function p(v){const _=r.length/3,y=v.extractPoints(t);let x=y.shape;const M=y.holes;ml.isClockWise(x)===!1&&(x=x.reverse());for(let A=0,T=M.length;A<T;A++){const R=M[A];ml.isClockWise(R)===!0&&(M[A]=R.reverse())}const E=ml.triangulateShape(x,M);for(let A=0,T=M.length;A<T;A++){const R=M[A];x=x.concat(R)}for(let A=0,T=x.length;A<T;A++){const R=x[A];r.push(R.x,R.y,0),a.push(0,0,1),l.push(R.x,R.y)}for(let A=0,T=E.length;A<T;A++){const R=E[A],D=R[0]+_,N=R[1]+_,U=R[2]+_;n.push(D,N,U),d+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return LD(t,e)}static fromJSON(e,t){const n=[];for(let r=0,a=e.shapes.length;r<a;r++){const l=t[e.shapes[r]];n.push(l)}return new U3(n,e.curveSegments)}}function LD(i,e){if(e.shapes=[],Array.isArray(i))for(let t=0,n=i.length;t<n;t++){const r=i[t];e.shapes.push(r.uuid)}else e.shapes.push(i.uuid);return e}class Wg extends an{constructor(e=1,t=32,n=16,r=0,a=Math.PI*2,l=0,u=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:a,thetaStart:l,thetaLength:u},t=Math.max(3,Math.floor(t)),n=Math.max(2,Math.floor(n));const d=Math.min(l+u,Math.PI);let p=0;const v=[],_=new $,y=new $,x=[],M=[],E=[],A=[];for(let T=0;T<=n;T++){const R=[],D=T/n;let N=0;T===0&&l===0?N=.5/t:T===n&&d===Math.PI&&(N=-.5/t);for(let U=0;U<=t;U++){const I=U/t;_.x=-e*Math.cos(r+I*a)*Math.sin(l+D*u),_.y=e*Math.cos(l+D*u),_.z=e*Math.sin(r+I*a)*Math.sin(l+D*u),M.push(_.x,_.y,_.z),y.copy(_).normalize(),E.push(y.x,y.y,y.z),A.push(I+N,1-D),R.push(p++)}v.push(R)}for(let T=0;T<n;T++)for(let R=0;R<t;R++){const D=v[T][R+1],N=v[T][R],U=v[T+1][R],I=v[T+1][R+1];(T!==0||l>0)&&x.push(D,N,I),(T!==n-1||d<Math.PI)&&x.push(N,U,I)}this.setIndex(x),this.setAttribute("position",new wt(M,3)),this.setAttribute("normal",new wt(E,3)),this.setAttribute("uv",new wt(A,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Wg(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class P3 extends Nf{constructor(e=1,t=0){const n=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(n,r,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new P3(e.radius,e.detail)}}class I3 extends an{constructor(e=1,t=.4,n=12,r=48,a=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:a},n=Math.floor(n),r=Math.floor(r);const l=[],u=[],d=[],p=[],v=new $,_=new $,y=new $;for(let x=0;x<=n;x++)for(let M=0;M<=r;M++){const E=M/r*a,A=x/n*Math.PI*2;_.x=(e+t*Math.cos(A))*Math.cos(E),_.y=(e+t*Math.cos(A))*Math.sin(E),_.z=t*Math.sin(A),u.push(_.x,_.y,_.z),v.x=e*Math.cos(E),v.y=e*Math.sin(E),y.subVectors(_,v).normalize(),d.push(y.x,y.y,y.z),p.push(M/r),p.push(x/n)}for(let x=1;x<=n;x++)for(let M=1;M<=r;M++){const E=(r+1)*x+M-1,A=(r+1)*(x-1)+M-1,T=(r+1)*(x-1)+M,R=(r+1)*x+M;l.push(E,A,R),l.push(A,T,R)}this.setIndex(l),this.setAttribute("position",new wt(u,3)),this.setAttribute("normal",new wt(d,3)),this.setAttribute("uv",new wt(p,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new I3(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class z3 extends an{constructor(e=1,t=.4,n=64,r=8,a=2,l=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:a,q:l},n=Math.floor(n),r=Math.floor(r);const u=[],d=[],p=[],v=[],_=new $,y=new $,x=new $,M=new $,E=new $,A=new $,T=new $;for(let D=0;D<=n;++D){const N=D/n*a*Math.PI*2;R(N,a,l,e,x),R(N+.01,a,l,e,M),A.subVectors(M,x),T.addVectors(M,x),E.crossVectors(A,T),T.crossVectors(E,A),E.normalize(),T.normalize();for(let U=0;U<=r;++U){const I=U/r*Math.PI*2,B=-t*Math.cos(I),k=t*Math.sin(I);_.x=x.x+(B*T.x+k*E.x),_.y=x.y+(B*T.y+k*E.y),_.z=x.z+(B*T.z+k*E.z),d.push(_.x,_.y,_.z),y.subVectors(_,x).normalize(),p.push(y.x,y.y,y.z),v.push(D/n),v.push(U/r)}}for(let D=1;D<=n;D++)for(let N=1;N<=r;N++){const U=(r+1)*(D-1)+(N-1),I=(r+1)*D+(N-1),B=(r+1)*D+N,k=(r+1)*(D-1)+N;u.push(U,I,k),u.push(I,B,k)}this.setIndex(u),this.setAttribute("position",new wt(d,3)),this.setAttribute("normal",new wt(p,3)),this.setAttribute("uv",new wt(v,2));function R(D,N,U,I,B){const k=Math.cos(D),O=Math.sin(D),P=U/N*D,W=Math.cos(P);B.x=I*(2+W)*.5*k,B.y=I*(2+W)*O*.5,B.z=I*Math.sin(P)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new z3(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class B3 extends an{constructor(e=new D4(new $(-1,-1,0),new $(-1,1,0),new $(1,1,0)),t=64,n=1,r=8,a=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:a};const l=e.computeFrenetFrames(t,a);this.tangents=l.tangents,this.normals=l.normals,this.binormals=l.binormals;const u=new $,d=new $,p=new Ie;let v=new $;const _=[],y=[],x=[],M=[];E(),this.setIndex(M),this.setAttribute("position",new wt(_,3)),this.setAttribute("normal",new wt(y,3)),this.setAttribute("uv",new wt(x,2));function E(){for(let D=0;D<t;D++)A(D);A(a===!1?t:0),R(),T()}function A(D){v=e.getPointAt(D/t,v);const N=l.normals[D],U=l.binormals[D];for(let I=0;I<=r;I++){const B=I/r*Math.PI*2,k=Math.sin(B),O=-Math.cos(B);d.x=O*N.x+k*U.x,d.y=O*N.y+k*U.y,d.z=O*N.z+k*U.z,d.normalize(),y.push(d.x,d.y,d.z),u.x=v.x+n*d.x,u.y=v.y+n*d.y,u.z=v.z+n*d.z,_.push(u.x,u.y,u.z)}}function T(){for(let D=1;D<=t;D++)for(let N=1;N<=r;N++){const U=(r+1)*(D-1)+(N-1),I=(r+1)*D+(N-1),B=(r+1)*D+N,k=(r+1)*(D-1)+N;M.push(U,I,k),M.push(I,B,k)}}function R(){for(let D=0;D<=t;D++)for(let N=0;N<=r;N++)p.x=D/t,p.y=N/r,x.push(p.x,p.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new B3(new ky[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class Dw extends an{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],n=new Set,r=new $,a=new $;if(e.index!==null){const l=e.attributes.position,u=e.index;let d=e.groups;d.length===0&&(d=[{start:0,count:u.count,materialIndex:0}]);for(let p=0,v=d.length;p<v;++p){const _=d[p],y=_.start,x=_.count;for(let M=y,E=y+x;M<E;M+=3)for(let A=0;A<3;A++){const T=u.getX(M+A),R=u.getX(M+(A+1)%3);r.fromBufferAttribute(l,T),a.fromBufferAttribute(l,R),r2(r,a,n)===!0&&(t.push(r.x,r.y,r.z),t.push(a.x,a.y,a.z))}}}else{const l=e.attributes.position;for(let u=0,d=l.count/3;u<d;u++)for(let p=0;p<3;p++){const v=3*u+p,_=3*u+(p+1)%3;r.fromBufferAttribute(l,v),a.fromBufferAttribute(l,_),r2(r,a,n)===!0&&(t.push(r.x,r.y,r.z),t.push(a.x,a.y,a.z))}}this.setAttribute("position",new wt(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function r2(i,e,t){const n=`${i.x},${i.y},${i.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${i.x},${i.y},${i.z}`;return t.has(n)===!0||t.has(r)===!0?!1:(t.add(n),t.add(r),!0)}var s2=Object.freeze({__proto__:null,BoxGeometry:dd,CapsuleGeometry:A3,CircleGeometry:w3,ConeGeometry:Hg,CylinderGeometry:Vg,DodecahedronGeometry:C3,EdgesGeometry:yw,ExtrudeGeometry:D3,IcosahedronGeometry:N3,LatheGeometry:L3,OctahedronGeometry:Gg,PlaneGeometry:P0,PolyhedronGeometry:Nf,RingGeometry:O3,ShapeGeometry:U3,SphereGeometry:Wg,TetrahedronGeometry:P3,TorusGeometry:I3,TorusKnotGeometry:z3,TubeGeometry:B3,WireframeGeometry:Dw});class Nw extends ns{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Mt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class L4 extends Fs{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class O4 extends ns{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new Mt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Mt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Rf,this.normalScale=new Ie(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new xl,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Lw extends O4{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Ie(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Qt(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Mt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Mt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Mt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class Ow extends ns{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Mt(16777215),this.specular=new Mt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Mt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Rf,this.normalScale=new Ie(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new xl,this.combine=Bg,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Uw extends ns{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Mt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Mt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Rf,this.normalScale=new Ie(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class U4 extends ns{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Rf,this.normalScale=new Ie(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class Pw extends ns{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Mt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Mt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Rf,this.normalScale=new Ie(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new xl,this.combine=Bg,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class P4 extends ns{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=Cf,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class I4 extends ns{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class Iw extends ns{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Mt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Rf,this.normalScale=new Ie(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this.fog=e.fog,this}}class zw extends oa{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Gh(i,e){return!i||i.constructor===e?i:typeof e.BYTES_PER_ELEMENT=="number"?new e(i):Array.prototype.slice.call(i)}function Bw(i){function e(r,a){return i[r]-i[a]}const t=i.length,n=new Array(t);for(let r=0;r!==t;++r)n[r]=r;return n.sort(e),n}function pM(i,e,t){const n=i.length,r=new i.constructor(n);for(let a=0,l=0;l!==n;++a){const u=t[a]*e;for(let d=0;d!==e;++d)r[l++]=i[u+d]}return r}function z4(i,e,t,n){let r=1,a=i[0];for(;a!==void 0&&a[n]===void 0;)a=i[r++];if(a===void 0)return;let l=a[n];if(l!==void 0)if(Array.isArray(l))do l=a[n],l!==void 0&&(e.push(a.time),t.push(...l)),a=i[r++];while(a!==void 0);else if(l.toArray!==void 0)do l=a[n],l!==void 0&&(e.push(a.time),l.toArray(t,t.length)),a=i[r++];while(a!==void 0);else do l=a[n],l!==void 0&&(e.push(a.time),t.push(l)),a=i[r++];while(a!==void 0)}function OD(i,e,t,n,r=30){const a=i.clone();a.name=e;const l=[];for(let d=0;d<a.tracks.length;++d){const p=a.tracks[d],v=p.getValueSize(),_=[],y=[];for(let x=0;x<p.times.length;++x){const M=p.times[x]*r;if(!(M<t||M>=n)){_.push(p.times[x]);for(let E=0;E<v;++E)y.push(p.values[x*v+E])}}_.length!==0&&(p.times=Gh(_,p.times.constructor),p.values=Gh(y,p.values.constructor),l.push(p))}a.tracks=l;let u=1/0;for(let d=0;d<a.tracks.length;++d)u>a.tracks[d].times[0]&&(u=a.tracks[d].times[0]);for(let d=0;d<a.tracks.length;++d)a.tracks[d].shift(-1*u);return a.resetDuration(),a}function UD(i,e=0,t=i,n=30){n<=0&&(n=30);const r=t.tracks.length,a=e/n;for(let l=0;l<r;++l){const u=t.tracks[l],d=u.ValueTypeName;if(d==="bool"||d==="string")continue;const p=i.tracks.find(function(T){return T.name===u.name&&T.ValueTypeName===d});if(p===void 0)continue;let v=0;const _=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(v=_/3);let y=0;const x=p.getValueSize();p.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(y=x/3);const M=u.times.length-1;let E;if(a<=u.times[0]){const T=v,R=_-v;E=u.values.slice(T,R)}else if(a>=u.times[M]){const T=M*_+v,R=T+_-v;E=u.values.slice(T,R)}else{const T=u.createInterpolant(),R=v,D=_-v;T.evaluate(a),E=T.resultBuffer.slice(R,D)}d==="quaternion"&&new Oa().fromArray(E).normalize().conjugate().toArray(E);const A=p.times.length;for(let T=0;T<A;++T){const R=T*x+y;if(d==="quaternion")Oa.multiplyQuaternionsFlat(p.values,R,E,0,p.values,R);else{const D=x-y*2;for(let N=0;N<D;++N)p.values[R+N]-=E[N]}}}return i.blendMode=g4,i}class PD{static convertArray(e,t){return Gh(e,t)}static isTypedArray(e){return nw(e)}static getKeyframeOrder(e){return Bw(e)}static sortedArray(e,t,n){return pM(e,t,n)}static flattenJSON(e,t,n,r){z4(e,t,n,r)}static subclip(e,t,n,r,a=30){return OD(e,t,n,r,a)}static makeClipAdditive(e,t=0,n=e,r=30){return UD(e,t,n,r)}}class Xg{constructor(e,t,n,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(n),this.sampleValues=t,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let n=this._cachedIndex,r=t[n],a=t[n-1];e:{t:{let l;n:{i:if(!(e<r)){for(let u=n+2;;){if(r===void 0){if(e<a)break i;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===u)break;if(a=r,r=t[++n],e<r)break t}l=t.length;break n}if(!(e>=a)){const u=t[1];e<u&&(n=2,a=u);for(let d=n-2;;){if(a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(n===d)break;if(r=a,a=t[--n-1],e>=a)break t}l=n,n=0;break n}break e}for(;n<l;){const u=n+l>>>1;e<t[u]?l=u:n=u+1}if(r=t[n],a=t[n-1],a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,a,r)}return this.interpolate_(n,a,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,a=e*r;for(let l=0;l!==r;++l)t[l]=n[a+l];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class Fw extends Xg{constructor(e,t,n,r){super(e,t,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Vh,endingEnd:Vh}}intervalChanged_(e,t,n){const r=this.parameterPositions;let a=e-2,l=e+1,u=r[a],d=r[l];if(u===void 0)switch(this.getSettings_().endingStart){case Hh:a=e,u=2*t-n;break;case dg:a=r.length-2,u=t+r[a]-r[a+1];break;default:a=e,u=n}if(d===void 0)switch(this.getSettings_().endingEnd){case Hh:l=e,d=2*n-t;break;case dg:l=1,d=n+r[1]-r[0];break;default:l=e-1,d=t}const p=(n-t)*.5,v=this.valueSize;this._weightPrev=p/(t-u),this._weightNext=p/(d-n),this._offsetPrev=a*v,this._offsetNext=l*v}interpolate_(e,t,n,r){const a=this.resultBuffer,l=this.sampleValues,u=this.valueSize,d=e*u,p=d-u,v=this._offsetPrev,_=this._offsetNext,y=this._weightPrev,x=this._weightNext,M=(n-t)/(r-t),E=M*M,A=E*M,T=-y*A+2*y*E-y*M,R=(1+y)*A+(-1.5-2*y)*E+(-.5+y)*M+1,D=(-1-x)*A+(1.5+x)*E+.5*M,N=x*A-x*E;for(let U=0;U!==u;++U)a[U]=T*l[v+U]+R*l[p+U]+D*l[d+U]+N*l[_+U];return a}}class B4 extends Xg{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const a=this.resultBuffer,l=this.sampleValues,u=this.valueSize,d=e*u,p=d-u,v=(n-t)/(r-t),_=1-v;for(let y=0;y!==u;++y)a[y]=l[p+y]*_+l[d+y]*v;return a}}class kw extends Xg{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class Wo{constructor(e,t,n,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Gh(t,this.TimeBufferType),this.values=Gh(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let n;if(t.toJSON!==this.toJSON)n=t.toJSON(e);else{n={name:e.name,times:Gh(e.times,Array),values:Gh(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(n.interpolation=r)}return n.type=e.ValueTypeName,n}InterpolantFactoryMethodDiscrete(e){return new kw(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new B4(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new Fw(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case hg:t=this.InterpolantFactoryMethodDiscrete;break;case zy:t=this.InterpolantFactoryMethodLinear;break;case Bx:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(n);return _t("KeyframeTrack:",n),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return hg;case this.InterpolantFactoryMethodLinear:return zy;case this.InterpolantFactoryMethodSmooth:return Bx}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]*=e}return this}trim(e,t){const n=this.times,r=n.length;let a=0,l=r-1;for(;a!==r&&n[a]<e;)++a;for(;l!==-1&&n[l]>t;)--l;if(++l,a!==0||l!==r){a>=l&&(l=Math.max(l,1),a=l-1);const u=this.getValueSize();this.times=n.slice(a,l),this.values=this.values.slice(a*u,l*u)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(It("KeyframeTrack: Invalid value size in track.",this),e=!1);const n=this.times,r=this.values,a=n.length;a===0&&(It("KeyframeTrack: Track is empty.",this),e=!1);let l=null;for(let u=0;u!==a;u++){const d=n[u];if(typeof d=="number"&&isNaN(d)){It("KeyframeTrack: Time is not a valid number.",this,u,d),e=!1;break}if(l!==null&&l>d){It("KeyframeTrack: Out of order keys.",this,u,d,l),e=!1;break}l=d}if(r!==void 0&&nw(r))for(let u=0,d=r.length;u!==d;++u){const p=r[u];if(isNaN(p)){It("KeyframeTrack: Value is not a valid number.",this,u,p),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),n=this.getValueSize(),r=this.getInterpolation()===Bx,a=e.length-1;let l=1;for(let u=1;u<a;++u){let d=!1;const p=e[u],v=e[u+1];if(p!==v&&(u!==1||p!==e[0]))if(r)d=!0;else{const _=u*n,y=_-n,x=_+n;for(let M=0;M!==n;++M){const E=t[_+M];if(E!==t[y+M]||E!==t[x+M]){d=!0;break}}}if(d){if(u!==l){e[l]=e[u];const _=u*n,y=l*n;for(let x=0;x!==n;++x)t[y+x]=t[_+x]}++l}}if(a>0){e[l]=e[a];for(let u=a*n,d=l*n,p=0;p!==n;++p)t[d+p]=t[u+p];++l}return l!==e.length?(this.times=e.slice(0,l),this.values=t.slice(0,l*n)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),n=this.constructor,r=new n(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}Wo.prototype.ValueTypeName="";Wo.prototype.TimeBufferType=Float32Array;Wo.prototype.ValueBufferType=Float32Array;Wo.prototype.DefaultInterpolation=zy;class pd extends Wo{constructor(e,t,n){super(e,t,n)}}pd.prototype.ValueTypeName="bool";pd.prototype.ValueBufferType=Array;pd.prototype.DefaultInterpolation=hg;pd.prototype.InterpolantFactoryMethodLinear=void 0;pd.prototype.InterpolantFactoryMethodSmooth=void 0;class F4 extends Wo{constructor(e,t,n,r){super(e,t,n,r)}}F4.prototype.ValueTypeName="color";class Sg extends Wo{constructor(e,t,n,r){super(e,t,n,r)}}Sg.prototype.ValueTypeName="number";class Vw extends Xg{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const a=this.resultBuffer,l=this.sampleValues,u=this.valueSize,d=(n-t)/(r-t);let p=e*u;for(let v=p+u;p!==v;p+=4)Oa.slerpFlat(a,0,l,p-u,l,p,d);return a}}class qg extends Wo{constructor(e,t,n,r){super(e,t,n,r)}InterpolantFactoryMethodLinear(e){return new Vw(this.times,this.values,this.getValueSize(),e)}}qg.prototype.ValueTypeName="quaternion";qg.prototype.InterpolantFactoryMethodSmooth=void 0;class md extends Wo{constructor(e,t,n){super(e,t,n)}}md.prototype.ValueTypeName="string";md.prototype.ValueBufferType=Array;md.prototype.DefaultInterpolation=hg;md.prototype.InterpolantFactoryMethodLinear=void 0;md.prototype.InterpolantFactoryMethodSmooth=void 0;class Mg extends Wo{constructor(e,t,n,r){super(e,t,n,r)}}Mg.prototype.ValueTypeName="vector";class Tg{constructor(e="",t=-1,n=[],r=p3){this.name=e,this.tracks=n,this.duration=t,this.blendMode=r,this.uuid=so(),this.userData={},this.duration<0&&this.resetDuration()}static parse(e){const t=[],n=e.tracks,r=1/(e.fps||1);for(let l=0,u=n.length;l!==u;++l)t.push(zD(n[l]).scale(r));const a=new this(e.name,e.duration,t,e.blendMode);return a.uuid=e.uuid,a.userData=JSON.parse(e.userData||"{}"),a}static toJSON(e){const t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode,userData:JSON.stringify(e.userData)};for(let a=0,l=n.length;a!==l;++a)t.push(Wo.toJSON(n[a]));return r}static CreateFromMorphTargetSequence(e,t,n,r){const a=t.length,l=[];for(let u=0;u<a;u++){let d=[],p=[];d.push((u+a-1)%a,u,(u+1)%a),p.push(0,1,0);const v=Bw(d);d=pM(d,1,v),p=pM(p,1,v),!r&&d[0]===0&&(d.push(a),p.push(p[0])),l.push(new Sg(".morphTargetInfluences["+t[u].name+"]",d,p).scale(1/n))}return new this(e,-1,l)}static findByName(e,t){let n=e;if(!Array.isArray(e)){const r=e;n=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<n.length;r++)if(n[r].name===t)return n[r];return null}static CreateClipsFromMorphTargetSequences(e,t,n){const r={},a=/^([\w-]*?)([\d]+)$/;for(let u=0,d=e.length;u<d;u++){const p=e[u],v=p.name.match(a);if(v&&v.length>1){const _=v[1];let y=r[_];y||(r[_]=y=[]),y.push(p)}}const l=[];for(const u in r)l.push(this.CreateFromMorphTargetSequence(u,r[u],t,n));return l}static parseAnimation(e,t){if(_t("AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return It("AnimationClip: No animation in JSONLoader data."),null;const n=function(_,y,x,M,E){if(x.length!==0){const A=[],T=[];z4(x,A,T,M),A.length!==0&&E.push(new _(y,A,T))}},r=[],a=e.name||"default",l=e.fps||30,u=e.blendMode;let d=e.length||-1;const p=e.hierarchy||[];for(let _=0;_<p.length;_++){const y=p[_].keys;if(!(!y||y.length===0))if(y[0].morphTargets){const x={};let M;for(M=0;M<y.length;M++)if(y[M].morphTargets)for(let E=0;E<y[M].morphTargets.length;E++)x[y[M].morphTargets[E]]=-1;for(const E in x){const A=[],T=[];for(let R=0;R!==y[M].morphTargets.length;++R){const D=y[M];A.push(D.time),T.push(D.morphTarget===E?1:0)}r.push(new Sg(".morphTargetInfluence["+E+"]",A,T))}d=x.length*l}else{const x=".bones["+t[_].name+"]";n(Mg,x+".position",y,"pos",r),n(qg,x+".quaternion",y,"rot",r),n(Mg,x+".scale",y,"scl",r)}}return r.length===0?null:new this(a,d,r,u)}resetDuration(){const e=this.tracks;let t=0;for(let n=0,r=e.length;n!==r;++n){const a=this.tracks[n];t=Math.max(t,a.times[a.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());const t=new this.constructor(this.name,this.duration,e,this.blendMode);return t.userData=JSON.parse(JSON.stringify(this.userData)),t}toJSON(){return this.constructor.toJSON(this)}}function ID(i){switch(i.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Sg;case"vector":case"vector2":case"vector3":case"vector4":return Mg;case"color":return F4;case"quaternion":return qg;case"bool":case"boolean":return pd;case"string":return md}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+i)}function zD(i){if(i.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=ID(i.type);if(i.times===void 0){const t=[],n=[];z4(i.keys,t,n,"value"),i.times=t,i.values=n}return e.parse!==void 0?e.parse(i):new e(i.name,i.times,i.values,i.interpolation)}const rc={enabled:!1,files:{},add:function(i,e){this.enabled!==!1&&(this.files[i]=e)},get:function(i){if(this.enabled!==!1)return this.files[i]},remove:function(i){delete this.files[i]},clear:function(){this.files={}}};class k4{constructor(e,t,n){const r=this;let a=!1,l=0,u=0,d;const p=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this._abortController=null,this.itemStart=function(v){u++,a===!1&&r.onStart!==void 0&&r.onStart(v,l,u),a=!0},this.itemEnd=function(v){l++,r.onProgress!==void 0&&r.onProgress(v,l,u),l===u&&(a=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(v){r.onError!==void 0&&r.onError(v)},this.resolveURL=function(v){return d?d(v):v},this.setURLModifier=function(v){return d=v,this},this.addHandler=function(v,_){return p.push(v,_),this},this.removeHandler=function(v){const _=p.indexOf(v);return _!==-1&&p.splice(_,2),this},this.getHandler=function(v){for(let _=0,y=p.length;_<y;_+=2){const x=p[_],M=p[_+1];if(x.global&&(x.lastIndex=0),x.test(v))return M}return null},this.abort=function(){return this.abortController.abort(),this._abortController=null,this}}get abortController(){return this._abortController||(this._abortController=new AbortController),this._abortController}}const Hw=new k4;class Fa{constructor(e){this.manager=e!==void 0?e:Hw,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const n=this;return new Promise(function(r,a){n.load(e,r,t,a)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}abort(){return this}}Fa.DEFAULT_MATERIAL_NAME="__DEFAULT";const Qc={};class BD extends Error{constructor(e,t){super(e),this.response=t}}class su extends Fa{constructor(e){super(e),this.mimeType="",this.responseType="",this._abortController=new AbortController}load(e,t,n,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=rc.get(`file:${e}`);if(a!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(a),this.manager.itemEnd(e)},0),a;if(Qc[e]!==void 0){Qc[e].push({onLoad:t,onProgress:n,onError:r});return}Qc[e]=[],Qc[e].push({onLoad:t,onProgress:n,onError:r});const l=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin",signal:typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal}),u=this.mimeType,d=this.responseType;fetch(l).then(p=>{if(p.status===200||p.status===0){if(p.status===0&&_t("FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||p.body===void 0||p.body.getReader===void 0)return p;const v=Qc[e],_=p.body.getReader(),y=p.headers.get("X-File-Size")||p.headers.get("Content-Length"),x=y?parseInt(y):0,M=x!==0;let E=0;const A=new ReadableStream({start(T){R();function R(){_.read().then(({done:D,value:N})=>{if(D)T.close();else{E+=N.byteLength;const U=new ProgressEvent("progress",{lengthComputable:M,loaded:E,total:x});for(let I=0,B=v.length;I<B;I++){const k=v[I];k.onProgress&&k.onProgress(U)}T.enqueue(N),R()}},D=>{T.error(D)})}}});return new Response(A)}else throw new BD(`fetch for "${p.url}" responded with ${p.status}: ${p.statusText}`,p)}).then(p=>{switch(d){case"arraybuffer":return p.arrayBuffer();case"blob":return p.blob();case"document":return p.text().then(v=>new DOMParser().parseFromString(v,u));case"json":return p.json();default:if(u==="")return p.text();{const _=/charset="?([^;"\s]*)"?/i.exec(u),y=_&&_[1]?_[1].toLowerCase():void 0,x=new TextDecoder(y);return p.arrayBuffer().then(M=>x.decode(M))}}}).then(p=>{rc.add(`file:${e}`,p);const v=Qc[e];delete Qc[e];for(let _=0,y=v.length;_<y;_++){const x=v[_];x.onLoad&&x.onLoad(p)}}).catch(p=>{const v=Qc[e];if(v===void 0)throw this.manager.itemError(e),p;delete Qc[e];for(let _=0,y=v.length;_<y;_++){const x=v[_];x.onError&&x.onError(p)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}class FD extends Fa{constructor(e){super(e)}load(e,t,n,r){const a=this,l=new su(this.manager);l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(u){try{t(a.parse(JSON.parse(u)))}catch(d){r?r(d):It(d),a.manager.itemError(e)}},n,r)}parse(e){const t=[];for(let n=0;n<e.length;n++){const r=Tg.parse(e[n]);t.push(r)}return t}}class kD extends Fa{constructor(e){super(e)}load(e,t,n,r){const a=this,l=[],u=new E3,d=new su(this.manager);d.setPath(this.path),d.setResponseType("arraybuffer"),d.setRequestHeader(this.requestHeader),d.setWithCredentials(a.withCredentials);let p=0;function v(_){d.load(e[_],function(y){const x=a.parse(y,!0);l[_]={width:x.width,height:x.height,format:x.format,mipmaps:x.mipmaps},p+=1,p===6&&(x.mipmapCount===1&&(u.minFilter=hi),u.image=l,u.format=x.format,u.needsUpdate=!0,t&&t(u))},n,r)}if(Array.isArray(e))for(let _=0,y=e.length;_<y;++_)v(_);else d.load(e,function(_){const y=a.parse(_,!0);if(y.isCubemap){const x=y.mipmaps.length/y.mipmapCount;for(let M=0;M<x;M++){l[M]={mipmaps:[]};for(let E=0;E<y.mipmapCount;E++)l[M].mipmaps.push(y.mipmaps[M*y.mipmapCount+E]),l[M].format=y.format,l[M].width=y.width,l[M].height=y.height}u.image=l}else u.image.width=y.width,u.image.height=y.height,u.mipmaps=y.mipmaps;y.mipmapCount===1&&(u.minFilter=hi),u.format=y.format,u.needsUpdate=!0,t&&t(u)},n,r);return u}}const Hp=new WeakMap;class Eg extends Fa{constructor(e){super(e)}load(e,t,n,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,l=rc.get(`image:${e}`);if(l!==void 0){if(l.complete===!0)a.manager.itemStart(e),setTimeout(function(){t&&t(l),a.manager.itemEnd(e)},0);else{let _=Hp.get(l);_===void 0&&(_=[],Hp.set(l,_)),_.push({onLoad:t,onError:r})}return l}const u=gg("img");function d(){v(),t&&t(this);const _=Hp.get(this)||[];for(let y=0;y<_.length;y++){const x=_[y];x.onLoad&&x.onLoad(this)}Hp.delete(this),a.manager.itemEnd(e)}function p(_){v(),r&&r(_),rc.remove(`image:${e}`);const y=Hp.get(this)||[];for(let x=0;x<y.length;x++){const M=y[x];M.onError&&M.onError(_)}Hp.delete(this),a.manager.itemError(e),a.manager.itemEnd(e)}function v(){u.removeEventListener("load",d,!1),u.removeEventListener("error",p,!1)}return u.addEventListener("load",d,!1),u.addEventListener("error",p,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(u.crossOrigin=this.crossOrigin),rc.add(`image:${e}`,u),a.manager.itemStart(e),u.src=e,u}}class VD extends Fa{constructor(e){super(e)}load(e,t,n,r){const a=new kg;a.colorSpace=Bi;const l=new Eg(this.manager);l.setCrossOrigin(this.crossOrigin),l.setPath(this.path);let u=0;function d(p){l.load(e[p],function(v){a.images[p]=v,u++,u===6&&(a.needsUpdate=!0,t&&t(a))},void 0,r)}for(let p=0;p<e.length;++p)d(p);return a}}class HD extends Fa{constructor(e){super(e)}load(e,t,n,r){const a=this,l=new vl,u=new su(this.manager);return u.setResponseType("arraybuffer"),u.setRequestHeader(this.requestHeader),u.setPath(this.path),u.setWithCredentials(a.withCredentials),u.load(e,function(d){let p;try{p=a.parse(d)}catch(v){if(r!==void 0)r(v);else{v(v);return}}p.image!==void 0?l.image=p.image:p.data!==void 0&&(l.image.width=p.width,l.image.height=p.height,l.image.data=p.data),l.wrapS=p.wrapS!==void 0?p.wrapS:La,l.wrapT=p.wrapT!==void 0?p.wrapT:La,l.magFilter=p.magFilter!==void 0?p.magFilter:hi,l.minFilter=p.minFilter!==void 0?p.minFilter:hi,l.anisotropy=p.anisotropy!==void 0?p.anisotropy:1,p.colorSpace!==void 0&&(l.colorSpace=p.colorSpace),p.flipY!==void 0&&(l.flipY=p.flipY),p.format!==void 0&&(l.format=p.format),p.type!==void 0&&(l.type=p.type),p.mipmaps!==void 0&&(l.mipmaps=p.mipmaps,l.minFilter=ic),p.mipmapCount===1&&(l.minFilter=hi),p.generateMipmaps!==void 0&&(l.generateMipmaps=p.generateMipmaps),l.needsUpdate=!0,t&&t(l,p)},n,r),l}}class GD extends Fa{constructor(e){super(e)}load(e,t,n,r){const a=new qi,l=new Eg(this.manager);return l.setCrossOrigin(this.crossOrigin),l.setPath(this.path),l.load(e,function(u){a.image=u,a.needsUpdate=!0,t!==void 0&&t(a)},n,r),a}}class Lf extends qn{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Mt(e),this.intensity=t}dispose(){this.dispatchEvent({type:"dispose"})}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,t}}class Gw extends Lf{constructor(e,t,n){super(e,n),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(qn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Mt(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}toJSON(e){const t=super.toJSON(e);return t.object.groundColor=this.groundColor.getHex(),t}}const fS=new en,a2=new $,o2=new $;class V4{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Ie(512,512),this.mapType=Gr,this.map=null,this.mapPass=null,this.matrix=new en,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new U0,this._frameExtents=new Ie(1,1),this._viewportCount=1,this._viewports=[new Ei(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,n=this.matrix;a2.setFromMatrixPosition(e.matrixWorld),t.position.copy(a2),o2.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(o2),t.updateMatrixWorld(),fS.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(fS,t.coordinateSystem,t.reversedDepth),t.reversedDepth?n.set(.5,0,0,.5,0,.5,0,.5,0,0,1,0,0,0,0,1):n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(fS)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class WD extends V4{constructor(){super(new Hr(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(e){const t=this.camera,n=x0*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height*this.aspect,a=e.distance||t.far;(n!==t.fov||r!==t.aspect||a!==t.far)&&(t.fov=n,t.aspect=r,t.far=a,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class Ww extends Lf{constructor(e,t,n=0,r=Math.PI/3,a=0,l=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(qn.DEFAULT_UP),this.updateMatrix(),this.target=new qn,this.distance=n,this.angle=r,this.penumbra=a,this.decay=l,this.map=null,this.shadow=new WD}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){super.dispose(),this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.map=e.map,this.shadow=e.shadow.clone(),this}toJSON(e){const t=super.toJSON(e);return t.object.distance=this.distance,t.object.angle=this.angle,t.object.decay=this.decay,t.object.penumbra=this.penumbra,t.object.target=this.target.uuid,this.map&&this.map.isTexture&&(t.object.map=this.map.toJSON(e).uuid),t.object.shadow=this.shadow.toJSON(),t}}class XD extends V4{constructor(){super(new Hr(90,1,.5,500)),this.isPointLightShadow=!0}}class Xw extends Lf{constructor(e,t,n=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=n,this.decay=r,this.shadow=new XD}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){super.dispose(),this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}toJSON(e){const t=super.toJSON(e);return t.object.distance=this.distance,t.object.decay=this.decay,t.object.shadow=this.shadow.toJSON(),t}}class gd extends x3{constructor(e=-1,t=1,n=1,r=-1,a=.1,l=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=r,this.near=a,this.far=l,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,n,r,a,l){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=a,this.view.height=l,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let a=n-e,l=n+e,u=r+t,d=r-t;if(this.view!==null&&this.view.enabled){const p=(this.right-this.left)/this.view.fullWidth/this.zoom,v=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a+=p*this.view.offsetX,l=a+p*this.view.width,u-=v*this.view.offsetY,d=u-v*this.view.height}this.projectionMatrix.makeOrthographic(a,l,u,d,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}class qD extends V4{constructor(){super(new gd(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class qw extends Lf{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(qn.DEFAULT_UP),this.updateMatrix(),this.target=new qn,this.shadow=new qD}dispose(){super.dispose(),this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}toJSON(e){const t=super.toJSON(e);return t.object.shadow=this.shadow.toJSON(),t.object.target=this.target.uuid,t}}class Yw extends Lf{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class jw extends Lf{constructor(e,t,n=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=n,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class H4{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new $)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const n=e.x,r=e.y,a=e.z,l=this.coefficients;return t.copy(l[0]).multiplyScalar(.282095),t.addScaledVector(l[1],.488603*r),t.addScaledVector(l[2],.488603*a),t.addScaledVector(l[3],.488603*n),t.addScaledVector(l[4],1.092548*(n*r)),t.addScaledVector(l[5],1.092548*(r*a)),t.addScaledVector(l[6],.315392*(3*a*a-1)),t.addScaledVector(l[7],1.092548*(n*a)),t.addScaledVector(l[8],.546274*(n*n-r*r)),t}getIrradianceAt(e,t){const n=e.x,r=e.y,a=e.z,l=this.coefficients;return t.copy(l[0]).multiplyScalar(.886227),t.addScaledVector(l[1],2*.511664*r),t.addScaledVector(l[2],2*.511664*a),t.addScaledVector(l[3],2*.511664*n),t.addScaledVector(l[4],2*.429043*n*r),t.addScaledVector(l[5],2*.429043*r*a),t.addScaledVector(l[6],.743125*a*a-.247708),t.addScaledVector(l[7],2*.429043*n*a),t.addScaledVector(l[8],.429043*(n*n-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const n=this.coefficients;for(let r=0;r<9;r++)n[r].fromArray(e,t+r*3);return this}toArray(e=[],t=0){const n=this.coefficients;for(let r=0;r<9;r++)n[r].toArray(e,t+r*3);return e}static getBasisAt(e,t){const n=e.x,r=e.y,a=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*a,t[3]=.488603*n,t[4]=1.092548*n*r,t[5]=1.092548*r*a,t[6]=.315392*(3*a*a-1),t[7]=1.092548*n*a,t[8]=.546274*(n*n-r*r)}}class Zw extends Lf{constructor(e=new H4,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class F3 extends Fa{constructor(e){super(e),this.textures={}}load(e,t,n,r){const a=this,l=new su(a.manager);l.setPath(a.path),l.setRequestHeader(a.requestHeader),l.setWithCredentials(a.withCredentials),l.load(e,function(u){try{t(a.parse(JSON.parse(u)))}catch(d){r?r(d):It(d),a.manager.itemError(e)}},n,r)}parse(e){const t=this.textures;function n(a){return t[a]===void 0&&_t("MaterialLoader: Undefined texture",a),t[a]}const r=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new Mt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(r.dispersion=e.dispersion),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(r.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(r.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(r.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(r.depthFunc=e.depthFunc),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(r.blendSrc=e.blendSrc),e.blendDst!==void 0&&(r.blendDst=e.blendDst),e.blendEquation!==void 0&&(r.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(r.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(r.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(r.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&r.blendColor!==void 0&&r.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(r.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==void 0&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.allowOverride!==void 0&&(r.allowOverride=e.allowOverride),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const a in e.uniforms){const l=e.uniforms[a];switch(r.uniforms[a]={},l.type){case"t":r.uniforms[a].value=n(l.value);break;case"c":r.uniforms[a].value=new Mt().setHex(l.value);break;case"v2":r.uniforms[a].value=new Ie().fromArray(l.value);break;case"v3":r.uniforms[a].value=new $().fromArray(l.value);break;case"v4":r.uniforms[a].value=new Ei().fromArray(l.value);break;case"m3":r.uniforms[a].value=new dn().fromArray(l.value);break;case"m4":r.uniforms[a].value=new en().fromArray(l.value);break;default:r.uniforms[a].value=l.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const a in e.extensions)r.extensions[a]=e.extensions[a];if(e.lights!==void 0&&(r.lights=e.lights),e.clipping!==void 0&&(r.clipping=e.clipping),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=n(e.map)),e.matcap!==void 0&&(r.matcap=n(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=n(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=n(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=n(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let a=e.normalScale;Array.isArray(a)===!1&&(a=[a,a]),r.normalScale=new Ie().fromArray(a)}return e.displacementMap!==void 0&&(r.displacementMap=n(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=n(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=n(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=n(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=n(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=n(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=n(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=n(e.envMap)),e.envMapRotation!==void 0&&r.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=n(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=n(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=n(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=n(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=n(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new Ie().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=n(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=n(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=n(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=n(e.thicknessMap)),e.anisotropyMap!==void 0&&(r.anisotropyMap=n(e.anisotropyMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=n(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=n(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return F3.createMaterialFromType(e)}static createMaterialFromType(e){const t={ShadowMaterial:Nw,SpriteMaterial:S4,RawShaderMaterial:L4,ShaderMaterial:Fs,PointsMaterial:T4,MeshPhysicalMaterial:Lw,MeshStandardMaterial:O4,MeshPhongMaterial:Ow,MeshToonMaterial:Uw,MeshNormalMaterial:U4,MeshLambertMaterial:Pw,MeshDepthMaterial:P4,MeshDistanceMaterial:I4,MeshBasicMaterial:Df,MeshMatcapMaterial:Iw,LineDashedMaterial:zw,LineBasicMaterial:oa,Material:ns};return new t[e]}}class mM{static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class Qw extends an{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class Kw extends Fa{constructor(e){super(e)}load(e,t,n,r){const a=this,l=new su(a.manager);l.setPath(a.path),l.setRequestHeader(a.requestHeader),l.setWithCredentials(a.withCredentials),l.load(e,function(u){try{t(a.parse(JSON.parse(u)))}catch(d){r?r(d):It(d),a.manager.itemError(e)}},n,r)}parse(e){const t={},n={};function r(x,M){if(t[M]!==void 0)return t[M];const A=x.interleavedBuffers[M],T=a(x,A.buffer),R=n0(A.type,T),D=new S3(R,A.stride);return D.uuid=A.uuid,t[M]=D,D}function a(x,M){if(n[M]!==void 0)return n[M];const A=x.arrayBuffers[M],T=new Uint32Array(A).buffer;return n[M]=T,T}const l=e.isInstancedBufferGeometry?new Qw:new an,u=e.data.index;if(u!==void 0){const x=n0(u.type,u.array);l.setIndex(new ci(x,1))}const d=e.data.attributes;for(const x in d){const M=d[x];let E;if(M.isInterleavedBufferAttribute){const A=r(e.data,M.data);E=new ad(A,M.itemSize,M.offset,M.normalized)}else{const A=n0(M.type,M.array),T=M.isInstancedBufferAttribute?S0:ci;E=new T(A,M.itemSize,M.normalized)}M.name!==void 0&&(E.name=M.name),M.usage!==void 0&&E.setUsage(M.usage),l.setAttribute(x,E)}const p=e.data.morphAttributes;if(p)for(const x in p){const M=p[x],E=[];for(let A=0,T=M.length;A<T;A++){const R=M[A];let D;if(R.isInterleavedBufferAttribute){const N=r(e.data,R.data);D=new ad(N,R.itemSize,R.offset,R.normalized)}else{const N=n0(R.type,R.array);D=new ci(N,R.itemSize,R.normalized)}R.name!==void 0&&(D.name=R.name),E.push(D)}l.morphAttributes[x]=E}e.data.morphTargetsRelative&&(l.morphTargetsRelative=!0);const _=e.data.groups||e.data.drawcalls||e.data.offsets;if(_!==void 0)for(let x=0,M=_.length;x!==M;++x){const E=_[x];l.addGroup(E.start,E.count,E.materialIndex)}const y=e.data.boundingSphere;return y!==void 0&&(l.boundingSphere=new ms().fromJSON(y)),e.name&&(l.name=e.name),e.userData&&(l.userData=e.userData),l}}class YD extends Fa{constructor(e){super(e)}load(e,t,n,r){const a=this,l=this.path===""?mM.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||l;const u=new su(this.manager);u.setPath(this.path),u.setRequestHeader(this.requestHeader),u.setWithCredentials(this.withCredentials),u.load(e,function(d){let p=null;try{p=JSON.parse(d)}catch(_){r!==void 0&&r(_),_("ObjectLoader: Can't parse "+e+".",_.message);return}const v=p.metadata;if(v===void 0||v.type===void 0||v.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),It("ObjectLoader: Can't load "+e);return}a.parse(p,t)},n,r)}async loadAsync(e,t){const n=this,r=this.path===""?mM.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const a=new su(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials);const l=await a.loadAsync(e,t),u=JSON.parse(l),d=u.metadata;if(d===void 0||d.type===void 0||d.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await n.parseAsync(u)}parse(e,t){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),a=this.parseGeometries(e.geometries,r),l=this.parseImages(e.images,function(){t!==void 0&&t(p)}),u=this.parseTextures(e.textures,l),d=this.parseMaterials(e.materials,u),p=this.parseObject(e.object,a,d,u,n),v=this.parseSkeletons(e.skeletons,p);if(this.bindSkeletons(p,v),this.bindLightTargets(p),t!==void 0){let _=!1;for(const y in l)if(l[y].data instanceof HTMLImageElement){_=!0;break}_===!1&&t(p)}return p}async parseAsync(e){const t=this.parseAnimations(e.animations),n=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,n),a=await this.parseImagesAsync(e.images),l=this.parseTextures(e.textures,a),u=this.parseMaterials(e.materials,l),d=this.parseObject(e.object,r,u,l,t),p=this.parseSkeletons(e.skeletons,d);return this.bindSkeletons(d,p),this.bindLightTargets(d),d}parseShapes(e){const t={};if(e!==void 0)for(let n=0,r=e.length;n<r;n++){const a=new jh().fromJSON(e[n]);t[a.uuid]=a}return t}parseSkeletons(e,t){const n={},r={};if(t.traverse(function(a){a.isBone&&(r[a.uuid]=a)}),e!==void 0)for(let a=0,l=e.length;a<l;a++){const u=new M3().fromJSON(e[a],r);n[u.uuid]=u}return n}parseGeometries(e,t){const n={};if(e!==void 0){const r=new Kw;for(let a=0,l=e.length;a<l;a++){let u;const d=e[a];switch(d.type){case"BufferGeometry":case"InstancedBufferGeometry":u=r.parse(d);break;default:d.type in s2?u=s2[d.type].fromJSON(d,t):_t(`ObjectLoader: Unsupported geometry type "${d.type}"`)}u.uuid=d.uuid,d.name!==void 0&&(u.name=d.name),d.userData!==void 0&&(u.userData=d.userData),n[d.uuid]=u}}return n}parseMaterials(e,t){const n={},r={};if(e!==void 0){const a=new F3;a.setTextures(t);for(let l=0,u=e.length;l<u;l++){const d=e[l];n[d.uuid]===void 0&&(n[d.uuid]=a.parse(d)),r[d.uuid]=n[d.uuid]}}return r}parseAnimations(e){const t={};if(e!==void 0)for(let n=0;n<e.length;n++){const r=e[n],a=Tg.parse(r);t[a.uuid]=a}return t}parseImages(e,t){const n=this,r={};let a;function l(d){return n.manager.itemStart(d),a.load(d,function(){n.manager.itemEnd(d)},void 0,function(){n.manager.itemError(d),n.manager.itemEnd(d)})}function u(d){if(typeof d=="string"){const p=d,v=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(p)?p:n.resourcePath+p;return l(v)}else return d.data?{data:n0(d.type,d.data),width:d.width,height:d.height}:null}if(e!==void 0&&e.length>0){const d=new k4(t);a=new Eg(d),a.setCrossOrigin(this.crossOrigin);for(let p=0,v=e.length;p<v;p++){const _=e[p],y=_.url;if(Array.isArray(y)){const x=[];for(let M=0,E=y.length;M<E;M++){const A=y[M],T=u(A);T!==null&&(T instanceof HTMLImageElement?x.push(T):x.push(new vl(T.data,T.width,T.height)))}r[_.uuid]=new ff(x)}else{const x=u(_.url);r[_.uuid]=new ff(x)}}}return r}async parseImagesAsync(e){const t=this,n={};let r;async function a(l){if(typeof l=="string"){const u=l,d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:t.resourcePath+u;return await r.loadAsync(d)}else return l.data?{data:n0(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){r=new Eg(this.manager),r.setCrossOrigin(this.crossOrigin);for(let l=0,u=e.length;l<u;l++){const d=e[l],p=d.url;if(Array.isArray(p)){const v=[];for(let _=0,y=p.length;_<y;_++){const x=p[_],M=await a(x);M!==null&&(M instanceof HTMLImageElement?v.push(M):v.push(new vl(M.data,M.width,M.height)))}n[d.uuid]=new ff(v)}else{const v=await a(d.url);n[d.uuid]=new ff(v)}}}return n}parseTextures(e,t){function n(a,l){return typeof a=="number"?a:(_t("ObjectLoader.parseTexture: Constant should be in numeric form.",a),l[a])}const r={};if(e!==void 0)for(let a=0,l=e.length;a<l;a++){const u=e[a];u.image===void 0&&_t('ObjectLoader: No "image" specified for',u.uuid),t[u.image]===void 0&&_t("ObjectLoader: Undefined image",u.image);const d=t[u.image],p=d.data;let v;Array.isArray(p)?(v=new kg,p.length===6&&(v.needsUpdate=!0)):(p&&p.data?v=new vl:v=new qi,p&&(v.needsUpdate=!0)),v.source=d,v.uuid=u.uuid,u.name!==void 0&&(v.name=u.name),u.mapping!==void 0&&(v.mapping=n(u.mapping,jD)),u.channel!==void 0&&(v.channel=u.channel),u.offset!==void 0&&v.offset.fromArray(u.offset),u.repeat!==void 0&&v.repeat.fromArray(u.repeat),u.center!==void 0&&v.center.fromArray(u.center),u.rotation!==void 0&&(v.rotation=u.rotation),u.wrap!==void 0&&(v.wrapS=n(u.wrap[0],l2),v.wrapT=n(u.wrap[1],l2)),u.format!==void 0&&(v.format=u.format),u.internalFormat!==void 0&&(v.internalFormat=u.internalFormat),u.type!==void 0&&(v.type=u.type),u.colorSpace!==void 0&&(v.colorSpace=u.colorSpace),u.minFilter!==void 0&&(v.minFilter=n(u.minFilter,c2)),u.magFilter!==void 0&&(v.magFilter=n(u.magFilter,c2)),u.anisotropy!==void 0&&(v.anisotropy=u.anisotropy),u.flipY!==void 0&&(v.flipY=u.flipY),u.generateMipmaps!==void 0&&(v.generateMipmaps=u.generateMipmaps),u.premultiplyAlpha!==void 0&&(v.premultiplyAlpha=u.premultiplyAlpha),u.unpackAlignment!==void 0&&(v.unpackAlignment=u.unpackAlignment),u.compareFunction!==void 0&&(v.compareFunction=u.compareFunction),u.userData!==void 0&&(v.userData=u.userData),r[u.uuid]=v}return r}parseObject(e,t,n,r,a){let l;function u(y){return t[y]===void 0&&_t("ObjectLoader: Undefined geometry",y),t[y]}function d(y){if(y!==void 0){if(Array.isArray(y)){const x=[];for(let M=0,E=y.length;M<E;M++){const A=y[M];n[A]===void 0&&_t("ObjectLoader: Undefined material",A),x.push(n[A])}return x}return n[y]===void 0&&_t("ObjectLoader: Undefined material",y),n[y]}}function p(y){return r[y]===void 0&&_t("ObjectLoader: Undefined texture",y),r[y]}let v,_;switch(e.type){case"Scene":l=new _g,e.background!==void 0&&(Number.isInteger(e.background)?l.background=new Mt(e.background):l.background=p(e.background)),e.environment!==void 0&&(l.environment=p(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?l.fog=new b3(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(l.fog=new y3(e.fog.color,e.fog.density)),e.fog.name!==""&&(l.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(l.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(l.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&l.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(l.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&l.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":l=new Hr(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(l.focus=e.focus),e.zoom!==void 0&&(l.zoom=e.zoom),e.filmGauge!==void 0&&(l.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(l.filmOffset=e.filmOffset),e.view!==void 0&&(l.view=Object.assign({},e.view));break;case"OrthographicCamera":l=new gd(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(l.zoom=e.zoom),e.view!==void 0&&(l.view=Object.assign({},e.view));break;case"AmbientLight":l=new Yw(e.color,e.intensity);break;case"DirectionalLight":l=new qw(e.color,e.intensity),l.target=e.target||"";break;case"PointLight":l=new Xw(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":l=new jw(e.color,e.intensity,e.width,e.height);break;case"SpotLight":l=new Ww(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),l.target=e.target||"";break;case"HemisphereLight":l=new Gw(e.color,e.groundColor,e.intensity);break;case"LightProbe":const y=new H4().fromArray(e.sh);l=new Zw(y,e.intensity);break;case"SkinnedMesh":v=u(e.geometry),_=d(e.material),l=new dw(v,_),e.bindMode!==void 0&&(l.bindMode=e.bindMode),e.bindMatrix!==void 0&&l.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(l.skeleton=e.skeleton);break;case"Mesh":v=u(e.geometry),_=d(e.material),l=new br(v,_);break;case"InstancedMesh":v=u(e.geometry),_=d(e.material);const x=e.count,M=e.instanceMatrix,E=e.instanceColor;l=new pw(v,_,x),l.instanceMatrix=new S0(new Float32Array(M.array),16),E!==void 0&&(l.instanceColor=new S0(new Float32Array(E.array),E.itemSize));break;case"BatchedMesh":v=u(e.geometry),_=d(e.material),l=new mw(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,_),l.geometry=v,l.perObjectFrustumCulled=e.perObjectFrustumCulled,l.sortObjects=e.sortObjects,l._drawRanges=e.drawRanges,l._reservedRanges=e.reservedRanges,l._geometryInfo=e.geometryInfo.map(A=>{let T=null,R=null;return A.boundingBox!==void 0&&(T=new zs().fromJSON(A.boundingBox)),A.boundingSphere!==void 0&&(R=new ms().fromJSON(A.boundingSphere)),{...A,boundingBox:T,boundingSphere:R}}),l._instanceInfo=e.instanceInfo,l._availableInstanceIds=e._availableInstanceIds,l._availableGeometryIds=e._availableGeometryIds,l._nextIndexStart=e.nextIndexStart,l._nextVertexStart=e.nextVertexStart,l._geometryCount=e.geometryCount,l._maxInstanceCount=e.maxInstanceCount,l._maxVertexCount=e.maxVertexCount,l._maxIndexCount=e.maxIndexCount,l._geometryInitialized=e.geometryInitialized,l._matricesTexture=p(e.matricesTexture.uuid),l._indirectTexture=p(e.indirectTexture.uuid),e.colorsTexture!==void 0&&(l._colorsTexture=p(e.colorsTexture.uuid)),e.boundingSphere!==void 0&&(l.boundingSphere=new ms().fromJSON(e.boundingSphere)),e.boundingBox!==void 0&&(l.boundingBox=new zs().fromJSON(e.boundingBox));break;case"LOD":l=new hw;break;case"Line":l=new Mf(u(e.geometry),d(e.material));break;case"LineLoop":l=new gw(u(e.geometry),d(e.material));break;case"LineSegments":l=new pc(u(e.geometry),d(e.material));break;case"PointCloud":case"Points":l=new vw(u(e.geometry),d(e.material));break;case"Sprite":l=new fw(d(e.material));break;case"Group":l=new i0;break;case"Bone":l=new M4;break;default:l=new qn}if(l.uuid=e.uuid,e.name!==void 0&&(l.name=e.name),e.matrix!==void 0?(l.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(l.matrixAutoUpdate=e.matrixAutoUpdate),l.matrixAutoUpdate&&l.matrix.decompose(l.position,l.quaternion,l.scale)):(e.position!==void 0&&l.position.fromArray(e.position),e.rotation!==void 0&&l.rotation.fromArray(e.rotation),e.quaternion!==void 0&&l.quaternion.fromArray(e.quaternion),e.scale!==void 0&&l.scale.fromArray(e.scale)),e.up!==void 0&&l.up.fromArray(e.up),e.castShadow!==void 0&&(l.castShadow=e.castShadow),e.receiveShadow!==void 0&&(l.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(l.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(l.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(l.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(l.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&l.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(l.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(l.visible=e.visible),e.frustumCulled!==void 0&&(l.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(l.renderOrder=e.renderOrder),e.userData!==void 0&&(l.userData=e.userData),e.layers!==void 0&&(l.layers.mask=e.layers),e.children!==void 0){const y=e.children;for(let x=0;x<y.length;x++)l.add(this.parseObject(y[x],t,n,r,a))}if(e.animations!==void 0){const y=e.animations;for(let x=0;x<y.length;x++){const M=y[x];l.animations.push(a[M])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(l.autoUpdate=e.autoUpdate);const y=e.levels;for(let x=0;x<y.length;x++){const M=y[x],E=l.getObjectByProperty("uuid",M.object);E!==void 0&&l.addLevel(E,M.distance,M.hysteresis)}}return l}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(n){if(n.isSkinnedMesh===!0&&n.skeleton!==void 0){const r=t[n.skeleton];r===void 0?_t("ObjectLoader: No skeleton found with UUID:",n.skeleton):n.bind(r,n.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){const n=t.target,r=e.getObjectByProperty("uuid",n);r!==void 0?t.target=r:t.target=new qn}})}}const jD={UVMapping:o3,CubeReflectionMapping:uc,CubeRefractionMapping:bf,EquirectangularReflectionMapping:lg,EquirectangularRefractionMapping:cg,CubeUVReflectionMapping:L0},l2={RepeatWrapping:ug,ClampToEdgeWrapping:La,MirroredRepeatWrapping:fg},c2={NearestFilter:Fi,NearestMipmapNearestFilter:c4,NearestMipmapLinearFilter:t0,LinearFilter:hi,LinearMipmapNearestFilter:z1,LinearMipmapLinearFilter:ic},hS=new WeakMap;class ZD extends Fa{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&_t("ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&_t("ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"},this._abortController=new AbortController}setOptions(e){return this.options=e,this}load(e,t,n,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,l=rc.get(`image-bitmap:${e}`);if(l!==void 0){if(a.manager.itemStart(e),l.then){l.then(p=>{if(hS.has(l)===!0)r&&r(hS.get(l)),a.manager.itemError(e),a.manager.itemEnd(e);else return t&&t(p),a.manager.itemEnd(e),p});return}return setTimeout(function(){t&&t(l),a.manager.itemEnd(e)},0),l}const u={};u.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",u.headers=this.requestHeader,u.signal=typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal;const d=fetch(e,u).then(function(p){return p.blob()}).then(function(p){return createImageBitmap(p,Object.assign(a.options,{colorSpaceConversion:"none"}))}).then(function(p){return rc.add(`image-bitmap:${e}`,p),t&&t(p),a.manager.itemEnd(e),p}).catch(function(p){r&&r(p),hS.set(d,p),rc.remove(`image-bitmap:${e}`),a.manager.itemError(e),a.manager.itemEnd(e)});rc.add(`image-bitmap:${e}`,d),a.manager.itemStart(e)}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}let dx;class G4{static getContext(){return dx===void 0&&(dx=new(window.AudioContext||window.webkitAudioContext)),dx}static setContext(e){dx=e}}class QD extends Fa{constructor(e){super(e)}load(e,t,n,r){const a=this,l=new su(this.manager);l.setResponseType("arraybuffer"),l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(d){try{const p=d.slice(0);G4.getContext().decodeAudioData(p,function(_){t(_)}).catch(u)}catch(p){u(p)}},n,r);function u(d){r?r(d):It(d),a.manager.itemError(e)}}}const u2=new en,f2=new en,Eh=new en;class KD{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Hr,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Hr,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Eh.copy(e.projectionMatrix);const r=t.eyeSep/2,a=r*t.near/t.focus,l=t.near*Math.tan(Yh*t.fov*.5)/t.zoom;let u,d;f2.elements[12]=-r,u2.elements[12]=r,u=-l*t.aspect+a,d=l*t.aspect+a,Eh.elements[0]=2*t.near/(d-u),Eh.elements[8]=(d+u)/(d-u),this.cameraL.projectionMatrix.copy(Eh),u=-l*t.aspect-a,d=l*t.aspect-a,Eh.elements[0]=2*t.near/(d-u),Eh.elements[8]=(d+u)/(d-u),this.cameraR.projectionMatrix.copy(Eh)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(f2),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(u2)}}class Jw extends Hr{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class W4{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=performance.now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}const Ah=new $,dS=new Oa,JD=new $,wh=new $,Ch=new $;class $D extends qn{constructor(){super(),this.type="AudioListener",this.context=G4.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new W4}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Ah,dS,JD),wh.set(0,0,-1).applyQuaternion(dS),Ch.set(0,1,0).applyQuaternion(dS),t.positionX){const n=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Ah.x,n),t.positionY.linearRampToValueAtTime(Ah.y,n),t.positionZ.linearRampToValueAtTime(Ah.z,n),t.forwardX.linearRampToValueAtTime(wh.x,n),t.forwardY.linearRampToValueAtTime(wh.y,n),t.forwardZ.linearRampToValueAtTime(wh.z,n),t.upX.linearRampToValueAtTime(Ch.x,n),t.upY.linearRampToValueAtTime(Ch.y,n),t.upZ.linearRampToValueAtTime(Ch.z,n)}else t.setPosition(Ah.x,Ah.y,Ah.z),t.setOrientation(wh.x,wh.y,wh.z,Ch.x,Ch.y,Ch.z)}}class $w extends qn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){_t("Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){_t("Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){_t("Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){_t("Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){_t("Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(_t("Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){_t("Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,t){return super.copy(e,t),e.sourceType!=="buffer"?(_t("Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const Rh=new $,h2=new Oa,e9=new $,Dh=new $;class t9 extends $w{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Rh,h2,e9),Dh.set(0,0,1).applyQuaternion(h2);const t=this.panner;if(t.positionX){const n=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Rh.x,n),t.positionY.linearRampToValueAtTime(Rh.y,n),t.positionZ.linearRampToValueAtTime(Rh.z,n),t.orientationX.linearRampToValueAtTime(Dh.x,n),t.orientationY.linearRampToValueAtTime(Dh.y,n),t.orientationZ.linearRampToValueAtTime(Dh.z,n)}else t.setPosition(Rh.x,Rh.y,Rh.z),t.setOrientation(Dh.x,Dh.y,Dh.z)}}class n9{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let n=0;n<t.length;n++)e+=t[n];return e/t.length}}class e6{constructor(e,t,n){this.binding=e,this.valueSize=n;let r,a,l;switch(t){case"quaternion":r=this._slerp,a=this._slerpAdditive,l=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(n*6),this._workIndex=5;break;case"string":case"bool":r=this._select,a=this._select,l=this._setAdditiveIdentityOther,this.buffer=new Array(n*5);break;default:r=this._lerp,a=this._lerpAdditive,l=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(n*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=a,this._setIdentity=l,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const n=this.buffer,r=this.valueSize,a=e*r+r;let l=this.cumulativeWeight;if(l===0){for(let u=0;u!==r;++u)n[a+u]=n[u];l=t}else{l+=t;const u=t/l;this._mixBufferRegion(n,a,0,u,r)}this.cumulativeWeight=l}accumulateAdditive(e){const t=this.buffer,n=this.valueSize,r=n*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,n),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,n=this.buffer,r=e*t+t,a=this.cumulativeWeight,l=this.cumulativeWeightAdditive,u=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,a<1){const d=t*this._origIndex;this._mixBufferRegion(n,r,d,1-a,t)}l>0&&this._mixBufferRegionAdditive(n,r,this._addIndex*t,1,t);for(let d=t,p=t+t;d!==p;++d)if(n[d]!==n[d+t]){u.setValue(n,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,n=this.valueSize,r=n*this._origIndex;e.getValue(t,r);for(let a=n,l=r;a!==l;++a)t[a]=t[r+a%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let n=e;n<t;n++)this.buffer[n]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}_select(e,t,n,r,a){if(r>=.5)for(let l=0;l!==a;++l)e[t+l]=e[n+l]}_slerp(e,t,n,r){Oa.slerpFlat(e,t,e,t,e,n,r)}_slerpAdditive(e,t,n,r,a){const l=this._workIndex*a;Oa.multiplyQuaternionsFlat(e,l,e,t,e,n),Oa.slerpFlat(e,t,e,t,e,l,r)}_lerp(e,t,n,r,a){const l=1-r;for(let u=0;u!==a;++u){const d=t+u;e[d]=e[d]*l+e[n+u]*r}}_lerpAdditive(e,t,n,r,a){for(let l=0;l!==a;++l){const u=t+l;e[u]=e[u]+e[n+l]*r}}}const X4="\\[\\]\\.:\\/",i9=new RegExp("["+X4+"]","g"),q4="[^"+X4+"]",r9="[^"+X4.replace("\\.","")+"]",s9=/((?:WC+[\/:])*)/.source.replace("WC",q4),a9=/(WCOD+)?/.source.replace("WCOD",r9),o9=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",q4),l9=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",q4),c9=new RegExp("^"+s9+a9+o9+l9+"$"),u9=["material","materials","bones","map"];class f9{constructor(e,t,n){const r=n||Xn.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const n=this._targetGroup.nCachedObjects_,r=this._bindings[n];r!==void 0&&r.getValue(e,t)}setValue(e,t){const n=this._bindings;for(let r=this._targetGroup.nCachedObjects_,a=n.length;r!==a;++r)n[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}class Xn{constructor(e,t,n){this.path=t,this.parsedPath=n||Xn.parseTrackName(t),this.node=Xn.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,n){return e&&e.isAnimationObjectGroup?new Xn.Composite(e,t,n):new Xn(e,t,n)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(i9,"")}static parseTrackName(e){const t=c9.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const a=n.nodeName.substring(r+1);u9.indexOf(a)!==-1&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=a)}if(n.propertyName===null||n.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const n=e.skeleton.getBoneByName(t);if(n!==void 0)return n}if(e.children){const n=function(a){for(let l=0;l<a.length;l++){const u=a[l];if(u.name===t||u.uuid===t)return u;const d=n(u.children);if(d)return d}return null},r=n(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const n=this.resolvedProperty;for(let r=0,a=n.length;r!==a;++r)e[t++]=n[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const n=this.resolvedProperty;for(let r=0,a=n.length;r!==a;++r)n[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const n=this.resolvedProperty;for(let r=0,a=n.length;r!==a;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const n=this.resolvedProperty;for(let r=0,a=n.length;r!==a;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,n=t.objectName,r=t.propertyName;let a=t.propertyIndex;if(e||(e=Xn.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){_t("PropertyBinding: No target node found for track: "+this.path+".");return}if(n){let p=t.objectIndex;switch(n){case"materials":if(!e.material){It("PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){It("PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){It("PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let v=0;v<e.length;v++)if(e[v].name===p){p=v;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){It("PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){It("PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[n]===void 0){It("PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[n]}if(p!==void 0){if(e[p]===void 0){It("PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[p]}}const l=e[r];if(l===void 0){const p=t.nodeName;It("PropertyBinding: Trying to update property for track: "+p+"."+r+" but it wasn't found.",e);return}let u=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?u=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(u=this.Versioning.MatrixWorldNeedsUpdate);let d=this.BindingType.Direct;if(a!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){It("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){It("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[a]!==void 0&&(a=e.morphTargetDictionary[a])}d=this.BindingType.ArrayElement,this.resolvedProperty=l,this.propertyIndex=a}else l.fromArray!==void 0&&l.toArray!==void 0?(d=this.BindingType.HasFromToArray,this.resolvedProperty=l):Array.isArray(l)?(d=this.BindingType.EntireArray,this.resolvedProperty=l):this.propertyName=r;this.getValue=this.GetterByBindingType[d],this.setValue=this.SetterByBindingTypeAndVersioning[d][u]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Xn.Composite=f9;Xn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Xn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Xn.prototype.GetterByBindingType=[Xn.prototype._getValue_direct,Xn.prototype._getValue_array,Xn.prototype._getValue_arrayElement,Xn.prototype._getValue_toArray];Xn.prototype.SetterByBindingTypeAndVersioning=[[Xn.prototype._setValue_direct,Xn.prototype._setValue_direct_setNeedsUpdate,Xn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Xn.prototype._setValue_array,Xn.prototype._setValue_array_setNeedsUpdate,Xn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Xn.prototype._setValue_arrayElement,Xn.prototype._setValue_arrayElement_setNeedsUpdate,Xn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Xn.prototype._setValue_fromArray,Xn.prototype._setValue_fromArray_setNeedsUpdate,Xn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class h9{constructor(){this.isAnimationObjectGroup=!0,this.uuid=so(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let n=0,r=arguments.length;n!==r;++n)e[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,n=this._paths,r=this._parsedPaths,a=this._bindings,l=a.length;let u,d=e.length,p=this.nCachedObjects_;for(let v=0,_=arguments.length;v!==_;++v){const y=arguments[v],x=y.uuid;let M=t[x];if(M===void 0){M=d++,t[x]=M,e.push(y);for(let E=0,A=l;E!==A;++E)a[E].push(new Xn(y,n[E],r[E]))}else if(M<p){u=e[M];const E=--p,A=e[E];t[A.uuid]=M,e[M]=A,t[x]=E,e[E]=y;for(let T=0,R=l;T!==R;++T){const D=a[T],N=D[E];let U=D[M];D[M]=N,U===void 0&&(U=new Xn(y,n[T],r[T])),D[E]=U}}else e[M]!==u&&It("AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=p}remove(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length;let a=this.nCachedObjects_;for(let l=0,u=arguments.length;l!==u;++l){const d=arguments[l],p=d.uuid,v=t[p];if(v!==void 0&&v>=a){const _=a++,y=e[_];t[y.uuid]=v,e[v]=y,t[p]=_,e[_]=d;for(let x=0,M=r;x!==M;++x){const E=n[x],A=E[_],T=E[v];E[v]=A,E[_]=T}}}this.nCachedObjects_=a}uncache(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length;let a=this.nCachedObjects_,l=e.length;for(let u=0,d=arguments.length;u!==d;++u){const p=arguments[u],v=p.uuid,_=t[v];if(_!==void 0)if(delete t[v],_<a){const y=--a,x=e[y],M=--l,E=e[M];t[x.uuid]=_,e[_]=x,t[E.uuid]=y,e[y]=E,e.pop();for(let A=0,T=r;A!==T;++A){const R=n[A],D=R[y],N=R[M];R[_]=D,R[y]=N,R.pop()}}else{const y=--l,x=e[y];y>0&&(t[x.uuid]=_),e[_]=x,e.pop();for(let M=0,E=r;M!==E;++M){const A=n[M];A[_]=A[y],A.pop()}}}this.nCachedObjects_=a}subscribe_(e,t){const n=this._bindingsIndicesByPath;let r=n[e];const a=this._bindings;if(r!==void 0)return a[r];const l=this._paths,u=this._parsedPaths,d=this._objects,p=d.length,v=this.nCachedObjects_,_=new Array(p);r=a.length,n[e]=r,l.push(e),u.push(t),a.push(_);for(let y=v,x=d.length;y!==x;++y){const M=d[y];_[y]=new Xn(M,e,t)}return _}unsubscribe_(e){const t=this._bindingsIndicesByPath,n=t[e];if(n!==void 0){const r=this._paths,a=this._parsedPaths,l=this._bindings,u=l.length-1,d=l[u],p=e[u];t[p]=n,l[n]=d,l.pop(),a[n]=a[u],a.pop(),r[n]=r[u],r.pop()}}}class t6{constructor(e,t,n=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=n,this.blendMode=r;const a=t.tracks,l=a.length,u=new Array(l),d={endingStart:Vh,endingEnd:Vh};for(let p=0;p!==l;++p){const v=a[p].createInterpolant(null);u[p]=v,v.settings=d}this._interpolantSettings=d,this._interpolants=u,this._propertyBindings=new Array(l),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=qA,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,n=!1){if(e.fadeOut(t),this.fadeIn(t),n===!0){const r=this._clip.duration,a=e._clip.duration,l=a/r,u=r/a;e.warp(1,l,t),this.warp(u,1,t)}return this}crossFadeTo(e,t,n=!1){return e.crossFadeFrom(this,t,n)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,n){const r=this._mixer,a=r.time,l=this.timeScale;let u=this._timeScaleInterpolant;u===null&&(u=r._lendControlInterpolant(),this._timeScaleInterpolant=u);const d=u.parameterPositions,p=u.sampleValues;return d[0]=a,d[1]=a+n,p[0]=e/l,p[1]=t/l,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,n,r){if(!this.enabled){this._updateWeight(e);return}const a=this._startTime;if(a!==null){const d=(e-a)*n;d<0||n===0?t=0:(this._startTime=null,t=n*d)}t*=this._updateTimeScale(e);const l=this._updateTime(t),u=this._updateWeight(e);if(u>0){const d=this._interpolants,p=this._propertyBindings;switch(this.blendMode){case g4:for(let v=0,_=d.length;v!==_;++v)d[v].evaluate(l),p[v].accumulateAdditive(u);break;case p3:default:for(let v=0,_=d.length;v!==_;++v)d[v].evaluate(l),p[v].accumulate(r,u)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const n=this._weightInterpolant;if(n!==null){const r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const n=this._timeScaleInterpolant;if(n!==null){const r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,n=this.loop;let r=this.time+e,a=this._loopCount;const l=n===YA;if(e===0)return a===-1?r:l&&(a&1)===1?t-r:r;if(n===XA){a===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(a===-1&&(e>=0?(a=0,this._setEndings(!0,this.repetitions===0,l)):this._setEndings(this.repetitions===0,!0,l)),r>=t||r<0){const u=Math.floor(r/t);r-=t*u,a+=Math.abs(u);const d=this.repetitions-a;if(d<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(d===1){const p=e<0;this._setEndings(p,!p,l)}else this._setEndings(!1,!1,l);this._loopCount=a,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:u})}}else this.time=r;if(l&&(a&1)===1)return t-r}return r}_setEndings(e,t,n){const r=this._interpolantSettings;n?(r.endingStart=Hh,r.endingEnd=Hh):(e?r.endingStart=this.zeroSlopeAtStart?Hh:Vh:r.endingStart=dg,t?r.endingEnd=this.zeroSlopeAtEnd?Hh:Vh:r.endingEnd=dg)}_scheduleFading(e,t,n){const r=this._mixer,a=r.time;let l=this._weightInterpolant;l===null&&(l=r._lendControlInterpolant(),this._weightInterpolant=l);const u=l.parameterPositions,d=l.sampleValues;return u[0]=a,d[0]=t,u[1]=a+e,d[1]=n,this}}const d9=new Float32Array(1);class p9 extends uo{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const n=e._localRoot||this._root,r=e._clip.tracks,a=r.length,l=e._propertyBindings,u=e._interpolants,d=n.uuid,p=this._bindingsByRootAndName;let v=p[d];v===void 0&&(v={},p[d]=v);for(let _=0;_!==a;++_){const y=r[_],x=y.name;let M=v[x];if(M!==void 0)++M.referenceCount,l[_]=M;else{if(M=l[_],M!==void 0){M._cacheIndex===null&&(++M.referenceCount,this._addInactiveBinding(M,d,x));continue}const E=t&&t._propertyBindings[_].binding.parsedPath;M=new e6(Xn.create(n,x,E),y.ValueTypeName,y.getValueSize()),++M.referenceCount,this._addInactiveBinding(M,d,x),l[_]=M}u[_].resultBuffer=M.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const n=(e._localRoot||this._root).uuid,r=e._clip.uuid,a=this._actionsByClip[r];this._bindAction(e,a&&a.knownActions[0]),this._addInactiveAction(e,r,n)}const t=e._propertyBindings;for(let n=0,r=t.length;n!==r;++n){const a=t[n];a.useCount++===0&&(this._lendBinding(a),a.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let n=0,r=t.length;n!==r;++n){const a=t[n];--a.useCount===0&&(a.restoreOriginalState(),this._takeBackBinding(a))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,n){const r=this._actions,a=this._actionsByClip;let l=a[t];if(l===void 0)l={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,a[t]=l;else{const u=l.knownActions;e._byClipCacheIndex=u.length,u.push(e)}e._cacheIndex=r.length,r.push(e),l.actionByRoot[n]=e}_removeInactiveAction(e){const t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;const a=e._clip.uuid,l=this._actionsByClip,u=l[a],d=u.knownActions,p=d[d.length-1],v=e._byClipCacheIndex;p._byClipCacheIndex=v,d[v]=p,d.pop(),e._byClipCacheIndex=null;const _=u.actionByRoot,y=(e._localRoot||this._root).uuid;delete _[y],d.length===0&&delete l[a],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let n=0,r=t.length;n!==r;++n){const a=t[n];--a.referenceCount===0&&this._removeInactiveBinding(a)}}_lendAction(e){const t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=n,t[n]=a}_takeBackAction(e){const t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=n,t[n]=a}_addInactiveBinding(e,t,n){const r=this._bindingsByRootAndName,a=this._bindings;let l=r[t];l===void 0&&(l={},r[t]=l),l[n]=e,e._cacheIndex=a.length,a.push(e)}_removeInactiveBinding(e){const t=this._bindings,n=e.binding,r=n.rootNode.uuid,a=n.path,l=this._bindingsByRootAndName,u=l[r],d=t[t.length-1],p=e._cacheIndex;d._cacheIndex=p,t[p]=d,t.pop(),delete u[a],Object.keys(u).length===0&&delete l[r]}_lendBinding(e){const t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=n,t[n]=a}_takeBackBinding(e){const t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=n,t[n]=a}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let n=e[t];return n===void 0&&(n=new B4(new Float32Array(2),new Float32Array(2),1,d9),n.__cacheIndex=t,e[t]=n),n}_takeBackControlInterpolant(e){const t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,a=t[r];e.__cacheIndex=r,t[r]=e,a.__cacheIndex=n,t[n]=a}clipAction(e,t,n){const r=t||this._root,a=r.uuid;let l=typeof e=="string"?Tg.findByName(r,e):e;const u=l!==null?l.uuid:e,d=this._actionsByClip[u];let p=null;if(n===void 0&&(l!==null?n=l.blendMode:n=p3),d!==void 0){const _=d.actionByRoot[a];if(_!==void 0&&_.blendMode===n)return _;p=d.knownActions[0],l===null&&(l=p._clip)}if(l===null)return null;const v=new t6(this,l,t,n);return this._bindAction(v,p),this._addInactiveAction(v,u,a),v}existingAction(e,t){const n=t||this._root,r=n.uuid,a=typeof e=="string"?Tg.findByName(n,e):e,l=a?a.uuid:e,u=this._actionsByClip[l];return u!==void 0&&u.actionByRoot[r]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let n=t-1;n>=0;--n)e[n].stop();return this}update(e){e*=this.timeScale;const t=this._actions,n=this._nActiveActions,r=this.time+=e,a=Math.sign(e),l=this._accuIndex^=1;for(let p=0;p!==n;++p)t[p]._update(r,e,a,l);const u=this._bindings,d=this._nActiveBindings;for(let p=0;p!==d;++p)u[p].apply(l);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,n=e.uuid,r=this._actionsByClip,a=r[n];if(a!==void 0){const l=a.knownActions;for(let u=0,d=l.length;u!==d;++u){const p=l[u];this._deactivateAction(p);const v=p._cacheIndex,_=t[t.length-1];p._cacheIndex=null,p._byClipCacheIndex=null,_._cacheIndex=v,t[v]=_,t.pop(),this._removeInactiveBindingsForAction(p)}delete r[n]}}uncacheRoot(e){const t=e.uuid,n=this._actionsByClip;for(const l in n){const u=n[l].actionByRoot,d=u[t];d!==void 0&&(this._deactivateAction(d),this._removeInactiveAction(d))}const r=this._bindingsByRootAndName,a=r[t];if(a!==void 0)for(const l in a){const u=a[l];u.restoreOriginalState(),this._removeInactiveBinding(u)}}uncacheAction(e,t){const n=this.existingAction(e,t);n!==null&&(this._deactivateAction(n),this._removeInactiveAction(n))}}class m9 extends _4{constructor(e=1,t=1,n=1,r={}){super(e,t,r),this.isRenderTarget3D=!0,this.depth=n,this.texture=new _3(null,e,t,n),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class li{constructor(e){this.value=e}clone(){return new li(this.value.clone===void 0?this.value:this.value.clone())}}let g9=0;class v9 extends uo{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:g9++}),this.name="",this.usage=mg,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let n=0,r=t.length;n<r;n++){const a=Array.isArray(t[n])?t[n]:[t[n]];for(let l=0;l<a.length;l++)this.uniforms.push(a[l].clone())}return this}clone(){return new this.constructor().copy(this)}}class _9 extends S3{constructor(e,t,n=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=n}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class x9{constructor(e,t,n,r,a,l=!1){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=n,this.elementSize=r,this.count=a,this.normalized=l,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const d2=new en;class n6{constructor(e,t,n=0,r=1/0){this.ray=new O0(e,t),this.near=n,this.far=r,this.camera=null,this.layers=new y0,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):It("Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return d2.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(d2),this}intersectObject(e,t=!0,n=[]){return gM(e,this,n,t),n.sort(p2),n}intersectObjects(e,t=!0,n=[]){for(let r=0,a=e.length;r<a;r++)gM(e[r],this,n,t);return n.sort(p2),n}}function p2(i,e){return i.distance-e.distance}function gM(i,e,t,n){let r=!0;if(i.layers.test(e.layers)&&i.raycast(e,t)===!1&&(r=!1),r===!0&&n===!0){const a=i.children;for(let l=0,u=a.length;l<u;l++)gM(a[l],e,t,!0)}}let y9=class{constructor(){this._previousTime=0,this._currentTime=0,this._startTime=performance.now(),this._delta=0,this._elapsed=0,this._timescale=1,this._document=null,this._pageVisibilityHandler=null}connect(e){this._document=e,e.hidden!==void 0&&(this._pageVisibilityHandler=b9.bind(this),e.addEventListener("visibilitychange",this._pageVisibilityHandler,!1))}disconnect(){this._pageVisibilityHandler!==null&&(this._document.removeEventListener("visibilitychange",this._pageVisibilityHandler),this._pageVisibilityHandler=null),this._document=null}getDelta(){return this._delta/1e3}getElapsed(){return this._elapsed/1e3}getTimescale(){return this._timescale}setTimescale(e){return this._timescale=e,this}reset(){return this._currentTime=performance.now()-this._startTime,this}dispose(){this.disconnect()}update(e){return this._pageVisibilityHandler!==null&&this._document.hidden===!0?this._delta=0:(this._previousTime=this._currentTime,this._currentTime=(e!==void 0?e:performance.now())-this._startTime,this._delta=(this._currentTime-this._previousTime)*this._timescale,this._elapsed+=this._delta),this}};function b9(){this._document.hidden===!1&&this.reset()}class S9{constructor(e=1,t=0,n=0){this.radius=e,this.phi=t,this.theta=n}set(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Qt(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(Qt(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class M9{constructor(e=1,t=0,n=0){this.radius=e,this.theta=t,this.y=n}set(e,t,n){return this.radius=e,this.theta=t,this.y=n,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}clone(){return new this.constructor().copy(this)}}class Y4{constructor(e,t,n,r){Y4.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,t,n,r)}identity(){return this.set(1,0,0,1),this}fromArray(e,t=0){for(let n=0;n<4;n++)this.elements[n]=e[n+t];return this}set(e,t,n,r){const a=this.elements;return a[0]=e,a[2]=t,a[1]=n,a[3]=r,this}}const m2=new Ie;class T9{constructor(e=new Ie(1/0,1/0),t=new Ie(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=m2.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,m2).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const g2=new $,px=new $,Gp=new $,Wp=new $,pS=new $,E9=new $,A9=new $;class w9{constructor(e=new $,t=new $){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){g2.subVectors(e,this.start),px.subVectors(this.end,this.start);const n=px.dot(px);let a=px.dot(g2)/n;return t&&(a=Qt(a,0,1)),a}closestPointToPoint(e,t,n){const r=this.closestPointToPointParameter(e,t);return this.delta(n).multiplyScalar(r).add(this.start)}distanceSqToLine3(e,t=E9,n=A9){const r=10000000000000001e-32;let a,l;const u=this.start,d=e.start,p=this.end,v=e.end;Gp.subVectors(p,u),Wp.subVectors(v,d),pS.subVectors(u,d);const _=Gp.dot(Gp),y=Wp.dot(Wp),x=Wp.dot(pS);if(_<=r&&y<=r)return t.copy(u),n.copy(d),t.sub(n),t.dot(t);if(_<=r)a=0,l=x/y,l=Qt(l,0,1);else{const M=Gp.dot(pS);if(y<=r)l=0,a=Qt(-M/_,0,1);else{const E=Gp.dot(Wp),A=_*y-E*E;A!==0?a=Qt((E*x-M*y)/A,0,1):a=0,l=(E*a+x)/y,l<0?(l=0,a=Qt(-M/_,0,1)):l>1&&(l=1,a=Qt((E-M)/_,0,1))}}return t.copy(u).add(Gp.multiplyScalar(a)),n.copy(d).add(Wp.multiplyScalar(l)),t.sub(n),t.dot(t)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const v2=new $;class C9 extends qn{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const n=new an,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let l=0,u=1,d=32;l<d;l++,u++){const p=l/d*Math.PI*2,v=u/d*Math.PI*2;r.push(Math.cos(p),Math.sin(p),1,Math.cos(v),Math.sin(v),1)}n.setAttribute("position",new wt(r,3));const a=new oa({fog:!1,toneMapped:!1});this.cone=new pc(n,a),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),v2.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(v2),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const rf=new $,mx=new en,mS=new en;class R9 extends pc{constructor(e){const t=i6(e),n=new an,r=[],a=[];for(let p=0;p<t.length;p++){const v=t[p];v.parent&&v.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),a.push(0,0,0),a.push(0,0,0))}n.setAttribute("position",new wt(r,3)),n.setAttribute("color",new wt(a,3));const l=new oa({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(n,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1;const u=new Mt(255),d=new Mt(65280);this.setColors(u,d)}updateMatrixWorld(e){const t=this.bones,n=this.geometry,r=n.getAttribute("position");mS.copy(this.root.matrixWorld).invert();for(let a=0,l=0;a<t.length;a++){const u=t[a];u.parent&&u.parent.isBone&&(mx.multiplyMatrices(mS,u.matrixWorld),rf.setFromMatrixPosition(mx),r.setXYZ(l,rf.x,rf.y,rf.z),mx.multiplyMatrices(mS,u.parent.matrixWorld),rf.setFromMatrixPosition(mx),r.setXYZ(l+1,rf.x,rf.y,rf.z),l+=2)}n.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}setColors(e,t){const r=this.geometry.getAttribute("color");for(let a=0;a<r.count;a+=2)r.setXYZ(a,e.r,e.g,e.b),r.setXYZ(a+1,t.r,t.g,t.b);return r.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}function i6(i){const e=[];i.isBone===!0&&e.push(i);for(let t=0;t<i.children.length;t++)e.push(...i6(i.children[t]));return e}class D9 extends br{constructor(e,t,n){const r=new Wg(t,4,2),a=new Df({wireframe:!0,fog:!1,toneMapped:!1});super(r,a),this.light=e,this.color=n,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const N9=new $,_2=new Mt,x2=new Mt;class L9 extends qn{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="HemisphereLightHelper";const r=new Gg(t);r.rotateY(Math.PI*.5),this.material=new Df({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const a=r.getAttribute("position"),l=new Float32Array(a.count*3);r.setAttribute("color",new ci(l,3)),this.add(new br(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");_2.copy(this.light.color),x2.copy(this.light.groundColor);for(let n=0,r=t.count;n<r;n++){const a=n<r/2?_2:x2;t.setXYZ(n,a.r,a.g,a.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(N9.setFromMatrixPosition(this.light.matrixWorld).negate())}}class O9 extends pc{constructor(e=10,t=10,n=4473924,r=8947848){n=new Mt(n),r=new Mt(r);const a=t/2,l=e/t,u=e/2,d=[],p=[];for(let y=0,x=0,M=-u;y<=t;y++,M+=l){d.push(-u,0,M,u,0,M),d.push(M,0,-u,M,0,u);const E=y===a?n:r;E.toArray(p,x),x+=3,E.toArray(p,x),x+=3,E.toArray(p,x),x+=3,E.toArray(p,x),x+=3}const v=new an;v.setAttribute("position",new wt(d,3)),v.setAttribute("color",new wt(p,3));const _=new oa({vertexColors:!0,toneMapped:!1});super(v,_),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class U9 extends pc{constructor(e=10,t=16,n=8,r=64,a=4473924,l=8947848){a=new Mt(a),l=new Mt(l);const u=[],d=[];if(t>1)for(let _=0;_<t;_++){const y=_/t*(Math.PI*2),x=Math.sin(y)*e,M=Math.cos(y)*e;u.push(0,0,0),u.push(x,0,M);const E=_&1?a:l;d.push(E.r,E.g,E.b),d.push(E.r,E.g,E.b)}for(let _=0;_<n;_++){const y=_&1?a:l,x=e-e/n*_;for(let M=0;M<r;M++){let E=M/r*(Math.PI*2),A=Math.sin(E)*x,T=Math.cos(E)*x;u.push(A,0,T),d.push(y.r,y.g,y.b),E=(M+1)/r*(Math.PI*2),A=Math.sin(E)*x,T=Math.cos(E)*x,u.push(A,0,T),d.push(y.r,y.g,y.b)}}const p=new an;p.setAttribute("position",new wt(u,3)),p.setAttribute("color",new wt(d,3));const v=new oa({vertexColors:!0,toneMapped:!1});super(p,v),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const y2=new $,gx=new $,b2=new $;class P9 extends qn{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="DirectionalLightHelper",t===void 0&&(t=1);let r=new an;r.setAttribute("position",new wt([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const a=new oa({fog:!1,toneMapped:!1});this.lightPlane=new Mf(r,a),this.add(this.lightPlane),r=new an,r.setAttribute("position",new wt([0,0,0,0,0,1],3)),this.targetLine=new Mf(r,a),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),y2.setFromMatrixPosition(this.light.matrixWorld),gx.setFromMatrixPosition(this.light.target.matrixWorld),b2.subVectors(gx,y2),this.lightPlane.lookAt(gx),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(gx),this.targetLine.scale.z=b2.length()}}const vx=new $,ur=new x3;class I9 extends pc{constructor(e){const t=new an,n=new oa({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],a=[],l={};u("n1","n2"),u("n2","n4"),u("n4","n3"),u("n3","n1"),u("f1","f2"),u("f2","f4"),u("f4","f3"),u("f3","f1"),u("n1","f1"),u("n2","f2"),u("n3","f3"),u("n4","f4"),u("p","n1"),u("p","n2"),u("p","n3"),u("p","n4"),u("u1","u2"),u("u2","u3"),u("u3","u1"),u("c","t"),u("p","c"),u("cn1","cn2"),u("cn3","cn4"),u("cf1","cf2"),u("cf3","cf4");function u(M,E){d(M),d(E)}function d(M){r.push(0,0,0),a.push(0,0,0),l[M]===void 0&&(l[M]=[]),l[M].push(r.length/3-1)}t.setAttribute("position",new wt(r,3)),t.setAttribute("color",new wt(a,3)),super(t,n),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=l,this.update();const p=new Mt(16755200),v=new Mt(16711680),_=new Mt(43775),y=new Mt(16777215),x=new Mt(3355443);this.setColors(p,v,_,y,x)}setColors(e,t,n,r,a){const u=this.geometry.getAttribute("color");return u.setXYZ(0,e.r,e.g,e.b),u.setXYZ(1,e.r,e.g,e.b),u.setXYZ(2,e.r,e.g,e.b),u.setXYZ(3,e.r,e.g,e.b),u.setXYZ(4,e.r,e.g,e.b),u.setXYZ(5,e.r,e.g,e.b),u.setXYZ(6,e.r,e.g,e.b),u.setXYZ(7,e.r,e.g,e.b),u.setXYZ(8,e.r,e.g,e.b),u.setXYZ(9,e.r,e.g,e.b),u.setXYZ(10,e.r,e.g,e.b),u.setXYZ(11,e.r,e.g,e.b),u.setXYZ(12,e.r,e.g,e.b),u.setXYZ(13,e.r,e.g,e.b),u.setXYZ(14,e.r,e.g,e.b),u.setXYZ(15,e.r,e.g,e.b),u.setXYZ(16,e.r,e.g,e.b),u.setXYZ(17,e.r,e.g,e.b),u.setXYZ(18,e.r,e.g,e.b),u.setXYZ(19,e.r,e.g,e.b),u.setXYZ(20,e.r,e.g,e.b),u.setXYZ(21,e.r,e.g,e.b),u.setXYZ(22,e.r,e.g,e.b),u.setXYZ(23,e.r,e.g,e.b),u.setXYZ(24,t.r,t.g,t.b),u.setXYZ(25,t.r,t.g,t.b),u.setXYZ(26,t.r,t.g,t.b),u.setXYZ(27,t.r,t.g,t.b),u.setXYZ(28,t.r,t.g,t.b),u.setXYZ(29,t.r,t.g,t.b),u.setXYZ(30,t.r,t.g,t.b),u.setXYZ(31,t.r,t.g,t.b),u.setXYZ(32,n.r,n.g,n.b),u.setXYZ(33,n.r,n.g,n.b),u.setXYZ(34,n.r,n.g,n.b),u.setXYZ(35,n.r,n.g,n.b),u.setXYZ(36,n.r,n.g,n.b),u.setXYZ(37,n.r,n.g,n.b),u.setXYZ(38,r.r,r.g,r.b),u.setXYZ(39,r.r,r.g,r.b),u.setXYZ(40,a.r,a.g,a.b),u.setXYZ(41,a.r,a.g,a.b),u.setXYZ(42,a.r,a.g,a.b),u.setXYZ(43,a.r,a.g,a.b),u.setXYZ(44,a.r,a.g,a.b),u.setXYZ(45,a.r,a.g,a.b),u.setXYZ(46,a.r,a.g,a.b),u.setXYZ(47,a.r,a.g,a.b),u.setXYZ(48,a.r,a.g,a.b),u.setXYZ(49,a.r,a.g,a.b),u.needsUpdate=!0,this}update(){const e=this.geometry,t=this.pointMap,n=1,r=1;let a,l;if(ur.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),this.camera.reversedDepth===!0)a=1,l=0;else if(this.camera.coordinateSystem===eo)a=-1,l=1;else if(this.camera.coordinateSystem===v0)a=0,l=1;else throw new Error("THREE.CameraHelper.update(): Invalid coordinate system: "+this.camera.coordinateSystem);_r("c",t,e,ur,0,0,a),_r("t",t,e,ur,0,0,l),_r("n1",t,e,ur,-n,-r,a),_r("n2",t,e,ur,n,-r,a),_r("n3",t,e,ur,-n,r,a),_r("n4",t,e,ur,n,r,a),_r("f1",t,e,ur,-n,-r,l),_r("f2",t,e,ur,n,-r,l),_r("f3",t,e,ur,-n,r,l),_r("f4",t,e,ur,n,r,l),_r("u1",t,e,ur,n*.7,r*1.1,a),_r("u2",t,e,ur,-n*.7,r*1.1,a),_r("u3",t,e,ur,0,r*2,a),_r("cf1",t,e,ur,-n,0,l),_r("cf2",t,e,ur,n,0,l),_r("cf3",t,e,ur,0,-r,l),_r("cf4",t,e,ur,0,r,l),_r("cn1",t,e,ur,-n,0,a),_r("cn2",t,e,ur,n,0,a),_r("cn3",t,e,ur,0,-r,a),_r("cn4",t,e,ur,0,r,a),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function _r(i,e,t,n,r,a,l){vx.set(r,a,l).unproject(n);const u=e[i];if(u!==void 0){const d=t.getAttribute("position");for(let p=0,v=u.length;p<v;p++)d.setXYZ(u[p],vx.x,vx.y,vx.z)}}const _x=new zs;class z9 extends pc{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),a=new an;a.setIndex(new ci(n,1)),a.setAttribute("position",new ci(r,3)),super(a,new oa({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&_x.setFromObject(this.object),_x.isEmpty())return;const e=_x.min,t=_x.max,n=this.geometry.attributes.position,r=n.array;r[0]=t.x,r[1]=t.y,r[2]=t.z,r[3]=e.x,r[4]=t.y,r[5]=t.z,r[6]=e.x,r[7]=e.y,r[8]=t.z,r[9]=t.x,r[10]=e.y,r[11]=t.z,r[12]=t.x,r[13]=t.y,r[14]=e.z,r[15]=e.x,r[16]=t.y,r[17]=e.z,r[18]=e.x,r[19]=e.y,r[20]=e.z,r[21]=t.x,r[22]=e.y,r[23]=e.z,n.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class B9 extends pc{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],a=new an;a.setIndex(new ci(n,1)),a.setAttribute("position",new wt(r,3)),super(a,new oa({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class F9 extends Mf{constructor(e,t=1,n=16776960){const r=n,a=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],l=new an;l.setAttribute("position",new wt(a,3)),l.computeBoundingSphere(),super(l,new oa({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const u=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],d=new an;d.setAttribute("position",new wt(u,3)),d.computeBoundingSphere(),this.add(new br(d,new Df({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const S2=new $;let xx,gS;class k9 extends qn{constructor(e=new $(0,0,1),t=new $(0,0,0),n=1,r=16776960,a=n*.2,l=a*.2){super(),this.type="ArrowHelper",xx===void 0&&(xx=new an,xx.setAttribute("position",new wt([0,0,0,0,1,0],3)),gS=new Hg(.5,1,5,1),gS.translate(0,-.5,0)),this.position.copy(t),this.line=new Mf(xx,new oa({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new br(gS,new Df({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,a,l)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{S2.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(S2,t)}}setLength(e,t=e*.2,n=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class V9 extends pc{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new an;r.setAttribute("position",new wt(t,3)),r.setAttribute("color",new wt(n,3));const a=new oa({vertexColors:!0,toneMapped:!1});super(r,a),this.type="AxesHelper"}setColors(e,t,n){const r=new Mt,a=this.geometry.attributes.color.array;return r.set(e),r.toArray(a,0),r.toArray(a,3),r.set(t),r.toArray(a,6),r.toArray(a,9),r.set(n),r.toArray(a,12),r.toArray(a,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class H9{constructor(){this.type="ShapePath",this.color=new Mt,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new Vy,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,n,r){return this.currentPath.quadraticCurveTo(e,t,n,r),this}bezierCurveTo(e,t,n,r,a,l){return this.currentPath.bezierCurveTo(e,t,n,r,a,l),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(T){const R=[];for(let D=0,N=T.length;D<N;D++){const U=T[D],I=new jh;I.curves=U.curves,R.push(I)}return R}function n(T,R){const D=R.length;let N=!1;for(let U=D-1,I=0;I<D;U=I++){let B=R[U],k=R[I],O=k.x-B.x,P=k.y-B.y;if(Math.abs(P)>Number.EPSILON){if(P<0&&(B=R[I],O=-O,k=R[U],P=-P),T.y<B.y||T.y>k.y)continue;if(T.y===B.y){if(T.x===B.x)return!0}else{const W=P*(T.x-B.x)-O*(T.y-B.y);if(W===0)return!0;if(W<0)continue;N=!N}}else{if(T.y!==B.y)continue;if(k.x<=T.x&&T.x<=B.x||B.x<=T.x&&T.x<=k.x)return!0}}return N}const r=ml.isClockWise,a=this.subPaths;if(a.length===0)return[];let l,u,d;const p=[];if(a.length===1)return u=a[0],d=new jh,d.curves=u.curves,p.push(d),p;let v=!r(a[0].getPoints());v=e?!v:v;const _=[],y=[];let x=[],M=0,E;y[M]=void 0,x[M]=[];for(let T=0,R=a.length;T<R;T++)u=a[T],E=u.getPoints(),l=r(E),l=e?!l:l,l?(!v&&y[M]&&M++,y[M]={s:new jh,p:E},y[M].s.curves=u.curves,v&&M++,x[M]=[]):x[M].push({h:u,p:E[0]});if(!y[0])return t(a);if(y.length>1){let T=!1,R=0;for(let D=0,N=y.length;D<N;D++)_[D]=[];for(let D=0,N=y.length;D<N;D++){const U=x[D];for(let I=0;I<U.length;I++){const B=U[I];let k=!0;for(let O=0;O<y.length;O++)n(B.p,y[O].p)&&(D!==O&&R++,k?(k=!1,_[O].push(B)):T=!0);k&&_[D].push(B)}}R>0&&T===!1&&(x=_)}let A;for(let T=0,R=y.length;T<R;T++){d=y[T].s,p.push(d),A=x[T];for(let D=0,N=A.length;D<N;D++)d.holes.push(A[D].h)}return p}}class G9 extends uo{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){_t("Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function W9(i,e){const t=i.image&&i.image.width?i.image.width/i.image.height:1;return t>e?(i.repeat.x=1,i.repeat.y=t/e,i.offset.x=0,i.offset.y=(1-i.repeat.y)/2):(i.repeat.x=e/t,i.repeat.y=1,i.offset.x=(1-i.repeat.x)/2,i.offset.y=0),i}function X9(i,e){const t=i.image&&i.image.width?i.image.width/i.image.height:1;return t>e?(i.repeat.x=e/t,i.repeat.y=1,i.offset.x=(1-i.repeat.x)/2,i.offset.y=0):(i.repeat.x=1,i.repeat.y=t/e,i.offset.x=0,i.offset.y=(1-i.repeat.y)/2),i}function q9(i){return i.repeat.x=1,i.repeat.y=1,i.offset.x=0,i.offset.y=0,i}function vM(i,e,t,n){const r=Y9(n);switch(t){case p4:return i*e;case f3:return i*e/r.components*r.byteLength;case Fg:return i*e/r.components*r.byteLength;case sd:return i*e*2/r.components*r.byteLength;case h3:return i*e*2/r.components*r.byteLength;case m4:return i*e*3/r.components*r.byteLength;case Is:return i*e*4/r.components*r.byteLength;case d3:return i*e*4/r.components*r.byteLength;case B1:case F1:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*8;case k1:case V1:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*16;case ay:case ly:return Math.max(i,16)*Math.max(e,8)/4;case sy:case oy:return Math.max(i,8)*Math.max(e,8)/2;case cy:case uy:case hy:case dy:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*8;case fy:case py:case my:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*16;case gy:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*16;case vy:return Math.floor((i+4)/5)*Math.floor((e+3)/4)*16;case _y:return Math.floor((i+4)/5)*Math.floor((e+4)/5)*16;case xy:return Math.floor((i+5)/6)*Math.floor((e+4)/5)*16;case yy:return Math.floor((i+5)/6)*Math.floor((e+5)/6)*16;case by:return Math.floor((i+7)/8)*Math.floor((e+4)/5)*16;case Sy:return Math.floor((i+7)/8)*Math.floor((e+5)/6)*16;case My:return Math.floor((i+7)/8)*Math.floor((e+7)/8)*16;case Ty:return Math.floor((i+9)/10)*Math.floor((e+4)/5)*16;case Ey:return Math.floor((i+9)/10)*Math.floor((e+5)/6)*16;case Ay:return Math.floor((i+9)/10)*Math.floor((e+7)/8)*16;case wy:return Math.floor((i+9)/10)*Math.floor((e+9)/10)*16;case Cy:return Math.floor((i+11)/12)*Math.floor((e+9)/10)*16;case Ry:return Math.floor((i+11)/12)*Math.floor((e+11)/12)*16;case Dy:case Ny:case Ly:return Math.ceil(i/4)*Math.ceil(e/4)*16;case Oy:case Uy:return Math.ceil(i/4)*Math.ceil(e/4)*8;case Py:case Iy:return Math.ceil(i/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function Y9(i){switch(i){case Gr:case u4:return{byteLength:1,components:1};case g0:case f4:case _l:return{byteLength:2,components:1};case c3:case u3:return{byteLength:2,components:4};case oo:case l3:case Ps:return{byteLength:4,components:1};case h4:case d4:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${i}.`)}class j9{static contain(e,t){return W9(e,t)}static cover(e,t){return X9(e,t)}static fill(e){return q9(e)}static getByteLength(e,t,n,r){return vM(e,t,n,r)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:zg}}));typeof window<"u"&&(window.__THREE__?_t("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=zg);function r6(){let i=null,e=!1,t=null,n=null;function r(a,l){t(a,l),n=i.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(n=i.requestAnimationFrame(r),e=!0)},stop:function(){i.cancelAnimationFrame(n),e=!1},setAnimationLoop:function(a){t=a},setContext:function(a){i=a}}}function Z9(i){const e=new WeakMap;function t(u,d){const p=u.array,v=u.usage,_=p.byteLength,y=i.createBuffer();i.bindBuffer(d,y),i.bufferData(d,p,v),u.onUploadCallback();let x;if(p instanceof Float32Array)x=i.FLOAT;else if(typeof Float16Array<"u"&&p instanceof Float16Array)x=i.HALF_FLOAT;else if(p instanceof Uint16Array)u.isFloat16BufferAttribute?x=i.HALF_FLOAT:x=i.UNSIGNED_SHORT;else if(p instanceof Int16Array)x=i.SHORT;else if(p instanceof Uint32Array)x=i.UNSIGNED_INT;else if(p instanceof Int32Array)x=i.INT;else if(p instanceof Int8Array)x=i.BYTE;else if(p instanceof Uint8Array)x=i.UNSIGNED_BYTE;else if(p instanceof Uint8ClampedArray)x=i.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+p);return{buffer:y,type:x,bytesPerElement:p.BYTES_PER_ELEMENT,version:u.version,size:_}}function n(u,d,p){const v=d.array,_=d.updateRanges;if(i.bindBuffer(p,u),_.length===0)i.bufferSubData(p,0,v);else{_.sort((x,M)=>x.start-M.start);let y=0;for(let x=1;x<_.length;x++){const M=_[y],E=_[x];E.start<=M.start+M.count+1?M.count=Math.max(M.count,E.start+E.count-M.start):(++y,_[y]=E)}_.length=y+1;for(let x=0,M=_.length;x<M;x++){const E=_[x];i.bufferSubData(p,E.start*v.BYTES_PER_ELEMENT,v,E.start,E.count)}d.clearUpdateRanges()}d.onUploadCallback()}function r(u){return u.isInterleavedBufferAttribute&&(u=u.data),e.get(u)}function a(u){u.isInterleavedBufferAttribute&&(u=u.data);const d=e.get(u);d&&(i.deleteBuffer(d.buffer),e.delete(u))}function l(u,d){if(u.isInterleavedBufferAttribute&&(u=u.data),u.isGLBufferAttribute){const v=e.get(u);(!v||v.version<u.version)&&e.set(u,{buffer:u.buffer,type:u.type,bytesPerElement:u.elementSize,version:u.version});return}const p=e.get(u);if(p===void 0)e.set(u,t(u,d));else if(p.version<u.version){if(p.size!==u.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");n(p.buffer,u,d),p.version=u.version}}return{get:r,remove:a,update:l}}var Q9=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,K9=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,J9=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,$9=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,eN=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,tN=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,nN=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,iN=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,rN=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,sN=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,aN=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,oN=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,lN=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,cN=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,uN=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,fN=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,hN=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,dN=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,pN=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,mN=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,gN=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,vN=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,_N=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,xN=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,yN=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,bN=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,SN=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,MN=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,TN=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,EN=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,AN="gl_FragColor = linearToOutputTexel( gl_FragColor );",wN=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,CN=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,RN=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
#endif`,DN=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,NN=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,LN=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,ON=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,UN=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,PN=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,IN=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,zN=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,BN=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,FN=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,kN=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,VN=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,HN=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, pow4( roughness ) ) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,GN=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,WN=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,XN=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,qN=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,YN=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.diffuseContribution = diffuseColor.rgb * ( 1.0 - metalnessFactor );
material.metalness = metalnessFactor;
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor;
	material.specularColorBlended = mix( material.specularColor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = vec3( 0.04 );
	material.specularColorBlended = mix( material.specularColor, diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.0001, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,jN=`uniform sampler2D dfgLUT;
struct PhysicalMaterial {
	vec3 diffuseColor;
	vec3 diffuseContribution;
	vec3 specularColor;
	vec3 specularColorBlended;
	float roughness;
	float metalness;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
		vec3 iridescenceFresnelDielectric;
		vec3 iridescenceFresnelMetallic;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return v;
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColorBlended;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transpose( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float rInv = 1.0 / ( roughness + 0.1 );
	float a = -1.9362 + 1.0678 * roughness + 0.4573 * r2 - 0.8469 * rInv;
	float b = -0.6014 + 0.5538 * roughness - 0.4670 * r2 - 0.1255 * rInv;
	float DG = exp( a * dotNV + b );
	return saturate( DG );
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 fab = texture2D( dfgLUT, vec2( roughness, dotNV ) ).rg;
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 fab = texture2D( dfgLUT, vec2( roughness, dotNV ) ).rg;
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
vec3 BRDF_GGX_Multiscatter( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 singleScatter = BRDF_GGX( lightDir, viewDir, normal, material );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 dfgV = texture2D( dfgLUT, vec2( material.roughness, dotNV ) ).rg;
	vec2 dfgL = texture2D( dfgLUT, vec2( material.roughness, dotNL ) ).rg;
	vec3 FssEss_V = material.specularColorBlended * dfgV.x + material.specularF90 * dfgV.y;
	vec3 FssEss_L = material.specularColorBlended * dfgL.x + material.specularF90 * dfgL.y;
	float Ess_V = dfgV.x + dfgV.y;
	float Ess_L = dfgL.x + dfgL.y;
	float Ems_V = 1.0 - Ess_V;
	float Ems_L = 1.0 - Ess_L;
	vec3 Favg = material.specularColorBlended + ( 1.0 - material.specularColorBlended ) * 0.047619;
	vec3 Fms = FssEss_V * FssEss_L * Favg / ( 1.0 - Ems_V * Ems_L * Favg + EPSILON );
	float compensationFactor = Ems_V * Ems_L;
	vec3 multiScatter = Fms * compensationFactor;
	return singleScatter + multiScatter;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColorBlended * t2.x + ( vec3( 1.0 ) - material.specularColorBlended ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseContribution * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
 
 		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
 
 		float sheenAlbedoV = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
 		float sheenAlbedoL = IBLSheenBRDF( geometryNormal, directLight.direction, material.sheenRoughness );
 
 		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * max( sheenAlbedoV, sheenAlbedoL );
 
 		irradiance *= sheenEnergyComp;
 
 	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX_Multiscatter( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseContribution );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 diffuse = irradiance * BRDF_Lambert( material.diffuseContribution );
	#ifdef USE_SHEEN
		float sheenAlbedo = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * sheenAlbedo;
		diffuse *= sheenEnergyComp;
	#endif
	reflectedLight.indirectDiffuse += diffuse;
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness ) * RECIPROCAL_PI;
 	#endif
	vec3 singleScatteringDielectric = vec3( 0.0 );
	vec3 multiScatteringDielectric = vec3( 0.0 );
	vec3 singleScatteringMetallic = vec3( 0.0 );
	vec3 multiScatteringMetallic = vec3( 0.0 );
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnelDielectric, material.roughness, singleScatteringDielectric, multiScatteringDielectric );
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.diffuseColor, material.specularF90, material.iridescence, material.iridescenceFresnelMetallic, material.roughness, singleScatteringMetallic, multiScatteringMetallic );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScatteringDielectric, multiScatteringDielectric );
		computeMultiscattering( geometryNormal, geometryViewDir, material.diffuseColor, material.specularF90, material.roughness, singleScatteringMetallic, multiScatteringMetallic );
	#endif
	vec3 singleScattering = mix( singleScatteringDielectric, singleScatteringMetallic, material.metalness );
	vec3 multiScattering = mix( multiScatteringDielectric, multiScatteringMetallic, material.metalness );
	vec3 totalScatteringDielectric = singleScatteringDielectric + multiScatteringDielectric;
	vec3 diffuse = material.diffuseContribution * ( 1.0 - totalScatteringDielectric );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	vec3 indirectSpecular = radiance * singleScattering;
	indirectSpecular += multiScattering * cosineWeightedIrradiance;
	vec3 indirectDiffuse = diffuse * cosineWeightedIrradiance;
	#ifdef USE_SHEEN
		float sheenAlbedo = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * sheenAlbedo;
		indirectSpecular *= sheenEnergyComp;
		indirectDiffuse *= sheenEnergyComp;
	#endif
	reflectedLight.indirectSpecular += indirectSpecular;
	reflectedLight.indirectDiffuse += indirectDiffuse;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,ZN=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnelDielectric = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceFresnelMetallic = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.diffuseColor );
		material.iridescenceFresnel = mix( material.iridescenceFresnelDielectric, material.iridescenceFresnelMetallic, material.metalness );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS ) && ( defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_BASIC ) )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,QN=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,KN=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,JN=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,$N=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,eL=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,tL=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,nL=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,iL=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,rL=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,sL=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,aL=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,oL=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,lL=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,cL=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,uL=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,fL=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,hL=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,dL=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,pL=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,mL=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,gL=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,vL=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,_L=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,xL=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,yL=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,bL=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,SL=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,ML=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,TL=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,EL=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,AL=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,wL=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,CL=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,RL=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,DL=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,NL=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform sampler2DShadow directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		#else
			uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		#endif
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform sampler2DShadow spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		#else
			uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		#endif
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform samplerCubeShadow pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		#elif defined( SHADOWMAP_TYPE_BASIC )
			uniform samplerCube pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		#endif
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	#if defined( SHADOWMAP_TYPE_PCF )
		float interleavedGradientNoise( vec2 position ) {
			return fract( 52.9829189 * fract( dot( position, vec2( 0.06711056, 0.00583715 ) ) ) );
		}
		vec2 vogelDiskSample( int sampleIndex, int samplesCount, float phi ) {
			const float goldenAngle = 2.399963229728653;
			float r = sqrt( ( float( sampleIndex ) + 0.5 ) / float( samplesCount ) );
			float theta = float( sampleIndex ) * goldenAngle + phi;
			return vec2( cos( theta ), sin( theta ) ) * r;
		}
	#endif
	#if defined( SHADOWMAP_TYPE_PCF )
		float getShadow( sampler2DShadow shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			shadowCoord.z += shadowBias;
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
				float radius = shadowRadius * texelSize.x;
				float phi = interleavedGradientNoise( gl_FragCoord.xy ) * 6.28318530718;
				shadow = (
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 0, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 1, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 2, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 3, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 4, 5, phi ) * radius, shadowCoord.z ) )
				) * 0.2;
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#elif defined( SHADOWMAP_TYPE_VSM )
		float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			shadowCoord.z += shadowBias;
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				vec2 distribution = texture2D( shadowMap, shadowCoord.xy ).rg;
				float mean = distribution.x;
				float variance = distribution.y * distribution.y;
				#ifdef USE_REVERSED_DEPTH_BUFFER
					float hard_shadow = step( mean, shadowCoord.z );
				#else
					float hard_shadow = step( shadowCoord.z, mean );
				#endif
				if ( hard_shadow == 1.0 ) {
					shadow = 1.0;
				} else {
					variance = max( variance, 0.0000001 );
					float d = shadowCoord.z - mean;
					float p_max = variance / ( variance + d * d );
					p_max = clamp( ( p_max - 0.3 ) / 0.65, 0.0, 1.0 );
					shadow = max( hard_shadow, p_max );
				}
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#else
		float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			shadowCoord.z += shadowBias;
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				float depth = texture2D( shadowMap, shadowCoord.xy ).r;
				#ifdef USE_REVERSED_DEPTH_BUFFER
					shadow = step( depth, shadowCoord.z );
				#else
					shadow = step( shadowCoord.z, depth );
				#endif
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#if defined( SHADOWMAP_TYPE_PCF )
	float getPointShadow( samplerCubeShadow shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		vec3 bd3D = normalize( lightToPosition );
		vec3 absVec = abs( lightToPosition );
		float viewSpaceZ = max( max( absVec.x, absVec.y ), absVec.z );
		if ( viewSpaceZ - shadowCameraFar <= 0.0 && viewSpaceZ - shadowCameraNear >= 0.0 ) {
			float dp = ( shadowCameraFar * ( viewSpaceZ - shadowCameraNear ) ) / ( viewSpaceZ * ( shadowCameraFar - shadowCameraNear ) );
			dp += shadowBias;
			float texelSize = shadowRadius / shadowMapSize.x;
			vec3 absDir = abs( bd3D );
			vec3 tangent = absDir.x > absDir.z ? vec3( 0.0, 1.0, 0.0 ) : vec3( 1.0, 0.0, 0.0 );
			tangent = normalize( cross( bd3D, tangent ) );
			vec3 bitangent = cross( bd3D, tangent );
			float phi = interleavedGradientNoise( gl_FragCoord.xy ) * 6.28318530718;
			shadow = (
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 0, 5, phi ).x + bitangent * vogelDiskSample( 0, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 1, 5, phi ).x + bitangent * vogelDiskSample( 1, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 2, 5, phi ).x + bitangent * vogelDiskSample( 2, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 3, 5, phi ).x + bitangent * vogelDiskSample( 3, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 4, 5, phi ).x + bitangent * vogelDiskSample( 4, 5, phi ).y ) * texelSize, dp ) )
			) * 0.2;
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	#elif defined( SHADOWMAP_TYPE_BASIC )
	float getPointShadow( samplerCube shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		vec3 bd3D = normalize( lightToPosition );
		vec3 absVec = abs( lightToPosition );
		float viewSpaceZ = max( max( absVec.x, absVec.y ), absVec.z );
		if ( viewSpaceZ - shadowCameraFar <= 0.0 && viewSpaceZ - shadowCameraNear >= 0.0 ) {
			float dp = ( shadowCameraFar * ( viewSpaceZ - shadowCameraNear ) ) / ( viewSpaceZ * ( shadowCameraFar - shadowCameraNear ) );
			dp += shadowBias;
			float depth = textureCube( shadowMap, bd3D ).r;
			#ifdef USE_REVERSED_DEPTH_BUFFER
				shadow = step( depth, dp );
			#else
				shadow = step( dp, depth );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	#endif
	#endif
#endif`,LL=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,OL=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,UL=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0 && ( defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_BASIC ) )
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,PL=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,IL=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,zL=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,BL=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,FL=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,kL=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,VL=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,HL=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,GL=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseContribution, material.specularColorBlended, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,WL=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,XL=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,qL=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,YL=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,jL=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const ZL=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,QL=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,KL=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,JL=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,$L=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,eO=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,tO=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,nO=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	#ifdef USE_REVERSED_DEPTH_BUFFER
		float fragCoordZ = vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ];
	#else
		float fragCoordZ = 0.5 * vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ] + 0.5;
	#endif
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,iO=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,rO=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = vec4( dist, 0.0, 0.0, 1.0 );
}`,sO=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,aO=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,oO=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,lO=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,cO=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,uO=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,fO=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,hO=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,dO=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,pO=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,mO=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,gO=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( normalize( normal ) * 0.5 + 0.5, diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,vO=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,_O=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,xO=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,yO=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
 
		outgoingLight = outgoingLight + sheenSpecularDirect + sheenSpecularIndirect;
 
 	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,bO=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,SO=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,MO=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,TO=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,EO=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,AO=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,wO=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,CO=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,xn={alphahash_fragment:Q9,alphahash_pars_fragment:K9,alphamap_fragment:J9,alphamap_pars_fragment:$9,alphatest_fragment:eN,alphatest_pars_fragment:tN,aomap_fragment:nN,aomap_pars_fragment:iN,batching_pars_vertex:rN,batching_vertex:sN,begin_vertex:aN,beginnormal_vertex:oN,bsdfs:lN,iridescence_fragment:cN,bumpmap_pars_fragment:uN,clipping_planes_fragment:fN,clipping_planes_pars_fragment:hN,clipping_planes_pars_vertex:dN,clipping_planes_vertex:pN,color_fragment:mN,color_pars_fragment:gN,color_pars_vertex:vN,color_vertex:_N,common:xN,cube_uv_reflection_fragment:yN,defaultnormal_vertex:bN,displacementmap_pars_vertex:SN,displacementmap_vertex:MN,emissivemap_fragment:TN,emissivemap_pars_fragment:EN,colorspace_fragment:AN,colorspace_pars_fragment:wN,envmap_fragment:CN,envmap_common_pars_fragment:RN,envmap_pars_fragment:DN,envmap_pars_vertex:NN,envmap_physical_pars_fragment:HN,envmap_vertex:LN,fog_vertex:ON,fog_pars_vertex:UN,fog_fragment:PN,fog_pars_fragment:IN,gradientmap_pars_fragment:zN,lightmap_pars_fragment:BN,lights_lambert_fragment:FN,lights_lambert_pars_fragment:kN,lights_pars_begin:VN,lights_toon_fragment:GN,lights_toon_pars_fragment:WN,lights_phong_fragment:XN,lights_phong_pars_fragment:qN,lights_physical_fragment:YN,lights_physical_pars_fragment:jN,lights_fragment_begin:ZN,lights_fragment_maps:QN,lights_fragment_end:KN,logdepthbuf_fragment:JN,logdepthbuf_pars_fragment:$N,logdepthbuf_pars_vertex:eL,logdepthbuf_vertex:tL,map_fragment:nL,map_pars_fragment:iL,map_particle_fragment:rL,map_particle_pars_fragment:sL,metalnessmap_fragment:aL,metalnessmap_pars_fragment:oL,morphinstance_vertex:lL,morphcolor_vertex:cL,morphnormal_vertex:uL,morphtarget_pars_vertex:fL,morphtarget_vertex:hL,normal_fragment_begin:dL,normal_fragment_maps:pL,normal_pars_fragment:mL,normal_pars_vertex:gL,normal_vertex:vL,normalmap_pars_fragment:_L,clearcoat_normal_fragment_begin:xL,clearcoat_normal_fragment_maps:yL,clearcoat_pars_fragment:bL,iridescence_pars_fragment:SL,opaque_fragment:ML,packing:TL,premultiplied_alpha_fragment:EL,project_vertex:AL,dithering_fragment:wL,dithering_pars_fragment:CL,roughnessmap_fragment:RL,roughnessmap_pars_fragment:DL,shadowmap_pars_fragment:NL,shadowmap_pars_vertex:LL,shadowmap_vertex:OL,shadowmask_pars_fragment:UL,skinbase_vertex:PL,skinning_pars_vertex:IL,skinning_vertex:zL,skinnormal_vertex:BL,specularmap_fragment:FL,specularmap_pars_fragment:kL,tonemapping_fragment:VL,tonemapping_pars_fragment:HL,transmission_fragment:GL,transmission_pars_fragment:WL,uv_pars_fragment:XL,uv_pars_vertex:qL,uv_vertex:YL,worldpos_vertex:jL,background_vert:ZL,background_frag:QL,backgroundCube_vert:KL,backgroundCube_frag:JL,cube_vert:$L,cube_frag:eO,depth_vert:tO,depth_frag:nO,distance_vert:iO,distance_frag:rO,equirect_vert:sO,equirect_frag:aO,linedashed_vert:oO,linedashed_frag:lO,meshbasic_vert:cO,meshbasic_frag:uO,meshlambert_vert:fO,meshlambert_frag:hO,meshmatcap_vert:dO,meshmatcap_frag:pO,meshnormal_vert:mO,meshnormal_frag:gO,meshphong_vert:vO,meshphong_frag:_O,meshphysical_vert:xO,meshphysical_frag:yO,meshtoon_vert:bO,meshtoon_frag:SO,points_vert:MO,points_frag:TO,shadow_vert:EO,shadow_frag:AO,sprite_vert:wO,sprite_frag:CO},yt={common:{diffuse:{value:new Mt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new dn},alphaMap:{value:null},alphaMapTransform:{value:new dn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new dn}},envmap:{envMap:{value:null},envMapRotation:{value:new dn},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98},dfgLUT:{value:null}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new dn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new dn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new dn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new dn},normalScale:{value:new Ie(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new dn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new dn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new dn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new dn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Mt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Mt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new dn},alphaTest:{value:0},uvTransform:{value:new dn}},sprite:{diffuse:{value:new Mt(16777215)},opacity:{value:1},center:{value:new Ie(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new dn},alphaMap:{value:null},alphaMapTransform:{value:new dn},alphaTest:{value:0}}},dl={basic:{uniforms:ea([yt.common,yt.specularmap,yt.envmap,yt.aomap,yt.lightmap,yt.fog]),vertexShader:xn.meshbasic_vert,fragmentShader:xn.meshbasic_frag},lambert:{uniforms:ea([yt.common,yt.specularmap,yt.envmap,yt.aomap,yt.lightmap,yt.emissivemap,yt.bumpmap,yt.normalmap,yt.displacementmap,yt.fog,yt.lights,{emissive:{value:new Mt(0)}}]),vertexShader:xn.meshlambert_vert,fragmentShader:xn.meshlambert_frag},phong:{uniforms:ea([yt.common,yt.specularmap,yt.envmap,yt.aomap,yt.lightmap,yt.emissivemap,yt.bumpmap,yt.normalmap,yt.displacementmap,yt.fog,yt.lights,{emissive:{value:new Mt(0)},specular:{value:new Mt(1118481)},shininess:{value:30}}]),vertexShader:xn.meshphong_vert,fragmentShader:xn.meshphong_frag},standard:{uniforms:ea([yt.common,yt.envmap,yt.aomap,yt.lightmap,yt.emissivemap,yt.bumpmap,yt.normalmap,yt.displacementmap,yt.roughnessmap,yt.metalnessmap,yt.fog,yt.lights,{emissive:{value:new Mt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:xn.meshphysical_vert,fragmentShader:xn.meshphysical_frag},toon:{uniforms:ea([yt.common,yt.aomap,yt.lightmap,yt.emissivemap,yt.bumpmap,yt.normalmap,yt.displacementmap,yt.gradientmap,yt.fog,yt.lights,{emissive:{value:new Mt(0)}}]),vertexShader:xn.meshtoon_vert,fragmentShader:xn.meshtoon_frag},matcap:{uniforms:ea([yt.common,yt.bumpmap,yt.normalmap,yt.displacementmap,yt.fog,{matcap:{value:null}}]),vertexShader:xn.meshmatcap_vert,fragmentShader:xn.meshmatcap_frag},points:{uniforms:ea([yt.points,yt.fog]),vertexShader:xn.points_vert,fragmentShader:xn.points_frag},dashed:{uniforms:ea([yt.common,yt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:xn.linedashed_vert,fragmentShader:xn.linedashed_frag},depth:{uniforms:ea([yt.common,yt.displacementmap]),vertexShader:xn.depth_vert,fragmentShader:xn.depth_frag},normal:{uniforms:ea([yt.common,yt.bumpmap,yt.normalmap,yt.displacementmap,{opacity:{value:1}}]),vertexShader:xn.meshnormal_vert,fragmentShader:xn.meshnormal_frag},sprite:{uniforms:ea([yt.sprite,yt.fog]),vertexShader:xn.sprite_vert,fragmentShader:xn.sprite_frag},background:{uniforms:{uvTransform:{value:new dn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:xn.background_vert,fragmentShader:xn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new dn}},vertexShader:xn.backgroundCube_vert,fragmentShader:xn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:xn.cube_vert,fragmentShader:xn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:xn.equirect_vert,fragmentShader:xn.equirect_frag},distance:{uniforms:ea([yt.common,yt.displacementmap,{referencePosition:{value:new $},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:xn.distance_vert,fragmentShader:xn.distance_frag},shadow:{uniforms:ea([yt.lights,yt.fog,{color:{value:new Mt(0)},opacity:{value:1}}]),vertexShader:xn.shadow_vert,fragmentShader:xn.shadow_frag}};dl.physical={uniforms:ea([dl.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new dn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new dn},clearcoatNormalScale:{value:new Ie(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new dn},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new dn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new dn},sheen:{value:0},sheenColor:{value:new Mt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new dn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new dn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new dn},transmissionSamplerSize:{value:new Ie},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new dn},attenuationDistance:{value:0},attenuationColor:{value:new Mt(0)},specularColor:{value:new Mt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new dn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new dn},anisotropyVector:{value:new Ie},anisotropyMap:{value:null},anisotropyMapTransform:{value:new dn}}]),vertexShader:xn.meshphysical_vert,fragmentShader:xn.meshphysical_frag};const yx={r:0,b:0,g:0},Nh=new xl,RO=new en;function DO(i,e,t,n,r,a,l){const u=new Mt(0);let d=a===!0?0:1,p,v,_=null,y=0,x=null;function M(D){let N=D.isScene===!0?D.background:null;return N&&N.isTexture&&(N=(D.backgroundBlurriness>0?t:e).get(N)),N}function E(D){let N=!1;const U=M(D);U===null?T(u,d):U&&U.isColor&&(T(U,1),N=!0);const I=i.xr.getEnvironmentBlendMode();I==="additive"?n.buffers.color.setClear(0,0,0,1,l):I==="alpha-blend"&&n.buffers.color.setClear(0,0,0,0,l),(i.autoClear||N)&&(n.buffers.depth.setTest(!0),n.buffers.depth.setMask(!0),n.buffers.color.setMask(!0),i.clear(i.autoClearColor,i.autoClearDepth,i.autoClearStencil))}function A(D,N){const U=M(N);U&&(U.isCubeTexture||U.mapping===L0)?(v===void 0&&(v=new br(new dd(1,1,1),new Fs({name:"BackgroundCubeMaterial",uniforms:b0(dl.backgroundCube.uniforms),vertexShader:dl.backgroundCube.vertexShader,fragmentShader:dl.backgroundCube.fragmentShader,side:Wr,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),v.geometry.deleteAttribute("normal"),v.geometry.deleteAttribute("uv"),v.onBeforeRender=function(I,B,k){this.matrixWorld.copyPosition(k.matrixWorld)},Object.defineProperty(v.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(v)),Nh.copy(N.backgroundRotation),Nh.x*=-1,Nh.y*=-1,Nh.z*=-1,U.isCubeTexture&&U.isRenderTargetTexture===!1&&(Nh.y*=-1,Nh.z*=-1),v.material.uniforms.envMap.value=U,v.material.uniforms.flipEnvMap.value=U.isCubeTexture&&U.isRenderTargetTexture===!1?-1:1,v.material.uniforms.backgroundBlurriness.value=N.backgroundBlurriness,v.material.uniforms.backgroundIntensity.value=N.backgroundIntensity,v.material.uniforms.backgroundRotation.value.setFromMatrix4(RO.makeRotationFromEuler(Nh)),v.material.toneMapped=Bn.getTransfer(U.colorSpace)!==ai,(_!==U||y!==U.version||x!==i.toneMapping)&&(v.material.needsUpdate=!0,_=U,y=U.version,x=i.toneMapping),v.layers.enableAll(),D.unshift(v,v.geometry,v.material,0,0,null)):U&&U.isTexture&&(p===void 0&&(p=new br(new P0(2,2),new Fs({name:"BackgroundMaterial",uniforms:b0(dl.background.uniforms),vertexShader:dl.background.vertexShader,fragmentShader:dl.background.fragmentShader,side:cc,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),p.geometry.deleteAttribute("normal"),Object.defineProperty(p.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(p)),p.material.uniforms.t2D.value=U,p.material.uniforms.backgroundIntensity.value=N.backgroundIntensity,p.material.toneMapped=Bn.getTransfer(U.colorSpace)!==ai,U.matrixAutoUpdate===!0&&U.updateMatrix(),p.material.uniforms.uvTransform.value.copy(U.matrix),(_!==U||y!==U.version||x!==i.toneMapping)&&(p.material.needsUpdate=!0,_=U,y=U.version,x=i.toneMapping),p.layers.enableAll(),D.unshift(p,p.geometry,p.material,0,0,null))}function T(D,N){D.getRGB(yx,ow(i)),n.buffers.color.setClear(yx.r,yx.g,yx.b,N,l)}function R(){v!==void 0&&(v.geometry.dispose(),v.material.dispose(),v=void 0),p!==void 0&&(p.geometry.dispose(),p.material.dispose(),p=void 0)}return{getClearColor:function(){return u},setClearColor:function(D,N=1){u.set(D),d=N,T(u,d)},getClearAlpha:function(){return d},setClearAlpha:function(D){d=D,T(u,d)},render:E,addToRenderList:A,dispose:R}}function NO(i,e){const t=i.getParameter(i.MAX_VERTEX_ATTRIBS),n={},r=y(null);let a=r,l=!1;function u(P,W,Z,J,ee){let se=!1;const Y=_(J,Z,W);a!==Y&&(a=Y,p(a.object)),se=x(P,J,Z,ee),se&&M(P,J,Z,ee),ee!==null&&e.update(ee,i.ELEMENT_ARRAY_BUFFER),(se||l)&&(l=!1,N(P,W,Z,J),ee!==null&&i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,e.get(ee).buffer))}function d(){return i.createVertexArray()}function p(P){return i.bindVertexArray(P)}function v(P){return i.deleteVertexArray(P)}function _(P,W,Z){const J=Z.wireframe===!0;let ee=n[P.id];ee===void 0&&(ee={},n[P.id]=ee);let se=ee[W.id];se===void 0&&(se={},ee[W.id]=se);let Y=se[J];return Y===void 0&&(Y=y(d()),se[J]=Y),Y}function y(P){const W=[],Z=[],J=[];for(let ee=0;ee<t;ee++)W[ee]=0,Z[ee]=0,J[ee]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:W,enabledAttributes:Z,attributeDivisors:J,object:P,attributes:{},index:null}}function x(P,W,Z,J){const ee=a.attributes,se=W.attributes;let Y=0;const Q=Z.getAttributes();for(const ue in Q)if(Q[ue].location>=0){const j=ee[ue];let X=se[ue];if(X===void 0&&(ue==="instanceMatrix"&&P.instanceMatrix&&(X=P.instanceMatrix),ue==="instanceColor"&&P.instanceColor&&(X=P.instanceColor)),j===void 0||j.attribute!==X||X&&j.data!==X.data)return!0;Y++}return a.attributesNum!==Y||a.index!==J}function M(P,W,Z,J){const ee={},se=W.attributes;let Y=0;const Q=Z.getAttributes();for(const ue in Q)if(Q[ue].location>=0){let j=se[ue];j===void 0&&(ue==="instanceMatrix"&&P.instanceMatrix&&(j=P.instanceMatrix),ue==="instanceColor"&&P.instanceColor&&(j=P.instanceColor));const X={};X.attribute=j,j&&j.data&&(X.data=j.data),ee[ue]=X,Y++}a.attributes=ee,a.attributesNum=Y,a.index=J}function E(){const P=a.newAttributes;for(let W=0,Z=P.length;W<Z;W++)P[W]=0}function A(P){T(P,0)}function T(P,W){const Z=a.newAttributes,J=a.enabledAttributes,ee=a.attributeDivisors;Z[P]=1,J[P]===0&&(i.enableVertexAttribArray(P),J[P]=1),ee[P]!==W&&(i.vertexAttribDivisor(P,W),ee[P]=W)}function R(){const P=a.newAttributes,W=a.enabledAttributes;for(let Z=0,J=W.length;Z<J;Z++)W[Z]!==P[Z]&&(i.disableVertexAttribArray(Z),W[Z]=0)}function D(P,W,Z,J,ee,se,Y){Y===!0?i.vertexAttribIPointer(P,W,Z,ee,se):i.vertexAttribPointer(P,W,Z,J,ee,se)}function N(P,W,Z,J){E();const ee=J.attributes,se=Z.getAttributes(),Y=W.defaultAttributeValues;for(const Q in se){const ue=se[Q];if(ue.location>=0){let ye=ee[Q];if(ye===void 0&&(Q==="instanceMatrix"&&P.instanceMatrix&&(ye=P.instanceMatrix),Q==="instanceColor"&&P.instanceColor&&(ye=P.instanceColor)),ye!==void 0){const j=ye.normalized,X=ye.itemSize,ce=e.get(ye);if(ce===void 0)continue;const Se=ce.buffer,Le=ce.type,Je=ce.bytesPerElement,de=Le===i.INT||Le===i.UNSIGNED_INT||ye.gpuType===l3;if(ye.isInterleavedBufferAttribute){const xe=ye.data,qe=xe.stride,Ze=ye.offset;if(xe.isInstancedInterleavedBuffer){for(let ct=0;ct<ue.locationSize;ct++)T(ue.location+ct,xe.meshPerAttribute);P.isInstancedMesh!==!0&&J._maxInstanceCount===void 0&&(J._maxInstanceCount=xe.meshPerAttribute*xe.count)}else for(let ct=0;ct<ue.locationSize;ct++)A(ue.location+ct);i.bindBuffer(i.ARRAY_BUFFER,Se);for(let ct=0;ct<ue.locationSize;ct++)D(ue.location+ct,X/ue.locationSize,Le,j,qe*Je,(Ze+X/ue.locationSize*ct)*Je,de)}else{if(ye.isInstancedBufferAttribute){for(let xe=0;xe<ue.locationSize;xe++)T(ue.location+xe,ye.meshPerAttribute);P.isInstancedMesh!==!0&&J._maxInstanceCount===void 0&&(J._maxInstanceCount=ye.meshPerAttribute*ye.count)}else for(let xe=0;xe<ue.locationSize;xe++)A(ue.location+xe);i.bindBuffer(i.ARRAY_BUFFER,Se);for(let xe=0;xe<ue.locationSize;xe++)D(ue.location+xe,X/ue.locationSize,Le,j,X*Je,X/ue.locationSize*xe*Je,de)}}else if(Y!==void 0){const j=Y[Q];if(j!==void 0)switch(j.length){case 2:i.vertexAttrib2fv(ue.location,j);break;case 3:i.vertexAttrib3fv(ue.location,j);break;case 4:i.vertexAttrib4fv(ue.location,j);break;default:i.vertexAttrib1fv(ue.location,j)}}}}R()}function U(){k();for(const P in n){const W=n[P];for(const Z in W){const J=W[Z];for(const ee in J)v(J[ee].object),delete J[ee];delete W[Z]}delete n[P]}}function I(P){if(n[P.id]===void 0)return;const W=n[P.id];for(const Z in W){const J=W[Z];for(const ee in J)v(J[ee].object),delete J[ee];delete W[Z]}delete n[P.id]}function B(P){for(const W in n){const Z=n[W];if(Z[P.id]===void 0)continue;const J=Z[P.id];for(const ee in J)v(J[ee].object),delete J[ee];delete Z[P.id]}}function k(){O(),l=!0,a!==r&&(a=r,p(a.object))}function O(){r.geometry=null,r.program=null,r.wireframe=!1}return{setup:u,reset:k,resetDefaultState:O,dispose:U,releaseStatesOfGeometry:I,releaseStatesOfProgram:B,initAttributes:E,enableAttribute:A,disableUnusedAttributes:R}}function LO(i,e,t){let n;function r(p){n=p}function a(p,v){i.drawArrays(n,p,v),t.update(v,n,1)}function l(p,v,_){_!==0&&(i.drawArraysInstanced(n,p,v,_),t.update(v,n,_))}function u(p,v,_){if(_===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(n,p,0,v,0,_);let x=0;for(let M=0;M<_;M++)x+=v[M];t.update(x,n,1)}function d(p,v,_,y){if(_===0)return;const x=e.get("WEBGL_multi_draw");if(x===null)for(let M=0;M<p.length;M++)l(p[M],v[M],y[M]);else{x.multiDrawArraysInstancedWEBGL(n,p,0,v,0,y,0,_);let M=0;for(let E=0;E<_;E++)M+=v[E]*y[E];t.update(M,n,1)}}this.setMode=r,this.render=a,this.renderInstances=l,this.renderMultiDraw=u,this.renderMultiDrawInstances=d}function OO(i,e,t,n){let r;function a(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const B=e.get("EXT_texture_filter_anisotropic");r=i.getParameter(B.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function l(B){return!(B!==Is&&n.convert(B)!==i.getParameter(i.IMPLEMENTATION_COLOR_READ_FORMAT))}function u(B){const k=B===_l&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(B!==Gr&&n.convert(B)!==i.getParameter(i.IMPLEMENTATION_COLOR_READ_TYPE)&&B!==Ps&&!k)}function d(B){if(B==="highp"){if(i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.HIGH_FLOAT).precision>0&&i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.HIGH_FLOAT).precision>0)return"highp";B="mediump"}return B==="mediump"&&i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.MEDIUM_FLOAT).precision>0&&i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let p=t.precision!==void 0?t.precision:"highp";const v=d(p);v!==p&&(_t("WebGLRenderer:",p,"not supported, using",v,"instead."),p=v);const _=t.logarithmicDepthBuffer===!0,y=t.reversedDepthBuffer===!0&&e.has("EXT_clip_control"),x=i.getParameter(i.MAX_TEXTURE_IMAGE_UNITS),M=i.getParameter(i.MAX_VERTEX_TEXTURE_IMAGE_UNITS),E=i.getParameter(i.MAX_TEXTURE_SIZE),A=i.getParameter(i.MAX_CUBE_MAP_TEXTURE_SIZE),T=i.getParameter(i.MAX_VERTEX_ATTRIBS),R=i.getParameter(i.MAX_VERTEX_UNIFORM_VECTORS),D=i.getParameter(i.MAX_VARYING_VECTORS),N=i.getParameter(i.MAX_FRAGMENT_UNIFORM_VECTORS),U=i.getParameter(i.MAX_SAMPLES),I=i.getParameter(i.SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:a,getMaxPrecision:d,textureFormatReadable:l,textureTypeReadable:u,precision:p,logarithmicDepthBuffer:_,reversedDepthBuffer:y,maxTextures:x,maxVertexTextures:M,maxTextureSize:E,maxCubemapSize:A,maxAttributes:T,maxVertexUniforms:R,maxVaryings:D,maxFragmentUniforms:N,maxSamples:U,samples:I}}function UO(i){const e=this;let t=null,n=0,r=!1,a=!1;const l=new of,u=new dn,d={value:null,needsUpdate:!1};this.uniform=d,this.numPlanes=0,this.numIntersection=0,this.init=function(_,y){const x=_.length!==0||y||n!==0||r;return r=y,n=_.length,x},this.beginShadows=function(){a=!0,v(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(_,y){t=v(_,y,0)},this.setState=function(_,y,x){const M=_.clippingPlanes,E=_.clipIntersection,A=_.clipShadows,T=i.get(_);if(!r||M===null||M.length===0||a&&!A)a?v(null):p();else{const R=a?0:n,D=R*4;let N=T.clippingState||null;d.value=N,N=v(M,y,D,x);for(let U=0;U!==D;++U)N[U]=t[U];T.clippingState=N,this.numIntersection=E?this.numPlanes:0,this.numPlanes+=R}};function p(){d.value!==t&&(d.value=t,d.needsUpdate=n>0),e.numPlanes=n,e.numIntersection=0}function v(_,y,x,M){const E=_!==null?_.length:0;let A=null;if(E!==0){if(A=d.value,M!==!0||A===null){const T=x+E*4,R=y.matrixWorldInverse;u.getNormalMatrix(R),(A===null||A.length<T)&&(A=new Float32Array(T));for(let D=0,N=x;D!==E;++D,N+=4)l.copy(_[D]).applyMatrix4(R,u),l.normal.toArray(A,N),A[N+3]=l.constant}d.value=A,d.needsUpdate=!0}return e.numPlanes=E,e.numIntersection=0,A}}function PO(i){let e=new WeakMap;function t(l,u){return u===lg?l.mapping=uc:u===cg&&(l.mapping=bf),l}function n(l){if(l&&l.isTexture){const u=l.mapping;if(u===lg||u===cg)if(e.has(l)){const d=e.get(l).texture;return t(d,l.mapping)}else{const d=l.image;if(d&&d.height>0){const p=new b4(d.height);return p.fromEquirectangularTexture(i,l),e.set(l,p),l.addEventListener("dispose",r),t(p.texture,l.mapping)}else return null}}return l}function r(l){const u=l.target;u.removeEventListener("dispose",r);const d=e.get(u);d!==void 0&&(e.delete(u),d.dispose())}function a(){e=new WeakMap}return{get:n,dispose:a}}const hf=4,M2=[.125,.215,.35,.446,.526,.582],Fh=20,IO=256,b1=new gd,T2=new Mt;let vS=null,_S=0,xS=0,yS=!1;const zO=new $;class _M{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._sizeLods=[],this._sigmas=[],this._lodMeshes=[],this._backgroundBox=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._blurMaterial=null,this._ggxMaterial=null}fromScene(e,t=0,n=.1,r=100,a={}){const{size:l=256,position:u=zO}=a;vS=this._renderer.getRenderTarget(),_S=this._renderer.getActiveCubeFace(),xS=this._renderer.getActiveMipmapLevel(),yS=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(l);const d=this._allocateTargets();return d.depthBuffer=!0,this._sceneToCubeUV(e,n,r,d,u),t>0&&this._blur(d,0,0,t),this._applyPMREM(d),this._cleanup(d),d}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=w2(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=A2(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose(),this._backgroundBox!==null&&(this._backgroundBox.geometry.dispose(),this._backgroundBox.material.dispose())}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._ggxMaterial!==null&&this._ggxMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodMeshes.length;e++)this._lodMeshes[e].geometry.dispose()}_cleanup(e){this._renderer.setRenderTarget(vS,_S,xS),this._renderer.xr.enabled=yS,e.scissorTest=!1,Xp(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===uc||e.mapping===bf?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),vS=this._renderer.getRenderTarget(),_S=this._renderer.getActiveCubeFace(),xS=this._renderer.getActiveMipmapLevel(),yS=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:hi,minFilter:hi,generateMipmaps:!1,type:_l,format:Is,colorSpace:hc,depthBuffer:!1},r=E2(e,t,n);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=E2(e,t,n);const{_lodMax:a}=this;({lodMeshes:this._lodMeshes,sizeLods:this._sizeLods,sigmas:this._sigmas}=BO(a)),this._blurMaterial=kO(a,e,t),this._ggxMaterial=FO(a,e,t)}return r}_compileMaterial(e){const t=new br(new an,e);this._renderer.compile(t,b1)}_sceneToCubeUV(e,t,n,r,a){const d=new Hr(90,1,t,n),p=[1,-1,1,1,1,1],v=[1,1,1,-1,-1,-1],_=this._renderer,y=_.autoClear,x=_.toneMapping;_.getClearColor(T2),_.toneMapping=ro,_.autoClear=!1,_.state.buffers.depth.getReversed()&&(_.setRenderTarget(r),_.clearDepth(),_.setRenderTarget(null)),this._backgroundBox===null&&(this._backgroundBox=new br(new dd,new Df({name:"PMREM.Background",side:Wr,depthWrite:!1,depthTest:!1})));const E=this._backgroundBox,A=E.material;let T=!1;const R=e.background;R?R.isColor&&(A.color.copy(R),e.background=null,T=!0):(A.color.copy(T2),T=!0);for(let D=0;D<6;D++){const N=D%3;N===0?(d.up.set(0,p[D],0),d.position.set(a.x,a.y,a.z),d.lookAt(a.x+v[D],a.y,a.z)):N===1?(d.up.set(0,0,p[D]),d.position.set(a.x,a.y,a.z),d.lookAt(a.x,a.y+v[D],a.z)):(d.up.set(0,p[D],0),d.position.set(a.x,a.y,a.z),d.lookAt(a.x,a.y,a.z+v[D]));const U=this._cubeSize;Xp(r,N*U,D>2?U:0,U,U),_.setRenderTarget(r),T&&_.render(E,d),_.render(e,d)}_.toneMapping=x,_.autoClear=y,e.background=R}_textureToCubeUV(e,t){const n=this._renderer,r=e.mapping===uc||e.mapping===bf;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=w2()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=A2());const a=r?this._cubemapMaterial:this._equirectMaterial,l=this._lodMeshes[0];l.material=a;const u=a.uniforms;u.envMap.value=e;const d=this._cubeSize;Xp(t,0,0,3*d,2*d),n.setRenderTarget(t),n.render(l,b1)}_applyPMREM(e){const t=this._renderer,n=t.autoClear;t.autoClear=!1;const r=this._lodMeshes.length;for(let a=1;a<r;a++)this._applyGGXFilter(e,a-1,a);t.autoClear=n}_applyGGXFilter(e,t,n){const r=this._renderer,a=this._pingPongRenderTarget,l=this._ggxMaterial,u=this._lodMeshes[n];u.material=l;const d=l.uniforms,p=n/(this._lodMeshes.length-1),v=t/(this._lodMeshes.length-1),_=Math.sqrt(p*p-v*v),y=0+p*1.25,x=_*y,{_lodMax:M}=this,E=this._sizeLods[n],A=3*E*(n>M-hf?n-M+hf:0),T=4*(this._cubeSize-E);d.envMap.value=e.texture,d.roughness.value=x,d.mipInt.value=M-t,Xp(a,A,T,3*E,2*E),r.setRenderTarget(a),r.render(u,b1),d.envMap.value=a.texture,d.roughness.value=0,d.mipInt.value=M-n,Xp(e,A,T,3*E,2*E),r.setRenderTarget(e),r.render(u,b1)}_blur(e,t,n,r,a){const l=this._pingPongRenderTarget;this._halfBlur(e,l,t,n,r,"latitudinal",a),this._halfBlur(l,e,n,n,r,"longitudinal",a)}_halfBlur(e,t,n,r,a,l,u){const d=this._renderer,p=this._blurMaterial;l!=="latitudinal"&&l!=="longitudinal"&&It("blur direction must be either latitudinal or longitudinal!");const v=3,_=this._lodMeshes[r];_.material=p;const y=p.uniforms,x=this._sizeLods[n]-1,M=isFinite(a)?Math.PI/(2*x):2*Math.PI/(2*Fh-1),E=a/M,A=isFinite(a)?1+Math.floor(v*E):Fh;A>Fh&&_t(`sigmaRadians, ${a}, is too large and will clip, as it requested ${A} samples when the maximum is set to ${Fh}`);const T=[];let R=0;for(let B=0;B<Fh;++B){const k=B/E,O=Math.exp(-k*k/2);T.push(O),B===0?R+=O:B<A&&(R+=2*O)}for(let B=0;B<T.length;B++)T[B]=T[B]/R;y.envMap.value=e.texture,y.samples.value=A,y.weights.value=T,y.latitudinal.value=l==="latitudinal",u&&(y.poleAxis.value=u);const{_lodMax:D}=this;y.dTheta.value=M,y.mipInt.value=D-n;const N=this._sizeLods[r],U=3*N*(r>D-hf?r-D+hf:0),I=4*(this._cubeSize-N);Xp(t,U,I,3*N,2*N),d.setRenderTarget(t),d.render(_,b1)}}function BO(i){const e=[],t=[],n=[];let r=i;const a=i-hf+1+M2.length;for(let l=0;l<a;l++){const u=Math.pow(2,r);e.push(u);let d=1/u;l>i-hf?d=M2[l-i+hf-1]:l===0&&(d=0),t.push(d);const p=1/(u-2),v=-p,_=1+p,y=[v,v,_,v,_,_,v,v,_,_,v,_],x=6,M=6,E=3,A=2,T=1,R=new Float32Array(E*M*x),D=new Float32Array(A*M*x),N=new Float32Array(T*M*x);for(let I=0;I<x;I++){const B=I%3*2/3-1,k=I>2?0:-1,O=[B,k,0,B+2/3,k,0,B+2/3,k+1,0,B,k,0,B+2/3,k+1,0,B,k+1,0];R.set(O,E*M*I),D.set(y,A*M*I);const P=[I,I,I,I,I,I];N.set(P,T*M*I)}const U=new an;U.setAttribute("position",new ci(R,E)),U.setAttribute("uv",new ci(D,A)),U.setAttribute("faceIndex",new ci(N,T)),n.push(new br(U,null)),r>hf&&r--}return{lodMeshes:n,sizeLods:e,sigmas:t}}function E2(i,e,t){const n=new Xr(i,e,t);return n.texture.mapping=L0,n.texture.name="PMREM.cubeUv",n.scissorTest=!0,n}function Xp(i,e,t,n,r){i.viewport.set(e,t,n,r),i.scissor.set(e,t,n,r)}function FO(i,e,t){return new Fs({name:"PMREMGGXConvolution",defines:{GGX_SAMPLES:IO,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${i}.0`},uniforms:{envMap:{value:null},roughness:{value:0},mipInt:{value:0}},vertexShader:k3(),fragmentShader:`

			precision highp float;
			precision highp int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform float roughness;
			uniform float mipInt;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			#define PI 3.14159265359

			// Van der Corput radical inverse
			float radicalInverse_VdC(uint bits) {
				bits = (bits << 16u) | (bits >> 16u);
				bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);
				bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);
				bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);
				bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);
				return float(bits) * 2.3283064365386963e-10; // / 0x100000000
			}

			// Hammersley sequence
			vec2 hammersley(uint i, uint N) {
				return vec2(float(i) / float(N), radicalInverse_VdC(i));
			}

			// GGX VNDF importance sampling (Eric Heitz 2018)
			// "Sampling the GGX Distribution of Visible Normals"
			// https://jcgt.org/published/0007/04/01/
			vec3 importanceSampleGGX_VNDF(vec2 Xi, vec3 V, float roughness) {
				float alpha = roughness * roughness;

				// Section 3.2: Transform view direction to hemisphere configuration
				vec3 Vh = normalize(vec3(alpha * V.x, alpha * V.y, V.z));

				// Section 4.1: Orthonormal basis
				float lensq = Vh.x * Vh.x + Vh.y * Vh.y;
				vec3 T1 = lensq > 0.0 ? vec3(-Vh.y, Vh.x, 0.0) / sqrt(lensq) : vec3(1.0, 0.0, 0.0);
				vec3 T2 = cross(Vh, T1);

				// Section 4.2: Parameterization of projected area
				float r = sqrt(Xi.x);
				float phi = 2.0 * PI * Xi.y;
				float t1 = r * cos(phi);
				float t2 = r * sin(phi);
				float s = 0.5 * (1.0 + Vh.z);
				t2 = (1.0 - s) * sqrt(1.0 - t1 * t1) + s * t2;

				// Section 4.3: Reprojection onto hemisphere
				vec3 Nh = t1 * T1 + t2 * T2 + sqrt(max(0.0, 1.0 - t1 * t1 - t2 * t2)) * Vh;

				// Section 3.4: Transform back to ellipsoid configuration
				return normalize(vec3(alpha * Nh.x, alpha * Nh.y, max(0.0, Nh.z)));
			}

			void main() {
				vec3 N = normalize(vOutputDirection);
				vec3 V = N; // Assume view direction equals normal for pre-filtering

				vec3 prefilteredColor = vec3(0.0);
				float totalWeight = 0.0;

				// For very low roughness, just sample the environment directly
				if (roughness < 0.001) {
					gl_FragColor = vec4(bilinearCubeUV(envMap, N, mipInt), 1.0);
					return;
				}

				// Tangent space basis for VNDF sampling
				vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);
				vec3 tangent = normalize(cross(up, N));
				vec3 bitangent = cross(N, tangent);

				for(uint i = 0u; i < uint(GGX_SAMPLES); i++) {
					vec2 Xi = hammersley(i, uint(GGX_SAMPLES));

					// For PMREM, V = N, so in tangent space V is always (0, 0, 1)
					vec3 H_tangent = importanceSampleGGX_VNDF(Xi, vec3(0.0, 0.0, 1.0), roughness);

					// Transform H back to world space
					vec3 H = normalize(tangent * H_tangent.x + bitangent * H_tangent.y + N * H_tangent.z);
					vec3 L = normalize(2.0 * dot(V, H) * H - V);

					float NdotL = max(dot(N, L), 0.0);

					if(NdotL > 0.0) {
						// Sample environment at fixed mip level
						// VNDF importance sampling handles the distribution filtering
						vec3 sampleColor = bilinearCubeUV(envMap, L, mipInt);

						// Weight by NdotL for the split-sum approximation
						// VNDF PDF naturally accounts for the visible microfacet distribution
						prefilteredColor += sampleColor * NdotL;
						totalWeight += NdotL;
					}
				}

				if (totalWeight > 0.0) {
					prefilteredColor = prefilteredColor / totalWeight;
				}

				gl_FragColor = vec4(prefilteredColor, 1.0);
			}
		`,blending:io,depthTest:!1,depthWrite:!1})}function kO(i,e,t){const n=new Float32Array(Fh),r=new $(0,1,0);return new Fs({name:"SphericalGaussianBlur",defines:{n:Fh,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${i}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:n},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:k3(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:io,depthTest:!1,depthWrite:!1})}function A2(){return new Fs({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:k3(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:io,depthTest:!1,depthWrite:!1})}function w2(){return new Fs({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:k3(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:io,depthTest:!1,depthWrite:!1})}function k3(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function VO(i){let e=new WeakMap,t=null;function n(u){if(u&&u.isTexture){const d=u.mapping,p=d===lg||d===cg,v=d===uc||d===bf;if(p||v){let _=e.get(u);const y=_!==void 0?_.texture.pmremVersion:0;if(u.isRenderTargetTexture&&u.pmremVersion!==y)return t===null&&(t=new _M(i)),_=p?t.fromEquirectangular(u,_):t.fromCubemap(u,_),_.texture.pmremVersion=u.pmremVersion,e.set(u,_),_.texture;if(_!==void 0)return _.texture;{const x=u.image;return p&&x&&x.height>0||v&&x&&r(x)?(t===null&&(t=new _M(i)),_=p?t.fromEquirectangular(u):t.fromCubemap(u),_.texture.pmremVersion=u.pmremVersion,e.set(u,_),u.addEventListener("dispose",a),_.texture):null}}}return u}function r(u){let d=0;const p=6;for(let v=0;v<p;v++)u[v]!==void 0&&d++;return d===p}function a(u){const d=u.target;d.removeEventListener("dispose",a);const p=e.get(d);p!==void 0&&(e.delete(d),p.dispose())}function l(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:n,dispose:l}}function HO(i){const e={};function t(n){if(e[n]!==void 0)return e[n];const r=i.getExtension(n);return e[n]=r,r}return{has:function(n){return t(n)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(n){const r=t(n);return r===null&&_0("WebGLRenderer: "+n+" extension not supported."),r}}}function GO(i,e,t,n){const r={},a=new WeakMap;function l(_){const y=_.target;y.index!==null&&e.remove(y.index);for(const M in y.attributes)e.remove(y.attributes[M]);y.removeEventListener("dispose",l),delete r[y.id];const x=a.get(y);x&&(e.remove(x),a.delete(y)),n.releaseStatesOfGeometry(y),y.isInstancedBufferGeometry===!0&&delete y._maxInstanceCount,t.memory.geometries--}function u(_,y){return r[y.id]===!0||(y.addEventListener("dispose",l),r[y.id]=!0,t.memory.geometries++),y}function d(_){const y=_.attributes;for(const x in y)e.update(y[x],i.ARRAY_BUFFER)}function p(_){const y=[],x=_.index,M=_.attributes.position;let E=0;if(x!==null){const R=x.array;E=x.version;for(let D=0,N=R.length;D<N;D+=3){const U=R[D+0],I=R[D+1],B=R[D+2];y.push(U,I,I,B,B,U)}}else if(M!==void 0){const R=M.array;E=M.version;for(let D=0,N=R.length/3-1;D<N;D+=3){const U=D+0,I=D+1,B=D+2;y.push(U,I,I,B,B,U)}}else return;const A=new(tw(y)?y4:x4)(y,1);A.version=E;const T=a.get(_);T&&e.remove(T),a.set(_,A)}function v(_){const y=a.get(_);if(y){const x=_.index;x!==null&&y.version<x.version&&p(_)}else p(_);return a.get(_)}return{get:u,update:d,getWireframeAttribute:v}}function WO(i,e,t){let n;function r(y){n=y}let a,l;function u(y){a=y.type,l=y.bytesPerElement}function d(y,x){i.drawElements(n,x,a,y*l),t.update(x,n,1)}function p(y,x,M){M!==0&&(i.drawElementsInstanced(n,x,a,y*l,M),t.update(x,n,M))}function v(y,x,M){if(M===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(n,x,0,a,y,0,M);let A=0;for(let T=0;T<M;T++)A+=x[T];t.update(A,n,1)}function _(y,x,M,E){if(M===0)return;const A=e.get("WEBGL_multi_draw");if(A===null)for(let T=0;T<y.length;T++)p(y[T]/l,x[T],E[T]);else{A.multiDrawElementsInstancedWEBGL(n,x,0,a,y,0,E,0,M);let T=0;for(let R=0;R<M;R++)T+=x[R]*E[R];t.update(T,n,1)}}this.setMode=r,this.setIndex=u,this.render=d,this.renderInstances=p,this.renderMultiDraw=v,this.renderMultiDrawInstances=_}function XO(i){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function n(a,l,u){switch(t.calls++,l){case i.TRIANGLES:t.triangles+=u*(a/3);break;case i.LINES:t.lines+=u*(a/2);break;case i.LINE_STRIP:t.lines+=u*(a-1);break;case i.LINE_LOOP:t.lines+=u*a;break;case i.POINTS:t.points+=u*a;break;default:It("WebGLInfo: Unknown draw mode:",l);break}}function r(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:n}}function qO(i,e,t){const n=new WeakMap,r=new Ei;function a(l,u,d){const p=l.morphTargetInfluences,v=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,_=v!==void 0?v.length:0;let y=n.get(u);if(y===void 0||y.count!==_){let P=function(){k.dispose(),n.delete(u),u.removeEventListener("dispose",P)};var x=P;y!==void 0&&y.texture.dispose();const M=u.morphAttributes.position!==void 0,E=u.morphAttributes.normal!==void 0,A=u.morphAttributes.color!==void 0,T=u.morphAttributes.position||[],R=u.morphAttributes.normal||[],D=u.morphAttributes.color||[];let N=0;M===!0&&(N=1),E===!0&&(N=2),A===!0&&(N=3);let U=u.attributes.position.count*N,I=1;U>e.maxTextureSize&&(I=Math.ceil(U/e.maxTextureSize),U=e.maxTextureSize);const B=new Float32Array(U*I*4*_),k=new v3(B,U,I,_);k.type=Ps,k.needsUpdate=!0;const O=N*4;for(let W=0;W<_;W++){const Z=T[W],J=R[W],ee=D[W],se=U*I*4*W;for(let Y=0;Y<Z.count;Y++){const Q=Y*O;M===!0&&(r.fromBufferAttribute(Z,Y),B[se+Q+0]=r.x,B[se+Q+1]=r.y,B[se+Q+2]=r.z,B[se+Q+3]=0),E===!0&&(r.fromBufferAttribute(J,Y),B[se+Q+4]=r.x,B[se+Q+5]=r.y,B[se+Q+6]=r.z,B[se+Q+7]=0),A===!0&&(r.fromBufferAttribute(ee,Y),B[se+Q+8]=r.x,B[se+Q+9]=r.y,B[se+Q+10]=r.z,B[se+Q+11]=ee.itemSize===4?r.w:1)}}y={count:_,texture:k,size:new Ie(U,I)},n.set(u,y),u.addEventListener("dispose",P)}if(l.isInstancedMesh===!0&&l.morphTexture!==null)d.getUniforms().setValue(i,"morphTexture",l.morphTexture,t);else{let M=0;for(let A=0;A<p.length;A++)M+=p[A];const E=u.morphTargetsRelative?1:1-M;d.getUniforms().setValue(i,"morphTargetBaseInfluence",E),d.getUniforms().setValue(i,"morphTargetInfluences",p)}d.getUniforms().setValue(i,"morphTargetsTexture",y.texture,t),d.getUniforms().setValue(i,"morphTargetsTextureSize",y.size)}return{update:a}}function YO(i,e,t,n){let r=new WeakMap;function a(d){const p=n.render.frame,v=d.geometry,_=e.get(d,v);if(r.get(_)!==p&&(e.update(_),r.set(_,p)),d.isInstancedMesh&&(d.hasEventListener("dispose",u)===!1&&d.addEventListener("dispose",u),r.get(d)!==p&&(t.update(d.instanceMatrix,i.ARRAY_BUFFER),d.instanceColor!==null&&t.update(d.instanceColor,i.ARRAY_BUFFER),r.set(d,p))),d.isSkinnedMesh){const y=d.skeleton;r.get(y)!==p&&(y.update(),r.set(y,p))}return _}function l(){r=new WeakMap}function u(d){const p=d.target;p.removeEventListener("dispose",u),t.remove(p.instanceMatrix),p.instanceColor!==null&&t.remove(p.instanceColor)}return{update:a,dispose:l}}const jO={[i4]:"LINEAR_TONE_MAPPING",[r4]:"REINHARD_TONE_MAPPING",[s4]:"CINEON_TONE_MAPPING",[a3]:"ACES_FILMIC_TONE_MAPPING",[o4]:"AGX_TONE_MAPPING",[l4]:"NEUTRAL_TONE_MAPPING",[a4]:"CUSTOM_TONE_MAPPING"};function ZO(i,e,t,n,r){const a=new Xr(e,t,{type:i,depthBuffer:n,stencilBuffer:r}),l=new Xr(e,t,{type:_l,depthBuffer:!1,stencilBuffer:!1}),u=new an;u.setAttribute("position",new wt([-1,3,0,-1,-1,0,3,-1,0],3)),u.setAttribute("uv",new wt([0,2,0,0,2,0],2));const d=new L4({uniforms:{tDiffuse:{value:null}},vertexShader:`
			precision highp float;

			uniform mat4 modelViewMatrix;
			uniform mat4 projectionMatrix;

			attribute vec3 position;
			attribute vec2 uv;

			varying vec2 vUv;

			void main() {
				vUv = uv;
				gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
			}`,fragmentShader:`
			precision highp float;

			uniform sampler2D tDiffuse;

			varying vec2 vUv;

			#include <tonemapping_pars_fragment>
			#include <colorspace_pars_fragment>

			void main() {
				gl_FragColor = texture2D( tDiffuse, vUv );

				#ifdef LINEAR_TONE_MAPPING
					gl_FragColor.rgb = LinearToneMapping( gl_FragColor.rgb );
				#elif defined( REINHARD_TONE_MAPPING )
					gl_FragColor.rgb = ReinhardToneMapping( gl_FragColor.rgb );
				#elif defined( CINEON_TONE_MAPPING )
					gl_FragColor.rgb = CineonToneMapping( gl_FragColor.rgb );
				#elif defined( ACES_FILMIC_TONE_MAPPING )
					gl_FragColor.rgb = ACESFilmicToneMapping( gl_FragColor.rgb );
				#elif defined( AGX_TONE_MAPPING )
					gl_FragColor.rgb = AgXToneMapping( gl_FragColor.rgb );
				#elif defined( NEUTRAL_TONE_MAPPING )
					gl_FragColor.rgb = NeutralToneMapping( gl_FragColor.rgb );
				#elif defined( CUSTOM_TONE_MAPPING )
					gl_FragColor.rgb = CustomToneMapping( gl_FragColor.rgb );
				#endif

				#ifdef SRGB_TRANSFER
					gl_FragColor = sRGBTransferOETF( gl_FragColor );
				#endif
			}`,depthTest:!1,depthWrite:!1}),p=new br(u,d),v=new gd(-1,1,1,-1,0,1);let _=null,y=null,x=!1,M,E=null,A=[],T=!1;this.setSize=function(R,D){a.setSize(R,D),l.setSize(R,D);for(let N=0;N<A.length;N++){const U=A[N];U.setSize&&U.setSize(R,D)}},this.setEffects=function(R){A=R,T=A.length>0&&A[0].isRenderPass===!0;const D=a.width,N=a.height;for(let U=0;U<A.length;U++){const I=A[U];I.setSize&&I.setSize(D,N)}},this.begin=function(R,D){if(x||R.toneMapping===ro&&A.length===0)return!1;if(E=D,D!==null){const N=D.width,U=D.height;(a.width!==N||a.height!==U)&&this.setSize(N,U)}return T===!1&&R.setRenderTarget(a),M=R.toneMapping,R.toneMapping=ro,!0},this.hasRenderPass=function(){return T},this.end=function(R,D){R.toneMapping=M,x=!0;let N=a,U=l;for(let I=0;I<A.length;I++){const B=A[I];if(B.enabled!==!1&&(B.render(R,U,N,D),B.needsSwap!==!1)){const k=N;N=U,U=k}}if(_!==R.outputColorSpace||y!==R.toneMapping){_=R.outputColorSpace,y=R.toneMapping,d.defines={},Bn.getTransfer(_)===ai&&(d.defines.SRGB_TRANSFER="");const I=jO[y];I&&(d.defines[I]=""),d.needsUpdate=!0}d.uniforms.tDiffuse.value=N.texture,R.setRenderTarget(E),R.render(p,v),E=null,x=!1},this.isCompositing=function(){return x},this.dispose=function(){a.dispose(),l.dispose(),u.dispose(),d.dispose()}}const s6=new qi,xM=new od(1,1),a6=new v3,o6=new _3,l6=new kg,C2=[],R2=[],D2=new Float32Array(16),N2=new Float32Array(9),L2=new Float32Array(4);function I0(i,e,t){const n=i[0];if(n<=0||n>0)return i;const r=e*t;let a=C2[r];if(a===void 0&&(a=new Float32Array(r),C2[r]=a),e!==0){n.toArray(a,0);for(let l=1,u=0;l!==e;++l)u+=t,i[l].toArray(a,u)}return a}function qr(i,e){if(i.length!==e.length)return!1;for(let t=0,n=i.length;t<n;t++)if(i[t]!==e[t])return!1;return!0}function Yr(i,e){for(let t=0,n=e.length;t<n;t++)i[t]=e[t]}function V3(i,e){let t=R2[e];t===void 0&&(t=new Int32Array(e),R2[e]=t);for(let n=0;n!==e;++n)t[n]=i.allocateTextureUnit();return t}function QO(i,e){const t=this.cache;t[0]!==e&&(i.uniform1f(this.addr,e),t[0]=e)}function KO(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(i.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(qr(t,e))return;i.uniform2fv(this.addr,e),Yr(t,e)}}function JO(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(i.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(i.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(qr(t,e))return;i.uniform3fv(this.addr,e),Yr(t,e)}}function $O(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(i.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(qr(t,e))return;i.uniform4fv(this.addr,e),Yr(t,e)}}function eU(i,e){const t=this.cache,n=e.elements;if(n===void 0){if(qr(t,e))return;i.uniformMatrix2fv(this.addr,!1,e),Yr(t,e)}else{if(qr(t,n))return;L2.set(n),i.uniformMatrix2fv(this.addr,!1,L2),Yr(t,n)}}function tU(i,e){const t=this.cache,n=e.elements;if(n===void 0){if(qr(t,e))return;i.uniformMatrix3fv(this.addr,!1,e),Yr(t,e)}else{if(qr(t,n))return;N2.set(n),i.uniformMatrix3fv(this.addr,!1,N2),Yr(t,n)}}function nU(i,e){const t=this.cache,n=e.elements;if(n===void 0){if(qr(t,e))return;i.uniformMatrix4fv(this.addr,!1,e),Yr(t,e)}else{if(qr(t,n))return;D2.set(n),i.uniformMatrix4fv(this.addr,!1,D2),Yr(t,n)}}function iU(i,e){const t=this.cache;t[0]!==e&&(i.uniform1i(this.addr,e),t[0]=e)}function rU(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(i.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(qr(t,e))return;i.uniform2iv(this.addr,e),Yr(t,e)}}function sU(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(i.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(qr(t,e))return;i.uniform3iv(this.addr,e),Yr(t,e)}}function aU(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(i.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(qr(t,e))return;i.uniform4iv(this.addr,e),Yr(t,e)}}function oU(i,e){const t=this.cache;t[0]!==e&&(i.uniform1ui(this.addr,e),t[0]=e)}function lU(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(i.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(qr(t,e))return;i.uniform2uiv(this.addr,e),Yr(t,e)}}function cU(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(i.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(qr(t,e))return;i.uniform3uiv(this.addr,e),Yr(t,e)}}function uU(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(i.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(qr(t,e))return;i.uniform4uiv(this.addr,e),Yr(t,e)}}function fU(i,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r);let a;this.type===i.SAMPLER_2D_SHADOW?(xM.compareFunction=t.isReversedDepthBuffer()?g3:m3,a=xM):a=s6,t.setTexture2D(e||a,r)}function hU(i,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),t.setTexture3D(e||o6,r)}function dU(i,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),t.setTextureCube(e||l6,r)}function pU(i,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),t.setTexture2DArray(e||a6,r)}function mU(i){switch(i){case 5126:return QO;case 35664:return KO;case 35665:return JO;case 35666:return $O;case 35674:return eU;case 35675:return tU;case 35676:return nU;case 5124:case 35670:return iU;case 35667:case 35671:return rU;case 35668:case 35672:return sU;case 35669:case 35673:return aU;case 5125:return oU;case 36294:return lU;case 36295:return cU;case 36296:return uU;case 35678:case 36198:case 36298:case 36306:case 35682:return fU;case 35679:case 36299:case 36307:return hU;case 35680:case 36300:case 36308:case 36293:return dU;case 36289:case 36303:case 36311:case 36292:return pU}}function gU(i,e){i.uniform1fv(this.addr,e)}function vU(i,e){const t=I0(e,this.size,2);i.uniform2fv(this.addr,t)}function _U(i,e){const t=I0(e,this.size,3);i.uniform3fv(this.addr,t)}function xU(i,e){const t=I0(e,this.size,4);i.uniform4fv(this.addr,t)}function yU(i,e){const t=I0(e,this.size,4);i.uniformMatrix2fv(this.addr,!1,t)}function bU(i,e){const t=I0(e,this.size,9);i.uniformMatrix3fv(this.addr,!1,t)}function SU(i,e){const t=I0(e,this.size,16);i.uniformMatrix4fv(this.addr,!1,t)}function MU(i,e){i.uniform1iv(this.addr,e)}function TU(i,e){i.uniform2iv(this.addr,e)}function EU(i,e){i.uniform3iv(this.addr,e)}function AU(i,e){i.uniform4iv(this.addr,e)}function wU(i,e){i.uniform1uiv(this.addr,e)}function CU(i,e){i.uniform2uiv(this.addr,e)}function RU(i,e){i.uniform3uiv(this.addr,e)}function DU(i,e){i.uniform4uiv(this.addr,e)}function NU(i,e,t){const n=this.cache,r=e.length,a=V3(t,r);qr(n,a)||(i.uniform1iv(this.addr,a),Yr(n,a));let l;this.type===i.SAMPLER_2D_SHADOW?l=xM:l=s6;for(let u=0;u!==r;++u)t.setTexture2D(e[u]||l,a[u])}function LU(i,e,t){const n=this.cache,r=e.length,a=V3(t,r);qr(n,a)||(i.uniform1iv(this.addr,a),Yr(n,a));for(let l=0;l!==r;++l)t.setTexture3D(e[l]||o6,a[l])}function OU(i,e,t){const n=this.cache,r=e.length,a=V3(t,r);qr(n,a)||(i.uniform1iv(this.addr,a),Yr(n,a));for(let l=0;l!==r;++l)t.setTextureCube(e[l]||l6,a[l])}function UU(i,e,t){const n=this.cache,r=e.length,a=V3(t,r);qr(n,a)||(i.uniform1iv(this.addr,a),Yr(n,a));for(let l=0;l!==r;++l)t.setTexture2DArray(e[l]||a6,a[l])}function PU(i){switch(i){case 5126:return gU;case 35664:return vU;case 35665:return _U;case 35666:return xU;case 35674:return yU;case 35675:return bU;case 35676:return SU;case 5124:case 35670:return MU;case 35667:case 35671:return TU;case 35668:case 35672:return EU;case 35669:case 35673:return AU;case 5125:return wU;case 36294:return CU;case 36295:return RU;case 36296:return DU;case 35678:case 36198:case 36298:case 36306:case 35682:return NU;case 35679:case 36299:case 36307:return LU;case 35680:case 36300:case 36308:case 36293:return OU;case 36289:case 36303:case 36311:case 36292:return UU}}class IU{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.setValue=mU(t.type)}}class zU{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=PU(t.type)}}class BU{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,n){const r=this.seq;for(let a=0,l=r.length;a!==l;++a){const u=r[a];u.setValue(e,t[u.id],n)}}}const bS=/(\w+)(\])?(\[|\.)?/g;function O2(i,e){i.seq.push(e),i.map[e.id]=e}function FU(i,e,t){const n=i.name,r=n.length;for(bS.lastIndex=0;;){const a=bS.exec(n),l=bS.lastIndex;let u=a[1];const d=a[2]==="]",p=a[3];if(d&&(u=u|0),p===void 0||p==="["&&l+2===r){O2(t,p===void 0?new IU(u,i,e):new zU(u,i,e));break}else{let _=t.map[u];_===void 0&&(_=new BU(u),O2(t,_)),t=_}}}class kx{constructor(e,t){this.seq=[],this.map={};const n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let l=0;l<n;++l){const u=e.getActiveUniform(t,l),d=e.getUniformLocation(t,u.name);FU(u,d,this)}const r=[],a=[];for(const l of this.seq)l.type===e.SAMPLER_2D_SHADOW||l.type===e.SAMPLER_CUBE_SHADOW||l.type===e.SAMPLER_2D_ARRAY_SHADOW?r.push(l):a.push(l);r.length>0&&(this.seq=r.concat(a))}setValue(e,t,n,r){const a=this.map[t];a!==void 0&&a.setValue(e,n,r)}setOptional(e,t,n){const r=t[n];r!==void 0&&this.setValue(e,n,r)}static upload(e,t,n,r){for(let a=0,l=t.length;a!==l;++a){const u=t[a],d=n[u.id];d.needsUpdate!==!1&&u.setValue(e,d.value,r)}}static seqWithValue(e,t){const n=[];for(let r=0,a=e.length;r!==a;++r){const l=e[r];l.id in t&&n.push(l)}return n}}function U2(i,e,t){const n=i.createShader(e);return i.shaderSource(n,t),i.compileShader(n),n}const kU=37297;let VU=0;function HU(i,e){const t=i.split(`
`),n=[],r=Math.max(e-6,0),a=Math.min(e+6,t.length);for(let l=r;l<a;l++){const u=l+1;n.push(`${u===e?">":" "} ${u}: ${t[l]}`)}return n.join(`
`)}const P2=new dn;function GU(i){Bn._getMatrix(P2,Bn.workingColorSpace,i);const e=`mat3( ${P2.elements.map(t=>t.toFixed(4))} )`;switch(Bn.getTransfer(i)){case pg:return[e,"LinearTransferOETF"];case ai:return[e,"sRGBTransferOETF"];default:return _t("WebGLProgram: Unsupported color space: ",i),[e,"LinearTransferOETF"]}}function I2(i,e,t){const n=i.getShaderParameter(e,i.COMPILE_STATUS),a=(i.getShaderInfoLog(e)||"").trim();if(n&&a==="")return"";const l=/ERROR: 0:(\d+)/.exec(a);if(l){const u=parseInt(l[1]);return t.toUpperCase()+`

`+a+`

`+HU(i.getShaderSource(e),u)}else return a}function WU(i,e){const t=GU(e);return[`vec4 ${i}( vec4 value ) {`,`	return ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join(`
`)}const XU={[i4]:"Linear",[r4]:"Reinhard",[s4]:"Cineon",[a3]:"ACESFilmic",[o4]:"AgX",[l4]:"Neutral",[a4]:"Custom"};function qU(i,e){const t=XU[e];return t===void 0?(_t("WebGLProgram: Unsupported toneMapping:",e),"vec3 "+i+"( vec3 color ) { return LinearToneMapping( color ); }"):"vec3 "+i+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const bx=new $;function YU(){Bn.getLuminanceCoefficients(bx);const i=bx.x.toFixed(4),e=bx.y.toFixed(4),t=bx.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${i}, ${e}, ${t} );`,"	return dot( weights, rgb );","}"].join(`
`)}function jU(i){return[i.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",i.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(C1).join(`
`)}function ZU(i){const e=[];for(const t in i){const n=i[t];n!==!1&&e.push("#define "+t+" "+n)}return e.join(`
`)}function QU(i,e){const t={},n=i.getProgramParameter(e,i.ACTIVE_ATTRIBUTES);for(let r=0;r<n;r++){const a=i.getActiveAttrib(e,r),l=a.name;let u=1;a.type===i.FLOAT_MAT2&&(u=2),a.type===i.FLOAT_MAT3&&(u=3),a.type===i.FLOAT_MAT4&&(u=4),t[l]={type:a.type,location:i.getAttribLocation(e,l),locationSize:u}}return t}function C1(i){return i!==""}function z2(i,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return i.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function B2(i,e){return i.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const KU=/^[ \t]*#include +<([\w\d./]+)>/gm;function yM(i){return i.replace(KU,$U)}const JU=new Map;function $U(i,e){let t=xn[e];if(t===void 0){const n=JU.get(e);if(n!==void 0)t=xn[n],_t('WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,n);else throw new Error("Can not resolve #include <"+e+">")}return yM(t)}const eP=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function F2(i){return i.replace(eP,tP)}function tP(i,e,t,n){let r="";for(let a=parseInt(e);a<parseInt(t);a++)r+=n.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return r}function k2(i){let e=`precision ${i.precision} float;
	precision ${i.precision} int;
	precision ${i.precision} sampler2D;
	precision ${i.precision} samplerCube;
	precision ${i.precision} sampler3D;
	precision ${i.precision} sampler2DArray;
	precision ${i.precision} sampler2DShadow;
	precision ${i.precision} samplerCubeShadow;
	precision ${i.precision} sampler2DArrayShadow;
	precision ${i.precision} isampler2D;
	precision ${i.precision} isampler3D;
	precision ${i.precision} isamplerCube;
	precision ${i.precision} isampler2DArray;
	precision ${i.precision} usampler2D;
	precision ${i.precision} usampler3D;
	precision ${i.precision} usamplerCube;
	precision ${i.precision} usampler2DArray;
	`;return i.precision==="highp"?e+=`
#define HIGH_PRECISION`:i.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:i.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}const nP={[o0]:"SHADOWMAP_TYPE_PCF",[kh]:"SHADOWMAP_TYPE_VSM"};function iP(i){return nP[i.shadowMapType]||"SHADOWMAP_TYPE_BASIC"}const rP={[uc]:"ENVMAP_TYPE_CUBE",[bf]:"ENVMAP_TYPE_CUBE",[L0]:"ENVMAP_TYPE_CUBE_UV"};function sP(i){return i.envMap===!1?"ENVMAP_TYPE_CUBE":rP[i.envMapMode]||"ENVMAP_TYPE_CUBE"}const aP={[bf]:"ENVMAP_MODE_REFRACTION"};function oP(i){return i.envMap===!1?"ENVMAP_MODE_REFLECTION":aP[i.envMapMode]||"ENVMAP_MODE_REFLECTION"}const lP={[Bg]:"ENVMAP_BLENDING_MULTIPLY",[HA]:"ENVMAP_BLENDING_MIX",[GA]:"ENVMAP_BLENDING_ADD"};function cP(i){return i.envMap===!1?"ENVMAP_BLENDING_NONE":lP[i.combine]||"ENVMAP_BLENDING_NONE"}function uP(i){const e=i.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,n=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),112)),texelHeight:n,maxMip:t}}function fP(i,e,t,n){const r=i.getContext(),a=t.defines;let l=t.vertexShader,u=t.fragmentShader;const d=iP(t),p=sP(t),v=oP(t),_=cP(t),y=uP(t),x=jU(t),M=ZU(a),E=r.createProgram();let A,T,R=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(A=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,M].filter(C1).join(`
`),A.length>0&&(A+=`
`),T=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,M].filter(C1).join(`
`),T.length>0&&(T+=`
`)):(A=[k2(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,M,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+v:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+d:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",t.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(C1).join(`
`),T=[k2(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,M,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+p:"",t.envMap?"#define "+v:"",t.envMap?"#define "+_:"",y?"#define CUBEUV_TEXEL_WIDTH "+y.texelWidth:"",y?"#define CUBEUV_TEXEL_HEIGHT "+y.texelHeight:"",y?"#define CUBEUV_MAX_MIP "+y.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+d:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",t.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==ro?"#define TONE_MAPPING":"",t.toneMapping!==ro?xn.tonemapping_pars_fragment:"",t.toneMapping!==ro?qU("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",xn.colorspace_pars_fragment,WU("linearToOutputTexel",t.outputColorSpace),YU(),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(C1).join(`
`)),l=yM(l),l=z2(l,t),l=B2(l,t),u=yM(u),u=z2(u,t),u=B2(u,t),l=F2(l),u=F2(u),t.isRawShaderMaterial!==!0&&(R=`#version 300 es
`,A=[x,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+A,T=["#define varying in",t.glslVersion===uM?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===uM?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+T);const D=R+A+l,N=R+T+u,U=U2(r,r.VERTEX_SHADER,D),I=U2(r,r.FRAGMENT_SHADER,N);r.attachShader(E,U),r.attachShader(E,I),t.index0AttributeName!==void 0?r.bindAttribLocation(E,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(E,0,"position"),r.linkProgram(E);function B(W){if(i.debug.checkShaderErrors){const Z=r.getProgramInfoLog(E)||"",J=r.getShaderInfoLog(U)||"",ee=r.getShaderInfoLog(I)||"",se=Z.trim(),Y=J.trim(),Q=ee.trim();let ue=!0,ye=!0;if(r.getProgramParameter(E,r.LINK_STATUS)===!1)if(ue=!1,typeof i.debug.onShaderError=="function")i.debug.onShaderError(r,E,U,I);else{const j=I2(r,U,"vertex"),X=I2(r,I,"fragment");It("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(E,r.VALIDATE_STATUS)+`

Material Name: `+W.name+`
Material Type: `+W.type+`

Program Info Log: `+se+`
`+j+`
`+X)}else se!==""?_t("WebGLProgram: Program Info Log:",se):(Y===""||Q==="")&&(ye=!1);ye&&(W.diagnostics={runnable:ue,programLog:se,vertexShader:{log:Y,prefix:A},fragmentShader:{log:Q,prefix:T}})}r.deleteShader(U),r.deleteShader(I),k=new kx(r,E),O=QU(r,E)}let k;this.getUniforms=function(){return k===void 0&&B(this),k};let O;this.getAttributes=function(){return O===void 0&&B(this),O};let P=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return P===!1&&(P=r.getProgramParameter(E,kU)),P},this.destroy=function(){n.releaseStatesOfProgram(this),r.deleteProgram(E),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=VU++,this.cacheKey=e,this.usedTimes=1,this.program=E,this.vertexShader=U,this.fragmentShader=I,this}let hP=0;class dP{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,n=e.fragmentShader,r=this._getShaderStage(t),a=this._getShaderStage(n),l=this._getShaderCacheForMaterial(e);return l.has(r)===!1&&(l.add(r),r.usedTimes++),l.has(a)===!1&&(l.add(a),a.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const n of t)n.usedTimes--,n.usedTimes===0&&this.shaderCache.delete(n.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let n=t.get(e);return n===void 0&&(n=new Set,t.set(e,n)),n}_getShaderStage(e){const t=this.shaderCache;let n=t.get(e);return n===void 0&&(n=new pP(e),t.set(e,n)),n}}class pP{constructor(e){this.id=hP++,this.code=e,this.usedTimes=0}}function mP(i,e,t,n,r,a,l){const u=new y0,d=new dP,p=new Set,v=[],_=new Map,y=r.logarithmicDepthBuffer;let x=r.precision;const M={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distance",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function E(O){return p.add(O),O===0?"uv":`uv${O}`}function A(O,P,W,Z,J){const ee=Z.fog,se=J.geometry,Y=O.isMeshStandardMaterial?Z.environment:null,Q=(O.isMeshStandardMaterial?t:e).get(O.envMap||Y),ue=Q&&Q.mapping===L0?Q.image.height:null,ye=M[O.type];O.precision!==null&&(x=r.getMaxPrecision(O.precision),x!==O.precision&&_t("WebGLProgram.getParameters:",O.precision,"not supported, using",x,"instead."));const j=se.morphAttributes.position||se.morphAttributes.normal||se.morphAttributes.color,X=j!==void 0?j.length:0;let ce=0;se.morphAttributes.position!==void 0&&(ce=1),se.morphAttributes.normal!==void 0&&(ce=2),se.morphAttributes.color!==void 0&&(ce=3);let Se,Le,Je,de;if(ye){const pt=dl[ye];Se=pt.vertexShader,Le=pt.fragmentShader}else Se=O.vertexShader,Le=O.fragmentShader,d.update(O),Je=d.getVertexShaderID(O),de=d.getFragmentShaderID(O);const xe=i.getRenderTarget(),qe=i.state.buffers.depth.getReversed(),Ze=J.isInstancedMesh===!0,ct=J.isBatchedMesh===!0,Pt=!!O.map,Bt=!!O.matcap,rt=!!Q,Ce=!!O.aoMap,Be=!!O.lightMap,Oe=!!O.bumpMap,re=!!O.normalMap,K=!!O.displacementMap,Tt=!!O.emissiveMap,nt=!!O.metalnessMap,ut=!!O.roughnessMap,Ye=O.anisotropy>0,q=O.clearcoat>0,F=O.dispersion>0,ae=O.iridescence>0,Ae=O.sheen>0,Ne=O.transmission>0,Me=Ye&&!!O.anisotropyMap,at=q&&!!O.clearcoatMap,Qe=q&&!!O.clearcoatNormalMap,bt=q&&!!O.clearcoatRoughnessMap,xt=ae&&!!O.iridescenceMap,Ve=ae&&!!O.iridescenceThicknessMap,We=Ae&&!!O.sheenColorMap,ht=Ae&&!!O.sheenRoughnessMap,ft=!!O.specularMap,et=!!O.specularColorMap,qt=!!O.specularIntensityMap,te=Ne&&!!O.transmissionMap,ot=Ne&&!!O.thicknessMap,He=!!O.gradientMap,it=!!O.alphaMap,Fe=O.alphaTest>0,Ue=!!O.alphaHash,$e=!!O.extensions;let Ut=ro;O.toneMapped&&(xe===null||xe.isXRRenderTarget===!0)&&(Ut=i.toneMapping);const un={shaderID:ye,shaderType:O.type,shaderName:O.name,vertexShader:Se,fragmentShader:Le,defines:O.defines,customVertexShaderID:Je,customFragmentShaderID:de,isRawShaderMaterial:O.isRawShaderMaterial===!0,glslVersion:O.glslVersion,precision:x,batching:ct,batchingColor:ct&&J._colorsTexture!==null,instancing:Ze,instancingColor:Ze&&J.instanceColor!==null,instancingMorph:Ze&&J.morphTexture!==null,outputColorSpace:xe===null?i.outputColorSpace:xe.isXRRenderTarget===!0?xe.texture.colorSpace:hc,alphaToCoverage:!!O.alphaToCoverage,map:Pt,matcap:Bt,envMap:rt,envMapMode:rt&&Q.mapping,envMapCubeUVHeight:ue,aoMap:Ce,lightMap:Be,bumpMap:Oe,normalMap:re,displacementMap:K,emissiveMap:Tt,normalMapObjectSpace:re&&O.normalMapType===jA,normalMapTangentSpace:re&&O.normalMapType===Rf,metalnessMap:nt,roughnessMap:ut,anisotropy:Ye,anisotropyMap:Me,clearcoat:q,clearcoatMap:at,clearcoatNormalMap:Qe,clearcoatRoughnessMap:bt,dispersion:F,iridescence:ae,iridescenceMap:xt,iridescenceThicknessMap:Ve,sheen:Ae,sheenColorMap:We,sheenRoughnessMap:ht,specularMap:ft,specularColorMap:et,specularIntensityMap:qt,transmission:Ne,transmissionMap:te,thicknessMap:ot,gradientMap:He,opaque:O.transparent===!1&&O.blending===qh&&O.alphaToCoverage===!1,alphaMap:it,alphaTest:Fe,alphaHash:Ue,combine:O.combine,mapUv:Pt&&E(O.map.channel),aoMapUv:Ce&&E(O.aoMap.channel),lightMapUv:Be&&E(O.lightMap.channel),bumpMapUv:Oe&&E(O.bumpMap.channel),normalMapUv:re&&E(O.normalMap.channel),displacementMapUv:K&&E(O.displacementMap.channel),emissiveMapUv:Tt&&E(O.emissiveMap.channel),metalnessMapUv:nt&&E(O.metalnessMap.channel),roughnessMapUv:ut&&E(O.roughnessMap.channel),anisotropyMapUv:Me&&E(O.anisotropyMap.channel),clearcoatMapUv:at&&E(O.clearcoatMap.channel),clearcoatNormalMapUv:Qe&&E(O.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:bt&&E(O.clearcoatRoughnessMap.channel),iridescenceMapUv:xt&&E(O.iridescenceMap.channel),iridescenceThicknessMapUv:Ve&&E(O.iridescenceThicknessMap.channel),sheenColorMapUv:We&&E(O.sheenColorMap.channel),sheenRoughnessMapUv:ht&&E(O.sheenRoughnessMap.channel),specularMapUv:ft&&E(O.specularMap.channel),specularColorMapUv:et&&E(O.specularColorMap.channel),specularIntensityMapUv:qt&&E(O.specularIntensityMap.channel),transmissionMapUv:te&&E(O.transmissionMap.channel),thicknessMapUv:ot&&E(O.thicknessMap.channel),alphaMapUv:it&&E(O.alphaMap.channel),vertexTangents:!!se.attributes.tangent&&(re||Ye),vertexColors:O.vertexColors,vertexAlphas:O.vertexColors===!0&&!!se.attributes.color&&se.attributes.color.itemSize===4,pointsUvs:J.isPoints===!0&&!!se.attributes.uv&&(Pt||it),fog:!!ee,useFog:O.fog===!0,fogExp2:!!ee&&ee.isFogExp2,flatShading:O.flatShading===!0&&O.wireframe===!1,sizeAttenuation:O.sizeAttenuation===!0,logarithmicDepthBuffer:y,reversedDepthBuffer:qe,skinning:J.isSkinnedMesh===!0,morphTargets:se.morphAttributes.position!==void 0,morphNormals:se.morphAttributes.normal!==void 0,morphColors:se.morphAttributes.color!==void 0,morphTargetsCount:X,morphTextureStride:ce,numDirLights:P.directional.length,numPointLights:P.point.length,numSpotLights:P.spot.length,numSpotLightMaps:P.spotLightMap.length,numRectAreaLights:P.rectArea.length,numHemiLights:P.hemi.length,numDirLightShadows:P.directionalShadowMap.length,numPointLightShadows:P.pointShadowMap.length,numSpotLightShadows:P.spotShadowMap.length,numSpotLightShadowsWithMaps:P.numSpotLightShadowsWithMaps,numLightProbes:P.numLightProbes,numClippingPlanes:l.numPlanes,numClipIntersection:l.numIntersection,dithering:O.dithering,shadowMapEnabled:i.shadowMap.enabled&&W.length>0,shadowMapType:i.shadowMap.type,toneMapping:Ut,decodeVideoTexture:Pt&&O.map.isVideoTexture===!0&&Bn.getTransfer(O.map.colorSpace)===ai,decodeVideoTextureEmissive:Tt&&O.emissiveMap.isVideoTexture===!0&&Bn.getTransfer(O.emissiveMap.colorSpace)===ai,premultipliedAlpha:O.premultipliedAlpha,doubleSided:O.side===Na,flipSided:O.side===Wr,useDepthPacking:O.depthPacking>=0,depthPacking:O.depthPacking||0,index0AttributeName:O.index0AttributeName,extensionClipCullDistance:$e&&O.extensions.clipCullDistance===!0&&n.has("WEBGL_clip_cull_distance"),extensionMultiDraw:($e&&O.extensions.multiDraw===!0||ct)&&n.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:n.has("KHR_parallel_shader_compile"),customProgramCacheKey:O.customProgramCacheKey()};return un.vertexUv1s=p.has(1),un.vertexUv2s=p.has(2),un.vertexUv3s=p.has(3),p.clear(),un}function T(O){const P=[];if(O.shaderID?P.push(O.shaderID):(P.push(O.customVertexShaderID),P.push(O.customFragmentShaderID)),O.defines!==void 0)for(const W in O.defines)P.push(W),P.push(O.defines[W]);return O.isRawShaderMaterial===!1&&(R(P,O),D(P,O),P.push(i.outputColorSpace)),P.push(O.customProgramCacheKey),P.join()}function R(O,P){O.push(P.precision),O.push(P.outputColorSpace),O.push(P.envMapMode),O.push(P.envMapCubeUVHeight),O.push(P.mapUv),O.push(P.alphaMapUv),O.push(P.lightMapUv),O.push(P.aoMapUv),O.push(P.bumpMapUv),O.push(P.normalMapUv),O.push(P.displacementMapUv),O.push(P.emissiveMapUv),O.push(P.metalnessMapUv),O.push(P.roughnessMapUv),O.push(P.anisotropyMapUv),O.push(P.clearcoatMapUv),O.push(P.clearcoatNormalMapUv),O.push(P.clearcoatRoughnessMapUv),O.push(P.iridescenceMapUv),O.push(P.iridescenceThicknessMapUv),O.push(P.sheenColorMapUv),O.push(P.sheenRoughnessMapUv),O.push(P.specularMapUv),O.push(P.specularColorMapUv),O.push(P.specularIntensityMapUv),O.push(P.transmissionMapUv),O.push(P.thicknessMapUv),O.push(P.combine),O.push(P.fogExp2),O.push(P.sizeAttenuation),O.push(P.morphTargetsCount),O.push(P.morphAttributeCount),O.push(P.numDirLights),O.push(P.numPointLights),O.push(P.numSpotLights),O.push(P.numSpotLightMaps),O.push(P.numHemiLights),O.push(P.numRectAreaLights),O.push(P.numDirLightShadows),O.push(P.numPointLightShadows),O.push(P.numSpotLightShadows),O.push(P.numSpotLightShadowsWithMaps),O.push(P.numLightProbes),O.push(P.shadowMapType),O.push(P.toneMapping),O.push(P.numClippingPlanes),O.push(P.numClipIntersection),O.push(P.depthPacking)}function D(O,P){u.disableAll(),P.instancing&&u.enable(0),P.instancingColor&&u.enable(1),P.instancingMorph&&u.enable(2),P.matcap&&u.enable(3),P.envMap&&u.enable(4),P.normalMapObjectSpace&&u.enable(5),P.normalMapTangentSpace&&u.enable(6),P.clearcoat&&u.enable(7),P.iridescence&&u.enable(8),P.alphaTest&&u.enable(9),P.vertexColors&&u.enable(10),P.vertexAlphas&&u.enable(11),P.vertexUv1s&&u.enable(12),P.vertexUv2s&&u.enable(13),P.vertexUv3s&&u.enable(14),P.vertexTangents&&u.enable(15),P.anisotropy&&u.enable(16),P.alphaHash&&u.enable(17),P.batching&&u.enable(18),P.dispersion&&u.enable(19),P.batchingColor&&u.enable(20),P.gradientMap&&u.enable(21),O.push(u.mask),u.disableAll(),P.fog&&u.enable(0),P.useFog&&u.enable(1),P.flatShading&&u.enable(2),P.logarithmicDepthBuffer&&u.enable(3),P.reversedDepthBuffer&&u.enable(4),P.skinning&&u.enable(5),P.morphTargets&&u.enable(6),P.morphNormals&&u.enable(7),P.morphColors&&u.enable(8),P.premultipliedAlpha&&u.enable(9),P.shadowMapEnabled&&u.enable(10),P.doubleSided&&u.enable(11),P.flipSided&&u.enable(12),P.useDepthPacking&&u.enable(13),P.dithering&&u.enable(14),P.transmission&&u.enable(15),P.sheen&&u.enable(16),P.opaque&&u.enable(17),P.pointsUvs&&u.enable(18),P.decodeVideoTexture&&u.enable(19),P.decodeVideoTextureEmissive&&u.enable(20),P.alphaToCoverage&&u.enable(21),O.push(u.mask)}function N(O){const P=M[O.type];let W;if(P){const Z=dl[P];W=lw.clone(Z.uniforms)}else W=O.uniforms;return W}function U(O,P){let W=_.get(P);return W!==void 0?++W.usedTimes:(W=new fP(i,P,O,a),v.push(W),_.set(P,W)),W}function I(O){if(--O.usedTimes===0){const P=v.indexOf(O);v[P]=v[v.length-1],v.pop(),_.delete(O.cacheKey),O.destroy()}}function B(O){d.remove(O)}function k(){d.dispose()}return{getParameters:A,getProgramCacheKey:T,getUniforms:N,acquireProgram:U,releaseProgram:I,releaseShaderCache:B,programs:v,dispose:k}}function gP(){let i=new WeakMap;function e(l){return i.has(l)}function t(l){let u=i.get(l);return u===void 0&&(u={},i.set(l,u)),u}function n(l){i.delete(l)}function r(l,u,d){i.get(l)[u]=d}function a(){i=new WeakMap}return{has:e,get:t,remove:n,update:r,dispose:a}}function vP(i,e){return i.groupOrder!==e.groupOrder?i.groupOrder-e.groupOrder:i.renderOrder!==e.renderOrder?i.renderOrder-e.renderOrder:i.material.id!==e.material.id?i.material.id-e.material.id:i.z!==e.z?i.z-e.z:i.id-e.id}function V2(i,e){return i.groupOrder!==e.groupOrder?i.groupOrder-e.groupOrder:i.renderOrder!==e.renderOrder?i.renderOrder-e.renderOrder:i.z!==e.z?e.z-i.z:i.id-e.id}function H2(){const i=[];let e=0;const t=[],n=[],r=[];function a(){e=0,t.length=0,n.length=0,r.length=0}function l(_,y,x,M,E,A){let T=i[e];return T===void 0?(T={id:_.id,object:_,geometry:y,material:x,groupOrder:M,renderOrder:_.renderOrder,z:E,group:A},i[e]=T):(T.id=_.id,T.object=_,T.geometry=y,T.material=x,T.groupOrder=M,T.renderOrder=_.renderOrder,T.z=E,T.group=A),e++,T}function u(_,y,x,M,E,A){const T=l(_,y,x,M,E,A);x.transmission>0?n.push(T):x.transparent===!0?r.push(T):t.push(T)}function d(_,y,x,M,E,A){const T=l(_,y,x,M,E,A);x.transmission>0?n.unshift(T):x.transparent===!0?r.unshift(T):t.unshift(T)}function p(_,y){t.length>1&&t.sort(_||vP),n.length>1&&n.sort(y||V2),r.length>1&&r.sort(y||V2)}function v(){for(let _=e,y=i.length;_<y;_++){const x=i[_];if(x.id===null)break;x.id=null,x.object=null,x.geometry=null,x.material=null,x.group=null}}return{opaque:t,transmissive:n,transparent:r,init:a,push:u,unshift:d,finish:v,sort:p}}function _P(){let i=new WeakMap;function e(n,r){const a=i.get(n);let l;return a===void 0?(l=new H2,i.set(n,[l])):r>=a.length?(l=new H2,a.push(l)):l=a[r],l}function t(){i=new WeakMap}return{get:e,dispose:t}}function xP(){const i={};return{get:function(e){if(i[e.id]!==void 0)return i[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new $,color:new Mt};break;case"SpotLight":t={position:new $,direction:new $,color:new Mt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new $,color:new Mt,distance:0,decay:0};break;case"HemisphereLight":t={direction:new $,skyColor:new Mt,groundColor:new Mt};break;case"RectAreaLight":t={color:new Mt,position:new $,halfWidth:new $,halfHeight:new $};break}return i[e.id]=t,t}}}function yP(){const i={};return{get:function(e){if(i[e.id]!==void 0)return i[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ie};break;case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ie};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ie,shadowCameraNear:1,shadowCameraFar:1e3};break}return i[e.id]=t,t}}}let bP=0;function SP(i,e){return(e.castShadow?2:0)-(i.castShadow?2:0)+(e.map?1:0)-(i.map?1:0)}function MP(i){const e=new xP,t=yP(),n={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let p=0;p<9;p++)n.probe.push(new $);const r=new $,a=new en,l=new en;function u(p){let v=0,_=0,y=0;for(let O=0;O<9;O++)n.probe[O].set(0,0,0);let x=0,M=0,E=0,A=0,T=0,R=0,D=0,N=0,U=0,I=0,B=0;p.sort(SP);for(let O=0,P=p.length;O<P;O++){const W=p[O],Z=W.color,J=W.intensity,ee=W.distance;let se=null;if(W.shadow&&W.shadow.map&&(W.shadow.map.texture.format===sd?se=W.shadow.map.texture:se=W.shadow.map.depthTexture||W.shadow.map.texture),W.isAmbientLight)v+=Z.r*J,_+=Z.g*J,y+=Z.b*J;else if(W.isLightProbe){for(let Y=0;Y<9;Y++)n.probe[Y].addScaledVector(W.sh.coefficients[Y],J);B++}else if(W.isDirectionalLight){const Y=e.get(W);if(Y.color.copy(W.color).multiplyScalar(W.intensity),W.castShadow){const Q=W.shadow,ue=t.get(W);ue.shadowIntensity=Q.intensity,ue.shadowBias=Q.bias,ue.shadowNormalBias=Q.normalBias,ue.shadowRadius=Q.radius,ue.shadowMapSize=Q.mapSize,n.directionalShadow[x]=ue,n.directionalShadowMap[x]=se,n.directionalShadowMatrix[x]=W.shadow.matrix,R++}n.directional[x]=Y,x++}else if(W.isSpotLight){const Y=e.get(W);Y.position.setFromMatrixPosition(W.matrixWorld),Y.color.copy(Z).multiplyScalar(J),Y.distance=ee,Y.coneCos=Math.cos(W.angle),Y.penumbraCos=Math.cos(W.angle*(1-W.penumbra)),Y.decay=W.decay,n.spot[E]=Y;const Q=W.shadow;if(W.map&&(n.spotLightMap[U]=W.map,U++,Q.updateMatrices(W),W.castShadow&&I++),n.spotLightMatrix[E]=Q.matrix,W.castShadow){const ue=t.get(W);ue.shadowIntensity=Q.intensity,ue.shadowBias=Q.bias,ue.shadowNormalBias=Q.normalBias,ue.shadowRadius=Q.radius,ue.shadowMapSize=Q.mapSize,n.spotShadow[E]=ue,n.spotShadowMap[E]=se,N++}E++}else if(W.isRectAreaLight){const Y=e.get(W);Y.color.copy(Z).multiplyScalar(J),Y.halfWidth.set(W.width*.5,0,0),Y.halfHeight.set(0,W.height*.5,0),n.rectArea[A]=Y,A++}else if(W.isPointLight){const Y=e.get(W);if(Y.color.copy(W.color).multiplyScalar(W.intensity),Y.distance=W.distance,Y.decay=W.decay,W.castShadow){const Q=W.shadow,ue=t.get(W);ue.shadowIntensity=Q.intensity,ue.shadowBias=Q.bias,ue.shadowNormalBias=Q.normalBias,ue.shadowRadius=Q.radius,ue.shadowMapSize=Q.mapSize,ue.shadowCameraNear=Q.camera.near,ue.shadowCameraFar=Q.camera.far,n.pointShadow[M]=ue,n.pointShadowMap[M]=se,n.pointShadowMatrix[M]=W.shadow.matrix,D++}n.point[M]=Y,M++}else if(W.isHemisphereLight){const Y=e.get(W);Y.skyColor.copy(W.color).multiplyScalar(J),Y.groundColor.copy(W.groundColor).multiplyScalar(J),n.hemi[T]=Y,T++}}A>0&&(i.has("OES_texture_float_linear")===!0?(n.rectAreaLTC1=yt.LTC_FLOAT_1,n.rectAreaLTC2=yt.LTC_FLOAT_2):(n.rectAreaLTC1=yt.LTC_HALF_1,n.rectAreaLTC2=yt.LTC_HALF_2)),n.ambient[0]=v,n.ambient[1]=_,n.ambient[2]=y;const k=n.hash;(k.directionalLength!==x||k.pointLength!==M||k.spotLength!==E||k.rectAreaLength!==A||k.hemiLength!==T||k.numDirectionalShadows!==R||k.numPointShadows!==D||k.numSpotShadows!==N||k.numSpotMaps!==U||k.numLightProbes!==B)&&(n.directional.length=x,n.spot.length=E,n.rectArea.length=A,n.point.length=M,n.hemi.length=T,n.directionalShadow.length=R,n.directionalShadowMap.length=R,n.pointShadow.length=D,n.pointShadowMap.length=D,n.spotShadow.length=N,n.spotShadowMap.length=N,n.directionalShadowMatrix.length=R,n.pointShadowMatrix.length=D,n.spotLightMatrix.length=N+U-I,n.spotLightMap.length=U,n.numSpotLightShadowsWithMaps=I,n.numLightProbes=B,k.directionalLength=x,k.pointLength=M,k.spotLength=E,k.rectAreaLength=A,k.hemiLength=T,k.numDirectionalShadows=R,k.numPointShadows=D,k.numSpotShadows=N,k.numSpotMaps=U,k.numLightProbes=B,n.version=bP++)}function d(p,v){let _=0,y=0,x=0,M=0,E=0;const A=v.matrixWorldInverse;for(let T=0,R=p.length;T<R;T++){const D=p[T];if(D.isDirectionalLight){const N=n.directional[_];N.direction.setFromMatrixPosition(D.matrixWorld),r.setFromMatrixPosition(D.target.matrixWorld),N.direction.sub(r),N.direction.transformDirection(A),_++}else if(D.isSpotLight){const N=n.spot[x];N.position.setFromMatrixPosition(D.matrixWorld),N.position.applyMatrix4(A),N.direction.setFromMatrixPosition(D.matrixWorld),r.setFromMatrixPosition(D.target.matrixWorld),N.direction.sub(r),N.direction.transformDirection(A),x++}else if(D.isRectAreaLight){const N=n.rectArea[M];N.position.setFromMatrixPosition(D.matrixWorld),N.position.applyMatrix4(A),l.identity(),a.copy(D.matrixWorld),a.premultiply(A),l.extractRotation(a),N.halfWidth.set(D.width*.5,0,0),N.halfHeight.set(0,D.height*.5,0),N.halfWidth.applyMatrix4(l),N.halfHeight.applyMatrix4(l),M++}else if(D.isPointLight){const N=n.point[y];N.position.setFromMatrixPosition(D.matrixWorld),N.position.applyMatrix4(A),y++}else if(D.isHemisphereLight){const N=n.hemi[E];N.direction.setFromMatrixPosition(D.matrixWorld),N.direction.transformDirection(A),E++}}}return{setup:u,setupView:d,state:n}}function G2(i){const e=new MP(i),t=[],n=[];function r(v){p.camera=v,t.length=0,n.length=0}function a(v){t.push(v)}function l(v){n.push(v)}function u(){e.setup(t)}function d(v){e.setupView(t,v)}const p={lightsArray:t,shadowsArray:n,camera:null,lights:e,transmissionRenderTarget:{}};return{init:r,state:p,setupLights:u,setupLightsView:d,pushLight:a,pushShadow:l}}function TP(i){let e=new WeakMap;function t(r,a=0){const l=e.get(r);let u;return l===void 0?(u=new G2(i),e.set(r,[u])):a>=l.length?(u=new G2(i),l.push(u)):u=l[a],u}function n(){e=new WeakMap}return{get:t,dispose:n}}const EP=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,AP=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ).rg;
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ).r;
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( max( 0.0, squared_mean - mean * mean ) );
	gl_FragColor = vec4( mean, std_dev, 0.0, 1.0 );
}`,wP=[new $(1,0,0),new $(-1,0,0),new $(0,1,0),new $(0,-1,0),new $(0,0,1),new $(0,0,-1)],CP=[new $(0,-1,0),new $(0,-1,0),new $(0,0,1),new $(0,0,-1),new $(0,-1,0),new $(0,-1,0)],W2=new en,S1=new $,SS=new $;function RP(i,e,t){let n=new U0;const r=new Ie,a=new Ie,l=new Ei,u=new P4,d=new I4,p={},v=t.maxTextureSize,_={[cc]:Wr,[Wr]:cc,[Na]:Na},y=new Fs({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Ie},radius:{value:4}},vertexShader:EP,fragmentShader:AP}),x=y.clone();x.defines.HORIZONTAL_PASS=1;const M=new an;M.setAttribute("position",new ci(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const E=new br(M,y),A=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=o0;let T=this.type;this.render=function(I,B,k){if(A.enabled===!1||A.autoUpdate===!1&&A.needsUpdate===!1||I.length===0)return;I.type===I1&&(_t("WebGLShadowMap: PCFSoftShadowMap has been deprecated. Using PCFShadowMap instead."),I.type=o0);const O=i.getRenderTarget(),P=i.getActiveCubeFace(),W=i.getActiveMipmapLevel(),Z=i.state;Z.setBlending(io),Z.buffers.depth.getReversed()===!0?Z.buffers.color.setClear(0,0,0,0):Z.buffers.color.setClear(1,1,1,1),Z.buffers.depth.setTest(!0),Z.setScissorTest(!1);const J=T!==this.type;J&&B.traverse(function(ee){ee.material&&(Array.isArray(ee.material)?ee.material.forEach(se=>se.needsUpdate=!0):ee.material.needsUpdate=!0)});for(let ee=0,se=I.length;ee<se;ee++){const Y=I[ee],Q=Y.shadow;if(Q===void 0){_t("WebGLShadowMap:",Y,"has no shadow.");continue}if(Q.autoUpdate===!1&&Q.needsUpdate===!1)continue;r.copy(Q.mapSize);const ue=Q.getFrameExtents();if(r.multiply(ue),a.copy(Q.mapSize),(r.x>v||r.y>v)&&(r.x>v&&(a.x=Math.floor(v/ue.x),r.x=a.x*ue.x,Q.mapSize.x=a.x),r.y>v&&(a.y=Math.floor(v/ue.y),r.y=a.y*ue.y,Q.mapSize.y=a.y)),Q.map===null||J===!0){if(Q.map!==null&&(Q.map.depthTexture!==null&&(Q.map.depthTexture.dispose(),Q.map.depthTexture=null),Q.map.dispose()),this.type===kh){if(Y.isPointLight){_t("WebGLShadowMap: VSM shadow maps are not supported for PointLights. Use PCF or BasicShadowMap instead.");continue}Q.map=new Xr(r.x,r.y,{format:sd,type:_l,minFilter:hi,magFilter:hi,generateMipmaps:!1}),Q.map.texture.name=Y.name+".shadowMap",Q.map.depthTexture=new od(r.x,r.y,Ps),Q.map.depthTexture.name=Y.name+".shadowMapDepth",Q.map.depthTexture.format=fc,Q.map.depthTexture.compareFunction=null,Q.map.depthTexture.minFilter=Fi,Q.map.depthTexture.magFilter=Fi}else{Y.isPointLight?(Q.map=new b4(r.x),Q.map.depthTexture=new xw(r.x,oo)):(Q.map=new Xr(r.x,r.y),Q.map.depthTexture=new od(r.x,r.y,oo)),Q.map.depthTexture.name=Y.name+".shadowMap",Q.map.depthTexture.format=fc;const j=i.state.buffers.depth.getReversed();this.type===o0?(Q.map.depthTexture.compareFunction=j?g3:m3,Q.map.depthTexture.minFilter=hi,Q.map.depthTexture.magFilter=hi):(Q.map.depthTexture.compareFunction=null,Q.map.depthTexture.minFilter=Fi,Q.map.depthTexture.magFilter=Fi)}Q.camera.updateProjectionMatrix()}const ye=Q.map.isWebGLCubeRenderTarget?6:1;for(let j=0;j<ye;j++){if(Q.map.isWebGLCubeRenderTarget)i.setRenderTarget(Q.map,j),i.clear();else{j===0&&(i.setRenderTarget(Q.map),i.clear());const X=Q.getViewport(j);l.set(a.x*X.x,a.y*X.y,a.x*X.z,a.y*X.w),Z.viewport(l)}if(Y.isPointLight){const X=Q.camera,ce=Q.matrix,Se=Y.distance||X.far;Se!==X.far&&(X.far=Se,X.updateProjectionMatrix()),S1.setFromMatrixPosition(Y.matrixWorld),X.position.copy(S1),SS.copy(X.position),SS.add(wP[j]),X.up.copy(CP[j]),X.lookAt(SS),X.updateMatrixWorld(),ce.makeTranslation(-S1.x,-S1.y,-S1.z),W2.multiplyMatrices(X.projectionMatrix,X.matrixWorldInverse),Q._frustum.setFromProjectionMatrix(W2,X.coordinateSystem,X.reversedDepth)}else Q.updateMatrices(Y);n=Q.getFrustum(),N(B,k,Q.camera,Y,this.type)}Q.isPointLightShadow!==!0&&this.type===kh&&R(Q,k),Q.needsUpdate=!1}T=this.type,A.needsUpdate=!1,i.setRenderTarget(O,P,W)};function R(I,B){const k=e.update(E);y.defines.VSM_SAMPLES!==I.blurSamples&&(y.defines.VSM_SAMPLES=I.blurSamples,x.defines.VSM_SAMPLES=I.blurSamples,y.needsUpdate=!0,x.needsUpdate=!0),I.mapPass===null&&(I.mapPass=new Xr(r.x,r.y,{format:sd,type:_l})),y.uniforms.shadow_pass.value=I.map.depthTexture,y.uniforms.resolution.value=I.mapSize,y.uniforms.radius.value=I.radius,i.setRenderTarget(I.mapPass),i.clear(),i.renderBufferDirect(B,null,k,y,E,null),x.uniforms.shadow_pass.value=I.mapPass.texture,x.uniforms.resolution.value=I.mapSize,x.uniforms.radius.value=I.radius,i.setRenderTarget(I.map),i.clear(),i.renderBufferDirect(B,null,k,x,E,null)}function D(I,B,k,O){let P=null;const W=k.isPointLight===!0?I.customDistanceMaterial:I.customDepthMaterial;if(W!==void 0)P=W;else if(P=k.isPointLight===!0?d:u,i.localClippingEnabled&&B.clipShadows===!0&&Array.isArray(B.clippingPlanes)&&B.clippingPlanes.length!==0||B.displacementMap&&B.displacementScale!==0||B.alphaMap&&B.alphaTest>0||B.map&&B.alphaTest>0||B.alphaToCoverage===!0){const Z=P.uuid,J=B.uuid;let ee=p[Z];ee===void 0&&(ee={},p[Z]=ee);let se=ee[J];se===void 0&&(se=P.clone(),ee[J]=se,B.addEventListener("dispose",U)),P=se}if(P.visible=B.visible,P.wireframe=B.wireframe,O===kh?P.side=B.shadowSide!==null?B.shadowSide:B.side:P.side=B.shadowSide!==null?B.shadowSide:_[B.side],P.alphaMap=B.alphaMap,P.alphaTest=B.alphaToCoverage===!0?.5:B.alphaTest,P.map=B.map,P.clipShadows=B.clipShadows,P.clippingPlanes=B.clippingPlanes,P.clipIntersection=B.clipIntersection,P.displacementMap=B.displacementMap,P.displacementScale=B.displacementScale,P.displacementBias=B.displacementBias,P.wireframeLinewidth=B.wireframeLinewidth,P.linewidth=B.linewidth,k.isPointLight===!0&&P.isMeshDistanceMaterial===!0){const Z=i.properties.get(P);Z.light=k}return P}function N(I,B,k,O,P){if(I.visible===!1)return;if(I.layers.test(B.layers)&&(I.isMesh||I.isLine||I.isPoints)&&(I.castShadow||I.receiveShadow&&P===kh)&&(!I.frustumCulled||n.intersectsObject(I))){I.modelViewMatrix.multiplyMatrices(k.matrixWorldInverse,I.matrixWorld);const J=e.update(I),ee=I.material;if(Array.isArray(ee)){const se=J.groups;for(let Y=0,Q=se.length;Y<Q;Y++){const ue=se[Y],ye=ee[ue.materialIndex];if(ye&&ye.visible){const j=D(I,ye,O,P);I.onBeforeShadow(i,I,B,k,J,j,ue),i.renderBufferDirect(k,null,J,j,I,ue),I.onAfterShadow(i,I,B,k,J,j,ue)}}}else if(ee.visible){const se=D(I,ee,O,P);I.onBeforeShadow(i,I,B,k,J,se,null),i.renderBufferDirect(k,null,J,se,I,null),I.onAfterShadow(i,I,B,k,J,se,null)}}const Z=I.children;for(let J=0,ee=Z.length;J<ee;J++)N(Z[J],B,k,O,P)}function U(I){I.target.removeEventListener("dispose",U);for(const k in p){const O=p[k],P=I.target.uuid;P in O&&(O[P].dispose(),delete O[P])}}}const DP={[$x]:og,[ey]:iy,[ty]:ry,[id]:ny,[og]:$x,[iy]:ey,[ry]:ty,[ny]:id};function NP(i,e){function t(){let te=!1;const ot=new Ei;let He=null;const it=new Ei(0,0,0,0);return{setMask:function(Fe){He!==Fe&&!te&&(i.colorMask(Fe,Fe,Fe,Fe),He=Fe)},setLocked:function(Fe){te=Fe},setClear:function(Fe,Ue,$e,Ut,un){un===!0&&(Fe*=Ut,Ue*=Ut,$e*=Ut),ot.set(Fe,Ue,$e,Ut),it.equals(ot)===!1&&(i.clearColor(Fe,Ue,$e,Ut),it.copy(ot))},reset:function(){te=!1,He=null,it.set(-1,0,0,0)}}}function n(){let te=!1,ot=!1,He=null,it=null,Fe=null;return{setReversed:function(Ue){if(ot!==Ue){const $e=e.get("EXT_clip_control");Ue?$e.clipControlEXT($e.LOWER_LEFT_EXT,$e.ZERO_TO_ONE_EXT):$e.clipControlEXT($e.LOWER_LEFT_EXT,$e.NEGATIVE_ONE_TO_ONE_EXT),ot=Ue;const Ut=Fe;Fe=null,this.setClear(Ut)}},getReversed:function(){return ot},setTest:function(Ue){Ue?xe(i.DEPTH_TEST):qe(i.DEPTH_TEST)},setMask:function(Ue){He!==Ue&&!te&&(i.depthMask(Ue),He=Ue)},setFunc:function(Ue){if(ot&&(Ue=DP[Ue]),it!==Ue){switch(Ue){case $x:i.depthFunc(i.NEVER);break;case og:i.depthFunc(i.ALWAYS);break;case ey:i.depthFunc(i.LESS);break;case id:i.depthFunc(i.LEQUAL);break;case ty:i.depthFunc(i.EQUAL);break;case ny:i.depthFunc(i.GEQUAL);break;case iy:i.depthFunc(i.GREATER);break;case ry:i.depthFunc(i.NOTEQUAL);break;default:i.depthFunc(i.LEQUAL)}it=Ue}},setLocked:function(Ue){te=Ue},setClear:function(Ue){Fe!==Ue&&(ot&&(Ue=1-Ue),i.clearDepth(Ue),Fe=Ue)},reset:function(){te=!1,He=null,it=null,Fe=null,ot=!1}}}function r(){let te=!1,ot=null,He=null,it=null,Fe=null,Ue=null,$e=null,Ut=null,un=null;return{setTest:function(pt){te||(pt?xe(i.STENCIL_TEST):qe(i.STENCIL_TEST))},setMask:function(pt){ot!==pt&&!te&&(i.stencilMask(pt),ot=pt)},setFunc:function(pt,Et,Kt){(He!==pt||it!==Et||Fe!==Kt)&&(i.stencilFunc(pt,Et,Kt),He=pt,it=Et,Fe=Kt)},setOp:function(pt,Et,Kt){(Ue!==pt||$e!==Et||Ut!==Kt)&&(i.stencilOp(pt,Et,Kt),Ue=pt,$e=Et,Ut=Kt)},setLocked:function(pt){te=pt},setClear:function(pt){un!==pt&&(i.clearStencil(pt),un=pt)},reset:function(){te=!1,ot=null,He=null,it=null,Fe=null,Ue=null,$e=null,Ut=null,un=null}}}const a=new t,l=new n,u=new r,d=new WeakMap,p=new WeakMap;let v={},_={},y=new WeakMap,x=[],M=null,E=!1,A=null,T=null,R=null,D=null,N=null,U=null,I=null,B=new Mt(0,0,0),k=0,O=!1,P=null,W=null,Z=null,J=null,ee=null;const se=i.getParameter(i.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let Y=!1,Q=0;const ue=i.getParameter(i.VERSION);ue.indexOf("WebGL")!==-1?(Q=parseFloat(/^WebGL (\d)/.exec(ue)[1]),Y=Q>=1):ue.indexOf("OpenGL ES")!==-1&&(Q=parseFloat(/^OpenGL ES (\d)/.exec(ue)[1]),Y=Q>=2);let ye=null,j={};const X=i.getParameter(i.SCISSOR_BOX),ce=i.getParameter(i.VIEWPORT),Se=new Ei().fromArray(X),Le=new Ei().fromArray(ce);function Je(te,ot,He,it){const Fe=new Uint8Array(4),Ue=i.createTexture();i.bindTexture(te,Ue),i.texParameteri(te,i.TEXTURE_MIN_FILTER,i.NEAREST),i.texParameteri(te,i.TEXTURE_MAG_FILTER,i.NEAREST);for(let $e=0;$e<He;$e++)te===i.TEXTURE_3D||te===i.TEXTURE_2D_ARRAY?i.texImage3D(ot,0,i.RGBA,1,1,it,0,i.RGBA,i.UNSIGNED_BYTE,Fe):i.texImage2D(ot+$e,0,i.RGBA,1,1,0,i.RGBA,i.UNSIGNED_BYTE,Fe);return Ue}const de={};de[i.TEXTURE_2D]=Je(i.TEXTURE_2D,i.TEXTURE_2D,1),de[i.TEXTURE_CUBE_MAP]=Je(i.TEXTURE_CUBE_MAP,i.TEXTURE_CUBE_MAP_POSITIVE_X,6),de[i.TEXTURE_2D_ARRAY]=Je(i.TEXTURE_2D_ARRAY,i.TEXTURE_2D_ARRAY,1,1),de[i.TEXTURE_3D]=Je(i.TEXTURE_3D,i.TEXTURE_3D,1,1),a.setClear(0,0,0,1),l.setClear(1),u.setClear(0),xe(i.DEPTH_TEST),l.setFunc(id),Oe(!1),re(rM),xe(i.CULL_FACE),Ce(io);function xe(te){v[te]!==!0&&(i.enable(te),v[te]=!0)}function qe(te){v[te]!==!1&&(i.disable(te),v[te]=!1)}function Ze(te,ot){return _[te]!==ot?(i.bindFramebuffer(te,ot),_[te]=ot,te===i.DRAW_FRAMEBUFFER&&(_[i.FRAMEBUFFER]=ot),te===i.FRAMEBUFFER&&(_[i.DRAW_FRAMEBUFFER]=ot),!0):!1}function ct(te,ot){let He=x,it=!1;if(te){He=y.get(ot),He===void 0&&(He=[],y.set(ot,He));const Fe=te.textures;if(He.length!==Fe.length||He[0]!==i.COLOR_ATTACHMENT0){for(let Ue=0,$e=Fe.length;Ue<$e;Ue++)He[Ue]=i.COLOR_ATTACHMENT0+Ue;He.length=Fe.length,it=!0}}else He[0]!==i.BACK&&(He[0]=i.BACK,it=!0);it&&i.drawBuffers(He)}function Pt(te){return M!==te?(i.useProgram(te),M=te,!0):!1}const Bt={[lf]:i.FUNC_ADD,[EA]:i.FUNC_SUBTRACT,[AA]:i.FUNC_REVERSE_SUBTRACT};Bt[wA]=i.MIN,Bt[CA]=i.MAX;const rt={[RA]:i.ZERO,[DA]:i.ONE,[NA]:i.SRC_COLOR,[Kx]:i.SRC_ALPHA,[zA]:i.SRC_ALPHA_SATURATE,[PA]:i.DST_COLOR,[OA]:i.DST_ALPHA,[LA]:i.ONE_MINUS_SRC_COLOR,[Jx]:i.ONE_MINUS_SRC_ALPHA,[IA]:i.ONE_MINUS_DST_COLOR,[UA]:i.ONE_MINUS_DST_ALPHA,[BA]:i.CONSTANT_COLOR,[FA]:i.ONE_MINUS_CONSTANT_COLOR,[kA]:i.CONSTANT_ALPHA,[VA]:i.ONE_MINUS_CONSTANT_ALPHA};function Ce(te,ot,He,it,Fe,Ue,$e,Ut,un,pt){if(te===io){E===!0&&(qe(i.BLEND),E=!1);return}if(E===!1&&(xe(i.BLEND),E=!0),te!==TA){if(te!==A||pt!==O){if((T!==lf||N!==lf)&&(i.blendEquation(i.FUNC_ADD),T=lf,N=lf),pt)switch(te){case qh:i.blendFuncSeparate(i.ONE,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA);break;case sM:i.blendFunc(i.ONE,i.ONE);break;case aM:i.blendFuncSeparate(i.ZERO,i.ONE_MINUS_SRC_COLOR,i.ZERO,i.ONE);break;case oM:i.blendFuncSeparate(i.DST_COLOR,i.ONE_MINUS_SRC_ALPHA,i.ZERO,i.ONE);break;default:It("WebGLState: Invalid blending: ",te);break}else switch(te){case qh:i.blendFuncSeparate(i.SRC_ALPHA,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA);break;case sM:i.blendFuncSeparate(i.SRC_ALPHA,i.ONE,i.ONE,i.ONE);break;case aM:It("WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case oM:It("WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:It("WebGLState: Invalid blending: ",te);break}R=null,D=null,U=null,I=null,B.set(0,0,0),k=0,A=te,O=pt}return}Fe=Fe||ot,Ue=Ue||He,$e=$e||it,(ot!==T||Fe!==N)&&(i.blendEquationSeparate(Bt[ot],Bt[Fe]),T=ot,N=Fe),(He!==R||it!==D||Ue!==U||$e!==I)&&(i.blendFuncSeparate(rt[He],rt[it],rt[Ue],rt[$e]),R=He,D=it,U=Ue,I=$e),(Ut.equals(B)===!1||un!==k)&&(i.blendColor(Ut.r,Ut.g,Ut.b,un),B.copy(Ut),k=un),A=te,O=!1}function Be(te,ot){te.side===Na?qe(i.CULL_FACE):xe(i.CULL_FACE);let He=te.side===Wr;ot&&(He=!He),Oe(He),te.blending===qh&&te.transparent===!1?Ce(io):Ce(te.blending,te.blendEquation,te.blendSrc,te.blendDst,te.blendEquationAlpha,te.blendSrcAlpha,te.blendDstAlpha,te.blendColor,te.blendAlpha,te.premultipliedAlpha),l.setFunc(te.depthFunc),l.setTest(te.depthTest),l.setMask(te.depthWrite),a.setMask(te.colorWrite);const it=te.stencilWrite;u.setTest(it),it&&(u.setMask(te.stencilWriteMask),u.setFunc(te.stencilFunc,te.stencilRef,te.stencilFuncMask),u.setOp(te.stencilFail,te.stencilZFail,te.stencilZPass)),Tt(te.polygonOffset,te.polygonOffsetFactor,te.polygonOffsetUnits),te.alphaToCoverage===!0?xe(i.SAMPLE_ALPHA_TO_COVERAGE):qe(i.SAMPLE_ALPHA_TO_COVERAGE)}function Oe(te){P!==te&&(te?i.frontFace(i.CW):i.frontFace(i.CCW),P=te)}function re(te){te!==bA?(xe(i.CULL_FACE),te!==W&&(te===rM?i.cullFace(i.BACK):te===SA?i.cullFace(i.FRONT):i.cullFace(i.FRONT_AND_BACK))):qe(i.CULL_FACE),W=te}function K(te){te!==Z&&(Y&&i.lineWidth(te),Z=te)}function Tt(te,ot,He){te?(xe(i.POLYGON_OFFSET_FILL),(J!==ot||ee!==He)&&(i.polygonOffset(ot,He),J=ot,ee=He)):qe(i.POLYGON_OFFSET_FILL)}function nt(te){te?xe(i.SCISSOR_TEST):qe(i.SCISSOR_TEST)}function ut(te){te===void 0&&(te=i.TEXTURE0+se-1),ye!==te&&(i.activeTexture(te),ye=te)}function Ye(te,ot,He){He===void 0&&(ye===null?He=i.TEXTURE0+se-1:He=ye);let it=j[He];it===void 0&&(it={type:void 0,texture:void 0},j[He]=it),(it.type!==te||it.texture!==ot)&&(ye!==He&&(i.activeTexture(He),ye=He),i.bindTexture(te,ot||de[te]),it.type=te,it.texture=ot)}function q(){const te=j[ye];te!==void 0&&te.type!==void 0&&(i.bindTexture(te.type,null),te.type=void 0,te.texture=void 0)}function F(){try{i.compressedTexImage2D(...arguments)}catch(te){It("WebGLState:",te)}}function ae(){try{i.compressedTexImage3D(...arguments)}catch(te){It("WebGLState:",te)}}function Ae(){try{i.texSubImage2D(...arguments)}catch(te){It("WebGLState:",te)}}function Ne(){try{i.texSubImage3D(...arguments)}catch(te){It("WebGLState:",te)}}function Me(){try{i.compressedTexSubImage2D(...arguments)}catch(te){It("WebGLState:",te)}}function at(){try{i.compressedTexSubImage3D(...arguments)}catch(te){It("WebGLState:",te)}}function Qe(){try{i.texStorage2D(...arguments)}catch(te){It("WebGLState:",te)}}function bt(){try{i.texStorage3D(...arguments)}catch(te){It("WebGLState:",te)}}function xt(){try{i.texImage2D(...arguments)}catch(te){It("WebGLState:",te)}}function Ve(){try{i.texImage3D(...arguments)}catch(te){It("WebGLState:",te)}}function We(te){Se.equals(te)===!1&&(i.scissor(te.x,te.y,te.z,te.w),Se.copy(te))}function ht(te){Le.equals(te)===!1&&(i.viewport(te.x,te.y,te.z,te.w),Le.copy(te))}function ft(te,ot){let He=p.get(ot);He===void 0&&(He=new WeakMap,p.set(ot,He));let it=He.get(te);it===void 0&&(it=i.getUniformBlockIndex(ot,te.name),He.set(te,it))}function et(te,ot){const it=p.get(ot).get(te);d.get(ot)!==it&&(i.uniformBlockBinding(ot,it,te.__bindingPointIndex),d.set(ot,it))}function qt(){i.disable(i.BLEND),i.disable(i.CULL_FACE),i.disable(i.DEPTH_TEST),i.disable(i.POLYGON_OFFSET_FILL),i.disable(i.SCISSOR_TEST),i.disable(i.STENCIL_TEST),i.disable(i.SAMPLE_ALPHA_TO_COVERAGE),i.blendEquation(i.FUNC_ADD),i.blendFunc(i.ONE,i.ZERO),i.blendFuncSeparate(i.ONE,i.ZERO,i.ONE,i.ZERO),i.blendColor(0,0,0,0),i.colorMask(!0,!0,!0,!0),i.clearColor(0,0,0,0),i.depthMask(!0),i.depthFunc(i.LESS),l.setReversed(!1),i.clearDepth(1),i.stencilMask(4294967295),i.stencilFunc(i.ALWAYS,0,4294967295),i.stencilOp(i.KEEP,i.KEEP,i.KEEP),i.clearStencil(0),i.cullFace(i.BACK),i.frontFace(i.CCW),i.polygonOffset(0,0),i.activeTexture(i.TEXTURE0),i.bindFramebuffer(i.FRAMEBUFFER,null),i.bindFramebuffer(i.DRAW_FRAMEBUFFER,null),i.bindFramebuffer(i.READ_FRAMEBUFFER,null),i.useProgram(null),i.lineWidth(1),i.scissor(0,0,i.canvas.width,i.canvas.height),i.viewport(0,0,i.canvas.width,i.canvas.height),v={},ye=null,j={},_={},y=new WeakMap,x=[],M=null,E=!1,A=null,T=null,R=null,D=null,N=null,U=null,I=null,B=new Mt(0,0,0),k=0,O=!1,P=null,W=null,Z=null,J=null,ee=null,Se.set(0,0,i.canvas.width,i.canvas.height),Le.set(0,0,i.canvas.width,i.canvas.height),a.reset(),l.reset(),u.reset()}return{buffers:{color:a,depth:l,stencil:u},enable:xe,disable:qe,bindFramebuffer:Ze,drawBuffers:ct,useProgram:Pt,setBlending:Ce,setMaterial:Be,setFlipSided:Oe,setCullFace:re,setLineWidth:K,setPolygonOffset:Tt,setScissorTest:nt,activeTexture:ut,bindTexture:Ye,unbindTexture:q,compressedTexImage2D:F,compressedTexImage3D:ae,texImage2D:xt,texImage3D:Ve,updateUBOMapping:ft,uniformBlockBinding:et,texStorage2D:Qe,texStorage3D:bt,texSubImage2D:Ae,texSubImage3D:Ne,compressedTexSubImage2D:Me,compressedTexSubImage3D:at,scissor:We,viewport:ht,reset:qt}}function LP(i,e,t,n,r,a,l){const u=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,d=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),p=new Ie,v=new WeakMap;let _;const y=new WeakMap;let x=!1;try{x=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function M(q,F){return x?new OffscreenCanvas(q,F):gg("canvas")}function E(q,F,ae){let Ae=1;const Ne=Ye(q);if((Ne.width>ae||Ne.height>ae)&&(Ae=ae/Math.max(Ne.width,Ne.height)),Ae<1)if(typeof HTMLImageElement<"u"&&q instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&q instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&q instanceof ImageBitmap||typeof VideoFrame<"u"&&q instanceof VideoFrame){const Me=Math.floor(Ae*Ne.width),at=Math.floor(Ae*Ne.height);_===void 0&&(_=M(Me,at));const Qe=F?M(Me,at):_;return Qe.width=Me,Qe.height=at,Qe.getContext("2d").drawImage(q,0,0,Me,at),_t("WebGLRenderer: Texture has been resized from ("+Ne.width+"x"+Ne.height+") to ("+Me+"x"+at+")."),Qe}else return"data"in q&&_t("WebGLRenderer: Image in DataTexture is too big ("+Ne.width+"x"+Ne.height+")."),q;return q}function A(q){return q.generateMipmaps}function T(q){i.generateMipmap(q)}function R(q){return q.isWebGLCubeRenderTarget?i.TEXTURE_CUBE_MAP:q.isWebGL3DRenderTarget?i.TEXTURE_3D:q.isWebGLArrayRenderTarget||q.isCompressedArrayTexture?i.TEXTURE_2D_ARRAY:i.TEXTURE_2D}function D(q,F,ae,Ae,Ne=!1){if(q!==null){if(i[q]!==void 0)return i[q];_t("WebGLRenderer: Attempt to use non-existing WebGL internal format '"+q+"'")}let Me=F;if(F===i.RED&&(ae===i.FLOAT&&(Me=i.R32F),ae===i.HALF_FLOAT&&(Me=i.R16F),ae===i.UNSIGNED_BYTE&&(Me=i.R8)),F===i.RED_INTEGER&&(ae===i.UNSIGNED_BYTE&&(Me=i.R8UI),ae===i.UNSIGNED_SHORT&&(Me=i.R16UI),ae===i.UNSIGNED_INT&&(Me=i.R32UI),ae===i.BYTE&&(Me=i.R8I),ae===i.SHORT&&(Me=i.R16I),ae===i.INT&&(Me=i.R32I)),F===i.RG&&(ae===i.FLOAT&&(Me=i.RG32F),ae===i.HALF_FLOAT&&(Me=i.RG16F),ae===i.UNSIGNED_BYTE&&(Me=i.RG8)),F===i.RG_INTEGER&&(ae===i.UNSIGNED_BYTE&&(Me=i.RG8UI),ae===i.UNSIGNED_SHORT&&(Me=i.RG16UI),ae===i.UNSIGNED_INT&&(Me=i.RG32UI),ae===i.BYTE&&(Me=i.RG8I),ae===i.SHORT&&(Me=i.RG16I),ae===i.INT&&(Me=i.RG32I)),F===i.RGB_INTEGER&&(ae===i.UNSIGNED_BYTE&&(Me=i.RGB8UI),ae===i.UNSIGNED_SHORT&&(Me=i.RGB16UI),ae===i.UNSIGNED_INT&&(Me=i.RGB32UI),ae===i.BYTE&&(Me=i.RGB8I),ae===i.SHORT&&(Me=i.RGB16I),ae===i.INT&&(Me=i.RGB32I)),F===i.RGBA_INTEGER&&(ae===i.UNSIGNED_BYTE&&(Me=i.RGBA8UI),ae===i.UNSIGNED_SHORT&&(Me=i.RGBA16UI),ae===i.UNSIGNED_INT&&(Me=i.RGBA32UI),ae===i.BYTE&&(Me=i.RGBA8I),ae===i.SHORT&&(Me=i.RGBA16I),ae===i.INT&&(Me=i.RGBA32I)),F===i.RGB&&(ae===i.UNSIGNED_INT_5_9_9_9_REV&&(Me=i.RGB9_E5),ae===i.UNSIGNED_INT_10F_11F_11F_REV&&(Me=i.R11F_G11F_B10F)),F===i.RGBA){const at=Ne?pg:Bn.getTransfer(Ae);ae===i.FLOAT&&(Me=i.RGBA32F),ae===i.HALF_FLOAT&&(Me=i.RGBA16F),ae===i.UNSIGNED_BYTE&&(Me=at===ai?i.SRGB8_ALPHA8:i.RGBA8),ae===i.UNSIGNED_SHORT_4_4_4_4&&(Me=i.RGBA4),ae===i.UNSIGNED_SHORT_5_5_5_1&&(Me=i.RGB5_A1)}return(Me===i.R16F||Me===i.R32F||Me===i.RG16F||Me===i.RG32F||Me===i.RGBA16F||Me===i.RGBA32F)&&e.get("EXT_color_buffer_float"),Me}function N(q,F){let ae;return q?F===null||F===oo||F===rd?ae=i.DEPTH24_STENCIL8:F===Ps?ae=i.DEPTH32F_STENCIL8:F===g0&&(ae=i.DEPTH24_STENCIL8,_t("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):F===null||F===oo||F===rd?ae=i.DEPTH_COMPONENT24:F===Ps?ae=i.DEPTH_COMPONENT32F:F===g0&&(ae=i.DEPTH_COMPONENT16),ae}function U(q,F){return A(q)===!0||q.isFramebufferTexture&&q.minFilter!==Fi&&q.minFilter!==hi?Math.log2(Math.max(F.width,F.height))+1:q.mipmaps!==void 0&&q.mipmaps.length>0?q.mipmaps.length:q.isCompressedTexture&&Array.isArray(q.image)?F.mipmaps.length:1}function I(q){const F=q.target;F.removeEventListener("dispose",I),k(F),F.isVideoTexture&&v.delete(F)}function B(q){const F=q.target;F.removeEventListener("dispose",B),P(F)}function k(q){const F=n.get(q);if(F.__webglInit===void 0)return;const ae=q.source,Ae=y.get(ae);if(Ae){const Ne=Ae[F.__cacheKey];Ne.usedTimes--,Ne.usedTimes===0&&O(q),Object.keys(Ae).length===0&&y.delete(ae)}n.remove(q)}function O(q){const F=n.get(q);i.deleteTexture(F.__webglTexture);const ae=q.source,Ae=y.get(ae);delete Ae[F.__cacheKey],l.memory.textures--}function P(q){const F=n.get(q);if(q.depthTexture&&(q.depthTexture.dispose(),n.remove(q.depthTexture)),q.isWebGLCubeRenderTarget)for(let Ae=0;Ae<6;Ae++){if(Array.isArray(F.__webglFramebuffer[Ae]))for(let Ne=0;Ne<F.__webglFramebuffer[Ae].length;Ne++)i.deleteFramebuffer(F.__webglFramebuffer[Ae][Ne]);else i.deleteFramebuffer(F.__webglFramebuffer[Ae]);F.__webglDepthbuffer&&i.deleteRenderbuffer(F.__webglDepthbuffer[Ae])}else{if(Array.isArray(F.__webglFramebuffer))for(let Ae=0;Ae<F.__webglFramebuffer.length;Ae++)i.deleteFramebuffer(F.__webglFramebuffer[Ae]);else i.deleteFramebuffer(F.__webglFramebuffer);if(F.__webglDepthbuffer&&i.deleteRenderbuffer(F.__webglDepthbuffer),F.__webglMultisampledFramebuffer&&i.deleteFramebuffer(F.__webglMultisampledFramebuffer),F.__webglColorRenderbuffer)for(let Ae=0;Ae<F.__webglColorRenderbuffer.length;Ae++)F.__webglColorRenderbuffer[Ae]&&i.deleteRenderbuffer(F.__webglColorRenderbuffer[Ae]);F.__webglDepthRenderbuffer&&i.deleteRenderbuffer(F.__webglDepthRenderbuffer)}const ae=q.textures;for(let Ae=0,Ne=ae.length;Ae<Ne;Ae++){const Me=n.get(ae[Ae]);Me.__webglTexture&&(i.deleteTexture(Me.__webglTexture),l.memory.textures--),n.remove(ae[Ae])}n.remove(q)}let W=0;function Z(){W=0}function J(){const q=W;return q>=r.maxTextures&&_t("WebGLTextures: Trying to use "+q+" texture units while this GPU supports only "+r.maxTextures),W+=1,q}function ee(q){const F=[];return F.push(q.wrapS),F.push(q.wrapT),F.push(q.wrapR||0),F.push(q.magFilter),F.push(q.minFilter),F.push(q.anisotropy),F.push(q.internalFormat),F.push(q.format),F.push(q.type),F.push(q.generateMipmaps),F.push(q.premultiplyAlpha),F.push(q.flipY),F.push(q.unpackAlignment),F.push(q.colorSpace),F.join()}function se(q,F){const ae=n.get(q);if(q.isVideoTexture&&nt(q),q.isRenderTargetTexture===!1&&q.isExternalTexture!==!0&&q.version>0&&ae.__version!==q.version){const Ae=q.image;if(Ae===null)_t("WebGLRenderer: Texture marked for update but no image data found.");else if(Ae.complete===!1)_t("WebGLRenderer: Texture marked for update but image is incomplete");else{de(ae,q,F);return}}else q.isExternalTexture&&(ae.__webglTexture=q.sourceTexture?q.sourceTexture:null);t.bindTexture(i.TEXTURE_2D,ae.__webglTexture,i.TEXTURE0+F)}function Y(q,F){const ae=n.get(q);if(q.isRenderTargetTexture===!1&&q.version>0&&ae.__version!==q.version){de(ae,q,F);return}else q.isExternalTexture&&(ae.__webglTexture=q.sourceTexture?q.sourceTexture:null);t.bindTexture(i.TEXTURE_2D_ARRAY,ae.__webglTexture,i.TEXTURE0+F)}function Q(q,F){const ae=n.get(q);if(q.isRenderTargetTexture===!1&&q.version>0&&ae.__version!==q.version){de(ae,q,F);return}t.bindTexture(i.TEXTURE_3D,ae.__webglTexture,i.TEXTURE0+F)}function ue(q,F){const ae=n.get(q);if(q.isCubeDepthTexture!==!0&&q.version>0&&ae.__version!==q.version){xe(ae,q,F);return}t.bindTexture(i.TEXTURE_CUBE_MAP,ae.__webglTexture,i.TEXTURE0+F)}const ye={[ug]:i.REPEAT,[La]:i.CLAMP_TO_EDGE,[fg]:i.MIRRORED_REPEAT},j={[Fi]:i.NEAREST,[c4]:i.NEAREST_MIPMAP_NEAREST,[t0]:i.NEAREST_MIPMAP_LINEAR,[hi]:i.LINEAR,[z1]:i.LINEAR_MIPMAP_NEAREST,[ic]:i.LINEAR_MIPMAP_LINEAR},X={[ZA]:i.NEVER,[ew]:i.ALWAYS,[QA]:i.LESS,[m3]:i.LEQUAL,[KA]:i.EQUAL,[g3]:i.GEQUAL,[JA]:i.GREATER,[$A]:i.NOTEQUAL};function ce(q,F){if(F.type===Ps&&e.has("OES_texture_float_linear")===!1&&(F.magFilter===hi||F.magFilter===z1||F.magFilter===t0||F.magFilter===ic||F.minFilter===hi||F.minFilter===z1||F.minFilter===t0||F.minFilter===ic)&&_t("WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),i.texParameteri(q,i.TEXTURE_WRAP_S,ye[F.wrapS]),i.texParameteri(q,i.TEXTURE_WRAP_T,ye[F.wrapT]),(q===i.TEXTURE_3D||q===i.TEXTURE_2D_ARRAY)&&i.texParameteri(q,i.TEXTURE_WRAP_R,ye[F.wrapR]),i.texParameteri(q,i.TEXTURE_MAG_FILTER,j[F.magFilter]),i.texParameteri(q,i.TEXTURE_MIN_FILTER,j[F.minFilter]),F.compareFunction&&(i.texParameteri(q,i.TEXTURE_COMPARE_MODE,i.COMPARE_REF_TO_TEXTURE),i.texParameteri(q,i.TEXTURE_COMPARE_FUNC,X[F.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(F.magFilter===Fi||F.minFilter!==t0&&F.minFilter!==ic||F.type===Ps&&e.has("OES_texture_float_linear")===!1)return;if(F.anisotropy>1||n.get(F).__currentAnisotropy){const ae=e.get("EXT_texture_filter_anisotropic");i.texParameterf(q,ae.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(F.anisotropy,r.getMaxAnisotropy())),n.get(F).__currentAnisotropy=F.anisotropy}}}function Se(q,F){let ae=!1;q.__webglInit===void 0&&(q.__webglInit=!0,F.addEventListener("dispose",I));const Ae=F.source;let Ne=y.get(Ae);Ne===void 0&&(Ne={},y.set(Ae,Ne));const Me=ee(F);if(Me!==q.__cacheKey){Ne[Me]===void 0&&(Ne[Me]={texture:i.createTexture(),usedTimes:0},l.memory.textures++,ae=!0),Ne[Me].usedTimes++;const at=Ne[q.__cacheKey];at!==void 0&&(Ne[q.__cacheKey].usedTimes--,at.usedTimes===0&&O(F)),q.__cacheKey=Me,q.__webglTexture=Ne[Me].texture}return ae}function Le(q,F,ae){return Math.floor(Math.floor(q/ae)/F)}function Je(q,F,ae,Ae){const Me=q.updateRanges;if(Me.length===0)t.texSubImage2D(i.TEXTURE_2D,0,0,0,F.width,F.height,ae,Ae,F.data);else{Me.sort((Ve,We)=>Ve.start-We.start);let at=0;for(let Ve=1;Ve<Me.length;Ve++){const We=Me[at],ht=Me[Ve],ft=We.start+We.count,et=Le(ht.start,F.width,4),qt=Le(We.start,F.width,4);ht.start<=ft+1&&et===qt&&Le(ht.start+ht.count-1,F.width,4)===et?We.count=Math.max(We.count,ht.start+ht.count-We.start):(++at,Me[at]=ht)}Me.length=at+1;const Qe=i.getParameter(i.UNPACK_ROW_LENGTH),bt=i.getParameter(i.UNPACK_SKIP_PIXELS),xt=i.getParameter(i.UNPACK_SKIP_ROWS);i.pixelStorei(i.UNPACK_ROW_LENGTH,F.width);for(let Ve=0,We=Me.length;Ve<We;Ve++){const ht=Me[Ve],ft=Math.floor(ht.start/4),et=Math.ceil(ht.count/4),qt=ft%F.width,te=Math.floor(ft/F.width),ot=et,He=1;i.pixelStorei(i.UNPACK_SKIP_PIXELS,qt),i.pixelStorei(i.UNPACK_SKIP_ROWS,te),t.texSubImage2D(i.TEXTURE_2D,0,qt,te,ot,He,ae,Ae,F.data)}q.clearUpdateRanges(),i.pixelStorei(i.UNPACK_ROW_LENGTH,Qe),i.pixelStorei(i.UNPACK_SKIP_PIXELS,bt),i.pixelStorei(i.UNPACK_SKIP_ROWS,xt)}}function de(q,F,ae){let Ae=i.TEXTURE_2D;(F.isDataArrayTexture||F.isCompressedArrayTexture)&&(Ae=i.TEXTURE_2D_ARRAY),F.isData3DTexture&&(Ae=i.TEXTURE_3D);const Ne=Se(q,F),Me=F.source;t.bindTexture(Ae,q.__webglTexture,i.TEXTURE0+ae);const at=n.get(Me);if(Me.version!==at.__version||Ne===!0){t.activeTexture(i.TEXTURE0+ae);const Qe=Bn.getPrimaries(Bn.workingColorSpace),bt=F.colorSpace===pl?null:Bn.getPrimaries(F.colorSpace),xt=F.colorSpace===pl||Qe===bt?i.NONE:i.BROWSER_DEFAULT_WEBGL;i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,F.flipY),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,F.premultiplyAlpha),i.pixelStorei(i.UNPACK_ALIGNMENT,F.unpackAlignment),i.pixelStorei(i.UNPACK_COLORSPACE_CONVERSION_WEBGL,xt);let Ve=E(F.image,!1,r.maxTextureSize);Ve=ut(F,Ve);const We=a.convert(F.format,F.colorSpace),ht=a.convert(F.type);let ft=D(F.internalFormat,We,ht,F.colorSpace,F.isVideoTexture);ce(Ae,F);let et;const qt=F.mipmaps,te=F.isVideoTexture!==!0,ot=at.__version===void 0||Ne===!0,He=Me.dataReady,it=U(F,Ve);if(F.isDepthTexture)ft=N(F.format===tu,F.type),ot&&(te?t.texStorage2D(i.TEXTURE_2D,1,ft,Ve.width,Ve.height):t.texImage2D(i.TEXTURE_2D,0,ft,Ve.width,Ve.height,0,We,ht,null));else if(F.isDataTexture)if(qt.length>0){te&&ot&&t.texStorage2D(i.TEXTURE_2D,it,ft,qt[0].width,qt[0].height);for(let Fe=0,Ue=qt.length;Fe<Ue;Fe++)et=qt[Fe],te?He&&t.texSubImage2D(i.TEXTURE_2D,Fe,0,0,et.width,et.height,We,ht,et.data):t.texImage2D(i.TEXTURE_2D,Fe,ft,et.width,et.height,0,We,ht,et.data);F.generateMipmaps=!1}else te?(ot&&t.texStorage2D(i.TEXTURE_2D,it,ft,Ve.width,Ve.height),He&&Je(F,Ve,We,ht)):t.texImage2D(i.TEXTURE_2D,0,ft,Ve.width,Ve.height,0,We,ht,Ve.data);else if(F.isCompressedTexture)if(F.isCompressedArrayTexture){te&&ot&&t.texStorage3D(i.TEXTURE_2D_ARRAY,it,ft,qt[0].width,qt[0].height,Ve.depth);for(let Fe=0,Ue=qt.length;Fe<Ue;Fe++)if(et=qt[Fe],F.format!==Is)if(We!==null)if(te){if(He)if(F.layerUpdates.size>0){const $e=vM(et.width,et.height,F.format,F.type);for(const Ut of F.layerUpdates){const un=et.data.subarray(Ut*$e/et.data.BYTES_PER_ELEMENT,(Ut+1)*$e/et.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(i.TEXTURE_2D_ARRAY,Fe,0,0,Ut,et.width,et.height,1,We,un)}F.clearLayerUpdates()}else t.compressedTexSubImage3D(i.TEXTURE_2D_ARRAY,Fe,0,0,0,et.width,et.height,Ve.depth,We,et.data)}else t.compressedTexImage3D(i.TEXTURE_2D_ARRAY,Fe,ft,et.width,et.height,Ve.depth,0,et.data,0,0);else _t("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else te?He&&t.texSubImage3D(i.TEXTURE_2D_ARRAY,Fe,0,0,0,et.width,et.height,Ve.depth,We,ht,et.data):t.texImage3D(i.TEXTURE_2D_ARRAY,Fe,ft,et.width,et.height,Ve.depth,0,We,ht,et.data)}else{te&&ot&&t.texStorage2D(i.TEXTURE_2D,it,ft,qt[0].width,qt[0].height);for(let Fe=0,Ue=qt.length;Fe<Ue;Fe++)et=qt[Fe],F.format!==Is?We!==null?te?He&&t.compressedTexSubImage2D(i.TEXTURE_2D,Fe,0,0,et.width,et.height,We,et.data):t.compressedTexImage2D(i.TEXTURE_2D,Fe,ft,et.width,et.height,0,et.data):_t("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):te?He&&t.texSubImage2D(i.TEXTURE_2D,Fe,0,0,et.width,et.height,We,ht,et.data):t.texImage2D(i.TEXTURE_2D,Fe,ft,et.width,et.height,0,We,ht,et.data)}else if(F.isDataArrayTexture)if(te){if(ot&&t.texStorage3D(i.TEXTURE_2D_ARRAY,it,ft,Ve.width,Ve.height,Ve.depth),He)if(F.layerUpdates.size>0){const Fe=vM(Ve.width,Ve.height,F.format,F.type);for(const Ue of F.layerUpdates){const $e=Ve.data.subarray(Ue*Fe/Ve.data.BYTES_PER_ELEMENT,(Ue+1)*Fe/Ve.data.BYTES_PER_ELEMENT);t.texSubImage3D(i.TEXTURE_2D_ARRAY,0,0,0,Ue,Ve.width,Ve.height,1,We,ht,$e)}F.clearLayerUpdates()}else t.texSubImage3D(i.TEXTURE_2D_ARRAY,0,0,0,0,Ve.width,Ve.height,Ve.depth,We,ht,Ve.data)}else t.texImage3D(i.TEXTURE_2D_ARRAY,0,ft,Ve.width,Ve.height,Ve.depth,0,We,ht,Ve.data);else if(F.isData3DTexture)te?(ot&&t.texStorage3D(i.TEXTURE_3D,it,ft,Ve.width,Ve.height,Ve.depth),He&&t.texSubImage3D(i.TEXTURE_3D,0,0,0,0,Ve.width,Ve.height,Ve.depth,We,ht,Ve.data)):t.texImage3D(i.TEXTURE_3D,0,ft,Ve.width,Ve.height,Ve.depth,0,We,ht,Ve.data);else if(F.isFramebufferTexture){if(ot)if(te)t.texStorage2D(i.TEXTURE_2D,it,ft,Ve.width,Ve.height);else{let Fe=Ve.width,Ue=Ve.height;for(let $e=0;$e<it;$e++)t.texImage2D(i.TEXTURE_2D,$e,ft,Fe,Ue,0,We,ht,null),Fe>>=1,Ue>>=1}}else if(qt.length>0){if(te&&ot){const Fe=Ye(qt[0]);t.texStorage2D(i.TEXTURE_2D,it,ft,Fe.width,Fe.height)}for(let Fe=0,Ue=qt.length;Fe<Ue;Fe++)et=qt[Fe],te?He&&t.texSubImage2D(i.TEXTURE_2D,Fe,0,0,We,ht,et):t.texImage2D(i.TEXTURE_2D,Fe,ft,We,ht,et);F.generateMipmaps=!1}else if(te){if(ot){const Fe=Ye(Ve);t.texStorage2D(i.TEXTURE_2D,it,ft,Fe.width,Fe.height)}He&&t.texSubImage2D(i.TEXTURE_2D,0,0,0,We,ht,Ve)}else t.texImage2D(i.TEXTURE_2D,0,ft,We,ht,Ve);A(F)&&T(Ae),at.__version=Me.version,F.onUpdate&&F.onUpdate(F)}q.__version=F.version}function xe(q,F,ae){if(F.image.length!==6)return;const Ae=Se(q,F),Ne=F.source;t.bindTexture(i.TEXTURE_CUBE_MAP,q.__webglTexture,i.TEXTURE0+ae);const Me=n.get(Ne);if(Ne.version!==Me.__version||Ae===!0){t.activeTexture(i.TEXTURE0+ae);const at=Bn.getPrimaries(Bn.workingColorSpace),Qe=F.colorSpace===pl?null:Bn.getPrimaries(F.colorSpace),bt=F.colorSpace===pl||at===Qe?i.NONE:i.BROWSER_DEFAULT_WEBGL;i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,F.flipY),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,F.premultiplyAlpha),i.pixelStorei(i.UNPACK_ALIGNMENT,F.unpackAlignment),i.pixelStorei(i.UNPACK_COLORSPACE_CONVERSION_WEBGL,bt);const xt=F.isCompressedTexture||F.image[0].isCompressedTexture,Ve=F.image[0]&&F.image[0].isDataTexture,We=[];for(let Ue=0;Ue<6;Ue++)!xt&&!Ve?We[Ue]=E(F.image[Ue],!0,r.maxCubemapSize):We[Ue]=Ve?F.image[Ue].image:F.image[Ue],We[Ue]=ut(F,We[Ue]);const ht=We[0],ft=a.convert(F.format,F.colorSpace),et=a.convert(F.type),qt=D(F.internalFormat,ft,et,F.colorSpace),te=F.isVideoTexture!==!0,ot=Me.__version===void 0||Ae===!0,He=Ne.dataReady;let it=U(F,ht);ce(i.TEXTURE_CUBE_MAP,F);let Fe;if(xt){te&&ot&&t.texStorage2D(i.TEXTURE_CUBE_MAP,it,qt,ht.width,ht.height);for(let Ue=0;Ue<6;Ue++){Fe=We[Ue].mipmaps;for(let $e=0;$e<Fe.length;$e++){const Ut=Fe[$e];F.format!==Is?ft!==null?te?He&&t.compressedTexSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ue,$e,0,0,Ut.width,Ut.height,ft,Ut.data):t.compressedTexImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ue,$e,qt,Ut.width,Ut.height,0,Ut.data):_t("WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):te?He&&t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ue,$e,0,0,Ut.width,Ut.height,ft,et,Ut.data):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ue,$e,qt,Ut.width,Ut.height,0,ft,et,Ut.data)}}}else{if(Fe=F.mipmaps,te&&ot){Fe.length>0&&it++;const Ue=Ye(We[0]);t.texStorage2D(i.TEXTURE_CUBE_MAP,it,qt,Ue.width,Ue.height)}for(let Ue=0;Ue<6;Ue++)if(Ve){te?He&&t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ue,0,0,0,We[Ue].width,We[Ue].height,ft,et,We[Ue].data):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ue,0,qt,We[Ue].width,We[Ue].height,0,ft,et,We[Ue].data);for(let $e=0;$e<Fe.length;$e++){const un=Fe[$e].image[Ue].image;te?He&&t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ue,$e+1,0,0,un.width,un.height,ft,et,un.data):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ue,$e+1,qt,un.width,un.height,0,ft,et,un.data)}}else{te?He&&t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ue,0,0,0,ft,et,We[Ue]):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ue,0,qt,ft,et,We[Ue]);for(let $e=0;$e<Fe.length;$e++){const Ut=Fe[$e];te?He&&t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ue,$e+1,0,0,ft,et,Ut.image[Ue]):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ue,$e+1,qt,ft,et,Ut.image[Ue])}}}A(F)&&T(i.TEXTURE_CUBE_MAP),Me.__version=Ne.version,F.onUpdate&&F.onUpdate(F)}q.__version=F.version}function qe(q,F,ae,Ae,Ne,Me){const at=a.convert(ae.format,ae.colorSpace),Qe=a.convert(ae.type),bt=D(ae.internalFormat,at,Qe,ae.colorSpace),xt=n.get(F),Ve=n.get(ae);if(Ve.__renderTarget=F,!xt.__hasExternalTextures){const We=Math.max(1,F.width>>Me),ht=Math.max(1,F.height>>Me);Ne===i.TEXTURE_3D||Ne===i.TEXTURE_2D_ARRAY?t.texImage3D(Ne,Me,bt,We,ht,F.depth,0,at,Qe,null):t.texImage2D(Ne,Me,bt,We,ht,0,at,Qe,null)}t.bindFramebuffer(i.FRAMEBUFFER,q),Tt(F)?u.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,Ae,Ne,Ve.__webglTexture,0,K(F)):(Ne===i.TEXTURE_2D||Ne>=i.TEXTURE_CUBE_MAP_POSITIVE_X&&Ne<=i.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&i.framebufferTexture2D(i.FRAMEBUFFER,Ae,Ne,Ve.__webglTexture,Me),t.bindFramebuffer(i.FRAMEBUFFER,null)}function Ze(q,F,ae){if(i.bindRenderbuffer(i.RENDERBUFFER,q),F.depthBuffer){const Ae=F.depthTexture,Ne=Ae&&Ae.isDepthTexture?Ae.type:null,Me=N(F.stencilBuffer,Ne),at=F.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT;Tt(F)?u.renderbufferStorageMultisampleEXT(i.RENDERBUFFER,K(F),Me,F.width,F.height):ae?i.renderbufferStorageMultisample(i.RENDERBUFFER,K(F),Me,F.width,F.height):i.renderbufferStorage(i.RENDERBUFFER,Me,F.width,F.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,at,i.RENDERBUFFER,q)}else{const Ae=F.textures;for(let Ne=0;Ne<Ae.length;Ne++){const Me=Ae[Ne],at=a.convert(Me.format,Me.colorSpace),Qe=a.convert(Me.type),bt=D(Me.internalFormat,at,Qe,Me.colorSpace);Tt(F)?u.renderbufferStorageMultisampleEXT(i.RENDERBUFFER,K(F),bt,F.width,F.height):ae?i.renderbufferStorageMultisample(i.RENDERBUFFER,K(F),bt,F.width,F.height):i.renderbufferStorage(i.RENDERBUFFER,bt,F.width,F.height)}}i.bindRenderbuffer(i.RENDERBUFFER,null)}function ct(q,F,ae){const Ae=F.isWebGLCubeRenderTarget===!0;if(t.bindFramebuffer(i.FRAMEBUFFER,q),!(F.depthTexture&&F.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Ne=n.get(F.depthTexture);if(Ne.__renderTarget=F,(!Ne.__webglTexture||F.depthTexture.image.width!==F.width||F.depthTexture.image.height!==F.height)&&(F.depthTexture.image.width=F.width,F.depthTexture.image.height=F.height,F.depthTexture.needsUpdate=!0),Ae){if(Ne.__webglInit===void 0&&(Ne.__webglInit=!0,F.depthTexture.addEventListener("dispose",I)),Ne.__webglTexture===void 0){Ne.__webglTexture=i.createTexture(),t.bindTexture(i.TEXTURE_CUBE_MAP,Ne.__webglTexture),ce(i.TEXTURE_CUBE_MAP,F.depthTexture);const xt=a.convert(F.depthTexture.format),Ve=a.convert(F.depthTexture.type);let We;F.depthTexture.format===fc?We=i.DEPTH_COMPONENT24:F.depthTexture.format===tu&&(We=i.DEPTH24_STENCIL8);for(let ht=0;ht<6;ht++)i.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+ht,0,We,F.width,F.height,0,xt,Ve,null)}}else se(F.depthTexture,0);const Me=Ne.__webglTexture,at=K(F),Qe=Ae?i.TEXTURE_CUBE_MAP_POSITIVE_X+ae:i.TEXTURE_2D,bt=F.depthTexture.format===tu?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT;if(F.depthTexture.format===fc)Tt(F)?u.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,bt,Qe,Me,0,at):i.framebufferTexture2D(i.FRAMEBUFFER,bt,Qe,Me,0);else if(F.depthTexture.format===tu)Tt(F)?u.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,bt,Qe,Me,0,at):i.framebufferTexture2D(i.FRAMEBUFFER,bt,Qe,Me,0);else throw new Error("Unknown depthTexture format")}function Pt(q){const F=n.get(q),ae=q.isWebGLCubeRenderTarget===!0;if(F.__boundDepthTexture!==q.depthTexture){const Ae=q.depthTexture;if(F.__depthDisposeCallback&&F.__depthDisposeCallback(),Ae){const Ne=()=>{delete F.__boundDepthTexture,delete F.__depthDisposeCallback,Ae.removeEventListener("dispose",Ne)};Ae.addEventListener("dispose",Ne),F.__depthDisposeCallback=Ne}F.__boundDepthTexture=Ae}if(q.depthTexture&&!F.__autoAllocateDepthBuffer)if(ae)for(let Ae=0;Ae<6;Ae++)ct(F.__webglFramebuffer[Ae],q,Ae);else{const Ae=q.texture.mipmaps;Ae&&Ae.length>0?ct(F.__webglFramebuffer[0],q,0):ct(F.__webglFramebuffer,q,0)}else if(ae){F.__webglDepthbuffer=[];for(let Ae=0;Ae<6;Ae++)if(t.bindFramebuffer(i.FRAMEBUFFER,F.__webglFramebuffer[Ae]),F.__webglDepthbuffer[Ae]===void 0)F.__webglDepthbuffer[Ae]=i.createRenderbuffer(),Ze(F.__webglDepthbuffer[Ae],q,!1);else{const Ne=q.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,Me=F.__webglDepthbuffer[Ae];i.bindRenderbuffer(i.RENDERBUFFER,Me),i.framebufferRenderbuffer(i.FRAMEBUFFER,Ne,i.RENDERBUFFER,Me)}}else{const Ae=q.texture.mipmaps;if(Ae&&Ae.length>0?t.bindFramebuffer(i.FRAMEBUFFER,F.__webglFramebuffer[0]):t.bindFramebuffer(i.FRAMEBUFFER,F.__webglFramebuffer),F.__webglDepthbuffer===void 0)F.__webglDepthbuffer=i.createRenderbuffer(),Ze(F.__webglDepthbuffer,q,!1);else{const Ne=q.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,Me=F.__webglDepthbuffer;i.bindRenderbuffer(i.RENDERBUFFER,Me),i.framebufferRenderbuffer(i.FRAMEBUFFER,Ne,i.RENDERBUFFER,Me)}}t.bindFramebuffer(i.FRAMEBUFFER,null)}function Bt(q,F,ae){const Ae=n.get(q);F!==void 0&&qe(Ae.__webglFramebuffer,q,q.texture,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,0),ae!==void 0&&Pt(q)}function rt(q){const F=q.texture,ae=n.get(q),Ae=n.get(F);q.addEventListener("dispose",B);const Ne=q.textures,Me=q.isWebGLCubeRenderTarget===!0,at=Ne.length>1;if(at||(Ae.__webglTexture===void 0&&(Ae.__webglTexture=i.createTexture()),Ae.__version=F.version,l.memory.textures++),Me){ae.__webglFramebuffer=[];for(let Qe=0;Qe<6;Qe++)if(F.mipmaps&&F.mipmaps.length>0){ae.__webglFramebuffer[Qe]=[];for(let bt=0;bt<F.mipmaps.length;bt++)ae.__webglFramebuffer[Qe][bt]=i.createFramebuffer()}else ae.__webglFramebuffer[Qe]=i.createFramebuffer()}else{if(F.mipmaps&&F.mipmaps.length>0){ae.__webglFramebuffer=[];for(let Qe=0;Qe<F.mipmaps.length;Qe++)ae.__webglFramebuffer[Qe]=i.createFramebuffer()}else ae.__webglFramebuffer=i.createFramebuffer();if(at)for(let Qe=0,bt=Ne.length;Qe<bt;Qe++){const xt=n.get(Ne[Qe]);xt.__webglTexture===void 0&&(xt.__webglTexture=i.createTexture(),l.memory.textures++)}if(q.samples>0&&Tt(q)===!1){ae.__webglMultisampledFramebuffer=i.createFramebuffer(),ae.__webglColorRenderbuffer=[],t.bindFramebuffer(i.FRAMEBUFFER,ae.__webglMultisampledFramebuffer);for(let Qe=0;Qe<Ne.length;Qe++){const bt=Ne[Qe];ae.__webglColorRenderbuffer[Qe]=i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,ae.__webglColorRenderbuffer[Qe]);const xt=a.convert(bt.format,bt.colorSpace),Ve=a.convert(bt.type),We=D(bt.internalFormat,xt,Ve,bt.colorSpace,q.isXRRenderTarget===!0),ht=K(q);i.renderbufferStorageMultisample(i.RENDERBUFFER,ht,We,q.width,q.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+Qe,i.RENDERBUFFER,ae.__webglColorRenderbuffer[Qe])}i.bindRenderbuffer(i.RENDERBUFFER,null),q.depthBuffer&&(ae.__webglDepthRenderbuffer=i.createRenderbuffer(),Ze(ae.__webglDepthRenderbuffer,q,!0)),t.bindFramebuffer(i.FRAMEBUFFER,null)}}if(Me){t.bindTexture(i.TEXTURE_CUBE_MAP,Ae.__webglTexture),ce(i.TEXTURE_CUBE_MAP,F);for(let Qe=0;Qe<6;Qe++)if(F.mipmaps&&F.mipmaps.length>0)for(let bt=0;bt<F.mipmaps.length;bt++)qe(ae.__webglFramebuffer[Qe][bt],q,F,i.COLOR_ATTACHMENT0,i.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,bt);else qe(ae.__webglFramebuffer[Qe],q,F,i.COLOR_ATTACHMENT0,i.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,0);A(F)&&T(i.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(at){for(let Qe=0,bt=Ne.length;Qe<bt;Qe++){const xt=Ne[Qe],Ve=n.get(xt);let We=i.TEXTURE_2D;(q.isWebGL3DRenderTarget||q.isWebGLArrayRenderTarget)&&(We=q.isWebGL3DRenderTarget?i.TEXTURE_3D:i.TEXTURE_2D_ARRAY),t.bindTexture(We,Ve.__webglTexture),ce(We,xt),qe(ae.__webglFramebuffer,q,xt,i.COLOR_ATTACHMENT0+Qe,We,0),A(xt)&&T(We)}t.unbindTexture()}else{let Qe=i.TEXTURE_2D;if((q.isWebGL3DRenderTarget||q.isWebGLArrayRenderTarget)&&(Qe=q.isWebGL3DRenderTarget?i.TEXTURE_3D:i.TEXTURE_2D_ARRAY),t.bindTexture(Qe,Ae.__webglTexture),ce(Qe,F),F.mipmaps&&F.mipmaps.length>0)for(let bt=0;bt<F.mipmaps.length;bt++)qe(ae.__webglFramebuffer[bt],q,F,i.COLOR_ATTACHMENT0,Qe,bt);else qe(ae.__webglFramebuffer,q,F,i.COLOR_ATTACHMENT0,Qe,0);A(F)&&T(Qe),t.unbindTexture()}q.depthBuffer&&Pt(q)}function Ce(q){const F=q.textures;for(let ae=0,Ae=F.length;ae<Ae;ae++){const Ne=F[ae];if(A(Ne)){const Me=R(q),at=n.get(Ne).__webglTexture;t.bindTexture(Me,at),T(Me),t.unbindTexture()}}}const Be=[],Oe=[];function re(q){if(q.samples>0){if(Tt(q)===!1){const F=q.textures,ae=q.width,Ae=q.height;let Ne=i.COLOR_BUFFER_BIT;const Me=q.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,at=n.get(q),Qe=F.length>1;if(Qe)for(let xt=0;xt<F.length;xt++)t.bindFramebuffer(i.FRAMEBUFFER,at.__webglMultisampledFramebuffer),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+xt,i.RENDERBUFFER,null),t.bindFramebuffer(i.FRAMEBUFFER,at.__webglFramebuffer),i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0+xt,i.TEXTURE_2D,null,0);t.bindFramebuffer(i.READ_FRAMEBUFFER,at.__webglMultisampledFramebuffer);const bt=q.texture.mipmaps;bt&&bt.length>0?t.bindFramebuffer(i.DRAW_FRAMEBUFFER,at.__webglFramebuffer[0]):t.bindFramebuffer(i.DRAW_FRAMEBUFFER,at.__webglFramebuffer);for(let xt=0;xt<F.length;xt++){if(q.resolveDepthBuffer&&(q.depthBuffer&&(Ne|=i.DEPTH_BUFFER_BIT),q.stencilBuffer&&q.resolveStencilBuffer&&(Ne|=i.STENCIL_BUFFER_BIT)),Qe){i.framebufferRenderbuffer(i.READ_FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.RENDERBUFFER,at.__webglColorRenderbuffer[xt]);const Ve=n.get(F[xt]).__webglTexture;i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,Ve,0)}i.blitFramebuffer(0,0,ae,Ae,0,0,ae,Ae,Ne,i.NEAREST),d===!0&&(Be.length=0,Oe.length=0,Be.push(i.COLOR_ATTACHMENT0+xt),q.depthBuffer&&q.resolveDepthBuffer===!1&&(Be.push(Me),Oe.push(Me),i.invalidateFramebuffer(i.DRAW_FRAMEBUFFER,Oe)),i.invalidateFramebuffer(i.READ_FRAMEBUFFER,Be))}if(t.bindFramebuffer(i.READ_FRAMEBUFFER,null),t.bindFramebuffer(i.DRAW_FRAMEBUFFER,null),Qe)for(let xt=0;xt<F.length;xt++){t.bindFramebuffer(i.FRAMEBUFFER,at.__webglMultisampledFramebuffer),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+xt,i.RENDERBUFFER,at.__webglColorRenderbuffer[xt]);const Ve=n.get(F[xt]).__webglTexture;t.bindFramebuffer(i.FRAMEBUFFER,at.__webglFramebuffer),i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0+xt,i.TEXTURE_2D,Ve,0)}t.bindFramebuffer(i.DRAW_FRAMEBUFFER,at.__webglMultisampledFramebuffer)}else if(q.depthBuffer&&q.resolveDepthBuffer===!1&&d){const F=q.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT;i.invalidateFramebuffer(i.DRAW_FRAMEBUFFER,[F])}}}function K(q){return Math.min(r.maxSamples,q.samples)}function Tt(q){const F=n.get(q);return q.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&F.__useRenderToTexture!==!1}function nt(q){const F=l.render.frame;v.get(q)!==F&&(v.set(q,F),q.update())}function ut(q,F){const ae=q.colorSpace,Ae=q.format,Ne=q.type;return q.isCompressedTexture===!0||q.isVideoTexture===!0||ae!==hc&&ae!==pl&&(Bn.getTransfer(ae)===ai?(Ae!==Is||Ne!==Gr)&&_t("WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):It("WebGLTextures: Unsupported texture color space:",ae)),F}function Ye(q){return typeof HTMLImageElement<"u"&&q instanceof HTMLImageElement?(p.width=q.naturalWidth||q.width,p.height=q.naturalHeight||q.height):typeof VideoFrame<"u"&&q instanceof VideoFrame?(p.width=q.displayWidth,p.height=q.displayHeight):(p.width=q.width,p.height=q.height),p}this.allocateTextureUnit=J,this.resetTextureUnits=Z,this.setTexture2D=se,this.setTexture2DArray=Y,this.setTexture3D=Q,this.setTextureCube=ue,this.rebindTextures=Bt,this.setupRenderTarget=rt,this.updateRenderTargetMipmap=Ce,this.updateMultisampleRenderTarget=re,this.setupDepthRenderbuffer=Pt,this.setupFrameBufferTexture=qe,this.useMultisampledRTT=Tt,this.isReversedDepthBuffer=function(){return t.buffers.depth.getReversed()}}function c6(i,e){function t(n,r=pl){let a;const l=Bn.getTransfer(r);if(n===Gr)return i.UNSIGNED_BYTE;if(n===c3)return i.UNSIGNED_SHORT_4_4_4_4;if(n===u3)return i.UNSIGNED_SHORT_5_5_5_1;if(n===h4)return i.UNSIGNED_INT_5_9_9_9_REV;if(n===d4)return i.UNSIGNED_INT_10F_11F_11F_REV;if(n===u4)return i.BYTE;if(n===f4)return i.SHORT;if(n===g0)return i.UNSIGNED_SHORT;if(n===l3)return i.INT;if(n===oo)return i.UNSIGNED_INT;if(n===Ps)return i.FLOAT;if(n===_l)return i.HALF_FLOAT;if(n===p4)return i.ALPHA;if(n===m4)return i.RGB;if(n===Is)return i.RGBA;if(n===fc)return i.DEPTH_COMPONENT;if(n===tu)return i.DEPTH_STENCIL;if(n===f3)return i.RED;if(n===Fg)return i.RED_INTEGER;if(n===sd)return i.RG;if(n===h3)return i.RG_INTEGER;if(n===d3)return i.RGBA_INTEGER;if(n===B1||n===F1||n===k1||n===V1)if(l===ai)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(n===B1)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===F1)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===k1)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===V1)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(n===B1)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===F1)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===k1)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===V1)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(n===sy||n===ay||n===oy||n===ly)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(n===sy)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===ay)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===oy)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===ly)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(n===cy||n===uy||n===fy||n===hy||n===dy||n===py||n===my)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(n===cy||n===uy)return l===ai?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(n===fy)return l===ai?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC;if(n===hy)return a.COMPRESSED_R11_EAC;if(n===dy)return a.COMPRESSED_SIGNED_R11_EAC;if(n===py)return a.COMPRESSED_RG11_EAC;if(n===my)return a.COMPRESSED_SIGNED_RG11_EAC}else return null;if(n===gy||n===vy||n===_y||n===xy||n===yy||n===by||n===Sy||n===My||n===Ty||n===Ey||n===Ay||n===wy||n===Cy||n===Ry)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(n===gy)return l===ai?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(n===vy)return l===ai?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(n===_y)return l===ai?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(n===xy)return l===ai?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(n===yy)return l===ai?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(n===by)return l===ai?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(n===Sy)return l===ai?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(n===My)return l===ai?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(n===Ty)return l===ai?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(n===Ey)return l===ai?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(n===Ay)return l===ai?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(n===wy)return l===ai?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(n===Cy)return l===ai?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(n===Ry)return l===ai?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(n===Dy||n===Ny||n===Ly)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(n===Dy)return l===ai?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(n===Ny)return a.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(n===Ly)return a.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(n===Oy||n===Uy||n===Py||n===Iy)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(n===Oy)return a.COMPRESSED_RED_RGTC1_EXT;if(n===Uy)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(n===Py)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(n===Iy)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return n===rd?i.UNSIGNED_INT_24_8:i[n]!==void 0?i[n]:null}return{convert:t}}const OP=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,UP=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class PP{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t){if(this.texture===null){const n=new E4(e.texture);(e.depthNear!==t.depthNear||e.depthFar!==t.depthFar)&&(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=n}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,n=new Fs({vertexShader:OP,fragmentShader:UP,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new br(new P0(20,20),n)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class IP extends uo{constructor(e,t){super();const n=this;let r=null,a=1,l=null,u="local-floor",d=1,p=null,v=null,_=null,y=null,x=null,M=null;const E=typeof XRWebGLBinding<"u",A=new PP,T={},R=t.getContextAttributes();let D=null,N=null;const U=[],I=[],B=new Ie;let k=null;const O=new Hr;O.viewport=new Ei;const P=new Hr;P.viewport=new Ei;const W=[O,P],Z=new Jw;let J=null,ee=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(de){let xe=U[de];return xe===void 0&&(xe=new Fx,U[de]=xe),xe.getTargetRaySpace()},this.getControllerGrip=function(de){let xe=U[de];return xe===void 0&&(xe=new Fx,U[de]=xe),xe.getGripSpace()},this.getHand=function(de){let xe=U[de];return xe===void 0&&(xe=new Fx,U[de]=xe),xe.getHandSpace()};function se(de){const xe=I.indexOf(de.inputSource);if(xe===-1)return;const qe=U[xe];qe!==void 0&&(qe.update(de.inputSource,de.frame,p||l),qe.dispatchEvent({type:de.type,data:de.inputSource}))}function Y(){r.removeEventListener("select",se),r.removeEventListener("selectstart",se),r.removeEventListener("selectend",se),r.removeEventListener("squeeze",se),r.removeEventListener("squeezestart",se),r.removeEventListener("squeezeend",se),r.removeEventListener("end",Y),r.removeEventListener("inputsourceschange",Q);for(let de=0;de<U.length;de++){const xe=I[de];xe!==null&&(I[de]=null,U[de].disconnect(xe))}J=null,ee=null,A.reset();for(const de in T)delete T[de];e.setRenderTarget(D),x=null,y=null,_=null,r=null,N=null,Je.stop(),n.isPresenting=!1,e.setPixelRatio(k),e.setSize(B.width,B.height,!1),n.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(de){a=de,n.isPresenting===!0&&_t("WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(de){u=de,n.isPresenting===!0&&_t("WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return p||l},this.setReferenceSpace=function(de){p=de},this.getBaseLayer=function(){return y!==null?y:x},this.getBinding=function(){return _===null&&E&&(_=new XRWebGLBinding(r,t)),_},this.getFrame=function(){return M},this.getSession=function(){return r},this.setSession=async function(de){if(r=de,r!==null){if(D=e.getRenderTarget(),r.addEventListener("select",se),r.addEventListener("selectstart",se),r.addEventListener("selectend",se),r.addEventListener("squeeze",se),r.addEventListener("squeezestart",se),r.addEventListener("squeezeend",se),r.addEventListener("end",Y),r.addEventListener("inputsourceschange",Q),R.xrCompatible!==!0&&await t.makeXRCompatible(),k=e.getPixelRatio(),e.getSize(B),E&&"createProjectionLayer"in XRWebGLBinding.prototype){let qe=null,Ze=null,ct=null;R.depth&&(ct=R.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,qe=R.stencil?tu:fc,Ze=R.stencil?rd:oo);const Pt={colorFormat:t.RGBA8,depthFormat:ct,scaleFactor:a};_=this.getBinding(),y=_.createProjectionLayer(Pt),r.updateRenderState({layers:[y]}),e.setPixelRatio(1),e.setSize(y.textureWidth,y.textureHeight,!1),N=new Xr(y.textureWidth,y.textureHeight,{format:Is,type:Gr,depthTexture:new od(y.textureWidth,y.textureHeight,Ze,void 0,void 0,void 0,void 0,void 0,void 0,qe),stencilBuffer:R.stencil,colorSpace:e.outputColorSpace,samples:R.antialias?4:0,resolveDepthBuffer:y.ignoreDepthValues===!1,resolveStencilBuffer:y.ignoreDepthValues===!1})}else{const qe={antialias:R.antialias,alpha:!0,depth:R.depth,stencil:R.stencil,framebufferScaleFactor:a};x=new XRWebGLLayer(r,t,qe),r.updateRenderState({baseLayer:x}),e.setPixelRatio(1),e.setSize(x.framebufferWidth,x.framebufferHeight,!1),N=new Xr(x.framebufferWidth,x.framebufferHeight,{format:Is,type:Gr,colorSpace:e.outputColorSpace,stencilBuffer:R.stencil,resolveDepthBuffer:x.ignoreDepthValues===!1,resolveStencilBuffer:x.ignoreDepthValues===!1})}N.isXRRenderTarget=!0,this.setFoveation(d),p=null,l=await r.requestReferenceSpace(u),Je.setContext(r),Je.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode},this.getDepthTexture=function(){return A.getDepthTexture()};function Q(de){for(let xe=0;xe<de.removed.length;xe++){const qe=de.removed[xe],Ze=I.indexOf(qe);Ze>=0&&(I[Ze]=null,U[Ze].disconnect(qe))}for(let xe=0;xe<de.added.length;xe++){const qe=de.added[xe];let Ze=I.indexOf(qe);if(Ze===-1){for(let Pt=0;Pt<U.length;Pt++)if(Pt>=I.length){I.push(qe),Ze=Pt;break}else if(I[Pt]===null){I[Pt]=qe,Ze=Pt;break}if(Ze===-1)break}const ct=U[Ze];ct&&ct.connect(qe)}}const ue=new $,ye=new $;function j(de,xe,qe){ue.setFromMatrixPosition(xe.matrixWorld),ye.setFromMatrixPosition(qe.matrixWorld);const Ze=ue.distanceTo(ye),ct=xe.projectionMatrix.elements,Pt=qe.projectionMatrix.elements,Bt=ct[14]/(ct[10]-1),rt=ct[14]/(ct[10]+1),Ce=(ct[9]+1)/ct[5],Be=(ct[9]-1)/ct[5],Oe=(ct[8]-1)/ct[0],re=(Pt[8]+1)/Pt[0],K=Bt*Oe,Tt=Bt*re,nt=Ze/(-Oe+re),ut=nt*-Oe;if(xe.matrixWorld.decompose(de.position,de.quaternion,de.scale),de.translateX(ut),de.translateZ(nt),de.matrixWorld.compose(de.position,de.quaternion,de.scale),de.matrixWorldInverse.copy(de.matrixWorld).invert(),ct[10]===-1)de.projectionMatrix.copy(xe.projectionMatrix),de.projectionMatrixInverse.copy(xe.projectionMatrixInverse);else{const Ye=Bt+nt,q=rt+nt,F=K-ut,ae=Tt+(Ze-ut),Ae=Ce*rt/q*Ye,Ne=Be*rt/q*Ye;de.projectionMatrix.makePerspective(F,ae,Ae,Ne,Ye,q),de.projectionMatrixInverse.copy(de.projectionMatrix).invert()}}function X(de,xe){xe===null?de.matrixWorld.copy(de.matrix):de.matrixWorld.multiplyMatrices(xe.matrixWorld,de.matrix),de.matrixWorldInverse.copy(de.matrixWorld).invert()}this.updateCamera=function(de){if(r===null)return;let xe=de.near,qe=de.far;A.texture!==null&&(A.depthNear>0&&(xe=A.depthNear),A.depthFar>0&&(qe=A.depthFar)),Z.near=P.near=O.near=xe,Z.far=P.far=O.far=qe,(J!==Z.near||ee!==Z.far)&&(r.updateRenderState({depthNear:Z.near,depthFar:Z.far}),J=Z.near,ee=Z.far),Z.layers.mask=de.layers.mask|6,O.layers.mask=Z.layers.mask&3,P.layers.mask=Z.layers.mask&5;const Ze=de.parent,ct=Z.cameras;X(Z,Ze);for(let Pt=0;Pt<ct.length;Pt++)X(ct[Pt],Ze);ct.length===2?j(Z,O,P):Z.projectionMatrix.copy(O.projectionMatrix),ce(de,Z,Ze)};function ce(de,xe,qe){qe===null?de.matrix.copy(xe.matrixWorld):(de.matrix.copy(qe.matrixWorld),de.matrix.invert(),de.matrix.multiply(xe.matrixWorld)),de.matrix.decompose(de.position,de.quaternion,de.scale),de.updateMatrixWorld(!0),de.projectionMatrix.copy(xe.projectionMatrix),de.projectionMatrixInverse.copy(xe.projectionMatrixInverse),de.isPerspectiveCamera&&(de.fov=x0*2*Math.atan(1/de.projectionMatrix.elements[5]),de.zoom=1)}this.getCamera=function(){return Z},this.getFoveation=function(){if(!(y===null&&x===null))return d},this.setFoveation=function(de){d=de,y!==null&&(y.fixedFoveation=de),x!==null&&x.fixedFoveation!==void 0&&(x.fixedFoveation=de)},this.hasDepthSensing=function(){return A.texture!==null},this.getDepthSensingMesh=function(){return A.getMesh(Z)},this.getCameraTexture=function(de){return T[de]};let Se=null;function Le(de,xe){if(v=xe.getViewerPose(p||l),M=xe,v!==null){const qe=v.views;x!==null&&(e.setRenderTargetFramebuffer(N,x.framebuffer),e.setRenderTarget(N));let Ze=!1;qe.length!==Z.cameras.length&&(Z.cameras.length=0,Ze=!0);for(let rt=0;rt<qe.length;rt++){const Ce=qe[rt];let Be=null;if(x!==null)Be=x.getViewport(Ce);else{const re=_.getViewSubImage(y,Ce);Be=re.viewport,rt===0&&(e.setRenderTargetTextures(N,re.colorTexture,re.depthStencilTexture),e.setRenderTarget(N))}let Oe=W[rt];Oe===void 0&&(Oe=new Hr,Oe.layers.enable(rt),Oe.viewport=new Ei,W[rt]=Oe),Oe.matrix.fromArray(Ce.transform.matrix),Oe.matrix.decompose(Oe.position,Oe.quaternion,Oe.scale),Oe.projectionMatrix.fromArray(Ce.projectionMatrix),Oe.projectionMatrixInverse.copy(Oe.projectionMatrix).invert(),Oe.viewport.set(Be.x,Be.y,Be.width,Be.height),rt===0&&(Z.matrix.copy(Oe.matrix),Z.matrix.decompose(Z.position,Z.quaternion,Z.scale)),Ze===!0&&Z.cameras.push(Oe)}const ct=r.enabledFeatures;if(ct&&ct.includes("depth-sensing")&&r.depthUsage=="gpu-optimized"&&E){_=n.getBinding();const rt=_.getDepthInformation(qe[0]);rt&&rt.isValid&&rt.texture&&A.init(rt,r.renderState)}if(ct&&ct.includes("camera-access")&&E){e.state.unbindTexture(),_=n.getBinding();for(let rt=0;rt<qe.length;rt++){const Ce=qe[rt].camera;if(Ce){let Be=T[Ce];Be||(Be=new E4,T[Ce]=Be);const Oe=_.getCameraImage(Ce);Be.sourceTexture=Oe}}}}for(let qe=0;qe<U.length;qe++){const Ze=I[qe],ct=U[qe];Ze!==null&&ct!==void 0&&ct.update(Ze,xe,p||l)}Se&&Se(de,xe),xe.detectedPlanes&&n.dispatchEvent({type:"planesdetected",data:xe}),M=null}const Je=new r6;Je.setAnimationLoop(Le),this.setAnimationLoop=function(de){Se=de},this.dispose=function(){}}}const Lh=new xl,zP=new en;function BP(i,e){function t(A,T){A.matrixAutoUpdate===!0&&A.updateMatrix(),T.value.copy(A.matrix)}function n(A,T){T.color.getRGB(A.fogColor.value,ow(i)),T.isFog?(A.fogNear.value=T.near,A.fogFar.value=T.far):T.isFogExp2&&(A.fogDensity.value=T.density)}function r(A,T,R,D,N){T.isMeshBasicMaterial||T.isMeshLambertMaterial?a(A,T):T.isMeshToonMaterial?(a(A,T),_(A,T)):T.isMeshPhongMaterial?(a(A,T),v(A,T)):T.isMeshStandardMaterial?(a(A,T),y(A,T),T.isMeshPhysicalMaterial&&x(A,T,N)):T.isMeshMatcapMaterial?(a(A,T),M(A,T)):T.isMeshDepthMaterial?a(A,T):T.isMeshDistanceMaterial?(a(A,T),E(A,T)):T.isMeshNormalMaterial?a(A,T):T.isLineBasicMaterial?(l(A,T),T.isLineDashedMaterial&&u(A,T)):T.isPointsMaterial?d(A,T,R,D):T.isSpriteMaterial?p(A,T):T.isShadowMaterial?(A.color.value.copy(T.color),A.opacity.value=T.opacity):T.isShaderMaterial&&(T.uniformsNeedUpdate=!1)}function a(A,T){A.opacity.value=T.opacity,T.color&&A.diffuse.value.copy(T.color),T.emissive&&A.emissive.value.copy(T.emissive).multiplyScalar(T.emissiveIntensity),T.map&&(A.map.value=T.map,t(T.map,A.mapTransform)),T.alphaMap&&(A.alphaMap.value=T.alphaMap,t(T.alphaMap,A.alphaMapTransform)),T.bumpMap&&(A.bumpMap.value=T.bumpMap,t(T.bumpMap,A.bumpMapTransform),A.bumpScale.value=T.bumpScale,T.side===Wr&&(A.bumpScale.value*=-1)),T.normalMap&&(A.normalMap.value=T.normalMap,t(T.normalMap,A.normalMapTransform),A.normalScale.value.copy(T.normalScale),T.side===Wr&&A.normalScale.value.negate()),T.displacementMap&&(A.displacementMap.value=T.displacementMap,t(T.displacementMap,A.displacementMapTransform),A.displacementScale.value=T.displacementScale,A.displacementBias.value=T.displacementBias),T.emissiveMap&&(A.emissiveMap.value=T.emissiveMap,t(T.emissiveMap,A.emissiveMapTransform)),T.specularMap&&(A.specularMap.value=T.specularMap,t(T.specularMap,A.specularMapTransform)),T.alphaTest>0&&(A.alphaTest.value=T.alphaTest);const R=e.get(T),D=R.envMap,N=R.envMapRotation;D&&(A.envMap.value=D,Lh.copy(N),Lh.x*=-1,Lh.y*=-1,Lh.z*=-1,D.isCubeTexture&&D.isRenderTargetTexture===!1&&(Lh.y*=-1,Lh.z*=-1),A.envMapRotation.value.setFromMatrix4(zP.makeRotationFromEuler(Lh)),A.flipEnvMap.value=D.isCubeTexture&&D.isRenderTargetTexture===!1?-1:1,A.reflectivity.value=T.reflectivity,A.ior.value=T.ior,A.refractionRatio.value=T.refractionRatio),T.lightMap&&(A.lightMap.value=T.lightMap,A.lightMapIntensity.value=T.lightMapIntensity,t(T.lightMap,A.lightMapTransform)),T.aoMap&&(A.aoMap.value=T.aoMap,A.aoMapIntensity.value=T.aoMapIntensity,t(T.aoMap,A.aoMapTransform))}function l(A,T){A.diffuse.value.copy(T.color),A.opacity.value=T.opacity,T.map&&(A.map.value=T.map,t(T.map,A.mapTransform))}function u(A,T){A.dashSize.value=T.dashSize,A.totalSize.value=T.dashSize+T.gapSize,A.scale.value=T.scale}function d(A,T,R,D){A.diffuse.value.copy(T.color),A.opacity.value=T.opacity,A.size.value=T.size*R,A.scale.value=D*.5,T.map&&(A.map.value=T.map,t(T.map,A.uvTransform)),T.alphaMap&&(A.alphaMap.value=T.alphaMap,t(T.alphaMap,A.alphaMapTransform)),T.alphaTest>0&&(A.alphaTest.value=T.alphaTest)}function p(A,T){A.diffuse.value.copy(T.color),A.opacity.value=T.opacity,A.rotation.value=T.rotation,T.map&&(A.map.value=T.map,t(T.map,A.mapTransform)),T.alphaMap&&(A.alphaMap.value=T.alphaMap,t(T.alphaMap,A.alphaMapTransform)),T.alphaTest>0&&(A.alphaTest.value=T.alphaTest)}function v(A,T){A.specular.value.copy(T.specular),A.shininess.value=Math.max(T.shininess,1e-4)}function _(A,T){T.gradientMap&&(A.gradientMap.value=T.gradientMap)}function y(A,T){A.metalness.value=T.metalness,T.metalnessMap&&(A.metalnessMap.value=T.metalnessMap,t(T.metalnessMap,A.metalnessMapTransform)),A.roughness.value=T.roughness,T.roughnessMap&&(A.roughnessMap.value=T.roughnessMap,t(T.roughnessMap,A.roughnessMapTransform)),T.envMap&&(A.envMapIntensity.value=T.envMapIntensity)}function x(A,T,R){A.ior.value=T.ior,T.sheen>0&&(A.sheenColor.value.copy(T.sheenColor).multiplyScalar(T.sheen),A.sheenRoughness.value=T.sheenRoughness,T.sheenColorMap&&(A.sheenColorMap.value=T.sheenColorMap,t(T.sheenColorMap,A.sheenColorMapTransform)),T.sheenRoughnessMap&&(A.sheenRoughnessMap.value=T.sheenRoughnessMap,t(T.sheenRoughnessMap,A.sheenRoughnessMapTransform))),T.clearcoat>0&&(A.clearcoat.value=T.clearcoat,A.clearcoatRoughness.value=T.clearcoatRoughness,T.clearcoatMap&&(A.clearcoatMap.value=T.clearcoatMap,t(T.clearcoatMap,A.clearcoatMapTransform)),T.clearcoatRoughnessMap&&(A.clearcoatRoughnessMap.value=T.clearcoatRoughnessMap,t(T.clearcoatRoughnessMap,A.clearcoatRoughnessMapTransform)),T.clearcoatNormalMap&&(A.clearcoatNormalMap.value=T.clearcoatNormalMap,t(T.clearcoatNormalMap,A.clearcoatNormalMapTransform),A.clearcoatNormalScale.value.copy(T.clearcoatNormalScale),T.side===Wr&&A.clearcoatNormalScale.value.negate())),T.dispersion>0&&(A.dispersion.value=T.dispersion),T.iridescence>0&&(A.iridescence.value=T.iridescence,A.iridescenceIOR.value=T.iridescenceIOR,A.iridescenceThicknessMinimum.value=T.iridescenceThicknessRange[0],A.iridescenceThicknessMaximum.value=T.iridescenceThicknessRange[1],T.iridescenceMap&&(A.iridescenceMap.value=T.iridescenceMap,t(T.iridescenceMap,A.iridescenceMapTransform)),T.iridescenceThicknessMap&&(A.iridescenceThicknessMap.value=T.iridescenceThicknessMap,t(T.iridescenceThicknessMap,A.iridescenceThicknessMapTransform))),T.transmission>0&&(A.transmission.value=T.transmission,A.transmissionSamplerMap.value=R.texture,A.transmissionSamplerSize.value.set(R.width,R.height),T.transmissionMap&&(A.transmissionMap.value=T.transmissionMap,t(T.transmissionMap,A.transmissionMapTransform)),A.thickness.value=T.thickness,T.thicknessMap&&(A.thicknessMap.value=T.thicknessMap,t(T.thicknessMap,A.thicknessMapTransform)),A.attenuationDistance.value=T.attenuationDistance,A.attenuationColor.value.copy(T.attenuationColor)),T.anisotropy>0&&(A.anisotropyVector.value.set(T.anisotropy*Math.cos(T.anisotropyRotation),T.anisotropy*Math.sin(T.anisotropyRotation)),T.anisotropyMap&&(A.anisotropyMap.value=T.anisotropyMap,t(T.anisotropyMap,A.anisotropyMapTransform))),A.specularIntensity.value=T.specularIntensity,A.specularColor.value.copy(T.specularColor),T.specularColorMap&&(A.specularColorMap.value=T.specularColorMap,t(T.specularColorMap,A.specularColorMapTransform)),T.specularIntensityMap&&(A.specularIntensityMap.value=T.specularIntensityMap,t(T.specularIntensityMap,A.specularIntensityMapTransform))}function M(A,T){T.matcap&&(A.matcap.value=T.matcap)}function E(A,T){const R=e.get(T).light;A.referencePosition.value.setFromMatrixPosition(R.matrixWorld),A.nearDistance.value=R.shadow.camera.near,A.farDistance.value=R.shadow.camera.far}return{refreshFogUniforms:n,refreshMaterialUniforms:r}}function FP(i,e,t,n){let r={},a={},l=[];const u=i.getParameter(i.MAX_UNIFORM_BUFFER_BINDINGS);function d(R,D){const N=D.program;n.uniformBlockBinding(R,N)}function p(R,D){let N=r[R.id];N===void 0&&(M(R),N=v(R),r[R.id]=N,R.addEventListener("dispose",A));const U=D.program;n.updateUBOMapping(R,U);const I=e.render.frame;a[R.id]!==I&&(y(R),a[R.id]=I)}function v(R){const D=_();R.__bindingPointIndex=D;const N=i.createBuffer(),U=R.__size,I=R.usage;return i.bindBuffer(i.UNIFORM_BUFFER,N),i.bufferData(i.UNIFORM_BUFFER,U,I),i.bindBuffer(i.UNIFORM_BUFFER,null),i.bindBufferBase(i.UNIFORM_BUFFER,D,N),N}function _(){for(let R=0;R<u;R++)if(l.indexOf(R)===-1)return l.push(R),R;return It("WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function y(R){const D=r[R.id],N=R.uniforms,U=R.__cache;i.bindBuffer(i.UNIFORM_BUFFER,D);for(let I=0,B=N.length;I<B;I++){const k=Array.isArray(N[I])?N[I]:[N[I]];for(let O=0,P=k.length;O<P;O++){const W=k[O];if(x(W,I,O,U)===!0){const Z=W.__offset,J=Array.isArray(W.value)?W.value:[W.value];let ee=0;for(let se=0;se<J.length;se++){const Y=J[se],Q=E(Y);typeof Y=="number"||typeof Y=="boolean"?(W.__data[0]=Y,i.bufferSubData(i.UNIFORM_BUFFER,Z+ee,W.__data)):Y.isMatrix3?(W.__data[0]=Y.elements[0],W.__data[1]=Y.elements[1],W.__data[2]=Y.elements[2],W.__data[3]=0,W.__data[4]=Y.elements[3],W.__data[5]=Y.elements[4],W.__data[6]=Y.elements[5],W.__data[7]=0,W.__data[8]=Y.elements[6],W.__data[9]=Y.elements[7],W.__data[10]=Y.elements[8],W.__data[11]=0):(Y.toArray(W.__data,ee),ee+=Q.storage/Float32Array.BYTES_PER_ELEMENT)}i.bufferSubData(i.UNIFORM_BUFFER,Z,W.__data)}}}i.bindBuffer(i.UNIFORM_BUFFER,null)}function x(R,D,N,U){const I=R.value,B=D+"_"+N;if(U[B]===void 0)return typeof I=="number"||typeof I=="boolean"?U[B]=I:U[B]=I.clone(),!0;{const k=U[B];if(typeof I=="number"||typeof I=="boolean"){if(k!==I)return U[B]=I,!0}else if(k.equals(I)===!1)return k.copy(I),!0}return!1}function M(R){const D=R.uniforms;let N=0;const U=16;for(let B=0,k=D.length;B<k;B++){const O=Array.isArray(D[B])?D[B]:[D[B]];for(let P=0,W=O.length;P<W;P++){const Z=O[P],J=Array.isArray(Z.value)?Z.value:[Z.value];for(let ee=0,se=J.length;ee<se;ee++){const Y=J[ee],Q=E(Y),ue=N%U,ye=ue%Q.boundary,j=ue+ye;N+=ye,j!==0&&U-j<Q.storage&&(N+=U-j),Z.__data=new Float32Array(Q.storage/Float32Array.BYTES_PER_ELEMENT),Z.__offset=N,N+=Q.storage}}}const I=N%U;return I>0&&(N+=U-I),R.__size=N,R.__cache={},this}function E(R){const D={boundary:0,storage:0};return typeof R=="number"||typeof R=="boolean"?(D.boundary=4,D.storage=4):R.isVector2?(D.boundary=8,D.storage=8):R.isVector3||R.isColor?(D.boundary=16,D.storage=12):R.isVector4?(D.boundary=16,D.storage=16):R.isMatrix3?(D.boundary=48,D.storage=48):R.isMatrix4?(D.boundary=64,D.storage=64):R.isTexture?_t("WebGLRenderer: Texture samplers can not be part of an uniforms group."):_t("WebGLRenderer: Unsupported uniform value type.",R),D}function A(R){const D=R.target;D.removeEventListener("dispose",A);const N=l.indexOf(D.__bindingPointIndex);l.splice(N,1),i.deleteBuffer(r[D.id]),delete r[D.id],delete a[D.id]}function T(){for(const R in r)i.deleteBuffer(r[R]);l=[],r={},a={}}return{bind:d,update:p,dispose:T}}const kP=new Uint16Array([12469,15057,12620,14925,13266,14620,13807,14376,14323,13990,14545,13625,14713,13328,14840,12882,14931,12528,14996,12233,15039,11829,15066,11525,15080,11295,15085,10976,15082,10705,15073,10495,13880,14564,13898,14542,13977,14430,14158,14124,14393,13732,14556,13410,14702,12996,14814,12596,14891,12291,14937,11834,14957,11489,14958,11194,14943,10803,14921,10506,14893,10278,14858,9960,14484,14039,14487,14025,14499,13941,14524,13740,14574,13468,14654,13106,14743,12678,14818,12344,14867,11893,14889,11509,14893,11180,14881,10751,14852,10428,14812,10128,14765,9754,14712,9466,14764,13480,14764,13475,14766,13440,14766,13347,14769,13070,14786,12713,14816,12387,14844,11957,14860,11549,14868,11215,14855,10751,14825,10403,14782,10044,14729,9651,14666,9352,14599,9029,14967,12835,14966,12831,14963,12804,14954,12723,14936,12564,14917,12347,14900,11958,14886,11569,14878,11247,14859,10765,14828,10401,14784,10011,14727,9600,14660,9289,14586,8893,14508,8533,15111,12234,15110,12234,15104,12216,15092,12156,15067,12010,15028,11776,14981,11500,14942,11205,14902,10752,14861,10393,14812,9991,14752,9570,14682,9252,14603,8808,14519,8445,14431,8145,15209,11449,15208,11451,15202,11451,15190,11438,15163,11384,15117,11274,15055,10979,14994,10648,14932,10343,14871,9936,14803,9532,14729,9218,14645,8742,14556,8381,14461,8020,14365,7603,15273,10603,15272,10607,15267,10619,15256,10631,15231,10614,15182,10535,15118,10389,15042,10167,14963,9787,14883,9447,14800,9115,14710,8665,14615,8318,14514,7911,14411,7507,14279,7198,15314,9675,15313,9683,15309,9712,15298,9759,15277,9797,15229,9773,15166,9668,15084,9487,14995,9274,14898,8910,14800,8539,14697,8234,14590,7790,14479,7409,14367,7067,14178,6621,15337,8619,15337,8631,15333,8677,15325,8769,15305,8871,15264,8940,15202,8909,15119,8775,15022,8565,14916,8328,14804,8009,14688,7614,14569,7287,14448,6888,14321,6483,14088,6171,15350,7402,15350,7419,15347,7480,15340,7613,15322,7804,15287,7973,15229,8057,15148,8012,15046,7846,14933,7611,14810,7357,14682,7069,14552,6656,14421,6316,14251,5948,14007,5528,15356,5942,15356,5977,15353,6119,15348,6294,15332,6551,15302,6824,15249,7044,15171,7122,15070,7050,14949,6861,14818,6611,14679,6349,14538,6067,14398,5651,14189,5311,13935,4958,15359,4123,15359,4153,15356,4296,15353,4646,15338,5160,15311,5508,15263,5829,15188,6042,15088,6094,14966,6001,14826,5796,14678,5543,14527,5287,14377,4985,14133,4586,13869,4257,15360,1563,15360,1642,15358,2076,15354,2636,15341,3350,15317,4019,15273,4429,15203,4732,15105,4911,14981,4932,14836,4818,14679,4621,14517,4386,14359,4156,14083,3795,13808,3437,15360,122,15360,137,15358,285,15355,636,15344,1274,15322,2177,15281,2765,15215,3223,15120,3451,14995,3569,14846,3567,14681,3466,14511,3305,14344,3121,14037,2800,13753,2467,15360,0,15360,1,15359,21,15355,89,15346,253,15325,479,15287,796,15225,1148,15133,1492,15008,1749,14856,1882,14685,1886,14506,1783,14324,1608,13996,1398,13702,1183]);let Jl=null;function VP(){return Jl===null&&(Jl=new vl(kP,16,16,sd,_l),Jl.name="DFG_LUT",Jl.minFilter=hi,Jl.magFilter=hi,Jl.wrapS=La,Jl.wrapT=La,Jl.generateMipmaps=!1,Jl.needsUpdate=!0),Jl}class u6{constructor(e={}){const{canvas:t=iw(),context:n=null,depth:r=!0,stencil:a=!1,alpha:l=!1,antialias:u=!1,premultipliedAlpha:d=!0,preserveDrawingBuffer:p=!1,powerPreference:v="default",failIfMajorPerformanceCaveat:_=!1,reversedDepthBuffer:y=!1,outputBufferType:x=Gr}=e;this.isWebGLRenderer=!0;let M;if(n!==null){if(typeof WebGLRenderingContext<"u"&&n instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");M=n.getContextAttributes().alpha}else M=l;const E=x,A=new Set([d3,h3,Fg]),T=new Set([Gr,oo,g0,rd,c3,u3]),R=new Uint32Array(4),D=new Int32Array(4);let N=null,U=null;const I=[],B=[];let k=null;this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=ro,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const O=this;let P=!1;this._outputColorSpace=Bi;let W=0,Z=0,J=null,ee=-1,se=null;const Y=new Ei,Q=new Ei;let ue=null;const ye=new Mt(0);let j=0,X=t.width,ce=t.height,Se=1,Le=null,Je=null;const de=new Ei(0,0,X,ce),xe=new Ei(0,0,X,ce);let qe=!1;const Ze=new U0;let ct=!1,Pt=!1;const Bt=new en,rt=new $,Ce=new Ei,Be={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Oe=!1;function re(){return J===null?Se:1}let K=n;function Tt(V,le){return t.getContext(V,le)}try{const V={alpha:!0,depth:r,stencil:a,antialias:u,premultipliedAlpha:d,preserveDrawingBuffer:p,powerPreference:v,failIfMajorPerformanceCaveat:_};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${zg}`),t.addEventListener("webglcontextlost",Ut,!1),t.addEventListener("webglcontextrestored",un,!1),t.addEventListener("webglcontextcreationerror",pt,!1),K===null){const le="webgl2";if(K=Tt(le,V),K===null)throw Tt(le)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(V){throw It("WebGLRenderer: "+V.message),V}let nt,ut,Ye,q,F,ae,Ae,Ne,Me,at,Qe,bt,xt,Ve,We,ht,ft,et,qt,te,ot,He,it,Fe;function Ue(){nt=new HO(K),nt.init(),He=new c6(K,nt),ut=new OO(K,nt,e,He),Ye=new NP(K,nt),ut.reversedDepthBuffer&&y&&Ye.buffers.depth.setReversed(!0),q=new XO(K),F=new gP,ae=new LP(K,nt,Ye,F,ut,He,q),Ae=new PO(O),Ne=new VO(O),Me=new Z9(K),it=new NO(K,Me),at=new GO(K,Me,q,it),Qe=new YO(K,at,Me,q),qt=new qO(K,ut,ae),ht=new UO(F),bt=new mP(O,Ae,Ne,nt,ut,it,ht),xt=new BP(O,F),Ve=new _P,We=new TP(nt),et=new DO(O,Ae,Ne,Ye,Qe,M,d),ft=new RP(O,Qe,ut),Fe=new FP(K,q,ut,Ye),te=new LO(K,nt,q),ot=new WO(K,nt,q),q.programs=bt.programs,O.capabilities=ut,O.extensions=nt,O.properties=F,O.renderLists=Ve,O.shadowMap=ft,O.state=Ye,O.info=q}Ue(),E!==Gr&&(k=new ZO(E,t.width,t.height,r,a));const $e=new IP(O,K);this.xr=$e,this.getContext=function(){return K},this.getContextAttributes=function(){return K.getContextAttributes()},this.forceContextLoss=function(){const V=nt.get("WEBGL_lose_context");V&&V.loseContext()},this.forceContextRestore=function(){const V=nt.get("WEBGL_lose_context");V&&V.restoreContext()},this.getPixelRatio=function(){return Se},this.setPixelRatio=function(V){V!==void 0&&(Se=V,this.setSize(X,ce,!1))},this.getSize=function(V){return V.set(X,ce)},this.setSize=function(V,le,Ee=!0){if($e.isPresenting){_t("WebGLRenderer: Can't change size while VR device is presenting.");return}X=V,ce=le,t.width=Math.floor(V*Se),t.height=Math.floor(le*Se),Ee===!0&&(t.style.width=V+"px",t.style.height=le+"px"),k!==null&&k.setSize(t.width,t.height),this.setViewport(0,0,V,le)},this.getDrawingBufferSize=function(V){return V.set(X*Se,ce*Se).floor()},this.setDrawingBufferSize=function(V,le,Ee){X=V,ce=le,Se=Ee,t.width=Math.floor(V*Ee),t.height=Math.floor(le*Ee),this.setViewport(0,0,V,le)},this.setEffects=function(V){if(E===Gr){console.error("THREE.WebGLRenderer: setEffects() requires outputBufferType set to HalfFloatType or FloatType.");return}if(V){for(let le=0;le<V.length;le++)if(V[le].isOutputPass===!0){console.warn("THREE.WebGLRenderer: OutputPass is not needed in setEffects(). Tone mapping and color space conversion are applied automatically.");break}}k.setEffects(V||[])},this.getCurrentViewport=function(V){return V.copy(Y)},this.getViewport=function(V){return V.copy(de)},this.setViewport=function(V,le,Ee,ve){V.isVector4?de.set(V.x,V.y,V.z,V.w):de.set(V,le,Ee,ve),Ye.viewport(Y.copy(de).multiplyScalar(Se).round())},this.getScissor=function(V){return V.copy(xe)},this.setScissor=function(V,le,Ee,ve){V.isVector4?xe.set(V.x,V.y,V.z,V.w):xe.set(V,le,Ee,ve),Ye.scissor(Q.copy(xe).multiplyScalar(Se).round())},this.getScissorTest=function(){return qe},this.setScissorTest=function(V){Ye.setScissorTest(qe=V)},this.setOpaqueSort=function(V){Le=V},this.setTransparentSort=function(V){Je=V},this.getClearColor=function(V){return V.copy(et.getClearColor())},this.setClearColor=function(){et.setClearColor(...arguments)},this.getClearAlpha=function(){return et.getClearAlpha()},this.setClearAlpha=function(){et.setClearAlpha(...arguments)},this.clear=function(V=!0,le=!0,Ee=!0){let ve=0;if(V){let he=!1;if(J!==null){const je=J.texture.format;he=A.has(je)}if(he){const je=J.texture.type,dt=T.has(je),Xe=et.getClearColor(),vt=et.getClearAlpha(),At=Xe.r,zt=Xe.g,Ct=Xe.b;dt?(R[0]=At,R[1]=zt,R[2]=Ct,R[3]=vt,K.clearBufferuiv(K.COLOR,0,R)):(D[0]=At,D[1]=zt,D[2]=Ct,D[3]=vt,K.clearBufferiv(K.COLOR,0,D))}else ve|=K.COLOR_BUFFER_BIT}le&&(ve|=K.DEPTH_BUFFER_BIT),Ee&&(ve|=K.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),K.clear(ve)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Ut,!1),t.removeEventListener("webglcontextrestored",un,!1),t.removeEventListener("webglcontextcreationerror",pt,!1),et.dispose(),Ve.dispose(),We.dispose(),F.dispose(),Ae.dispose(),Ne.dispose(),Qe.dispose(),it.dispose(),Fe.dispose(),bt.dispose(),$e.dispose(),$e.removeEventListener("sessionstart",ni),$e.removeEventListener("sessionend",rn),yn.stop()};function Ut(V){V.preventDefault(),vg("WebGLRenderer: Context Lost."),P=!0}function un(){vg("WebGLRenderer: Context Restored."),P=!1;const V=q.autoReset,le=ft.enabled,Ee=ft.autoUpdate,ve=ft.needsUpdate,he=ft.type;Ue(),q.autoReset=V,ft.enabled=le,ft.autoUpdate=Ee,ft.needsUpdate=ve,ft.type=he}function pt(V){It("WebGLRenderer: A WebGL context could not be created. Reason: ",V.statusMessage)}function Et(V){const le=V.target;le.removeEventListener("dispose",Et),Kt(le)}function Kt(V){lt(V),F.remove(V)}function lt(V){const le=F.get(V).programs;le!==void 0&&(le.forEach(function(Ee){bt.releaseProgram(Ee)}),V.isShaderMaterial&&bt.releaseShaderCache(V))}this.renderBufferDirect=function(V,le,Ee,ve,he,je){le===null&&(le=Be);const dt=he.isMesh&&he.matrixWorld.determinant()<0,Xe=Jn(V,le,Ee,ve,he);Ye.setMaterial(ve,dt);let vt=Ee.index,At=1;if(ve.wireframe===!0){if(vt=at.getWireframeAttribute(Ee),vt===void 0)return;At=2}const zt=Ee.drawRange,Ct=Ee.attributes.position;let Wt=zt.start*At,Fn=(zt.start+zt.count)*At;je!==null&&(Wt=Math.max(Wt,je.start*At),Fn=Math.min(Fn,(je.start+je.count)*At)),vt!==null?(Wt=Math.max(Wt,0),Fn=Math.min(Fn,vt.count)):Ct!=null&&(Wt=Math.max(Wt,0),Fn=Math.min(Fn,Ct.count));const pi=Fn-Wt;if(pi<0||pi===1/0)return;it.setup(he,ve,Xe,Ee,vt);let ii,nn=te;if(vt!==null&&(ii=Me.get(vt),nn=ot,nn.setIndex(ii)),he.isMesh)ve.wireframe===!0?(Ye.setLineWidth(ve.wireframeLinewidth*re()),nn.setMode(K.LINES)):nn.setMode(K.TRIANGLES);else if(he.isLine){let mt=ve.linewidth;mt===void 0&&(mt=1),Ye.setLineWidth(mt*re()),he.isLineSegments?nn.setMode(K.LINES):he.isLineLoop?nn.setMode(K.LINE_LOOP):nn.setMode(K.LINE_STRIP)}else he.isPoints?nn.setMode(K.POINTS):he.isSprite&&nn.setMode(K.TRIANGLES);if(he.isBatchedMesh)if(he._multiDrawInstances!==null)_0("WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),nn.renderMultiDrawInstances(he._multiDrawStarts,he._multiDrawCounts,he._multiDrawCount,he._multiDrawInstances);else if(nt.get("WEBGL_multi_draw"))nn.renderMultiDraw(he._multiDrawStarts,he._multiDrawCounts,he._multiDrawCount);else{const mt=he._multiDrawStarts,Pn=he._multiDrawCounts,Yt=he._multiDrawCount,rr=vt?Me.get(vt).bytesPerElement:1,ka=F.get(ve).currentProgram.getUniforms();for(let bi=0;bi<Yt;bi++)ka.setValue(K,"_gl_DrawID",bi),nn.render(mt[bi]/rr,Pn[bi])}else if(he.isInstancedMesh)nn.renderInstances(Wt,pi,he.count);else if(Ee.isInstancedBufferGeometry){const mt=Ee._maxInstanceCount!==void 0?Ee._maxInstanceCount:1/0,Pn=Math.min(Ee.instanceCount,mt);nn.renderInstances(Wt,pi,Pn)}else nn.render(Wt,pi)};function Vt(V,le,Ee){V.transparent===!0&&V.side===Na&&V.forceSinglePass===!1?(V.side=Wr,V.needsUpdate=!0,Mn(V,le,Ee),V.side=cc,V.needsUpdate=!0,Mn(V,le,Ee),V.side=Na):Mn(V,le,Ee)}this.compile=function(V,le,Ee=null){Ee===null&&(Ee=V),U=We.get(Ee),U.init(le),B.push(U),Ee.traverseVisible(function(he){he.isLight&&he.layers.test(le.layers)&&(U.pushLight(he),he.castShadow&&U.pushShadow(he))}),V!==Ee&&V.traverseVisible(function(he){he.isLight&&he.layers.test(le.layers)&&(U.pushLight(he),he.castShadow&&U.pushShadow(he))}),U.setupLights();const ve=new Set;return V.traverse(function(he){if(!(he.isMesh||he.isPoints||he.isLine||he.isSprite))return;const je=he.material;if(je)if(Array.isArray(je))for(let dt=0;dt<je.length;dt++){const Xe=je[dt];Vt(Xe,Ee,he),ve.add(Xe)}else Vt(je,Ee,he),ve.add(je)}),U=B.pop(),ve},this.compileAsync=function(V,le,Ee=null){const ve=this.compile(V,le,Ee);return new Promise(he=>{function je(){if(ve.forEach(function(dt){F.get(dt).currentProgram.isReady()&&ve.delete(dt)}),ve.size===0){he(V);return}setTimeout(je,10)}nt.get("KHR_parallel_shader_compile")!==null?je():setTimeout(je,10)})};let Nt=null;function Ht(V){Nt&&Nt(V)}function ni(){yn.stop()}function rn(){yn.start()}const yn=new r6;yn.setAnimationLoop(Ht),typeof self<"u"&&yn.setContext(self),this.setAnimationLoop=function(V){Nt=V,$e.setAnimationLoop(V),V===null?yn.stop():yn.start()},$e.addEventListener("sessionstart",ni),$e.addEventListener("sessionend",rn),this.render=function(V,le){if(le!==void 0&&le.isCamera!==!0){It("WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(P===!0)return;const Ee=$e.enabled===!0&&$e.isPresenting===!0,ve=k!==null&&(J===null||Ee)&&k.begin(O,J);if(V.matrixWorldAutoUpdate===!0&&V.updateMatrixWorld(),le.parent===null&&le.matrixWorldAutoUpdate===!0&&le.updateMatrixWorld(),$e.enabled===!0&&$e.isPresenting===!0&&(k===null||k.isCompositing()===!1)&&($e.cameraAutoUpdate===!0&&$e.updateCamera(le),le=$e.getCamera()),V.isScene===!0&&V.onBeforeRender(O,V,le,J),U=We.get(V,B.length),U.init(le),B.push(U),Bt.multiplyMatrices(le.projectionMatrix,le.matrixWorldInverse),Ze.setFromProjectionMatrix(Bt,eo,le.reversedDepth),Pt=this.localClippingEnabled,ct=ht.init(this.clippingPlanes,Pt),N=Ve.get(V,I.length),N.init(),I.push(N),$e.enabled===!0&&$e.isPresenting===!0){const dt=O.xr.getDepthSensingMesh();dt!==null&&Yn(dt,le,-1/0,O.sortObjects)}Yn(V,le,0,O.sortObjects),N.finish(),O.sortObjects===!0&&N.sort(Le,Je),Oe=$e.enabled===!1||$e.isPresenting===!1||$e.hasDepthSensing()===!1,Oe&&et.addToRenderList(N,V),this.info.render.frame++,ct===!0&&ht.beginShadows();const he=U.state.shadowsArray;if(ft.render(he,V,le),ct===!0&&ht.endShadows(),this.info.autoReset===!0&&this.info.reset(),(ve&&k.hasRenderPass())===!1){const dt=N.opaque,Xe=N.transmissive;if(U.setupLights(),le.isArrayCamera){const vt=le.cameras;if(Xe.length>0)for(let At=0,zt=vt.length;At<zt;At++){const Ct=vt[At];tn(dt,Xe,V,Ct)}Oe&&et.render(V);for(let At=0,zt=vt.length;At<zt;At++){const Ct=vt[At];Jt(N,V,Ct,Ct.viewport)}}else Xe.length>0&&tn(dt,Xe,V,le),Oe&&et.render(V),Jt(N,V,le)}J!==null&&Z===0&&(ae.updateMultisampleRenderTarget(J),ae.updateRenderTargetMipmap(J)),ve&&k.end(O),V.isScene===!0&&V.onAfterRender(O,V,le),it.resetDefaultState(),ee=-1,se=null,B.pop(),B.length>0?(U=B[B.length-1],ct===!0&&ht.setGlobalState(O.clippingPlanes,U.state.camera)):U=null,I.pop(),I.length>0?N=I[I.length-1]:N=null};function Yn(V,le,Ee,ve){if(V.visible===!1)return;if(V.layers.test(le.layers)){if(V.isGroup)Ee=V.renderOrder;else if(V.isLOD)V.autoUpdate===!0&&V.update(le);else if(V.isLight)U.pushLight(V),V.castShadow&&U.pushShadow(V);else if(V.isSprite){if(!V.frustumCulled||Ze.intersectsSprite(V)){ve&&Ce.setFromMatrixPosition(V.matrixWorld).applyMatrix4(Bt);const dt=Qe.update(V),Xe=V.material;Xe.visible&&N.push(V,dt,Xe,Ee,Ce.z,null)}}else if((V.isMesh||V.isLine||V.isPoints)&&(!V.frustumCulled||Ze.intersectsObject(V))){const dt=Qe.update(V),Xe=V.material;if(ve&&(V.boundingSphere!==void 0?(V.boundingSphere===null&&V.computeBoundingSphere(),Ce.copy(V.boundingSphere.center)):(dt.boundingSphere===null&&dt.computeBoundingSphere(),Ce.copy(dt.boundingSphere.center)),Ce.applyMatrix4(V.matrixWorld).applyMatrix4(Bt)),Array.isArray(Xe)){const vt=dt.groups;for(let At=0,zt=vt.length;At<zt;At++){const Ct=vt[At],Wt=Xe[Ct.materialIndex];Wt&&Wt.visible&&N.push(V,dt,Wt,Ee,Ce.z,Ct)}}else Xe.visible&&N.push(V,dt,Xe,Ee,Ce.z,null)}}const je=V.children;for(let dt=0,Xe=je.length;dt<Xe;dt++)Yn(je[dt],le,Ee,ve)}function Jt(V,le,Ee,ve){const{opaque:he,transmissive:je,transparent:dt}=V;U.setupLightsView(Ee),ct===!0&&ht.setGlobalState(O.clippingPlanes,Ee),ve&&Ye.viewport(Y.copy(ve)),he.length>0&&fn(he,le,Ee),je.length>0&&fn(je,le,Ee),dt.length>0&&fn(dt,le,Ee),Ye.buffers.depth.setTest(!0),Ye.buffers.depth.setMask(!0),Ye.buffers.color.setMask(!0),Ye.setPolygonOffset(!1)}function tn(V,le,Ee,ve){if((Ee.isScene===!0?Ee.overrideMaterial:null)!==null)return;if(U.state.transmissionRenderTarget[ve.id]===void 0){const Wt=nt.has("EXT_color_buffer_half_float")||nt.has("EXT_color_buffer_float");U.state.transmissionRenderTarget[ve.id]=new Xr(1,1,{generateMipmaps:!0,type:Wt?_l:Gr,minFilter:ic,samples:ut.samples,stencilBuffer:a,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Bn.workingColorSpace})}const je=U.state.transmissionRenderTarget[ve.id],dt=ve.viewport||Y;je.setSize(dt.z*O.transmissionResolutionScale,dt.w*O.transmissionResolutionScale);const Xe=O.getRenderTarget(),vt=O.getActiveCubeFace(),At=O.getActiveMipmapLevel();O.setRenderTarget(je),O.getClearColor(ye),j=O.getClearAlpha(),j<1&&O.setClearColor(16777215,.5),O.clear(),Oe&&et.render(Ee);const zt=O.toneMapping;O.toneMapping=ro;const Ct=ve.viewport;if(ve.viewport!==void 0&&(ve.viewport=void 0),U.setupLightsView(ve),ct===!0&&ht.setGlobalState(O.clippingPlanes,ve),fn(V,Ee,ve),ae.updateMultisampleRenderTarget(je),ae.updateRenderTargetMipmap(je),nt.has("WEBGL_multisampled_render_to_texture")===!1){let Wt=!1;for(let Fn=0,pi=le.length;Fn<pi;Fn++){const ii=le[Fn],{object:nn,geometry:mt,material:Pn,group:Yt}=ii;if(Pn.side===Na&&nn.layers.test(ve.layers)){const rr=Pn.side;Pn.side=Wr,Pn.needsUpdate=!0,yi(nn,Ee,ve,mt,Pn,Yt),Pn.side=rr,Pn.needsUpdate=!0,Wt=!0}}Wt===!0&&(ae.updateMultisampleRenderTarget(je),ae.updateRenderTargetMipmap(je))}O.setRenderTarget(Xe,vt,At),O.setClearColor(ye,j),Ct!==void 0&&(ve.viewport=Ct),O.toneMapping=zt}function fn(V,le,Ee){const ve=le.isScene===!0?le.overrideMaterial:null;for(let he=0,je=V.length;he<je;he++){const dt=V[he],{object:Xe,geometry:vt,group:At}=dt;let zt=dt.material;zt.allowOverride===!0&&ve!==null&&(zt=ve),Xe.layers.test(Ee.layers)&&yi(Xe,le,Ee,vt,zt,At)}}function yi(V,le,Ee,ve,he,je){V.onBeforeRender(O,le,Ee,ve,he,je),V.modelViewMatrix.multiplyMatrices(Ee.matrixWorldInverse,V.matrixWorld),V.normalMatrix.getNormalMatrix(V.modelViewMatrix),he.onBeforeRender(O,le,Ee,ve,V,je),he.transparent===!0&&he.side===Na&&he.forceSinglePass===!1?(he.side=Wr,he.needsUpdate=!0,O.renderBufferDirect(Ee,le,ve,he,V,je),he.side=cc,he.needsUpdate=!0,O.renderBufferDirect(Ee,le,ve,he,V,je),he.side=Na):O.renderBufferDirect(Ee,le,ve,he,V,je),V.onAfterRender(O,le,Ee,ve,he,je)}function Mn(V,le,Ee){le.isScene!==!0&&(le=Be);const ve=F.get(V),he=U.state.lights,je=U.state.shadowsArray,dt=he.state.version,Xe=bt.getParameters(V,he.state,je,le,Ee),vt=bt.getProgramCacheKey(Xe);let At=ve.programs;ve.environment=V.isMeshStandardMaterial?le.environment:null,ve.fog=le.fog,ve.envMap=(V.isMeshStandardMaterial?Ne:Ae).get(V.envMap||ve.environment),ve.envMapRotation=ve.environment!==null&&V.envMap===null?le.environmentRotation:V.envMapRotation,At===void 0&&(V.addEventListener("dispose",Et),At=new Map,ve.programs=At);let zt=At.get(vt);if(zt!==void 0){if(ve.currentProgram===zt&&ve.lightsStateVersion===dt)return Sr(V,Xe),zt}else Xe.uniforms=bt.getUniforms(V),V.onBeforeCompile(Xe,O),zt=bt.acquireProgram(Xe,vt),At.set(vt,zt),ve.uniforms=Xe.uniforms;const Ct=ve.uniforms;return(!V.isShaderMaterial&&!V.isRawShaderMaterial||V.clipping===!0)&&(Ct.clippingPlanes=ht.uniform),Sr(V,Xe),ve.needsLights=di(V),ve.lightsStateVersion=dt,ve.needsLights&&(Ct.ambientLightColor.value=he.state.ambient,Ct.lightProbe.value=he.state.probe,Ct.directionalLights.value=he.state.directional,Ct.directionalLightShadows.value=he.state.directionalShadow,Ct.spotLights.value=he.state.spot,Ct.spotLightShadows.value=he.state.spotShadow,Ct.rectAreaLights.value=he.state.rectArea,Ct.ltc_1.value=he.state.rectAreaLTC1,Ct.ltc_2.value=he.state.rectAreaLTC2,Ct.pointLights.value=he.state.point,Ct.pointLightShadows.value=he.state.pointShadow,Ct.hemisphereLights.value=he.state.hemi,Ct.directionalShadowMap.value=he.state.directionalShadowMap,Ct.directionalShadowMatrix.value=he.state.directionalShadowMatrix,Ct.spotShadowMap.value=he.state.spotShadowMap,Ct.spotLightMatrix.value=he.state.spotLightMatrix,Ct.spotLightMap.value=he.state.spotLightMap,Ct.pointShadowMap.value=he.state.pointShadowMap,Ct.pointShadowMatrix.value=he.state.pointShadowMatrix),ve.currentProgram=zt,ve.uniformsList=null,zt}function ki(V){if(V.uniformsList===null){const le=V.currentProgram.getUniforms();V.uniformsList=kx.seqWithValue(le.seq,V.uniforms)}return V.uniformsList}function Sr(V,le){const Ee=F.get(V);Ee.outputColorSpace=le.outputColorSpace,Ee.batching=le.batching,Ee.batchingColor=le.batchingColor,Ee.instancing=le.instancing,Ee.instancingColor=le.instancingColor,Ee.instancingMorph=le.instancingMorph,Ee.skinning=le.skinning,Ee.morphTargets=le.morphTargets,Ee.morphNormals=le.morphNormals,Ee.morphColors=le.morphColors,Ee.morphTargetsCount=le.morphTargetsCount,Ee.numClippingPlanes=le.numClippingPlanes,Ee.numIntersection=le.numClipIntersection,Ee.vertexAlphas=le.vertexAlphas,Ee.vertexTangents=le.vertexTangents,Ee.toneMapping=le.toneMapping}function Jn(V,le,Ee,ve,he){le.isScene!==!0&&(le=Be),ae.resetTextureUnits();const je=le.fog,dt=ve.isMeshStandardMaterial?le.environment:null,Xe=J===null?O.outputColorSpace:J.isXRRenderTarget===!0?J.texture.colorSpace:hc,vt=(ve.isMeshStandardMaterial?Ne:Ae).get(ve.envMap||dt),At=ve.vertexColors===!0&&!!Ee.attributes.color&&Ee.attributes.color.itemSize===4,zt=!!Ee.attributes.tangent&&(!!ve.normalMap||ve.anisotropy>0),Ct=!!Ee.morphAttributes.position,Wt=!!Ee.morphAttributes.normal,Fn=!!Ee.morphAttributes.color;let pi=ro;ve.toneMapped&&(J===null||J.isXRRenderTarget===!0)&&(pi=O.toneMapping);const ii=Ee.morphAttributes.position||Ee.morphAttributes.normal||Ee.morphAttributes.color,nn=ii!==void 0?ii.length:0,mt=F.get(ve),Pn=U.state.lights;if(ct===!0&&(Pt===!0||V!==se)){const Mr=V===se&&ve.id===ee;ht.setState(ve,V,Mr)}let Yt=!1;ve.version===mt.__version?(mt.needsLights&&mt.lightsStateVersion!==Pn.state.version||mt.outputColorSpace!==Xe||he.isBatchedMesh&&mt.batching===!1||!he.isBatchedMesh&&mt.batching===!0||he.isBatchedMesh&&mt.batchingColor===!0&&he.colorTexture===null||he.isBatchedMesh&&mt.batchingColor===!1&&he.colorTexture!==null||he.isInstancedMesh&&mt.instancing===!1||!he.isInstancedMesh&&mt.instancing===!0||he.isSkinnedMesh&&mt.skinning===!1||!he.isSkinnedMesh&&mt.skinning===!0||he.isInstancedMesh&&mt.instancingColor===!0&&he.instanceColor===null||he.isInstancedMesh&&mt.instancingColor===!1&&he.instanceColor!==null||he.isInstancedMesh&&mt.instancingMorph===!0&&he.morphTexture===null||he.isInstancedMesh&&mt.instancingMorph===!1&&he.morphTexture!==null||mt.envMap!==vt||ve.fog===!0&&mt.fog!==je||mt.numClippingPlanes!==void 0&&(mt.numClippingPlanes!==ht.numPlanes||mt.numIntersection!==ht.numIntersection)||mt.vertexAlphas!==At||mt.vertexTangents!==zt||mt.morphTargets!==Ct||mt.morphNormals!==Wt||mt.morphColors!==Fn||mt.toneMapping!==pi||mt.morphTargetsCount!==nn)&&(Yt=!0):(Yt=!0,mt.__version=ve.version);let rr=mt.currentProgram;Yt===!0&&(rr=Mn(ve,le,he));let ka=!1,bi=!1,is=!1;const Wn=rr.getUniforms(),hr=mt.uniforms;if(Ye.useProgram(rr.program)&&(ka=!0,bi=!0,is=!0),ve.id!==ee&&(ee=ve.id,bi=!0),ka||se!==V){Ye.buffers.depth.getReversed()&&V.reversedDepth!==!0&&(V._reversedDepth=!0,V.updateProjectionMatrix()),Wn.setValue(K,"projectionMatrix",V.projectionMatrix),Wn.setValue(K,"viewMatrix",V.matrixWorldInverse);const Tr=Wn.map.cameraPosition;Tr!==void 0&&Tr.setValue(K,rt.setFromMatrixPosition(V.matrixWorld)),ut.logarithmicDepthBuffer&&Wn.setValue(K,"logDepthBufFC",2/(Math.log(V.far+1)/Math.LN2)),(ve.isMeshPhongMaterial||ve.isMeshToonMaterial||ve.isMeshLambertMaterial||ve.isMeshBasicMaterial||ve.isMeshStandardMaterial||ve.isShaderMaterial)&&Wn.setValue(K,"isOrthographic",V.isOrthographicCamera===!0),se!==V&&(se=V,bi=!0,is=!0)}if(mt.needsLights&&(Pn.state.directionalShadowMap.length>0&&Wn.setValue(K,"directionalShadowMap",Pn.state.directionalShadowMap,ae),Pn.state.spotShadowMap.length>0&&Wn.setValue(K,"spotShadowMap",Pn.state.spotShadowMap,ae),Pn.state.pointShadowMap.length>0&&Wn.setValue(K,"pointShadowMap",Pn.state.pointShadowMap,ae)),he.isSkinnedMesh){Wn.setOptional(K,he,"bindMatrix"),Wn.setOptional(K,he,"bindMatrixInverse");const Mr=he.skeleton;Mr&&(Mr.boneTexture===null&&Mr.computeBoneTexture(),Wn.setValue(K,"boneTexture",Mr.boneTexture,ae))}he.isBatchedMesh&&(Wn.setOptional(K,he,"batchingTexture"),Wn.setValue(K,"batchingTexture",he._matricesTexture,ae),Wn.setOptional(K,he,"batchingIdTexture"),Wn.setValue(K,"batchingIdTexture",he._indirectTexture,ae),Wn.setOptional(K,he,"batchingColorTexture"),he._colorsTexture!==null&&Wn.setValue(K,"batchingColorTexture",he._colorsTexture,ae));const sr=Ee.morphAttributes;if((sr.position!==void 0||sr.normal!==void 0||sr.color!==void 0)&&qt.update(he,Ee,rr),(bi||mt.receiveShadow!==he.receiveShadow)&&(mt.receiveShadow=he.receiveShadow,Wn.setValue(K,"receiveShadow",he.receiveShadow)),ve.isMeshGouraudMaterial&&ve.envMap!==null&&(hr.envMap.value=vt,hr.flipEnvMap.value=vt.isCubeTexture&&vt.isRenderTargetTexture===!1?-1:1),ve.isMeshStandardMaterial&&ve.envMap===null&&le.environment!==null&&(hr.envMapIntensity.value=le.environmentIntensity),hr.dfgLUT!==void 0&&(hr.dfgLUT.value=VP()),bi&&(Wn.setValue(K,"toneMappingExposure",O.toneMappingExposure),mt.needsLights&&ui(hr,is),je&&ve.fog===!0&&xt.refreshFogUniforms(hr,je),xt.refreshMaterialUniforms(hr,ve,Se,ce,U.state.transmissionRenderTarget[V.id]),kx.upload(K,ki(mt),hr,ae)),ve.isShaderMaterial&&ve.uniformsNeedUpdate===!0&&(kx.upload(K,ki(mt),hr,ae),ve.uniformsNeedUpdate=!1),ve.isSpriteMaterial&&Wn.setValue(K,"center",he.center),Wn.setValue(K,"modelViewMatrix",he.modelViewMatrix),Wn.setValue(K,"normalMatrix",he.normalMatrix),Wn.setValue(K,"modelMatrix",he.matrixWorld),ve.isShaderMaterial||ve.isRawShaderMaterial){const Mr=ve.uniformsGroups;for(let Tr=0,mc=Mr.length;Tr<mc;Tr++){const la=Mr[Tr];Fe.update(la,rr),Fe.bind(la,rr)}}return rr}function ui(V,le){V.ambientLightColor.needsUpdate=le,V.lightProbe.needsUpdate=le,V.directionalLights.needsUpdate=le,V.directionalLightShadows.needsUpdate=le,V.pointLights.needsUpdate=le,V.pointLightShadows.needsUpdate=le,V.spotLights.needsUpdate=le,V.spotLightShadows.needsUpdate=le,V.rectAreaLights.needsUpdate=le,V.hemisphereLights.needsUpdate=le}function di(V){return V.isMeshLambertMaterial||V.isMeshToonMaterial||V.isMeshPhongMaterial||V.isMeshStandardMaterial||V.isShadowMaterial||V.isShaderMaterial&&V.lights===!0}this.getActiveCubeFace=function(){return W},this.getActiveMipmapLevel=function(){return Z},this.getRenderTarget=function(){return J},this.setRenderTargetTextures=function(V,le,Ee){const ve=F.get(V);ve.__autoAllocateDepthBuffer=V.resolveDepthBuffer===!1,ve.__autoAllocateDepthBuffer===!1&&(ve.__useRenderToTexture=!1),F.get(V.texture).__webglTexture=le,F.get(V.depthTexture).__webglTexture=ve.__autoAllocateDepthBuffer?void 0:Ee,ve.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(V,le){const Ee=F.get(V);Ee.__webglFramebuffer=le,Ee.__useDefaultFramebuffer=le===void 0};const Ur=K.createFramebuffer();this.setRenderTarget=function(V,le=0,Ee=0){J=V,W=le,Z=Ee;let ve=null,he=!1,je=!1;if(V){const Xe=F.get(V);if(Xe.__useDefaultFramebuffer!==void 0){Ye.bindFramebuffer(K.FRAMEBUFFER,Xe.__webglFramebuffer),Y.copy(V.viewport),Q.copy(V.scissor),ue=V.scissorTest,Ye.viewport(Y),Ye.scissor(Q),Ye.setScissorTest(ue),ee=-1;return}else if(Xe.__webglFramebuffer===void 0)ae.setupRenderTarget(V);else if(Xe.__hasExternalTextures)ae.rebindTextures(V,F.get(V.texture).__webglTexture,F.get(V.depthTexture).__webglTexture);else if(V.depthBuffer){const zt=V.depthTexture;if(Xe.__boundDepthTexture!==zt){if(zt!==null&&F.has(zt)&&(V.width!==zt.image.width||V.height!==zt.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");ae.setupDepthRenderbuffer(V)}}const vt=V.texture;(vt.isData3DTexture||vt.isDataArrayTexture||vt.isCompressedArrayTexture)&&(je=!0);const At=F.get(V).__webglFramebuffer;V.isWebGLCubeRenderTarget?(Array.isArray(At[le])?ve=At[le][Ee]:ve=At[le],he=!0):V.samples>0&&ae.useMultisampledRTT(V)===!1?ve=F.get(V).__webglMultisampledFramebuffer:Array.isArray(At)?ve=At[Ee]:ve=At,Y.copy(V.viewport),Q.copy(V.scissor),ue=V.scissorTest}else Y.copy(de).multiplyScalar(Se).floor(),Q.copy(xe).multiplyScalar(Se).floor(),ue=qe;if(Ee!==0&&(ve=Ur),Ye.bindFramebuffer(K.FRAMEBUFFER,ve)&&Ye.drawBuffers(V,ve),Ye.viewport(Y),Ye.scissor(Q),Ye.setScissorTest(ue),he){const Xe=F.get(V.texture);K.framebufferTexture2D(K.FRAMEBUFFER,K.COLOR_ATTACHMENT0,K.TEXTURE_CUBE_MAP_POSITIVE_X+le,Xe.__webglTexture,Ee)}else if(je){const Xe=le;for(let vt=0;vt<V.textures.length;vt++){const At=F.get(V.textures[vt]);K.framebufferTextureLayer(K.FRAMEBUFFER,K.COLOR_ATTACHMENT0+vt,At.__webglTexture,Ee,Xe)}}else if(V!==null&&Ee!==0){const Xe=F.get(V.texture);K.framebufferTexture2D(K.FRAMEBUFFER,K.COLOR_ATTACHMENT0,K.TEXTURE_2D,Xe.__webglTexture,Ee)}ee=-1},this.readRenderTargetPixels=function(V,le,Ee,ve,he,je,dt,Xe=0){if(!(V&&V.isWebGLRenderTarget)){It("WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let vt=F.get(V).__webglFramebuffer;if(V.isWebGLCubeRenderTarget&&dt!==void 0&&(vt=vt[dt]),vt){Ye.bindFramebuffer(K.FRAMEBUFFER,vt);try{const At=V.textures[Xe],zt=At.format,Ct=At.type;if(!ut.textureFormatReadable(zt)){It("WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!ut.textureTypeReadable(Ct)){It("WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}le>=0&&le<=V.width-ve&&Ee>=0&&Ee<=V.height-he&&(V.textures.length>1&&K.readBuffer(K.COLOR_ATTACHMENT0+Xe),K.readPixels(le,Ee,ve,he,He.convert(zt),He.convert(Ct),je))}finally{const At=J!==null?F.get(J).__webglFramebuffer:null;Ye.bindFramebuffer(K.FRAMEBUFFER,At)}}},this.readRenderTargetPixelsAsync=async function(V,le,Ee,ve,he,je,dt,Xe=0){if(!(V&&V.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let vt=F.get(V).__webglFramebuffer;if(V.isWebGLCubeRenderTarget&&dt!==void 0&&(vt=vt[dt]),vt)if(le>=0&&le<=V.width-ve&&Ee>=0&&Ee<=V.height-he){Ye.bindFramebuffer(K.FRAMEBUFFER,vt);const At=V.textures[Xe],zt=At.format,Ct=At.type;if(!ut.textureFormatReadable(zt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!ut.textureTypeReadable(Ct))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const Wt=K.createBuffer();K.bindBuffer(K.PIXEL_PACK_BUFFER,Wt),K.bufferData(K.PIXEL_PACK_BUFFER,je.byteLength,K.STREAM_READ),V.textures.length>1&&K.readBuffer(K.COLOR_ATTACHMENT0+Xe),K.readPixels(le,Ee,ve,he,He.convert(zt),He.convert(Ct),0);const Fn=J!==null?F.get(J).__webglFramebuffer:null;Ye.bindFramebuffer(K.FRAMEBUFFER,Fn);const pi=K.fenceSync(K.SYNC_GPU_COMMANDS_COMPLETE,0);return K.flush(),await ZR(K,pi,4),K.bindBuffer(K.PIXEL_PACK_BUFFER,Wt),K.getBufferSubData(K.PIXEL_PACK_BUFFER,0,je),K.deleteBuffer(Wt),K.deleteSync(pi),je}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(V,le=null,Ee=0){const ve=Math.pow(2,-Ee),he=Math.floor(V.image.width*ve),je=Math.floor(V.image.height*ve),dt=le!==null?le.x:0,Xe=le!==null?le.y:0;ae.setTexture2D(V,0),K.copyTexSubImage2D(K.TEXTURE_2D,Ee,0,0,dt,Xe,he,je),Ye.unbindTexture()};const ks=K.createFramebuffer(),fi=K.createFramebuffer();this.copyTextureToTexture=function(V,le,Ee=null,ve=null,he=0,je=null){je===null&&(he!==0?(_0("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),je=he,he=0):je=0);let dt,Xe,vt,At,zt,Ct,Wt,Fn,pi;const ii=V.isCompressedTexture?V.mipmaps[je]:V.image;if(Ee!==null)dt=Ee.max.x-Ee.min.x,Xe=Ee.max.y-Ee.min.y,vt=Ee.isBox3?Ee.max.z-Ee.min.z:1,At=Ee.min.x,zt=Ee.min.y,Ct=Ee.isBox3?Ee.min.z:0;else{const sr=Math.pow(2,-he);dt=Math.floor(ii.width*sr),Xe=Math.floor(ii.height*sr),V.isDataArrayTexture?vt=ii.depth:V.isData3DTexture?vt=Math.floor(ii.depth*sr):vt=1,At=0,zt=0,Ct=0}ve!==null?(Wt=ve.x,Fn=ve.y,pi=ve.z):(Wt=0,Fn=0,pi=0);const nn=He.convert(le.format),mt=He.convert(le.type);let Pn;le.isData3DTexture?(ae.setTexture3D(le,0),Pn=K.TEXTURE_3D):le.isDataArrayTexture||le.isCompressedArrayTexture?(ae.setTexture2DArray(le,0),Pn=K.TEXTURE_2D_ARRAY):(ae.setTexture2D(le,0),Pn=K.TEXTURE_2D),K.pixelStorei(K.UNPACK_FLIP_Y_WEBGL,le.flipY),K.pixelStorei(K.UNPACK_PREMULTIPLY_ALPHA_WEBGL,le.premultiplyAlpha),K.pixelStorei(K.UNPACK_ALIGNMENT,le.unpackAlignment);const Yt=K.getParameter(K.UNPACK_ROW_LENGTH),rr=K.getParameter(K.UNPACK_IMAGE_HEIGHT),ka=K.getParameter(K.UNPACK_SKIP_PIXELS),bi=K.getParameter(K.UNPACK_SKIP_ROWS),is=K.getParameter(K.UNPACK_SKIP_IMAGES);K.pixelStorei(K.UNPACK_ROW_LENGTH,ii.width),K.pixelStorei(K.UNPACK_IMAGE_HEIGHT,ii.height),K.pixelStorei(K.UNPACK_SKIP_PIXELS,At),K.pixelStorei(K.UNPACK_SKIP_ROWS,zt),K.pixelStorei(K.UNPACK_SKIP_IMAGES,Ct);const Wn=V.isDataArrayTexture||V.isData3DTexture,hr=le.isDataArrayTexture||le.isData3DTexture;if(V.isDepthTexture){const sr=F.get(V),Mr=F.get(le),Tr=F.get(sr.__renderTarget),mc=F.get(Mr.__renderTarget);Ye.bindFramebuffer(K.READ_FRAMEBUFFER,Tr.__webglFramebuffer),Ye.bindFramebuffer(K.DRAW_FRAMEBUFFER,mc.__webglFramebuffer);for(let la=0;la<vt;la++)Wn&&(K.framebufferTextureLayer(K.READ_FRAMEBUFFER,K.COLOR_ATTACHMENT0,F.get(V).__webglTexture,he,Ct+la),K.framebufferTextureLayer(K.DRAW_FRAMEBUFFER,K.COLOR_ATTACHMENT0,F.get(le).__webglTexture,je,pi+la)),K.blitFramebuffer(At,zt,dt,Xe,Wt,Fn,dt,Xe,K.DEPTH_BUFFER_BIT,K.NEAREST);Ye.bindFramebuffer(K.READ_FRAMEBUFFER,null),Ye.bindFramebuffer(K.DRAW_FRAMEBUFFER,null)}else if(he!==0||V.isRenderTargetTexture||F.has(V)){const sr=F.get(V),Mr=F.get(le);Ye.bindFramebuffer(K.READ_FRAMEBUFFER,ks),Ye.bindFramebuffer(K.DRAW_FRAMEBUFFER,fi);for(let Tr=0;Tr<vt;Tr++)Wn?K.framebufferTextureLayer(K.READ_FRAMEBUFFER,K.COLOR_ATTACHMENT0,sr.__webglTexture,he,Ct+Tr):K.framebufferTexture2D(K.READ_FRAMEBUFFER,K.COLOR_ATTACHMENT0,K.TEXTURE_2D,sr.__webglTexture,he),hr?K.framebufferTextureLayer(K.DRAW_FRAMEBUFFER,K.COLOR_ATTACHMENT0,Mr.__webglTexture,je,pi+Tr):K.framebufferTexture2D(K.DRAW_FRAMEBUFFER,K.COLOR_ATTACHMENT0,K.TEXTURE_2D,Mr.__webglTexture,je),he!==0?K.blitFramebuffer(At,zt,dt,Xe,Wt,Fn,dt,Xe,K.COLOR_BUFFER_BIT,K.NEAREST):hr?K.copyTexSubImage3D(Pn,je,Wt,Fn,pi+Tr,At,zt,dt,Xe):K.copyTexSubImage2D(Pn,je,Wt,Fn,At,zt,dt,Xe);Ye.bindFramebuffer(K.READ_FRAMEBUFFER,null),Ye.bindFramebuffer(K.DRAW_FRAMEBUFFER,null)}else hr?V.isDataTexture||V.isData3DTexture?K.texSubImage3D(Pn,je,Wt,Fn,pi,dt,Xe,vt,nn,mt,ii.data):le.isCompressedArrayTexture?K.compressedTexSubImage3D(Pn,je,Wt,Fn,pi,dt,Xe,vt,nn,ii.data):K.texSubImage3D(Pn,je,Wt,Fn,pi,dt,Xe,vt,nn,mt,ii):V.isDataTexture?K.texSubImage2D(K.TEXTURE_2D,je,Wt,Fn,dt,Xe,nn,mt,ii.data):V.isCompressedTexture?K.compressedTexSubImage2D(K.TEXTURE_2D,je,Wt,Fn,ii.width,ii.height,nn,ii.data):K.texSubImage2D(K.TEXTURE_2D,je,Wt,Fn,dt,Xe,nn,mt,ii);K.pixelStorei(K.UNPACK_ROW_LENGTH,Yt),K.pixelStorei(K.UNPACK_IMAGE_HEIGHT,rr),K.pixelStorei(K.UNPACK_SKIP_PIXELS,ka),K.pixelStorei(K.UNPACK_SKIP_ROWS,bi),K.pixelStorei(K.UNPACK_SKIP_IMAGES,is),je===0&&le.generateMipmaps&&K.generateMipmap(Pn),Ye.unbindTexture()},this.initRenderTarget=function(V){F.get(V).__webglFramebuffer===void 0&&ae.setupRenderTarget(V)},this.initTexture=function(V){V.isCubeTexture?ae.setTextureCube(V,0):V.isData3DTexture?ae.setTexture3D(V,0):V.isDataArrayTexture||V.isCompressedArrayTexture?ae.setTexture2DArray(V,0):ae.setTexture2D(V,0),Ye.unbindTexture()},this.resetState=function(){W=0,Z=0,J=null,Ye.reset(),it.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return eo}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=Bn._getDrawingBufferColorSpace(e),t.unpackColorSpace=Bn._getUnpackColorSpace()}}const HP=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:a3,AddEquation:lf,AddOperation:GA,AdditiveAnimationBlendMode:g4,AdditiveBlending:sM,AgXToneMapping:o4,AlphaFormat:p4,AlwaysCompare:ew,AlwaysDepth:og,AlwaysStencilFunc:cM,AmbientLight:Yw,AnimationAction:t6,AnimationClip:Tg,AnimationLoader:FD,AnimationMixer:p9,AnimationObjectGroup:h9,AnimationUtils:PD,ArcCurve:bw,ArrayCamera:Jw,ArrowHelper:k9,AttachedBindMode:lM,Audio:$w,AudioAnalyser:n9,AudioContext:G4,AudioListener:$D,AudioLoader:QD,AxesHelper:V9,BackSide:Wr,BasicDepthPacking:Cf,BasicShadowMap:MA,BatchedMesh:mw,Bone:M4,BooleanKeyframeTrack:pd,Box2:T9,Box3:zs,Box3Helper:B9,BoxGeometry:dd,BoxHelper:z9,BufferAttribute:ci,BufferGeometry:an,BufferGeometryLoader:Kw,ByteType:u4,Cache:rc,Camera:x3,CameraHelper:I9,CanvasTexture:rD,CapsuleGeometry:A3,CatmullRomCurve3:Sw,CineonToneMapping:s4,CircleGeometry:w3,ClampToEdgeWrapping:La,Clock:W4,Color:Mt,ColorKeyframeTrack:F4,ColorManagement:Bn,CompressedArrayTexture:nD,CompressedCubeTexture:iD,CompressedTexture:E3,CompressedTextureLoader:kD,ConeGeometry:Hg,ConstantAlphaFactor:kA,ConstantColorFactor:BA,Controls:G9,CubeCamera:cw,CubeDepthTexture:xw,CubeReflectionMapping:uc,CubeRefractionMapping:bf,CubeTexture:kg,CubeTextureLoader:VD,CubeUVReflectionMapping:L0,CubicBezierCurve:w4,CubicBezierCurve3:Mw,CubicInterpolant:Fw,CullFaceBack:rM,CullFaceFront:SA,CullFaceFrontBack:sR,CullFaceNone:bA,Curve:yl,CurvePath:Ew,CustomBlending:TA,CustomToneMapping:a4,CylinderGeometry:Vg,Cylindrical:M9,Data3DTexture:_3,DataArrayTexture:v3,DataTexture:vl,DataTextureLoader:HD,DataUtils:w7,DecrementStencilOp:MR,DecrementWrapStencilOp:ER,DefaultLoadingManager:Hw,DepthFormat:fc,DepthStencilFormat:tu,DepthTexture:od,DetachedBindMode:WA,DirectionalLight:qw,DirectionalLightHelper:P9,DiscreteInterpolant:kw,DodecahedronGeometry:C3,DoubleSide:Na,DstAlphaFactor:OA,DstColorFactor:PA,DynamicCopyUsage:kR,DynamicDrawUsage:UR,DynamicReadUsage:zR,EdgesGeometry:yw,EllipseCurve:R3,EqualCompare:KA,EqualDepth:ty,EqualStencilFunc:RR,EquirectangularReflectionMapping:lg,EquirectangularRefractionMapping:cg,Euler:xl,EventDispatcher:uo,ExternalTexture:E4,ExtrudeGeometry:D3,FileLoader:su,Float16BufferAttribute:U7,Float32BufferAttribute:wt,FloatType:Ps,Fog:b3,FogExp2:y3,FramebufferTexture:tD,FrontSide:cc,Frustum:U0,FrustumArray:T3,GLBufferAttribute:x9,GLSL1:HR,GLSL3:uM,GreaterCompare:JA,GreaterDepth:iy,GreaterEqualCompare:g3,GreaterEqualDepth:ny,GreaterEqualStencilFunc:OR,GreaterStencilFunc:NR,GridHelper:O9,Group:i0,HalfFloatType:_l,HemisphereLight:Gw,HemisphereLightHelper:L9,IcosahedronGeometry:N3,ImageBitmapLoader:ZD,ImageLoader:Eg,ImageUtils:rw,IncrementStencilOp:SR,IncrementWrapStencilOp:TR,InstancedBufferAttribute:S0,InstancedBufferGeometry:Qw,InstancedInterleavedBuffer:_9,InstancedMesh:pw,Int16BufferAttribute:L7,Int32BufferAttribute:O7,Int8BufferAttribute:R7,IntType:l3,InterleavedBuffer:S3,InterleavedBufferAttribute:ad,Interpolant:Xg,InterpolateDiscrete:hg,InterpolateLinear:zy,InterpolateSmooth:Bx,InterpolationSamplingMode:XR,InterpolationSamplingType:WR,InvertStencilOp:AR,KeepStencilOp:Ph,KeyframeTrack:Wo,LOD:hw,LatheGeometry:L3,Layers:y0,LessCompare:QA,LessDepth:ey,LessEqualCompare:m3,LessEqualDepth:id,LessEqualStencilFunc:DR,LessStencilFunc:CR,Light:Lf,LightProbe:Zw,Line:Mf,Line3:w9,LineBasicMaterial:oa,LineCurve:C4,LineCurve3:Tw,LineDashedMaterial:zw,LineLoop:gw,LineSegments:pc,LinearFilter:hi,LinearInterpolant:B4,LinearMipMapLinearFilter:cR,LinearMipMapNearestFilter:lR,LinearMipmapLinearFilter:ic,LinearMipmapNearestFilter:z1,LinearSRGBColorSpace:hc,LinearToneMapping:i4,LinearTransfer:pg,Loader:Fa,LoaderUtils:mM,LoadingManager:k4,LoopOnce:XA,LoopPingPong:YA,LoopRepeat:qA,MOUSE:iR,Material:ns,MaterialLoader:F3,MathUtils:h7,Matrix2:Y4,Matrix3:dn,Matrix4:en,MaxEquation:CA,Mesh:br,MeshBasicMaterial:Df,MeshDepthMaterial:P4,MeshDistanceMaterial:I4,MeshLambertMaterial:Pw,MeshMatcapMaterial:Iw,MeshNormalMaterial:U4,MeshPhongMaterial:Ow,MeshPhysicalMaterial:Lw,MeshStandardMaterial:O4,MeshToonMaterial:Uw,MinEquation:wA,MirroredRepeatWrapping:fg,MixOperation:HA,MultiplyBlending:oM,MultiplyOperation:Bg,NearestFilter:Fi,NearestMipMapLinearFilter:oR,NearestMipMapNearestFilter:aR,NearestMipmapLinearFilter:t0,NearestMipmapNearestFilter:c4,NeutralToneMapping:l4,NeverCompare:ZA,NeverDepth:$x,NeverStencilFunc:wR,NoBlending:io,NoColorSpace:pl,NoNormalPacking:vR,NoToneMapping:ro,NormalAnimationBlendMode:p3,NormalBlending:qh,NormalGAPacking:xR,NormalRGPacking:_R,NotEqualCompare:$A,NotEqualDepth:ry,NotEqualStencilFunc:LR,NumberKeyframeTrack:Sg,Object3D:qn,ObjectLoader:YD,ObjectSpaceNormalMap:jA,OctahedronGeometry:Gg,OneFactor:DA,OneMinusConstantAlphaFactor:VA,OneMinusConstantColorFactor:FA,OneMinusDstAlphaFactor:UA,OneMinusDstColorFactor:IA,OneMinusSrcAlphaFactor:Jx,OneMinusSrcColorFactor:LA,OrthographicCamera:gd,PCFShadowMap:o0,PCFSoftShadowMap:I1,PMREMGenerator:_M,Path:Vy,PerspectiveCamera:Hr,Plane:of,PlaneGeometry:P0,PlaneHelper:F9,PointLight:Xw,PointLightHelper:D9,Points:vw,PointsMaterial:T4,PolarGridHelper:U9,PolyhedronGeometry:Nf,PositionalAudio:t9,PropertyBinding:Xn,PropertyMixer:e6,QuadraticBezierCurve:R4,QuadraticBezierCurve3:D4,Quaternion:Oa,QuaternionKeyframeTrack:qg,QuaternionLinearInterpolant:Vw,R11_EAC_Format:hy,RED_GREEN_RGTC2_Format:Py,RED_RGTC1_Format:Oy,REVISION:zg,RG11_EAC_Format:py,RGBADepthPacking:pR,RGBAFormat:Is,RGBAIntegerFormat:d3,RGBA_ASTC_10x10_Format:wy,RGBA_ASTC_10x5_Format:Ty,RGBA_ASTC_10x6_Format:Ey,RGBA_ASTC_10x8_Format:Ay,RGBA_ASTC_12x10_Format:Cy,RGBA_ASTC_12x12_Format:Ry,RGBA_ASTC_4x4_Format:gy,RGBA_ASTC_5x4_Format:vy,RGBA_ASTC_5x5_Format:_y,RGBA_ASTC_6x5_Format:xy,RGBA_ASTC_6x6_Format:yy,RGBA_ASTC_8x5_Format:by,RGBA_ASTC_8x6_Format:Sy,RGBA_ASTC_8x8_Format:My,RGBA_BPTC_Format:Dy,RGBA_ETC2_EAC_Format:fy,RGBA_PVRTC_2BPPV1_Format:ly,RGBA_PVRTC_4BPPV1_Format:oy,RGBA_S3TC_DXT1_Format:F1,RGBA_S3TC_DXT3_Format:k1,RGBA_S3TC_DXT5_Format:V1,RGBDepthPacking:mR,RGBFormat:m4,RGBIntegerFormat:uR,RGB_BPTC_SIGNED_Format:Ny,RGB_BPTC_UNSIGNED_Format:Ly,RGB_ETC1_Format:cy,RGB_ETC2_Format:uy,RGB_PVRTC_2BPPV1_Format:ay,RGB_PVRTC_4BPPV1_Format:sy,RGB_S3TC_DXT1_Format:B1,RGDepthPacking:gR,RGFormat:sd,RGIntegerFormat:h3,RawShaderMaterial:L4,Ray:O0,Raycaster:n6,RectAreaLight:jw,RedFormat:f3,RedIntegerFormat:Fg,ReinhardToneMapping:r4,RenderTarget:_4,RenderTarget3D:m9,RepeatWrapping:ug,ReplaceStencilOp:bR,ReverseSubtractEquation:AA,RingGeometry:O3,SIGNED_R11_EAC_Format:dy,SIGNED_RED_GREEN_RGTC2_Format:Iy,SIGNED_RED_RGTC1_Format:Uy,SIGNED_RG11_EAC_Format:my,SRGBColorSpace:Bi,SRGBTransfer:ai,Scene:_g,ShaderChunk:xn,ShaderLib:dl,ShaderMaterial:Fs,ShadowMaterial:Nw,Shape:jh,ShapeGeometry:U3,ShapePath:H9,ShapeUtils:ml,ShortType:f4,Skeleton:M3,SkeletonHelper:R9,SkinnedMesh:dw,Source:ff,Sphere:ms,SphereGeometry:Wg,Spherical:S9,SphericalHarmonics3:H4,SplineCurve:N4,SpotLight:Ww,SpotLightHelper:C9,Sprite:fw,SpriteMaterial:S4,SrcAlphaFactor:Kx,SrcAlphaSaturateFactor:zA,SrcColorFactor:NA,StaticCopyUsage:FR,StaticDrawUsage:mg,StaticReadUsage:IR,StereoCamera:KD,StreamCopyUsage:VR,StreamDrawUsage:PR,StreamReadUsage:BR,StringKeyframeTrack:md,SubtractEquation:EA,SubtractiveBlending:aM,TOUCH:rR,TangentSpaceNormalMap:Rf,TetrahedronGeometry:P3,Texture:qi,TextureLoader:GD,TextureUtils:j9,Timer:y9,TimestampQuery:GR,TorusGeometry:I3,TorusKnotGeometry:z3,Triangle:cf,TriangleFanDrawMode:dR,TriangleStripDrawMode:hR,TrianglesDrawMode:fR,TubeGeometry:B3,UVMapping:o3,Uint16BufferAttribute:x4,Uint32BufferAttribute:y4,Uint8BufferAttribute:D7,Uint8ClampedBufferAttribute:N7,Uniform:li,UniformsGroup:v9,UniformsLib:yt,UniformsUtils:lw,UnsignedByteType:Gr,UnsignedInt101111Type:d4,UnsignedInt248Type:rd,UnsignedInt5999Type:h4,UnsignedIntType:oo,UnsignedShort4444Type:c3,UnsignedShort5551Type:u3,UnsignedShortType:g0,VSMShadowMap:kh,Vector2:Ie,Vector3:$,Vector4:Ei,VectorKeyframeTrack:Mg,VideoFrameTexture:eD,VideoTexture:_w,WebGL3DRenderTarget:v7,WebGLArrayRenderTarget:g7,WebGLCoordinateSystem:eo,WebGLCubeRenderTarget:b4,WebGLRenderTarget:Xr,WebGLRenderer:u6,WebGLUtils:c6,WebGPUCoordinateSystem:v0,WebXRController:Fx,WireframeGeometry:Dw,WrapAroundEnding:dg,ZeroCurvatureEnding:Vh,ZeroFactor:RA,ZeroSlopeEnding:Hh,ZeroStencilOp:yR,createCanvasElement:iw,error:It,getConsoleFunction:jR,log:vg,setConsoleFunction:YR,warn:_t,warnOnce:_0},Symbol.toStringTag,{value:"Module"}));var MS={exports:{}},TS={},ES={exports:{}},AS={};var X2;function GP(){if(X2)return AS;X2=1;var i=Ig();function e(_,y){return _===y&&(_!==0||1/_===1/y)||_!==_&&y!==y}var t=typeof Object.is=="function"?Object.is:e,n=i.useState,r=i.useEffect,a=i.useLayoutEffect,l=i.useDebugValue;function u(_,y){var x=y(),M=n({inst:{value:x,getSnapshot:y}}),E=M[0].inst,A=M[1];return a(function(){E.value=x,E.getSnapshot=y,d(E)&&A({inst:E})},[_,x,y]),r(function(){return d(E)&&A({inst:E}),_(function(){d(E)&&A({inst:E})})},[_]),l(x),x}function d(_){var y=_.getSnapshot;_=_.value;try{var x=y();return!t(_,x)}catch{return!0}}function p(_,y){return y()}var v=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:u;return AS.useSyncExternalStore=i.useSyncExternalStore!==void 0?i.useSyncExternalStore:v,AS}var q2;function WP(){return q2||(q2=1,ES.exports=GP()),ES.exports}var Y2;function XP(){if(Y2)return TS;Y2=1;var i=Ig(),e=WP();function t(p,v){return p===v&&(p!==0||1/p===1/v)||p!==p&&v!==v}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,a=i.useRef,l=i.useEffect,u=i.useMemo,d=i.useDebugValue;return TS.useSyncExternalStoreWithSelector=function(p,v,_,y,x){var M=a(null);if(M.current===null){var E={hasValue:!1,value:null};M.current=E}else E=M.current;M=u(function(){function T(I){if(!R){if(R=!0,D=I,I=y(I),x!==void 0&&E.hasValue){var B=E.value;if(x(B,I))return N=B}return N=I}if(B=N,n(D,I))return B;var k=y(I);return x!==void 0&&x(B,k)?(D=I,B):(D=I,N=k)}var R=!1,D,N,U=_===void 0?null:_;return[function(){return T(v())},U===null?void 0:function(){return T(U())}]},[v,_,y,x]);var A=r(p,M[0],M[1]);return l(function(){E.hasValue=!0,E.value=A},[A]),d(A),A},TS}var j2;function qP(){return j2||(j2=1,MS.exports=XP()),MS.exports}var YP=qP();const jP=n4(YP),Z2=i=>{let e;const t=new Set,n=(p,v)=>{const _=typeof p=="function"?p(e):p;if(!Object.is(_,e)){const y=e;e=v??(typeof _!="object"||_===null)?_:Object.assign({},e,_),t.forEach(x=>x(e,y))}},r=()=>e,u={setState:n,getState:r,getInitialState:()=>d,subscribe:p=>(t.add(p),()=>t.delete(p))},d=e=i(n,r,u);return u},ZP=(i=>i?Z2(i):Z2),{useSyncExternalStoreWithSelector:QP}=jP,KP=i=>i;function JP(i,e=KP,t){const n=QP(i.subscribe,i.getState,i.getInitialState,e,t);return oc.useDebugValue(n),n}const Q2=(i,e)=>{const t=ZP(i),n=(r,a=e)=>JP(t,r,a);return Object.assign(n,t),n},$P=((i,e)=>i?Q2(i,e):Q2);var bM=yA();const eI=n4(bM);function j4(i,e,t){if(!i)return;if(t(i)===!0)return i;let n=e?i.return:i.child;for(;n;){const r=j4(n,e,t);if(r)return r;n=e?null:n.sibling}}function f6(i){try{return Object.defineProperties(i,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return i}}const Z4=f6(gt.createContext(null));class h6 extends gt.Component{render(){return gt.createElement(Z4.Provider,{value:this._reactInternals},this.props.children)}}function d6(){const i=gt.useContext(Z4);if(i===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=gt.useId();return gt.useMemo(()=>{for(const t of[i,i?.alternate]){if(!t)continue;const n=j4(t,!1,r=>{let a=r.memoizedState;for(;a;){if(a.memoizedState===e)return!0;a=a.next}});if(n)return n}},[i,e])}const tI=Symbol.for("react.context"),nI=i=>i!==null&&typeof i=="object"&&"$$typeof"in i&&i.$$typeof===tI;function iI(){const i=d6(),[e]=gt.useState(()=>new Map);e.clear();let t=i;for(;t;){const n=t.type;nI(n)&&n!==Z4&&!e.has(n)&&e.set(n,gt.use(f6(n))),t=t.return}return e}function rI(){const i=iI();return gt.useMemo(()=>Array.from(i.keys()).reduce((e,t)=>n=>gt.createElement(e,null,gt.createElement(t.Provider,{...n,value:i.get(t)})),e=>gt.createElement(h6,{...e})),[i])}function p6(i){let e=i.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const m6=i=>i&&i.isOrthographicCamera,sI=i=>i&&i.hasOwnProperty("current"),aI=i=>i!=null&&(typeof i=="string"||typeof i=="number"||i.isColor),Yg=((i,e)=>typeof window<"u"&&(((i=window.document)==null?void 0:i.createElement)||((e=window.navigator)==null?void 0:e.product)==="ReactNative"))()?gt.useLayoutEffect:gt.useEffect;function g6(i){const e=gt.useRef(i);return Yg(()=>{e.current=i},[i]),e}function oI(){const i=d6(),e=rI();return gt.useMemo(()=>({children:t})=>{const r=!!j4(i,!0,a=>a.type===gt.StrictMode)?gt.StrictMode:gt.Fragment;return fe.jsx(r,{children:fe.jsx(e,{children:t})})},[i,e])}function lI({set:i}){return Yg(()=>(i(new Promise(()=>null)),()=>i(!1)),[i]),null}const cI=(i=>(i=class extends gt.Component{constructor(...t){super(...t),this.state={error:!1}}componentDidCatch(t){this.props.set(t)}render(){return this.state.error?null:this.props.children}},i.getDerivedStateFromError=()=>({error:!0}),i))();function v6(i){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(i)?Math.min(Math.max(i[0],t),i[1]):i}function qp(i){var e;return(e=i.__r3f)==null?void 0:e.root.getState()}const $i={obj:i=>i===Object(i)&&!$i.arr(i)&&typeof i!="function",fun:i=>typeof i=="function",str:i=>typeof i=="string",num:i=>typeof i=="number",boo:i=>typeof i=="boolean",und:i=>i===void 0,nul:i=>i===null,arr:i=>Array.isArray(i),equ(i,e,{arrays:t="shallow",objects:n="reference",strict:r=!0}={}){if(typeof i!=typeof e||!!i!=!!e)return!1;if($i.str(i)||$i.num(i)||$i.boo(i))return i===e;const a=$i.obj(i);if(a&&n==="reference")return i===e;const l=$i.arr(i);if(l&&t==="reference")return i===e;if((l||a)&&i===e)return!0;let u;for(u in i)if(!(u in e))return!1;if(a&&t==="shallow"&&n==="shallow"){for(u in r?e:i)if(!$i.equ(i[u],e[u],{strict:r,objects:"reference"}))return!1}else for(u in r?e:i)if(i[u]!==e[u])return!1;if($i.und(u)){if(l&&i.length===0&&e.length===0||a&&Object.keys(i).length===0&&Object.keys(e).length===0)return!0;if(i!==e)return!1}return!0}};function uI(i){i.type!=="Scene"&&(i.dispose==null||i.dispose());for(const e in i){const t=i[e];t?.type!=="Scene"&&(t==null||t.dispose==null||t.dispose())}}const _6=["children","key","ref"];function fI(i){const e={};for(const t in i)_6.includes(t)||(e[t]=i[t]);return e}function Hy(i,e,t,n){const r=i;let a=r?.__r3f;return a||(a={root:e,type:t,parent:null,children:[],props:fI(n),object:r,eventCount:0,handlers:{},isHidden:!1},r&&(r.__r3f=a)),a}function Ag(i,e){if(!e.includes("-"))return{root:i,key:e,target:i[e]};if(e in i)return{root:i,key:e,target:i[e]};let t=i;const n=e.split("-");for(const r of n){if(typeof t!="object"||t===null){if(t!==void 0){const a=n.slice(n.indexOf(r)).join("-");return{root:t,key:a,target:void 0}}return{root:i,key:e,target:void 0}}e=r,i=t,t=t[e]}return{root:i,key:e,target:t}}const K2=/-\d+$/;function Gy(i,e){if($i.str(e.props.attach)){if(K2.test(e.props.attach)){const r=e.props.attach.replace(K2,""),{root:a,key:l}=Ag(i.object,r);Array.isArray(a[l])||(a[l]=[])}const{root:t,key:n}=Ag(i.object,e.props.attach);e.previousAttach=t[n],t[n]=e.object}else $i.fun(e.props.attach)&&(e.previousAttach=e.props.attach(i.object,e.object))}function Wy(i,e){if($i.str(e.props.attach)){const{root:t,key:n}=Ag(i.object,e.props.attach),r=e.previousAttach;r===void 0?delete t[n]:t[n]=r}else e.previousAttach==null||e.previousAttach(i.object,e.object);delete e.previousAttach}const SM=[..._6,"args","dispose","attach","object","onUpdate","dispose"],J2=new Map;function hI(i){let e=J2.get(i.constructor);try{e||(e=new i.constructor,J2.set(i.constructor,e))}catch{}return e}function dI(i,e){const t={};for(const n in e)if(!SM.includes(n)&&!$i.equ(e[n],i.props[n])){t[n]=e[n];for(const r in e)r.startsWith(`${n}-`)&&(t[r]=e[r])}for(const n in i.props){if(SM.includes(n)||e.hasOwnProperty(n))continue;const{root:r,key:a}=Ag(i.object,n);if(r.constructor&&r.constructor.length===0){const l=hI(r);$i.und(l)||(t[a]=l[a])}else t[a]=0}return t}const pI=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],mI=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function uf(i,e){var t;const n=i.__r3f,r=n&&p6(n).getState(),a=n?.eventCount;for(const u in e){let d=e[u];if(SM.includes(u))continue;if(n&&mI.test(u)){typeof d=="function"?n.handlers[u]=d:delete n.handlers[u],n.eventCount=Object.keys(n.handlers).length;continue}if(d===void 0)continue;let{root:p,key:v,target:_}=Ag(i,u);if(_===void 0&&(typeof p!="object"||p===null))throw Error(`R3F: Cannot set "${u}". Ensure it is an object before setting "${v}".`);if(_ instanceof y0&&d instanceof y0)_.mask=d.mask;else if(_ instanceof Mt&&aI(d))_.set(d);else if(_!==null&&typeof _=="object"&&typeof _.set=="function"&&typeof _.copy=="function"&&d!=null&&d.constructor&&_.constructor===d.constructor)_.copy(d);else if(_!==null&&typeof _=="object"&&typeof _.set=="function"&&Array.isArray(d))typeof _.fromArray=="function"?_.fromArray(d):_.set(...d);else if(_!==null&&typeof _=="object"&&typeof _.set=="function"&&typeof d=="number")typeof _.setScalar=="function"?_.setScalar(d):_.set(d);else{var l;p[v]=d,r&&!r.linear&&pI.includes(v)&&(l=p[v])!=null&&l.isTexture&&p[v].format===Is&&p[v].type===Gr&&(p[v].colorSpace=Bi)}}if(n!=null&&n.parent&&r!=null&&r.internal&&(t=n.object)!=null&&t.isObject3D&&a!==n.eventCount){const u=n.object,d=r.internal.interaction.indexOf(u);d>-1&&r.internal.interaction.splice(d,1),n.eventCount&&u.raycast!==null&&r.internal.interaction.push(u)}return n&&n.props.attach===void 0&&(n.object.isBufferGeometry?n.props.attach="geometry":n.object.isMaterial&&(n.props.attach="material")),n&&z0(n),i}function z0(i){var e;if(!i.parent)return;i.props.onUpdate==null||i.props.onUpdate(i.object);const t=(e=i.root)==null||e.getState==null?void 0:e.getState();t&&t.internal.frames===0&&t.invalidate()}function gI(i,e){i.manual||(m6(i)?(i.left=e.width/-2,i.right=e.width/2,i.top=e.height/2,i.bottom=e.height/-2):i.aspect=e.width/e.height,i.updateProjectionMatrix())}const Da=i=>i?.isObject3D;function Sx(i){return(i.eventObject||i.object).uuid+"/"+i.index+i.instanceId}function x6(i,e,t,n){const r=t.get(e);r&&(t.delete(e),t.size===0&&(i.delete(n),r.target.releasePointerCapture(n)))}function vI(i,e){const{internal:t}=i.getState();t.interaction=t.interaction.filter(n=>n!==e),t.initialHits=t.initialHits.filter(n=>n!==e),t.hovered.forEach((n,r)=>{(n.eventObject===e||n.object===e)&&t.hovered.delete(r)}),t.capturedMap.forEach((n,r)=>{x6(t.capturedMap,e,n,r)})}function _I(i){function e(d){const{internal:p}=i.getState(),v=d.offsetX-p.initialClick[0],_=d.offsetY-p.initialClick[1];return Math.round(Math.sqrt(v*v+_*_))}function t(d){return d.filter(p=>["Move","Over","Enter","Out","Leave"].some(v=>{var _;return(_=p.__r3f)==null?void 0:_.handlers["onPointer"+v]}))}function n(d,p){const v=i.getState(),_=new Set,y=[],x=p?p(v.internal.interaction):v.internal.interaction;for(let T=0;T<x.length;T++){const R=qp(x[T]);R&&(R.raycaster.camera=void 0)}v.previousRoot||v.events.compute==null||v.events.compute(d,v);function M(T){const R=qp(T);if(!R||!R.events.enabled||R.raycaster.camera===null)return[];if(R.raycaster.camera===void 0){var D;R.events.compute==null||R.events.compute(d,R,(D=R.previousRoot)==null?void 0:D.getState()),R.raycaster.camera===void 0&&(R.raycaster.camera=null)}return R.raycaster.camera?R.raycaster.intersectObject(T,!0):[]}let E=x.flatMap(M).sort((T,R)=>{const D=qp(T.object),N=qp(R.object);return!D||!N?T.distance-R.distance:N.events.priority-D.events.priority||T.distance-R.distance}).filter(T=>{const R=Sx(T);return _.has(R)?!1:(_.add(R),!0)});v.events.filter&&(E=v.events.filter(E,v));for(const T of E){let R=T.object;for(;R;){var A;(A=R.__r3f)!=null&&A.eventCount&&y.push({...T,eventObject:R}),R=R.parent}}if("pointerId"in d&&v.internal.capturedMap.has(d.pointerId))for(let T of v.internal.capturedMap.get(d.pointerId).values())_.has(Sx(T.intersection))||y.push(T.intersection);return y}function r(d,p,v,_){if(d.length){const y={stopped:!1};for(const x of d){let M=qp(x.object);if(M||x.object.traverseAncestors(E=>{const A=qp(E);if(A)return M=A,!1}),M){const{raycaster:E,pointer:A,camera:T,internal:R}=M,D=new $(A.x,A.y,0).unproject(T),N=O=>{var P,W;return(P=(W=R.capturedMap.get(O))==null?void 0:W.has(x.eventObject))!=null?P:!1},U=O=>{const P={intersection:x,target:p.target};R.capturedMap.has(O)?R.capturedMap.get(O).set(x.eventObject,P):R.capturedMap.set(O,new Map([[x.eventObject,P]])),p.target.setPointerCapture(O)},I=O=>{const P=R.capturedMap.get(O);P&&x6(R.capturedMap,x.eventObject,P,O)};let B={};for(let O in p){let P=p[O];typeof P!="function"&&(B[O]=P)}let k={...x,...B,pointer:A,intersections:d,stopped:y.stopped,delta:v,unprojectedPoint:D,ray:E.ray,camera:T,stopPropagation(){const O="pointerId"in p&&R.capturedMap.get(p.pointerId);if((!O||O.has(x.eventObject))&&(k.stopped=y.stopped=!0,R.hovered.size&&Array.from(R.hovered.values()).find(P=>P.eventObject===x.eventObject))){const P=d.slice(0,d.indexOf(x));a([...P,x])}},target:{hasPointerCapture:N,setPointerCapture:U,releasePointerCapture:I},currentTarget:{hasPointerCapture:N,setPointerCapture:U,releasePointerCapture:I},nativeEvent:p};if(_(k),y.stopped===!0)break}}}return d}function a(d){const{internal:p}=i.getState();for(const v of p.hovered.values())if(!d.length||!d.find(_=>_.object===v.object&&_.index===v.index&&_.instanceId===v.instanceId)){const y=v.eventObject.__r3f;if(p.hovered.delete(Sx(v)),y!=null&&y.eventCount){const x=y.handlers,M={...v,intersections:d};x.onPointerOut==null||x.onPointerOut(M),x.onPointerLeave==null||x.onPointerLeave(M)}}}function l(d,p){for(let v=0;v<p.length;v++){const _=p[v].__r3f;_==null||_.handlers.onPointerMissed==null||_.handlers.onPointerMissed(d)}}function u(d){switch(d){case"onPointerLeave":case"onPointerCancel":return()=>a([]);case"onLostPointerCapture":return p=>{const{internal:v}=i.getState();"pointerId"in p&&v.capturedMap.has(p.pointerId)&&requestAnimationFrame(()=>{v.capturedMap.has(p.pointerId)&&(v.capturedMap.delete(p.pointerId),a([]))})}}return function(v){const{onPointerMissed:_,internal:y}=i.getState();y.lastEvent.current=v;const x=d==="onPointerMove",M=d==="onClick"||d==="onContextMenu"||d==="onDoubleClick",A=n(v,x?t:void 0),T=M?e(v):0;d==="onPointerDown"&&(y.initialClick=[v.offsetX,v.offsetY],y.initialHits=A.map(D=>D.eventObject)),M&&!A.length&&T<=2&&(l(v,y.interaction),_&&_(v)),x&&a(A);function R(D){const N=D.eventObject,U=N.__r3f;if(!(U!=null&&U.eventCount))return;const I=U.handlers;if(x){if(I.onPointerOver||I.onPointerEnter||I.onPointerOut||I.onPointerLeave){const B=Sx(D),k=y.hovered.get(B);k?k.stopped&&D.stopPropagation():(y.hovered.set(B,D),I.onPointerOver==null||I.onPointerOver(D),I.onPointerEnter==null||I.onPointerEnter(D))}I.onPointerMove==null||I.onPointerMove(D)}else{const B=I[d];B?(!M||y.initialHits.includes(N))&&(l(v,y.interaction.filter(k=>!y.initialHits.includes(k))),B(D)):M&&y.initialHits.includes(N)&&l(v,y.interaction.filter(k=>!y.initialHits.includes(k)))}}r(A,v,T,R)}}return{handlePointer:u}}const $2=i=>!!(i!=null&&i.render),y6=gt.createContext(null),xI=(i,e)=>{const t=$P((u,d)=>{const p=new $,v=new $,_=new $;function y(T=d().camera,R=v,D=d().size){const{width:N,height:U,top:I,left:B}=D,k=N/U;R.isVector3?_.copy(R):_.set(...R);const O=T.getWorldPosition(p).distanceTo(_);if(m6(T))return{width:N/T.zoom,height:U/T.zoom,top:I,left:B,factor:1,distance:O,aspect:k};{const P=T.fov*Math.PI/180,W=2*Math.tan(P/2)*O,Z=W*(N/U);return{width:Z,height:W,top:I,left:B,factor:N/Z,distance:O,aspect:k}}}let x;const M=T=>u(R=>({performance:{...R.performance,current:T}})),E=new Ie;return{set:u,get:d,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(T=1)=>i(d(),T),advance:(T,R)=>e(T,R,d()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new W4,pointer:E,mouse:E,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const T=d();x&&clearTimeout(x),T.performance.current!==T.performance.min&&M(T.performance.min),x=setTimeout(()=>M(d().performance.max),T.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:y},setEvents:T=>u(R=>({...R,events:{...R.events,...T}})),setSize:(T,R,D=0,N=0)=>{const U=d().camera,I={width:T,height:R,top:D,left:N};u(B=>({size:I,viewport:{...B.viewport,...y(U,v,I)}}))},setDpr:T=>u(R=>{const D=v6(T);return{viewport:{...R.viewport,dpr:D,initialDpr:R.viewport.initialDpr||D}}}),setFrameloop:(T="always")=>{const R=d().clock;R.stop(),R.elapsedTime=0,T!=="never"&&(R.start(),R.elapsedTime=0),u(()=>({frameloop:T}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:gt.createRef(),active:!1,frames:0,priority:0,subscribe:(T,R,D)=>{const N=d().internal;return N.priority=N.priority+(R>0?1:0),N.subscribers.push({ref:T,priority:R,store:D}),N.subscribers=N.subscribers.sort((U,I)=>U.priority-I.priority),()=>{const U=d().internal;U!=null&&U.subscribers&&(U.priority=U.priority-(R>0?1:0),U.subscribers=U.subscribers.filter(I=>I.ref!==T))}}}}}),n=t.getState();let r=n.size,a=n.viewport.dpr,l=n.camera;return t.subscribe(()=>{const{camera:u,size:d,viewport:p,gl:v,set:_}=t.getState();if(d.width!==r.width||d.height!==r.height||p.dpr!==a){r=d,a=p.dpr,gI(u,d),p.dpr>0&&v.setPixelRatio(p.dpr);const y=typeof HTMLCanvasElement<"u"&&v.domElement instanceof HTMLCanvasElement;v.setSize(d.width,d.height,y)}u!==l&&(l=u,_(y=>({viewport:{...y.viewport,...y.viewport.getCurrentViewport(u)}})))}),t.subscribe(u=>i(u)),t};function b6(){const i=gt.useContext(y6);if(!i)throw new Error("R3F: Hooks can only be used within the Canvas component!");return i}function Q4(i=t=>t,e){return b6()(i,e)}function S6(i,e=0){const t=b6(),n=t.getState().internal.subscribe,r=g6(i);return Yg(()=>n(r,e,t),[e,n,t]),null}const yI=1,bI=8,SI=32,MI=2;var TI={version:"9.5.0"};function EI(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var e5={exports:{}},t5={exports:{}},n5;function AI(){return n5||(n5=1,(function(i){i.exports=function(e){function t(c,f,g,b){return new lm(c,f,g,b)}function n(){}function r(c){var f="https://react.dev/errors/"+c;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(c){var f=c,g=c;if(c.alternate)for(;f.return;)f=f.return;else{c=f;do f=c,(f.flags&4098)!==0&&(g=f.return),c=f.return;while(c)}return f.tag===3?g:null}function l(c){if(a(c)!==c)throw Error(r(188))}function u(c){var f=c.alternate;if(!f){if(f=a(c),f===null)throw Error(r(188));return f!==c?null:c}for(var g=c,b=f;;){var C=g.return;if(C===null)break;var L=C.alternate;if(L===null){if(b=C.return,b!==null){g=b;continue}break}if(C.child===L.child){for(L=C.child;L;){if(L===g)return l(C),c;if(L===b)return l(C),f;L=L.sibling}throw Error(r(188))}if(g.return!==b.return)g=C,b=L;else{for(var H=!1,ie=C.child;ie;){if(ie===g){H=!0,g=C,b=L;break}if(ie===b){H=!0,b=C,g=L;break}ie=ie.sibling}if(!H){for(ie=L.child;ie;){if(ie===g){H=!0,g=L,b=C;break}if(ie===b){H=!0,b=L,g=C;break}ie=ie.sibling}if(!H)throw Error(r(189))}}if(g.alternate!==b)throw Error(r(190))}if(g.tag!==3)throw Error(r(188));return g.stateNode.current===g?c:f}function d(c){var f=c.tag;if(f===5||f===26||f===27||f===6)return c;for(c=c.child;c!==null;){if(f=d(c),f!==null)return f;c=c.sibling}return null}function p(c){var f=c.tag;if(f===5||f===26||f===27||f===6)return c;for(c=c.child;c!==null;){if(c.tag!==4&&(f=p(c),f!==null))return f;c=c.sibling}return null}function v(c){return c===null||typeof c!="object"?null:(c=$o&&c[$o]||c["@@iterator"],typeof c=="function"?c:null)}function _(c){if(c==null)return null;if(typeof c=="function")return c.$$typeof===Ul?null:c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case wc:return"Fragment";case Rc:return"Profiler";case Cc:return"StrictMode";case qd:return"Suspense";case Jo:return"SuspenseList";case eh:return"Activity"}if(typeof c=="object")switch(c.$$typeof){case Ac:return"Portal";case ma:return c.displayName||"Context";case $f:return(c._context.displayName||"Context")+".Consumer";case Cu:var f=c.render;return c=c.displayName,c||(c=f.displayName||f.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case Yd:return f=c.displayName||null,f!==null?f:_(c.type)||"Memo";case os:f=c._payload,c=c._init;try{return _(c(f))}catch{}}return null}function y(c){return{current:c}}function x(c){0>Uc||(c.current=ap[Uc],ap[Uc]=null,Uc--)}function M(c,f){Uc++,ap[Uc]=c.current,c.current=f}function E(c){return c>>>=0,c===0?32:31-(op(c)/f_|0)|0}function A(c){var f=c&42;if(f!==0)return f;switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return c&261888;case 262144:case 524288:case 1048576:case 2097152:return c&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return c&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return c}}function T(c,f,g){var b=c.pendingLanes;if(b===0)return 0;var C=0,L=c.suspendedLanes,H=c.pingedLanes;c=c.warmLanes;var ie=b&134217727;return ie!==0?(b=ie&~L,b!==0?C=A(b):(H&=ie,H!==0?C=A(H):g||(g=ie&~c,g!==0&&(C=A(g))))):(ie=b&~L,ie!==0?C=A(ie):H!==0?C=A(H):g||(g=b&~c,g!==0&&(C=A(g)))),C===0?0:f!==0&&f!==C&&(f&L)===0&&(L=C&-C,g=f&-f,L>=g||L===32&&(g&4194048)!==0)?f:C}function R(c,f){return(c.pendingLanes&~(c.suspendedLanes&~c.pingedLanes)&f)===0}function D(c,f){switch(c){case 1:case 2:case 4:case 8:case 64:return f+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function N(){var c=Pu;return Pu<<=1,(Pu&62914560)===0&&(Pu=4194304),c}function U(c){for(var f=[],g=0;31>g;g++)f.push(c);return f}function I(c,f){c.pendingLanes|=f,f!==268435456&&(c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0)}function B(c,f,g,b,C,L){var H=c.pendingLanes;c.pendingLanes=g,c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0,c.expiredLanes&=g,c.entangledLanes&=g,c.errorRecoveryDisabledLanes&=g,c.shellSuspendCounter=0;var ie=c.entanglements,Re=c.expirationTimes,Ge=c.hiddenUpdates;for(g=H&~g;0<g;){var st=31-Ss(g),Ke=1<<st;ie[st]=0,Re[st]=-1;var St=Ge[st];if(St!==null)for(Ge[st]=null,st=0;st<St.length;st++){var sn=St[st];sn!==null&&(sn.lane&=-536870913)}g&=~Ke}b!==0&&k(c,b,0),L!==0&&C===0&&c.tag!==0&&(c.suspendedLanes|=L&~(H&~f))}function k(c,f,g){c.pendingLanes|=f,c.suspendedLanes&=~f;var b=31-Ss(f);c.entangledLanes|=f,c.entanglements[b]=c.entanglements[b]|1073741824|g&261930}function O(c,f){var g=c.entangledLanes|=f;for(c=c.entanglements;g;){var b=31-Ss(g),C=1<<b;C&f|c[b]&f&&(c[b]|=f),g&=~C}}function P(c,f){var g=f&-f;return g=(g&42)!==0?1:W(g),(g&(c.suspendedLanes|f))!==0?0:g}function W(c){switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=128;break;case 268435456:c=134217728;break;default:c=0}return c}function Z(c){return c&=-c,2<c?8<c?(c&134217727)!==0?32:268435456:8:2}function J(c){if(typeof Ym=="function"&&p_(c),Ms&&typeof Ms.setStrictMode=="function")try{Ms.setStrictMode(Ic,c)}catch{}}function ee(c,f){return c===f&&(c!==0||1/c===1/f)||c!==c&&f!==f}function se(c){if(dp===void 0)try{throw Error()}catch(g){var f=g.stack.trim().match(/\n( *(at )?)/);dp=f&&f[1]||"",Ao=-1<g.stack.indexOf(`
    at`)?" (<anonymous>)":-1<g.stack.indexOf("@")?"@unknown:0:0":""}return`
`+dp+c+Ao}function Y(c,f){if(!c||ch)return"";ch=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var b={DetermineComponentFrameRoot:function(){try{if(f){var Ke=function(){throw Error()};if(Object.defineProperty(Ke.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ke,[])}catch(sn){var St=sn}Reflect.construct(c,[],Ke)}else{try{Ke.call()}catch(sn){St=sn}c.call(Ke.prototype)}}else{try{throw Error()}catch(sn){St=sn}(Ke=c())&&typeof Ke.catch=="function"&&Ke.catch(function(){})}}catch(sn){if(sn&&St&&typeof sn.stack=="string")return[sn.stack,St.stack]}return[null,null]}};b.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var C=Object.getOwnPropertyDescriptor(b.DetermineComponentFrameRoot,"name");C&&C.configurable&&Object.defineProperty(b.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var L=b.DetermineComponentFrameRoot(),H=L[0],ie=L[1];if(H&&ie){var Re=H.split(`
`),Ge=ie.split(`
`);for(C=b=0;b<Re.length&&!Re[b].includes("DetermineComponentFrameRoot");)b++;for(;C<Ge.length&&!Ge[C].includes("DetermineComponentFrameRoot");)C++;if(b===Re.length||C===Ge.length)for(b=Re.length-1,C=Ge.length-1;1<=b&&0<=C&&Re[b]!==Ge[C];)C--;for(;1<=b&&0<=C;b--,C--)if(Re[b]!==Ge[C]){if(b!==1||C!==1)do if(b--,C--,0>C||Re[b]!==Ge[C]){var st=`
`+Re[b].replace(" at new "," at ");return c.displayName&&st.includes("<anonymous>")&&(st=st.replace("<anonymous>",c.displayName)),st}while(1<=b&&0<=C);break}}}finally{ch=!1,Error.prepareStackTrace=g}return(g=c?c.displayName||c.name:"")?se(g):""}function Q(c,f){switch(c.tag){case 26:case 27:case 5:return se(c.type);case 16:return se("Lazy");case 13:return c.child!==f&&f!==null?se("Suspense Fallback"):se("Suspense");case 19:return se("SuspenseList");case 0:case 15:return Y(c.type,!1);case 11:return Y(c.type.render,!1);case 1:return Y(c.type,!0);case 31:return se("Activity");default:return""}}function ue(c){try{var f="",g=null;do f+=Q(c,g),g=c,c=c.return;while(c);return f}catch(b){return`
Error generating stack: `+b.message+`
`+b.stack}}function ye(c,f){if(typeof c=="object"&&c!==null){var g=jm.get(c);return g!==void 0?g:(f={value:c,source:f,stack:ue(f)},jm.set(c,f),f)}return{value:c,source:f,stack:ue(f)}}function j(c,f){nl[wo++]=uh,nl[wo++]=si,si=c,uh=f}function X(c,f,g){_a[qs++]=Ir,_a[qs++]=Ha,_a[qs++]=xa,xa=c;var b=Ir;c=Ha;var C=32-Ss(b)-1;b&=~(1<<C),g+=1;var L=32-Ss(f)+C;if(30<L){var H=C-C%5;L=(b&(1<<H)-1).toString(32),b>>=H,C-=H,Ir=1<<32-Ss(f)+C|g<<C|b,Ha=L+c}else Ir=1<<L|g<<C|b,Ha=c}function ce(c){c.return!==null&&(j(c,1),X(c,1,0))}function Se(c){for(;c===si;)si=nl[--wo],nl[wo]=null,uh=nl[--wo],nl[wo]=null;for(;c===xa;)xa=_a[--qs],_a[qs]=null,Ha=_a[--qs],_a[qs]=null,Ir=_a[--qs],_a[qs]=null}function Le(c,f){_a[qs++]=Ir,_a[qs++]=Ha,_a[qs++]=xa,Ir=f.id,Ha=f.overflow,xa=c}function Je(c,f){M(zr,f),M(il,c),M(Cr,null),c=wv(f),x(Cr),M(Cr,c)}function de(){x(Cr),x(il),x(zr)}function xe(c){c.memoizedState!==null&&M(fh,c);var f=Cr.current,g=Nu(f,c.type);f!==g&&(M(il,c),M(Cr,g))}function qe(c){il.current===c&&(x(Cr),x(il)),fh.current===c&&(x(fh),Yi?Lc._currentValue=Nc:Lc._currentValue2=Nc)}function Ze(c){var f=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Be(ye(f,c)),pp}function ct(c,f){if(!wi)throw Error(r(175));$v(c.stateNode,c.type,c.memoizedProps,f,c)||Ze(c,!0)}function Pt(c){for(mr=c.return;mr;)switch(mr.tag){case 5:case 31:case 13:cs=!1;return;case 27:case 3:cs=!0;return;default:mr=mr.return}}function Bt(c){if(!wi||c!==mr)return!1;if(!En)return Pt(c),En=!0,!1;var f=c.tag;if(pr?f!==3&&f!==27&&(f!==5||Uu(c.type)&&!ls(c.type,c.memoizedProps))&&Ci&&Ze(c):f!==3&&(f!==5||Uu(c.type)&&!ls(c.type,c.memoizedProps))&&Ci&&Ze(c),Pt(c),f===13){if(!wi)throw Error(r(316));if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));Ci=Im(c)}else if(f===31){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));Ci=t_(c)}else Ci=pr&&f===27?Xv(c.type,Ci):mr?Wv(c.stateNode):null;return!0}function rt(){wi&&(Ci=mr=null,En=!1)}function Ce(){var c=Co;return c!==null&&(As===null?As=c:As.push.apply(As,c),Co=null),c}function Be(c){Co===null?Co=[c]:Co.push(c)}function Oe(c,f,g){Yi?(M(ya,f._currentValue),f._currentValue=g):(M(ya,f._currentValue2),f._currentValue2=g)}function re(c){var f=ya.current;Yi?c._currentValue=f:c._currentValue2=f,x(ya)}function K(c,f,g){for(;c!==null;){var b=c.alternate;if((c.childLanes&f)!==f?(c.childLanes|=f,b!==null&&(b.childLanes|=f)):b!==null&&(b.childLanes&f)!==f&&(b.childLanes|=f),c===g)break;c=c.return}}function Tt(c,f,g,b){var C=c.child;for(C!==null&&(C.return=c);C!==null;){var L=C.dependencies;if(L!==null){var H=C.child;L=L.firstContext;e:for(;L!==null;){var ie=L;L=C;for(var Re=0;Re<f.length;Re++)if(ie.context===f[Re]){L.lanes|=g,ie=L.alternate,ie!==null&&(ie.lanes|=g),K(L.return,g,c),b||(H=null);break e}L=ie.next}}else if(C.tag===18){if(H=C.return,H===null)throw Error(r(341));H.lanes|=g,L=H.alternate,L!==null&&(L.lanes|=g),K(H,g,c),H=null}else H=C.child;if(H!==null)H.return=C;else for(H=C;H!==null;){if(H===c){H=null;break}if(C=H.sibling,C!==null){C.return=H.return,H=C;break}H=H.return}C=H}}function nt(c,f,g,b){c=null;for(var C=f,L=!1;C!==null;){if(!L){if((C.flags&524288)!==0)L=!0;else if((C.flags&262144)!==0)break}if(C.tag===10){var H=C.alternate;if(H===null)throw Error(r(387));if(H=H.memoizedProps,H!==null){var ie=C.type;Zi(C.pendingProps.value,H.value)||(c!==null?c.push(ie):c=[ie])}}else if(C===fh.current){if(H=C.alternate,H===null)throw Error(r(387));H.memoizedState.memoizedState!==C.memoizedState.memoizedState&&(c!==null?c.push(Lc):c=[Lc])}C=C.return}c!==null&&Tt(f,c,g,b),f.flags|=262144}function ut(c){for(c=c.firstContext;c!==null;){var f=c.context;if(!Zi(Yi?f._currentValue:f._currentValue2,c.memoizedValue))return!0;c=c.next}return!1}function Ye(c){vi=c,Ga=null,c=c.dependencies,c!==null&&(c.firstContext=null)}function q(c){return ae(vi,c)}function F(c,f){return vi===null&&Ye(c),ae(c,f)}function ae(c,f){var g=Yi?f._currentValue:f._currentValue2;if(f={context:f,memoizedValue:g,next:null},Ga===null){if(c===null)throw Error(r(308));Ga=f,c.dependencies={lanes:0,firstContext:f},c.flags|=524288}else Ga=Ga.next=f;return g}function Ae(){return{controller:new m_,data:new Map,refCount:0}}function Ne(c){c.refCount--,c.refCount===0&&Rr(sb,function(){c.controller.abort()})}function Me(){}function at(c){c!==$n&&c.next===null&&($n===null?hh=$n=c:$n=$n.next=c),ba=!0,Qr||(Qr=!0,ft())}function Qe(c,f){if(!mp&&ba){mp=!0;do for(var g=!1,b=hh;b!==null;){if(c!==0){var C=b.pendingLanes;if(C===0)var L=0;else{var H=b.suspendedLanes,ie=b.pingedLanes;L=(1<<31-Ss(42|c)+1)-1,L&=C&~(H&~ie),L=L&201326741?L&201326741|1:L?L|2:0}L!==0&&(g=!0,ht(b,L))}else L=An,L=T(b,b===gn?L:0,b.cancelPendingCommit!==null||b.timeoutHandle!==bs),(L&3)===0||R(b,L)||(g=!0,ht(b,L));b=b.next}while(g);mp=!1}}function bt(){xt()}function xt(){ba=Qr=!1;var c=0;Fl!==0&&Dc()&&(c=Fl);for(var f=Zr(),g=null,b=hh;b!==null;){var C=b.next,L=Ve(b,f);L===0?(b.next=null,g===null?hh=C:g.next=C,C===null&&($n=g)):(g=b,(c!==0||(L&3)!==0)&&(ba=!0)),b=C}cr!==0&&cr!==5||Qe(c),Fl!==0&&(Fl=0)}function Ve(c,f){for(var g=c.suspendedLanes,b=c.pingedLanes,C=c.expirationTimes,L=c.pendingLanes&-62914561;0<L;){var H=31-Ss(L),ie=1<<H,Re=C[H];Re===-1?((ie&g)===0||(ie&b)!==0)&&(C[H]=D(ie,f)):Re<=f&&(c.expiredLanes|=ie),L&=~ie}if(f=gn,g=An,g=T(c,c===f?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==bs),b=c.callbackNode,g===0||c===f&&(ti===2||ti===9)||c.cancelPendingCommit!==null)return b!==null&&b!==null&&cp(b),c.callbackNode=null,c.callbackPriority=0;if((g&3)===0||R(c,g)){if(f=g&-g,f===c.callbackPriority)return f;switch(b!==null&&cp(b),Z(g)){case 2:case 8:g=d_;break;case 32:g=lh;break;case 268435456:g=fp;break;default:g=lh}return b=We.bind(null,c),g=oh(g,b),c.callbackPriority=f,c.callbackNode=g,f}return b!==null&&b!==null&&cp(b),c.callbackPriority=2,c.callbackNode=null,2}function We(c,f){if(cr!==0&&cr!==5)return c.callbackNode=null,c.callbackPriority=0,null;var g=c.callbackNode;if(Mo()&&c.callbackNode!==g)return null;var b=An;return b=T(c,c===gn?b:0,c.cancelPendingCommit!==null||c.timeoutHandle!==bs),b===0?null:(Va(c,b,f),Ve(c,Zr()),c.callbackNode!=null&&c.callbackNode===g?We.bind(null,c):null)}function ht(c,f){if(Mo())return null;Va(c,f,!0)}function ft(){ym?bm(function(){(bn&6)!==0?oh(up,bt):xt()}):oh(up,bt)}function et(){if(Fl===0){var c=rl;c===0&&(c=lp,lp<<=1,(lp&261888)===0&&(lp=256)),Fl=c}return Fl}function qt(c,f){if(Iu===null){var g=Iu=[];Zm=0,rl=et(),gr={status:"pending",value:void 0,then:function(b){g.push(b)}}}return Zm++,f.then(te,te),f}function te(){if(--Zm===0&&Iu!==null){gr!==null&&(gr.status="fulfilled");var c=Iu;Iu=null,rl=0,gr=null;for(var f=0;f<c.length;f++)(0,c[f])()}}function ot(c,f){var g=[],b={status:"pending",value:null,reason:null,then:function(C){g.push(C)}};return c.then(function(){b.status="fulfilled",b.value=f;for(var C=0;C<g.length;C++)(0,g[C])(f)},function(C){for(b.status="rejected",b.reason=C,C=0;C<g.length;C++)(0,g[C])(void 0)}),b}function He(){var c=kl.current;return c!==null?c:gn.pooledCache}function it(c,f){f===null?M(kl,kl.current):M(kl,f.pool)}function Fe(){var c=He();return c===null?null:{parent:Yi?Ri._currentValue:Ri._currentValue2,pool:c}}function Ue(c,f){if(Zi(c,f))return!0;if(typeof c!="object"||c===null||typeof f!="object"||f===null)return!1;var g=Object.keys(c),b=Object.keys(f);if(g.length!==b.length)return!1;for(b=0;b<g.length;b++){var C=g[b];if(!rb.call(f,C)||!Zi(c[C],f[C]))return!1}return!0}function $e(c){return c=c.status,c==="fulfilled"||c==="rejected"}function Ut(c,f,g){switch(g=c[g],g===void 0?c.push(f):g!==f&&(f.then(Me,Me),f=g),f.status){case"fulfilled":return f.value;case"rejected":throw c=f.reason,Et(c),c;default:if(typeof f.status=="string")f.then(Me,Me);else{if(c=gn,c!==null&&100<c.shellSuspendCounter)throw Error(r(482));c=f,c.status="pending",c.then(function(b){if(f.status==="pending"){var C=f;C.status="fulfilled",C.value=b}},function(b){if(f.status==="pending"){var C=f;C.status="rejected",C.reason=b}})}switch(f.status){case"fulfilled":return f.value;case"rejected":throw c=f.reason,Et(c),c}throw us=f,vr}}function un(c){try{var f=c._init;return f(c._payload)}catch(g){throw g!==null&&typeof g=="object"&&typeof g.then=="function"?(us=g,vr):g}}function pt(){if(us===null)throw Error(r(459));var c=us;return us=null,c}function Et(c){if(c===vr||c===Ma)throw Error(r(483))}function Kt(c){var f=zc;return zc+=1,Vl===null&&(Vl=[]),Ut(Vl,c,f)}function lt(c,f){f=f.props.ref,c.ref=f!==void 0?f:null}function Vt(c,f){throw f.$$typeof===Ec?Error(r(525)):(c=Object.prototype.toString.call(f),Error(r(31,c==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":c)))}function Nt(c){function f(be,me){if(c){var we=be.deletions;we===null?(be.deletions=[me],be.flags|=16):we.push(me)}}function g(be,me){if(!c)return null;for(;me!==null;)f(be,me),me=me.sibling;return null}function b(be){for(var me=new Map;be!==null;)be.key!==null?me.set(be.key,be):me.set(be.index,be),be=be.sibling;return me}function C(be,me){return be=Ws(be,me),be.index=0,be.sibling=null,be}function L(be,me,we){return be.index=we,c?(we=be.alternate,we!==null?(we=we.index,we<me?(be.flags|=67108866,me):we):(be.flags|=67108866,me)):(be.flags|=1048576,me)}function H(be){return c&&be.alternate===null&&(be.flags|=67108866),be}function ie(be,me,we,tt){return me===null||me.tag!==6?(me=cm(we,be.mode,tt),me.return=be,me):(me=C(me,we),me.return=be,me)}function Re(be,me,we,tt){var Gt=we.type;return Gt===wc?st(be,me,we.props.children,tt,we.key):me!==null&&(me.elementType===Gt||typeof Gt=="object"&&Gt!==null&&Gt.$$typeof===os&&un(Gt)===me.type)?(me=C(me,we.props),lt(me,we),me.return=be,me):(me=Ko(we.type,we.key,we.props,null,be.mode,tt),lt(me,we),me.return=be,me)}function Ge(be,me,we,tt){return me===null||me.tag!==4||me.stateNode.containerInfo!==we.containerInfo||me.stateNode.implementation!==we.implementation?(me=fm(we,be.mode,tt),me.return=be,me):(me=C(me,we.children||[]),me.return=be,me)}function st(be,me,we,tt,Gt){return me===null||me.tag!==7?(me=pa(we,be.mode,tt,Gt),me.return=be,me):(me=C(me,we),me.return=be,me)}function Ke(be,me,we){if(typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint")return me=cm(""+me,be.mode,we),me.return=be,me;if(typeof me=="object"&&me!==null){switch(me.$$typeof){case To:return we=Ko(me.type,me.key,me.props,null,be.mode,we),lt(we,me),we.return=be,we;case Ac:return me=fm(me,be.mode,we),me.return=be,me;case os:return me=un(me),Ke(be,me,we)}if(Pl(me)||v(me))return me=pa(me,be.mode,we,null),me.return=be,me;if(typeof me.then=="function")return Ke(be,Kt(me),we);if(me.$$typeof===ma)return Ke(be,F(be,me),we);Vt(be,me)}return null}function St(be,me,we,tt){var Gt=me!==null?me.key:null;if(typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint")return Gt!==null?null:ie(be,me,""+we,tt);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case To:return we.key===Gt?Re(be,me,we,tt):null;case Ac:return we.key===Gt?Ge(be,me,we,tt):null;case os:return we=un(we),St(be,me,we,tt)}if(Pl(we)||v(we))return Gt!==null?null:st(be,me,we,tt,null);if(typeof we.then=="function")return St(be,me,Kt(we),tt);if(we.$$typeof===ma)return St(be,me,F(be,we),tt);Vt(be,we)}return null}function sn(be,me,we,tt,Gt){if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return be=be.get(we)||null,ie(me,be,""+tt,Gt);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case To:return be=be.get(tt.key===null?we:tt.key)||null,Re(me,be,tt,Gt);case Ac:return be=be.get(tt.key===null?we:tt.key)||null,Ge(me,be,tt,Gt);case os:return tt=un(tt),sn(be,me,we,tt,Gt)}if(Pl(tt)||v(tt))return be=be.get(we)||null,st(me,be,tt,Gt,null);if(typeof tt.then=="function")return sn(be,me,we,Kt(tt),Gt);if(tt.$$typeof===ma)return sn(be,me,we,F(me,tt),Gt);Vt(me,tt)}return null}function Ji(be,me,we,tt){for(var Gt=null,zi=null,Xt=me,In=me=0,Dr=null;Xt!==null&&In<we.length;In++){Xt.index>In?(Dr=Xt,Xt=null):Dr=Xt.sibling;var Gn=St(be,Xt,we[In],tt);if(Gn===null){Xt===null&&(Xt=Dr);break}c&&Xt&&Gn.alternate===null&&f(be,Xt),me=L(Gn,me,In),zi===null?Gt=Gn:zi.sibling=Gn,zi=Gn,Xt=Dr}if(In===we.length)return g(be,Xt),En&&j(be,In),Gt;if(Xt===null){for(;In<we.length;In++)Xt=Ke(be,we[In],tt),Xt!==null&&(me=L(Xt,me,In),zi===null?Gt=Xt:zi.sibling=Xt,zi=Xt);return En&&j(be,In),Gt}for(Xt=b(Xt);In<we.length;In++)Dr=sn(Xt,be,In,we[In],tt),Dr!==null&&(c&&Dr.alternate!==null&&Xt.delete(Dr.key===null?In:Dr.key),me=L(Dr,me,In),zi===null?Gt=Dr:zi.sibling=Dr,zi=Dr);return c&&Xt.forEach(function(Aa){return f(be,Aa)}),En&&j(be,In),Gt}function Wu(be,me,we,tt){if(we==null)throw Error(r(151));for(var Gt=null,zi=null,Xt=me,In=me=0,Dr=null,Gn=we.next();Xt!==null&&!Gn.done;In++,Gn=we.next()){Xt.index>In?(Dr=Xt,Xt=null):Dr=Xt.sibling;var Aa=St(be,Xt,Gn.value,tt);if(Aa===null){Xt===null&&(Xt=Dr);break}c&&Xt&&Aa.alternate===null&&f(be,Xt),me=L(Aa,me,In),zi===null?Gt=Aa:zi.sibling=Aa,zi=Aa,Xt=Dr}if(Gn.done)return g(be,Xt),En&&j(be,In),Gt;if(Xt===null){for(;!Gn.done;In++,Gn=we.next())Gn=Ke(be,Gn.value,tt),Gn!==null&&(me=L(Gn,me,In),zi===null?Gt=Gn:zi.sibling=Gn,zi=Gn);return En&&j(be,In),Gt}for(Xt=b(Xt);!Gn.done;In++,Gn=we.next())Gn=sn(Xt,be,In,Gn.value,tt),Gn!==null&&(c&&Gn.alternate!==null&&Xt.delete(Gn.key===null?In:Gn.key),me=L(Gn,me,In),zi===null?Gt=Gn:zi.sibling=Gn,zi=Gn);return c&&Xt.forEach(function(ab){return f(be,ab)}),En&&j(be,In),Gt}function Zl(be,me,we,tt){if(typeof we=="object"&&we!==null&&we.type===wc&&we.key===null&&(we=we.props.children),typeof we=="object"&&we!==null){switch(we.$$typeof){case To:e:{for(var Gt=we.key;me!==null;){if(me.key===Gt){if(Gt=we.type,Gt===wc){if(me.tag===7){g(be,me.sibling),tt=C(me,we.props.children),tt.return=be,be=tt;break e}}else if(me.elementType===Gt||typeof Gt=="object"&&Gt!==null&&Gt.$$typeof===os&&un(Gt)===me.type){g(be,me.sibling),tt=C(me,we.props),lt(tt,we),tt.return=be,be=tt;break e}g(be,me);break}else f(be,me);me=me.sibling}we.type===wc?(tt=pa(we.props.children,be.mode,tt,we.key),tt.return=be,be=tt):(tt=Ko(we.type,we.key,we.props,null,be.mode,tt),lt(tt,we),tt.return=be,be=tt)}return H(be);case Ac:e:{for(Gt=we.key;me!==null;){if(me.key===Gt)if(me.tag===4&&me.stateNode.containerInfo===we.containerInfo&&me.stateNode.implementation===we.implementation){g(be,me.sibling),tt=C(me,we.children||[]),tt.return=be,be=tt;break e}else{g(be,me);break}else f(be,me);me=me.sibling}tt=fm(we,be.mode,tt),tt.return=be,be=tt}return H(be);case os:return we=un(we),Zl(be,me,we,tt)}if(Pl(we))return Ji(be,me,we,tt);if(v(we)){if(Gt=v(we),typeof Gt!="function")throw Error(r(150));return we=Gt.call(we),Wu(be,me,we,tt)}if(typeof we.then=="function")return Zl(be,me,Kt(we),tt);if(we.$$typeof===ma)return Zl(be,me,F(be,we),tt);Vt(be,we)}return typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint"?(we=""+we,me!==null&&me.tag===6?(g(be,me.sibling),tt=C(me,we),tt.return=be,be=tt):(g(be,me),tt=cm(we,be.mode,tt),tt.return=be,be=tt),H(be)):g(be,me)}return function(be,me,we,tt){try{zc=0;var Gt=Zl(be,me,we,tt);return Vl=null,Gt}catch(Xt){if(Xt===vr||Xt===Ma)throw Xt;var zi=t(29,Xt,null,be.mode);return zi.lanes=tt,zi.return=be,zi}}}function Ht(){for(var c=Do,f=Bc=Do=0;f<c;){var g=Fr[f];Fr[f++]=null;var b=Fr[f];Fr[f++]=null;var C=Fr[f];Fr[f++]=null;var L=Fr[f];if(Fr[f++]=null,b!==null&&C!==null){var H=b.pending;H===null?C.next=C:(C.next=H.next,H.next=C),b.pending=C}L!==0&&Yn(g,C,L)}}function ni(c,f,g,b){Fr[Do++]=c,Fr[Do++]=f,Fr[Do++]=g,Fr[Do++]=b,Bc|=b,c.lanes|=b,c=c.alternate,c!==null&&(c.lanes|=b)}function rn(c,f,g,b){return ni(c,f,g,b),Jt(c)}function yn(c,f){return ni(c,null,null,f),Jt(c)}function Yn(c,f,g){c.lanes|=g;var b=c.alternate;b!==null&&(b.lanes|=g);for(var C=!1,L=c.return;L!==null;)L.childLanes|=g,b=L.alternate,b!==null&&(b.childLanes|=g),L.tag===22&&(c=L.stateNode,c===null||c._visibility&1||(C=!0)),c=L,L=L.return;return c.tag===3?(L=c.stateNode,C&&f!==null&&(C=31-Ss(g),c=L.hiddenUpdates,b=c[C],b===null?c[C]=[f]:b.push(f),f.lane=g|536870912),L):null}function Jt(c){if(50<kn)throw kn=0,_h=null,Error(r(185));for(var f=c.return;f!==null;)c=f,f=c.return;return c.tag===3?c.stateNode:null}function tn(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fn(c,f){c=c.updateQueue,f.updateQueue===c&&(f.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,callbacks:null})}function yi(c){return{lane:c,tag:0,payload:null,callback:null,next:null}}function Mn(c,f,g){var b=c.updateQueue;if(b===null)return null;if(b=b.shared,(bn&2)!==0){var C=b.pending;return C===null?f.next=f:(f.next=C.next,C.next=f),b.pending=f,f=Jt(c),Yn(c,null,g),f}return ni(c,b,f,g),Jt(c)}function ki(c,f,g){if(f=f.updateQueue,f!==null&&(f=f.shared,(g&4194048)!==0)){var b=f.lanes;b&=c.pendingLanes,g|=b,f.lanes=g,O(c,g)}}function Sr(c,f){var g=c.updateQueue,b=c.alternate;if(b!==null&&(b=b.updateQueue,g===b)){var C=null,L=null;if(g=g.firstBaseUpdate,g!==null){do{var H={lane:g.lane,tag:g.tag,payload:g.payload,callback:null,next:null};L===null?C=L=H:L=L.next=H,g=g.next}while(g!==null);L===null?C=L=f:L=L.next=f}else C=L=f;g={baseState:b.baseState,firstBaseUpdate:C,lastBaseUpdate:L,shared:b.shared,callbacks:b.callbacks},c.updateQueue=g;return}c=g.lastBaseUpdate,c===null?g.firstBaseUpdate=f:c.next=f,g.lastBaseUpdate=f}function Jn(){if(vp){var c=gr;if(c!==null)throw c}}function ui(c,f,g,b){vp=!1;var C=c.updateQueue;Ys=!1;var L=C.firstBaseUpdate,H=C.lastBaseUpdate,ie=C.shared.pending;if(ie!==null){C.shared.pending=null;var Re=ie,Ge=Re.next;Re.next=null,H===null?L=Ge:H.next=Ge,H=Re;var st=c.alternate;st!==null&&(st=st.updateQueue,ie=st.lastBaseUpdate,ie!==H&&(ie===null?st.firstBaseUpdate=Ge:ie.next=Ge,st.lastBaseUpdate=Re))}if(L!==null){var Ke=C.baseState;H=0,st=Ge=Re=null,ie=L;do{var St=ie.lane&-536870913,sn=St!==ie.lane;if(sn?(An&St)===St:(b&St)===St){St!==0&&St===rl&&(vp=!0),st!==null&&(st=st.next={lane:0,tag:ie.tag,payload:ie.payload,callback:null,next:null});e:{var Ji=c,Wu=ie;St=f;var Zl=g;switch(Wu.tag){case 1:if(Ji=Wu.payload,typeof Ji=="function"){Ke=Ji.call(Zl,Ke,St);break e}Ke=Ji;break e;case 3:Ji.flags=Ji.flags&-65537|128;case 0:if(Ji=Wu.payload,St=typeof Ji=="function"?Ji.call(Zl,Ke,St):Ji,St==null)break e;Ke=Xd({},Ke,St);break e;case 2:Ys=!0}}St=ie.callback,St!==null&&(c.flags|=64,sn&&(c.flags|=8192),sn=C.callbacks,sn===null?C.callbacks=[St]:sn.push(St))}else sn={lane:St,tag:ie.tag,payload:ie.payload,callback:ie.callback,next:null},st===null?(Ge=st=sn,Re=Ke):st=st.next=sn,H|=St;if(ie=ie.next,ie===null){if(ie=C.shared.pending,ie===null)break;sn=ie,ie=sn.next,sn.next=null,C.lastBaseUpdate=sn,C.shared.pending=null}}while(!0);st===null&&(Re=Ke),C.baseState=Re,C.firstBaseUpdate=Ge,C.lastBaseUpdate=st,L===null&&(C.shared.lanes=0),al|=H,c.lanes=H,c.memoizedState=Ke}}function di(c,f){if(typeof c!="function")throw Error(r(191,c));c.call(f)}function Ur(c,f){var g=c.callbacks;if(g!==null)for(c.callbacks=null,c=0;c<g.length;c++)di(g[c],f)}function ks(c,f){c=Lo,M(Hl,c),M(Fc,f),Lo=c|f.baseLanes}function fi(){M(Hl,Lo),M(Fc,Fc.current)}function V(){Lo=Hl.current,x(Fc),x(Hl)}function le(c){var f=c.alternate;M(Hi,Hi.current&1),M(Ts,c),Es===null&&(f===null||Fc.current!==null||f.memoizedState!==null)&&(Es=c)}function Ee(c){M(Hi,Hi.current),M(Ts,c),Es===null&&(Es=c)}function ve(c){c.tag===22?(M(Hi,Hi.current),M(Ts,c),Es===null&&(Es=c)):he()}function he(){M(Hi,Hi.current),M(Ts,Ts.current)}function je(c){x(Ts),Es===c&&(Es=null),x(Hi)}function dt(c){for(var f=c;f!==null;){if(f.tag===13){var g=f.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||zl(g)||$d(g)))return f}else if(f.tag===19&&(f.memoizedProps.revealOrder==="forwards"||f.memoizedProps.revealOrder==="backwards"||f.memoizedProps.revealOrder==="unstable_legacy-backwards"||f.memoizedProps.revealOrder==="together")){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}function Xe(){throw Error(r(321))}function vt(c,f){if(f===null)return!1;for(var g=0;g<f.length&&g<c.length;g++)if(!Zi(c[g],f[g]))return!1;return!0}function At(c,f,g,b,C,L){return sl=L,ln=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,Ft.H=c===null||c.memoizedState===null?Ui:No,On=!1,L=g(b,C),On=!1,hn&&(L=Ct(f,g,b,C)),zt(c),L}function zt(c){Ft.H=js;var f=Ot!==null&&Ot.next!==null;if(sl=0,$t=Ot=ln=null,mn=!1,Ta=0,Wa=null,f)throw Error(r(300));c===null||Si||(c=c.dependencies,c!==null&&ut(c)&&(Si=!0))}function Ct(c,f,g,b){ln=c;var C=0;do{if(hn&&(Wa=null),Ta=0,hn=!1,25<=C)throw Error(r(301));if(C+=1,$t=Ot=null,c.updateQueue!=null){var L=c.updateQueue;L.lastEffect=null,L.events=null,L.stores=null,L.memoCache!=null&&(L.memoCache.index=0)}Ft.H=Gl,L=f(g,b)}while(hn);return L}function Wt(){var c=Ft.H,f=c.useState()[0];return f=typeof f.then=="function"?Yt(f):f,c=c.useState()[0],(Ot!==null?Ot.memoizedState:null)!==c&&(ln.flags|=1024),f}function Fn(){var c=Kr!==0;return Kr=0,c}function pi(c,f,g){f.updateQueue=c.updateQueue,f.flags&=-2053,c.lanes&=~g}function ii(c){if(mn){for(c=c.memoizedState;c!==null;){var f=c.queue;f!==null&&(f.pending=null),c=c.next}mn=!1}sl=0,$t=Ot=ln=null,hn=!1,Ta=Kr=0,Wa=null}function nn(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?ln.memoizedState=$t=c:$t=$t.next=c,$t}function mt(){if(Ot===null){var c=ln.alternate;c=c!==null?c.memoizedState:null}else c=Ot.next;var f=$t===null?ln.memoizedState:$t.next;if(f!==null)$t=f,Ot=c;else{if(c===null)throw ln.alternate===null?Error(r(467)):Error(r(310));Ot=c,c={memoizedState:Ot.memoizedState,baseState:Ot.baseState,baseQueue:Ot.baseQueue,queue:Ot.queue,next:null},$t===null?ln.memoizedState=$t=c:$t=$t.next=c}return $t}function Pn(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Yt(c){var f=Ta;return Ta+=1,Wa===null&&(Wa=[]),c=Ut(Wa,c,f),f=ln,($t===null?f.memoizedState:$t.next)===null&&(f=f.alternate,Ft.H=f===null||f.memoizedState===null?Ui:No),c}function rr(c){if(c!==null&&typeof c=="object"){if(typeof c.then=="function")return Yt(c);if(c.$$typeof===ma)return q(c)}throw Error(r(438,String(c)))}function ka(c){var f=null,g=ln.updateQueue;if(g!==null&&(f=g.memoCache),f==null){var b=ln.alternate;b!==null&&(b=b.updateQueue,b!==null&&(b=b.memoCache,b!=null&&(f={data:b.data.map(function(C){return C.slice()}),index:0})))}if(f==null&&(f={data:[],index:0}),g===null&&(g=Pn(),ln.updateQueue=g),g.memoCache=f,g=f.data[f.index],g===void 0)for(g=f.data[f.index]=Array(c),b=0;b<c;b++)g[b]=dm;return f.index++,g}function bi(c,f){return typeof f=="function"?f(c):f}function is(c){var f=mt();return Wn(f,Ot,c)}function Wn(c,f,g){var b=c.queue;if(b===null)throw Error(r(311));b.lastRenderedReducer=g;var C=c.baseQueue,L=b.pending;if(L!==null){if(C!==null){var H=C.next;C.next=L.next,L.next=H}f.baseQueue=C=L,b.pending=null}if(L=c.baseState,C===null)c.memoizedState=L;else{f=C.next;var ie=H=null,Re=null,Ge=f,st=!1;do{var Ke=Ge.lane&-536870913;if(Ke!==Ge.lane?(An&Ke)===Ke:(sl&Ke)===Ke){var St=Ge.revertLane;if(St===0)Re!==null&&(Re=Re.next={lane:0,revertLane:0,gesture:null,action:Ge.action,hasEagerState:Ge.hasEagerState,eagerState:Ge.eagerState,next:null}),Ke===rl&&(st=!0);else if((sl&St)===St){Ge=Ge.next,St===rl&&(st=!0);continue}else Ke={lane:0,revertLane:Ge.revertLane,gesture:null,action:Ge.action,hasEagerState:Ge.hasEagerState,eagerState:Ge.eagerState,next:null},Re===null?(ie=Re=Ke,H=L):Re=Re.next=Ke,ln.lanes|=St,al|=St;Ke=Ge.action,On&&g(L,Ke),L=Ge.hasEagerState?Ge.eagerState:g(L,Ke)}else St={lane:Ke,revertLane:Ge.revertLane,gesture:Ge.gesture,action:Ge.action,hasEagerState:Ge.hasEagerState,eagerState:Ge.eagerState,next:null},Re===null?(ie=Re=St,H=L):Re=Re.next=St,ln.lanes|=Ke,al|=Ke;Ge=Ge.next}while(Ge!==null&&Ge!==f);if(Re===null?H=L:Re.next=ie,!Zi(L,c.memoizedState)&&(Si=!0,st&&(g=gr,g!==null)))throw g;c.memoizedState=L,c.baseState=H,c.baseQueue=Re,b.lastRenderedState=L}return C===null&&(b.lanes=0),[c.memoizedState,b.dispatch]}function hr(c){var f=mt(),g=f.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=c;var b=g.dispatch,C=g.pending,L=f.memoizedState;if(C!==null){g.pending=null;var H=C=C.next;do L=c(L,H.action),H=H.next;while(H!==C);Zi(L,f.memoizedState)||(Si=!0),f.memoizedState=L,f.baseQueue===null&&(f.baseState=L),g.lastRenderedState=L}return[L,b]}function sr(c,f,g){var b=ln,C=mt(),L=En;if(L){if(g===void 0)throw Error(r(407));g=g()}else g=f();var H=!Zi((Ot||C).memoizedState,g);if(H&&(C.memoizedState=g,Si=!0),C=C.queue,uu(mc.bind(null,b,C,c),[c]),C.getSnapshot!==f||H||$t!==null&&$t.memoizedState.tag&1){if(b.flags|=2048,Vs(9,{destroy:void 0},Tr.bind(null,b,C,g,f),null),gn===null)throw Error(r(349));L||(sl&127)!==0||Mr(b,f,g)}return g}function Mr(c,f,g){c.flags|=16384,c={getSnapshot:f,value:g},f=ln.updateQueue,f===null?(f=Pn(),ln.updateQueue=f,f.stores=[c]):(g=f.stores,g===null?f.stores=[c]:g.push(c))}function Tr(c,f,g,b){f.value=g,f.getSnapshot=b,la(f)&&Zg(c)}function mc(c,f,g){return g(function(){la(f)&&Zg(c)})}function la(c){var f=c.getSnapshot;c=c.value;try{var g=f();return!Zi(c,g)}catch{return!0}}function Zg(c){var f=yn(c,2);f!==null&&Li(f,c,2)}function B0(c){var f=nn();if(typeof c=="function"){var g=c;if(c=g(),On){J(!0);try{g()}finally{J(!1)}}}return f.memoizedState=f.baseState=c,f.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:c},f}function Uf(c,f,g,b){return c.baseState=g,Wn(c,Ot,typeof b=="function"?b:bi)}function Xo(c,f,g,b,C){if(Ed(c))throw Error(r(485));if(c=f.action,c!==null){var L={payload:C,action:c,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(H){L.listeners.push(H)}};Ft.T!==null?g(!0):L.isTransition=!1,b(L),g=f.pending,g===null?(L.next=f.pending=L,_d(f,L)):(L.next=g.next,f.pending=g.next=L)}}function _d(c,f){var g=f.action,b=f.payload,C=c.state;if(f.isTransition){var L=Ft.T,H={};Ft.T=H;try{var ie=g(C,b),Re=Ft.S;Re!==null&&Re(H,ie),xd(c,f,ie)}catch(Ge){Sl(c,f,Ge)}finally{L!==null&&H.types!==null&&(L.types=H.types),Ft.T=L}}else try{L=g(C,b),xd(c,f,L)}catch(Ge){Sl(c,f,Ge)}}function xd(c,f,g){g!==null&&typeof g=="object"&&typeof g.then=="function"?g.then(function(b){gc(c,f,b)},function(b){return Sl(c,f,b)}):gc(c,f,g)}function gc(c,f,g){f.status="fulfilled",f.value=g,F0(f),c.state=g,f=c.pending,f!==null&&(g=f.next,g===f?c.pending=null:(g=g.next,f.next=g,_d(c,g)))}function Sl(c,f,g){var b=c.pending;if(c.pending=null,b!==null){b=b.next;do f.status="rejected",f.reason=g,F0(f),f=f.next;while(f!==b)}c.action=null}function F0(c){c=c.listeners;for(var f=0;f<c.length;f++)(0,c[f])()}function yd(c,f){return f}function k0(c,f){if(En){var g=gn.formState;if(g!==null){e:{var b=ln;if(En){if(Ci){var C=Gv(Ci,cs);if(C){Ci=Wv(C),b=Lm(C);break e}}Ze(b)}b=!1}b&&(f=g[0])}}g=nn(),g.memoizedState=g.baseState=f,b={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yd,lastRenderedState:f},g.queue=b,g=tv.bind(null,ln,b),b.dispatch=g,b=B0(!1);var L=Td.bind(null,ln,!1,b.queue);return b=nn(),C={state:f,dispatch:null,action:c,pending:null},b.queue=C,g=Xo.bind(null,ln,C,L,g),C.dispatch=g,b.memoizedState=c,[f,g,!1]}function lu(c){var f=mt();return fo(f,Ot,c)}function fo(c,f,g){if(f=Wn(c,f,yd)[0],c=is(bi)[0],typeof f=="object"&&f!==null&&typeof f.then=="function")try{var b=Yt(f)}catch(H){throw H===vr?Ma:H}else b=f;f=mt();var C=f.queue,L=C.dispatch;return g!==f.memoizedState&&(ln.flags|=2048,Vs(9,{destroy:void 0},V0.bind(null,C,g),null)),[b,L,c]}function V0(c,f){c.action=f}function cu(c){var f=mt(),g=Ot;if(g!==null)return fo(f,g,c);mt(),f=f.memoizedState,g=mt();var b=g.queue.dispatch;return g.memoizedState=c,[f,b,!1]}function Vs(c,f,g,b){return c={tag:c,create:g,deps:b,inst:f,next:null},f=ln.updateQueue,f===null&&(f=Pn(),ln.updateQueue=f),g=f.lastEffect,g===null?f.lastEffect=c.next=c:(b=g.next,g.next=c,c.next=b,f.lastEffect=c),c}function bd(){return mt().memoizedState}function vc(c,f,g,b){var C=nn();ln.flags|=c,C.memoizedState=Vs(1|f,{destroy:void 0},g,b===void 0?null:b)}function Pf(c,f,g,b){var C=mt();b=b===void 0?null:b;var L=C.memoizedState.inst;Ot!==null&&b!==null&&vt(b,Ot.memoizedState.deps)?C.memoizedState=Vs(f,L,g,b):(ln.flags|=c,C.memoizedState=Vs(1|f,L,g,b))}function If(c,f){vc(8390656,8,c,f)}function uu(c,f){Pf(2048,8,c,f)}function Qg(c){ln.flags|=4;var f=ln.updateQueue;if(f===null)f=Pn(),ln.updateQueue=f,f.events=[c];else{var g=f.events;g===null?f.events=[c]:g.push(c)}}function rs(c){var f=mt().memoizedState;return Qg({ref:f,nextImpl:c}),function(){if((bn&2)!==0)throw Error(r(440));return f.impl.apply(void 0,arguments)}}function Ml(c,f){return Pf(4,2,c,f)}function zf(c,f){return Pf(4,4,c,f)}function fu(c,f){if(typeof f=="function"){c=c();var g=f(c);return function(){typeof g=="function"?g():f(null)}}if(f!=null)return c=c(),f.current=c,function(){f.current=null}}function Kg(c,f,g){g=g!=null?g.concat([c]):null,Pf(4,4,fu.bind(null,f,c),g)}function Bf(){}function Sd(c,f){var g=mt();f=f===void 0?null:f;var b=g.memoizedState;return f!==null&&vt(f,b[1])?b[0]:(g.memoizedState=[c,f],c)}function hu(c,f){var g=mt();f=f===void 0?null:f;var b=g.memoizedState;if(f!==null&&vt(f,b[1]))return b[0];if(b=c(),On){J(!0);try{c()}finally{J(!1)}}return g.memoizedState=[b,f],b}function du(c,f,g){return g===void 0||(sl&1073741824)!==0&&(An&261930)===0?c.memoizedState=f:(c.memoizedState=g,c=jo(),ln.lanes|=c,al|=c,g)}function H0(c,f,g,b){return Zi(g,f)?g:Fc.current!==null?(c=du(c,g,b),Zi(c,f)||(Si=!0),c):(sl&42)===0||(sl&1073741824)!==0&&(An&261930)===0?(Si=!0,c.memoizedState=g):(c=jo(),ln.lanes|=c,al|=c,f)}function Jg(c,f,g,b,C){var L=ga();Tn(L!==0&&8>L?L:8);var H=Ft.T,ie={};Ft.T=ie,Td(c,!1,f,g);try{var Re=C(),Ge=Ft.S;if(Ge!==null&&Ge(ie,Re),Re!==null&&typeof Re=="object"&&typeof Re.then=="function"){var st=ot(Re,b);Ff(c,f,st,Ai(c))}else Ff(c,f,b,Ai(c))}catch(Ke){Ff(c,f,{then:function(){},status:"rejected",reason:Ke},Ai())}finally{Tn(L),H!==null&&ie.types!==null&&(H.types=ie.types),Ft.T=H}}function $g(c){var f=c.memoizedState;if(f!==null)return f;f={memoizedState:Nc,baseState:Nc,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:Nc},next:null};var g={};return f.next={memoizedState:g,baseState:g,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:g},next:null},c.memoizedState=f,c=c.alternate,c!==null&&(c.memoizedState=f),f}function G0(){return q(Lc)}function Md(){return mt().memoizedState}function ev(){return mt().memoizedState}function j3(c){for(var f=c.return;f!==null;){switch(f.tag){case 24:case 3:var g=Ai();c=yi(g);var b=Mn(f,c,g);b!==null&&(Li(b,f,g),ki(b,f,g)),f={cache:Ae()},c.payload=f;return}f=f.return}}function Z3(c,f,g){var b=Ai();g={lane:b,revertLane:0,gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},Ed(c)?nv(f,g):(g=rn(c,f,g,b),g!==null&&(Li(g,c,b),iv(g,f,b)))}function tv(c,f,g){var b=Ai();Ff(c,f,g,b)}function Ff(c,f,g,b){var C={lane:b,revertLane:0,gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null};if(Ed(c))nv(f,C);else{var L=c.alternate;if(c.lanes===0&&(L===null||L.lanes===0)&&(L=f.lastRenderedReducer,L!==null))try{var H=f.lastRenderedState,ie=L(H,g);if(C.hasEagerState=!0,C.eagerState=ie,Zi(ie,H))return ni(c,f,C,0),gn===null&&Ht(),!1}catch{}if(g=rn(c,f,C,b),g!==null)return Li(g,c,b),iv(g,f,b),!0}return!1}function Td(c,f,g,b){if(b={lane:2,revertLane:et(),gesture:null,action:b,hasEagerState:!1,eagerState:null,next:null},Ed(c)){if(f)throw Error(r(479))}else f=rn(c,g,b,2),f!==null&&Li(f,c,2)}function Ed(c){var f=c.alternate;return c===ln||f!==null&&f===ln}function nv(c,f){hn=mn=!0;var g=c.pending;g===null?f.next=f:(f.next=g.next,g.next=f),c.pending=f}function iv(c,f,g){if((g&4194048)!==0){var b=f.lanes;b&=c.pendingLanes,g|=b,f.lanes=g,O(c,g)}}function W0(c,f,g,b){f=c.memoizedState,g=g(b,f),g=g==null?f:Xd({},f,g),c.memoizedState=g,c.lanes===0&&(c.updateQueue.baseState=g)}function Ad(c,f,g,b,C,L,H){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(b,L,H):f.prototype&&f.prototype.isPureReactComponent?!Ue(g,b)||!Ue(C,L):!0}function rv(c,f,g,b){c=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(g,b),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(g,b),f.state!==c&&dh.enqueueReplaceState(f,f.state,null)}function _c(c,f){var g=f;if("ref"in f){g={};for(var b in f)b!=="ref"&&(g[b]=f[b])}if(c=c.defaultProps){g===f&&(g=Xd({},g));for(var C in c)g[C]===void 0&&(g[C]=c[C])}return g}function wd(c,f){try{var g=c.onUncaughtError;g(f.value,{componentStack:f.stack})}catch(b){setTimeout(function(){throw b})}}function X0(c,f,g){try{var b=c.onCaughtError;b(g.value,{componentStack:g.stack,errorBoundary:f.tag===1?f.stateNode:null})}catch(C){setTimeout(function(){throw C})}}function q0(c,f,g){return g=yi(g),g.tag=3,g.payload={element:null},g.callback=function(){wd(c,f)},g}function sv(c){return c=yi(c),c.tag=3,c}function av(c,f,g,b){var C=g.type.getDerivedStateFromError;if(typeof C=="function"){var L=b.value;c.payload=function(){return C(L)},c.callback=function(){X0(f,g,b)}}var H=g.stateNode;H!==null&&typeof H.componentDidCatch=="function"&&(c.callback=function(){X0(f,g,b),typeof C!="function"&&(ol===null?ol=new Set([this]):ol.add(this));var ie=b.stack;this.componentDidCatch(b.value,{componentStack:ie!==null?ie:""})})}function Q3(c,f,g,b,C){if(g.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){if(f=g.alternate,f!==null&&nt(f,g,C,!0),g=Ts.current,g!==null){switch(g.tag){case 31:case 13:return Es===null?Tu():g.alternate===null&&Ii===0&&(Ii=3),g.flags&=-257,g.flags|=65536,g.lanes=C,b===Ro?g.flags|=16384:(f=g.updateQueue,f===null?g.updateQueue=new Set([b]):f.add(b),wu(c,b,C)),!1;case 22:return g.flags|=65536,b===Ro?g.flags|=16384:(f=g.updateQueue,f===null?(f={transitions:null,markerInstances:null,retryQueue:new Set([b])},g.updateQueue=f):(g=f.retryQueue,g===null?f.retryQueue=new Set([b]):g.add(b)),wu(c,b,C)),!1}throw Error(r(435,g.tag))}return wu(c,b,C),Tu(),!1}if(En)return f=Ts.current,f!==null?((f.flags&65536)===0&&(f.flags|=256),f.flags|=65536,f.lanes=C,b!==pp&&(c=Error(r(422),{cause:b}),Be(ye(c,g)))):(b!==pp&&(f=Error(r(423),{cause:b}),Be(ye(f,g))),c=c.current.alternate,c.flags|=65536,C&=-C,c.lanes|=C,b=ye(b,g),C=q0(c.stateNode,b,C),Sr(c,C),Ii!==4&&(Ii=2)),!1;var L=Error(r(520),{cause:b});if(L=ye(L,g),mh===null?mh=[L]:mh.push(L),Ii!==4&&(Ii=2),f===null)return!0;b=ye(b,g),g=f;do{switch(g.tag){case 3:return g.flags|=65536,c=C&-C,g.lanes|=c,c=q0(g.stateNode,b,c),Sr(g,c),!1;case 1:if(f=g.type,L=g.stateNode,(g.flags&128)===0&&(typeof f.getDerivedStateFromError=="function"||L!==null&&typeof L.componentDidCatch=="function"&&(ol===null||!ol.has(L))))return g.flags|=65536,C&=-C,g.lanes|=C,C=sv(C),av(C,c,g,b),Sr(g,C),!1}g=g.return}while(g!==null);return!1}function Pr(c,f,g,b){f.child=c===null?Qm(f,null,g,b):Br(f,c.child,g,b)}function ov(c,f,g,b,C){g=g.render;var L=f.ref;if("ref"in b){var H={};for(var ie in b)ie!=="ref"&&(H[ie]=b[ie])}else H=b;return Ye(f),b=At(c,f,g,H,L,C),ie=Fn(),c!==null&&!Si?(pi(c,f,C),ho(c,f,C)):(En&&ie&&ce(f),f.flags|=1,Pr(c,f,b,C),f.child)}function lv(c,f,g,b,C){if(c===null){var L=g.type;return typeof L=="function"&&!Mc(L)&&L.defaultProps===void 0&&g.compare===null?(f.tag=15,f.type=L,cv(c,f,L,b,C)):(c=Ko(g.type,null,b,f,f.mode,C),c.ref=f.ref,c.return=f,f.child=c)}if(L=c.child,!Vf(c,C)){var H=L.memoizedProps;if(g=g.compare,g=g!==null?g:Ue,g(H,b)&&c.ref===f.ref)return ho(c,f,C)}return f.flags|=1,c=Ws(L,b),c.ref=f.ref,c.return=f,f.child=c}function cv(c,f,g,b,C){if(c!==null){var L=c.memoizedProps;if(Ue(L,b)&&c.ref===f.ref)if(Si=!1,f.pendingProps=b=L,Vf(c,C))(c.flags&131072)!==0&&(Si=!0);else return f.lanes=c.lanes,ho(c,f,C)}return Rd(c,f,g,b,C)}function uv(c,f,g,b){var C=b.children,L=c!==null?c.memoizedState:null;if(c===null&&f.stateNode===null&&(f.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),b.mode==="hidden"){if((f.flags&128)!==0){if(L=L!==null?L.baseLanes|g:g,c!==null){for(b=f.child=c.child,C=0;b!==null;)C=C|b.lanes|b.childLanes,b=b.sibling;b=C&~L}else b=0,f.child=null;return pu(c,f,L,g,b)}if((g&536870912)!==0)f.memoizedState={baseLanes:0,cachePool:null},c!==null&&it(f,L!==null?L.cachePool:null),L!==null?ks(f,L):fi(),ve(f);else return b=f.lanes=536870912,pu(c,f,L!==null?L.baseLanes|g:g,g,b)}else L!==null?(it(f,L.cachePool),ks(f,L),he(),f.memoizedState=null):(c!==null&&it(f,null),fi(),he());return Pr(c,f,C,g),f.child}function xc(c,f){return c!==null&&c.tag===22||f.stateNode!==null||(f.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.sibling}function pu(c,f,g,b,C){var L=He();return L=L===null?null:{parent:Yi?Ri._currentValue:Ri._currentValue2,pool:L},f.memoizedState={baseLanes:g,cachePool:L},c!==null&&it(f,null),fi(),ve(f),c!==null&&nt(c,f,b,!0),f.childLanes=C,null}function Cd(c,f){return f=Tl({mode:f.mode,children:f.children},c.mode),f.ref=c.ref,c.child=f,f.return=c,f}function Y0(c,f,g){return Br(f,c.child,null,g),c=Cd(f,f.pendingProps),c.flags|=2,je(f),f.memoizedState=null,c}function fv(c,f,g){var b=f.pendingProps,C=(f.flags&128)!==0;if(f.flags&=-129,c===null){if(En){if(b.mode==="hidden")return c=Cd(f,b),f.lanes=536870912,xc(null,c);if(Ee(f),(c=Ci)?(c=Um(c,cs),c!==null&&(f.memoizedState={dehydrated:c,treeContext:xa!==null?{id:Ir,overflow:Ha}:null,retryLane:536870912,hydrationErrors:null},g=um(c),g.return=f,f.child=g,mr=f,Ci=null)):c=null,c===null)throw Ze(f);return f.lanes=536870912,null}return Cd(f,b)}var L=c.memoizedState;if(L!==null){var H=L.dehydrated;if(Ee(f),C)if(f.flags&256)f.flags&=-257,f=Y0(c,f,g);else if(f.memoizedState!==null)f.child=c.child,f.flags|=128,f=null;else throw Error(r(558));else if(Si||nt(c,f,g,!1),C=(g&c.childLanes)!==0,Si||C){if(b=gn,b!==null&&(H=P(b,g),H!==0&&H!==L.retryLane))throw L.retryLane=H,yn(c,H),Li(b,c,H),fs;Tu(),f=Y0(c,f,g)}else c=L.treeContext,wi&&(Ci=jv(H),mr=f,En=!0,Co=null,cs=!1,c!==null&&Le(f,c)),f=Cd(f,b),f.flags|=4096;return f}return c=Ws(c.child,{mode:b.mode,children:b.children}),c.ref=f.ref,f.child=c,c.return=f,c}function kf(c,f){var g=f.ref;if(g===null)c!==null&&c.ref!==null&&(f.flags|=4194816);else{if(typeof g!="function"&&typeof g!="object")throw Error(r(284));(c===null||c.ref!==g)&&(f.flags|=4194816)}}function Rd(c,f,g,b,C){return Ye(f),g=At(c,f,g,b,void 0,C),b=Fn(),c!==null&&!Si?(pi(c,f,C),ho(c,f,C)):(En&&b&&ce(f),f.flags|=1,Pr(c,f,g,C),f.child)}function j0(c,f,g,b,C,L){return Ye(f),f.updateQueue=null,g=Ct(f,b,g,C),zt(c),b=Fn(),c!==null&&!Si?(pi(c,f,L),ho(c,f,L)):(En&&b&&ce(f),f.flags|=1,Pr(c,f,g,L),f.child)}function yc(c,f,g,b,C){if(Ye(f),f.stateNode===null){var L=Eo,H=g.contextType;typeof H=="object"&&H!==null&&(L=q(H)),L=new g(b,L),f.memoizedState=L.state!==null&&L.state!==void 0?L.state:null,L.updater=dh,f.stateNode=L,L._reactInternals=f,L=f.stateNode,L.props=b,L.state=f.memoizedState,L.refs={},tn(f),H=g.contextType,L.context=typeof H=="object"&&H!==null?q(H):Eo,L.state=f.memoizedState,H=g.getDerivedStateFromProps,typeof H=="function"&&(W0(f,g,H,b),L.state=f.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof L.getSnapshotBeforeUpdate=="function"||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(H=L.state,typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount(),H!==L.state&&dh.enqueueReplaceState(L,L.state,null),ui(f,b,L,C),Jn(),L.state=f.memoizedState),typeof L.componentDidMount=="function"&&(f.flags|=4194308),b=!0}else if(c===null){L=f.stateNode;var ie=f.memoizedProps,Re=_c(g,ie);L.props=Re;var Ge=L.context,st=g.contextType;H=Eo,typeof st=="object"&&st!==null&&(H=q(st));var Ke=g.getDerivedStateFromProps;st=typeof Ke=="function"||typeof L.getSnapshotBeforeUpdate=="function",ie=f.pendingProps!==ie,st||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(ie||Ge!==H)&&rv(f,L,b,H),Ys=!1;var St=f.memoizedState;L.state=St,ui(f,b,L,C),Jn(),Ge=f.memoizedState,ie||St!==Ge||Ys?(typeof Ke=="function"&&(W0(f,g,Ke,b),Ge=f.memoizedState),(Re=Ys||Ad(f,g,Re,b,St,Ge,H))?(st||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount()),typeof L.componentDidMount=="function"&&(f.flags|=4194308)):(typeof L.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=b,f.memoizedState=Ge),L.props=b,L.state=Ge,L.context=H,b=Re):(typeof L.componentDidMount=="function"&&(f.flags|=4194308),b=!1)}else{L=f.stateNode,fn(c,f),H=f.memoizedProps,st=_c(g,H),L.props=st,Ke=f.pendingProps,St=L.context,Ge=g.contextType,Re=Eo,typeof Ge=="object"&&Ge!==null&&(Re=q(Ge)),ie=g.getDerivedStateFromProps,(Ge=typeof ie=="function"||typeof L.getSnapshotBeforeUpdate=="function")||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(H!==Ke||St!==Re)&&rv(f,L,b,Re),Ys=!1,St=f.memoizedState,L.state=St,ui(f,b,L,C),Jn();var sn=f.memoizedState;H!==Ke||St!==sn||Ys||c!==null&&c.dependencies!==null&&ut(c.dependencies)?(typeof ie=="function"&&(W0(f,g,ie,b),sn=f.memoizedState),(st=Ys||Ad(f,g,st,b,St,sn,Re)||c!==null&&c.dependencies!==null&&ut(c.dependencies))?(Ge||typeof L.UNSAFE_componentWillUpdate!="function"&&typeof L.componentWillUpdate!="function"||(typeof L.componentWillUpdate=="function"&&L.componentWillUpdate(b,sn,Re),typeof L.UNSAFE_componentWillUpdate=="function"&&L.UNSAFE_componentWillUpdate(b,sn,Re)),typeof L.componentDidUpdate=="function"&&(f.flags|=4),typeof L.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof L.componentDidUpdate!="function"||H===c.memoizedProps&&St===c.memoizedState||(f.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||H===c.memoizedProps&&St===c.memoizedState||(f.flags|=1024),f.memoizedProps=b,f.memoizedState=sn),L.props=b,L.state=sn,L.context=Re,b=st):(typeof L.componentDidUpdate!="function"||H===c.memoizedProps&&St===c.memoizedState||(f.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||H===c.memoizedProps&&St===c.memoizedState||(f.flags|=1024),b=!1)}return L=b,kf(c,f),b=(f.flags&128)!==0,L||b?(L=f.stateNode,g=b&&typeof g.getDerivedStateFromError!="function"?null:L.render(),f.flags|=1,c!==null&&b?(f.child=Br(f,c.child,null,C),f.child=Br(f,null,g,C)):Pr(c,f,g,C),f.memoizedState=L.state,c=f.child):c=ho(c,f,C),c}function hv(c,f,g,b){return rt(),f.flags|=256,Pr(c,f,g,b),f.child}function Z0(c){return{baseLanes:c,cachePool:Fe()}}function Q0(c,f,g){return c=c!==null?c.childLanes&~g:0,f&&(c|=hs),c}function K0(c,f,g){var b=f.pendingProps,C=!1,L=(f.flags&128)!==0,H;if((H=L)||(H=c!==null&&c.memoizedState===null?!1:(Hi.current&2)!==0),H&&(C=!0,f.flags&=-129),H=(f.flags&32)!==0,f.flags&=-33,c===null){if(En){if(C?le(f):he(),(c=Ci)?(c=Jv(c,cs),c!==null&&(f.memoizedState={dehydrated:c,treeContext:xa!==null?{id:Ir,overflow:Ha}:null,retryLane:536870912,hydrationErrors:null},g=um(c),g.return=f,f.child=g,mr=f,Ci=null)):c=null,c===null)throw Ze(f);return $d(c)?f.lanes=32:f.lanes=536870912,null}var ie=b.children;return b=b.fallback,C?(he(),C=f.mode,ie=Tl({mode:"hidden",children:ie},C),b=pa(b,C,g,null),ie.return=f,b.return=f,ie.sibling=b,f.child=ie,b=f.child,b.memoizedState=Z0(g),b.childLanes=Q0(c,H,g),f.memoizedState=kc,xc(null,b)):(le(f),Dd(f,ie))}var Re=c.memoizedState;if(Re!==null&&(ie=Re.dehydrated,ie!==null)){if(L)f.flags&256?(le(f),f.flags&=-257,f=bc(c,f,g)):f.memoizedState!==null?(he(),f.child=c.child,f.flags|=128,f=null):(he(),ie=b.fallback,C=f.mode,b=Tl({mode:"visible",children:b.children},C),ie=pa(ie,C,g,null),ie.flags|=2,b.return=f,ie.return=f,b.sibling=ie,f.child=b,Br(f,c.child,null,g),b=f.child,b.memoizedState=Z0(g),b.childLanes=Q0(c,H,g),f.memoizedState=kc,f=xc(null,b));else if(le(f),$d(ie))H=ep(ie).digest,b=Error(r(419)),b.stack="",b.digest=H,Be({value:b,source:null,stack:null}),f=bc(c,f,g);else if(Si||nt(c,f,g,!1),H=(g&c.childLanes)!==0,Si||H){if(H=gn,H!==null&&(b=P(H,g),b!==0&&b!==Re.retryLane))throw Re.retryLane=b,yn(c,b),Li(H,c,b),fs;zl(ie)||Tu(),f=bc(c,f,g)}else zl(ie)?(f.flags|=192,f.child=c.child,f=null):(c=Re.treeContext,wi&&(Ci=Zv(ie),mr=f,En=!0,Co=null,cs=!1,c!==null&&Le(f,c)),f=Dd(f,b.children),f.flags|=4096);return f}return C?(he(),ie=b.fallback,C=f.mode,Re=c.child,L=Re.sibling,b=Ws(Re,{mode:"hidden",children:b.children}),b.subtreeFlags=Re.subtreeFlags&65011712,L!==null?ie=Ws(L,ie):(ie=pa(ie,C,g,null),ie.flags|=2),ie.return=f,b.return=f,b.sibling=ie,f.child=b,xc(null,b),b=f.child,ie=c.child.memoizedState,ie===null?ie=Z0(g):(C=ie.cachePool,C!==null?(Re=Yi?Ri._currentValue:Ri._currentValue2,C=C.parent!==Re?{parent:Re,pool:Re}:C):C=Fe(),ie={baseLanes:ie.baseLanes|g,cachePool:C}),b.memoizedState=ie,b.childLanes=Q0(c,H,g),f.memoizedState=kc,xc(c.child,b)):(le(f),g=c.child,c=g.sibling,g=Ws(g,{mode:"visible",children:b.children}),g.return=f,g.sibling=null,c!==null&&(H=f.deletions,H===null?(f.deletions=[c],f.flags|=16):H.push(c)),f.child=g,f.memoizedState=null,g)}function Dd(c,f){return f=Tl({mode:"visible",children:f},c.mode),f.return=c,c.child=f}function Tl(c,f){return c=t(22,c,null,f),c.lanes=0,c}function bc(c,f,g){return Br(f,c.child,null,g),c=Dd(f,f.pendingProps.children),c.flags|=2,f.memoizedState=null,c}function dv(c,f,g){c.lanes|=f;var b=c.alternate;b!==null&&(b.lanes|=f),K(c.return,f,g)}function mu(c,f,g,b,C,L){var H=c.memoizedState;H===null?c.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:b,tail:g,tailMode:C,treeForkCount:L}:(H.isBackwards=f,H.rendering=null,H.renderingStartTime=0,H.last=b,H.tail=g,H.tailMode=C,H.treeForkCount=L)}function J0(c,f,g){var b=f.pendingProps,C=b.revealOrder,L=b.tail;b=b.children;var H=Hi.current,ie=(H&2)!==0;if(ie?(H=H&1|2,f.flags|=128):H&=1,M(Hi,H),Pr(c,f,b,g),b=En?uh:0,!ie&&c!==null&&(c.flags&128)!==0)e:for(c=f.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&dv(c,g,f);else if(c.tag===19)dv(c,g,f);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===f)break e;for(;c.sibling===null;){if(c.return===null||c.return===f)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}switch(C){case"forwards":for(g=f.child,C=null;g!==null;)c=g.alternate,c!==null&&dt(c)===null&&(C=g),g=g.sibling;g=C,g===null?(C=f.child,f.child=null):(C=g.sibling,g.sibling=null),mu(f,!1,C,g,L,b);break;case"backwards":case"unstable_legacy-backwards":for(g=null,C=f.child,f.child=null;C!==null;){if(c=C.alternate,c!==null&&dt(c)===null){f.child=C;break}c=C.sibling,C.sibling=g,g=C,C=c}mu(f,!0,g,null,L,b);break;case"together":mu(f,!1,null,null,void 0,b);break;default:f.memoizedState=null}return f.child}function ho(c,f,g){if(c!==null&&(f.dependencies=c.dependencies),al|=f.lanes,(g&f.childLanes)===0)if(c!==null){if(nt(c,f,g,!1),(g&f.childLanes)===0)return null}else return null;if(c!==null&&f.child!==c.child)throw Error(r(153));if(f.child!==null){for(c=f.child,g=Ws(c,c.pendingProps),f.child=g,g.return=f;c.sibling!==null;)c=c.sibling,g=g.sibling=Ws(c,c.pendingProps),g.return=f;g.sibling=null}return f.child}function Vf(c,f){return(c.lanes&f)!==0?!0:(c=c.dependencies,!!(c!==null&&ut(c)))}function $0(c,f,g){switch(f.tag){case 3:Je(f,f.stateNode.containerInfo),Oe(f,Ri,c.memoizedState.cache),rt();break;case 27:case 5:xe(f);break;case 4:Je(f,f.stateNode.containerInfo);break;case 10:Oe(f,f.type,f.memoizedProps.value);break;case 31:if(f.memoizedState!==null)return f.flags|=128,Ee(f),null;break;case 13:var b=f.memoizedState;if(b!==null)return b.dehydrated!==null?(le(f),f.flags|=128,null):(g&f.child.childLanes)!==0?K0(c,f,g):(le(f),c=ho(c,f,g),c!==null?c.sibling:null);le(f);break;case 19:var C=(c.flags&128)!==0;if(b=(g&f.childLanes)!==0,b||(nt(c,f,g,!1),b=(g&f.childLanes)!==0),C){if(b)return J0(c,f,g);f.flags|=128}if(C=f.memoizedState,C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),M(Hi,Hi.current),b)break;return null;case 22:return f.lanes=0,uv(c,f,g,f.pendingProps);case 24:Oe(f,Ri,c.memoizedState.cache)}return ho(c,f,g)}function em(c,f,g){if(c!==null)if(c.memoizedProps!==f.pendingProps)Si=!0;else{if(!Vf(c,g)&&(f.flags&128)===0)return Si=!1,$0(c,f,g);Si=(c.flags&131072)!==0}else Si=!1,En&&(f.flags&1048576)!==0&&X(f,uh,f.index);switch(f.lanes=0,f.tag){case 16:e:{var b=f.pendingProps;if(c=un(f.elementType),f.type=c,typeof c=="function")Mc(c)?(b=_c(c,b),f.tag=1,f=yc(null,f,c,b,g)):(f.tag=0,f=Rd(null,f,c,b,g));else{if(c!=null){var C=c.$$typeof;if(C===Cu){f.tag=11,f=ov(null,f,c,b,g);break e}else if(C===Yd){f.tag=14,f=lv(null,f,c,b,g);break e}}throw f=_(c)||c,Error(r(306,f,""))}}return f;case 0:return Rd(c,f,f.type,f.pendingProps,g);case 1:return b=f.type,C=_c(b,f.pendingProps),yc(c,f,b,C,g);case 3:e:{if(Je(f,f.stateNode.containerInfo),c===null)throw Error(r(387));var L=f.pendingProps;C=f.memoizedState,b=C.element,fn(c,f),ui(f,L,null,g);var H=f.memoizedState;if(L=H.cache,Oe(f,Ri,L),L!==C.cache&&Tt(f,[Ri],g,!0),Jn(),L=H.element,wi&&C.isDehydrated)if(C={element:L,isDehydrated:!1,cache:H.cache},f.updateQueue.baseState=C,f.memoizedState=C,f.flags&256){f=hv(c,f,L,g);break e}else if(L!==b){b=ye(Error(r(424)),f),Be(b),f=hv(c,f,L,g);break e}else for(wi&&(Ci=Yv(f.stateNode.containerInfo),mr=f,En=!0,Co=null,cs=!0),g=Qm(f,null,L,g),f.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(rt(),L===b){f=ho(c,f,g);break e}Pr(c,f,L,g)}f=f.child}return f;case 26:if(va)return kf(c,f),c===null?(g=Fm(f.type,null,f.pendingProps,null))?f.memoizedState=g:En||(f.stateNode=rp(f.type,f.pendingProps,zr.current,f)):f.memoizedState=Fm(f.type,c.memoizedProps,f.pendingProps,c.memoizedState),null;case 27:if(pr)return xe(f),c===null&&pr&&En&&(b=f.stateNode=sp(f.type,f.pendingProps,zr.current,Cr.current,!1),mr=f,cs=!0,Ci=Om(f.type,b,Ci)),Pr(c,f,f.pendingProps.children,g),kf(c,f),c===null&&(f.flags|=4194304),f.child;case 5:return c===null&&En&&(o_(f.type,f.pendingProps,Cr.current),(C=b=Ci)&&(b=Qv(b,f.type,f.pendingProps,cs),b!==null?(f.stateNode=b,mr=f,Ci=qv(b),cs=!1,C=!0):C=!1),C||Ze(f)),xe(f),C=f.type,L=f.pendingProps,H=c!==null?c.memoizedProps:null,b=L.children,ls(C,L)?b=null:H!==null&&ls(C,H)&&(f.flags|=32),f.memoizedState!==null&&(C=At(c,f,Wt,null,null,g),Yi?Lc._currentValue=C:Lc._currentValue2=C),kf(c,f),Pr(c,f,b,g),f.child;case 6:return c===null&&En&&(Bm(f.pendingProps,Cr.current),(c=g=Ci)&&(g=Kv(g,f.pendingProps,cs),g!==null?(f.stateNode=g,mr=f,Ci=null,c=!0):c=!1),c||Ze(f)),null;case 13:return K0(c,f,g);case 4:return Je(f,f.stateNode.containerInfo),b=f.pendingProps,c===null?f.child=Br(f,null,b,g):Pr(c,f,b,g),f.child;case 11:return ov(c,f,f.type,f.pendingProps,g);case 7:return Pr(c,f,f.pendingProps,g),f.child;case 8:return Pr(c,f,f.pendingProps.children,g),f.child;case 12:return Pr(c,f,f.pendingProps.children,g),f.child;case 10:return b=f.pendingProps,Oe(f,f.type,b.value),Pr(c,f,b.children,g),f.child;case 9:return C=f.type._context,b=f.pendingProps.children,Ye(f),C=q(C),b=b(C),f.flags|=1,Pr(c,f,b,g),f.child;case 14:return lv(c,f,f.type,f.pendingProps,g);case 15:return cv(c,f,f.type,f.pendingProps,g);case 19:return J0(c,f,g);case 31:return fv(c,f,g);case 22:return uv(c,f,g,f.pendingProps);case 24:return Ye(f),b=q(Ri),c===null?(C=He(),C===null&&(C=gn,L=Ae(),C.pooledCache=L,L.refCount++,L!==null&&(C.pooledCacheLanes|=g),C=L),f.memoizedState={parent:b,cache:C},tn(f),Oe(f,Ri,C)):((c.lanes&g)!==0&&(fn(c,f),ui(f,null,null,g),Jn()),C=c.memoizedState,L=f.memoizedState,C.parent!==b?(C={parent:b,cache:b},f.memoizedState=C,f.lanes===0&&(f.memoizedState=f.updateQueue.baseState=C),Oe(f,Ri,b)):(b=L.cache,Oe(f,Ri,b),b!==C.cache&&Tt(f,[Ri],g,!0))),Pr(c,f,f.pendingProps.children,g),f.child;case 29:throw f.pendingProps}throw Error(r(156,f.tag))}function ca(c){c.flags|=4}function Hf(c){Xs&&(c.flags|=8)}function pv(c,f){if(c!==null&&c.child===f.child)return!1;if((f.flags&16)!==0)return!0;for(c=f.child;c!==null;){if((c.flags&8218)!==0||(c.subtreeFlags&8218)!==0)return!0;c=c.sibling}return!1}function tm(c,f,g,b){if(Rn)for(g=f.child;g!==null;){if(g.tag===5||g.tag===6)nh(c,g.stateNode);else if(!(g.tag===4||pr&&g.tag===27)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===f)break;for(;g.sibling===null;){if(g.return===null||g.return===f)return;g=g.return}g.sibling.return=g.return,g=g.sibling}else if(Xs)for(var C=f.child;C!==null;){if(C.tag===5){var L=C.stateNode;g&&b&&(L=Hv(L,C.type,C.memoizedProps)),nh(c,L)}else if(C.tag===6)L=C.stateNode,g&&b&&(L=Nm(L,C.memoizedProps)),nh(c,L);else if(C.tag!==4){if(C.tag===22&&C.memoizedState!==null)L=C.child,L!==null&&(L.return=C),tm(c,C,!0,!0);else if(C.child!==null){C.child.return=C,C=C.child;continue}}if(C===f)break;for(;C.sibling===null;){if(C.return===null||C.return===f)return;C=C.return}C.sibling.return=C.return,C=C.sibling}}function mv(c,f,g,b){var C=!1;if(Xs)for(var L=f.child;L!==null;){if(L.tag===5){var H=L.stateNode;g&&b&&(H=Hv(H,L.type,L.memoizedProps)),Rm(c,H)}else if(L.tag===6)H=L.stateNode,g&&b&&(H=Nm(H,L.memoizedProps)),Rm(c,H);else if(L.tag!==4){if(L.tag===22&&L.memoizedState!==null)C=L.child,C!==null&&(C.return=L),mv(c,L,!0,!0),C=!0;else if(L.child!==null){L.child.return=L,L=L.child;continue}}if(L===f)break;for(;L.sibling===null;){if(L.return===null||L.return===f)return C;L=L.return}L.sibling.return=L.return,L=L.sibling}return C}function gv(c,f){if(Xs&&pv(c,f)){c=f.stateNode;var g=c.containerInfo,b=Cm();mv(b,f,!1,!1),c.pendingChildren=b,ca(f),Vv(g,b)}}function nm(c,f,g,b){if(Rn)c.memoizedProps!==b&&ca(f);else if(Xs){var C=c.stateNode,L=c.memoizedProps;if((c=pv(c,f))||L!==b){var H=Cr.current;L=kv(C,g,L,b,!c,null),L===C?f.stateNode=C:(Hf(f),ys(L,g,b,H)&&ca(f),f.stateNode=L,c&&tm(L,f,!1,!1))}else f.stateNode=C}}function ss(c,f,g,b,C){if((c.mode&32)!==0&&(g===null?ih(f,b):Ou(f,g,b))){if(c.flags|=16777216,(C&335544128)===C||vm(f,b))if(Oi(c.stateNode,f,b))c.flags|=8192;else if(Cn())c.flags|=8192;else throw us=Ro,gp}else c.flags&=-16777217}function gu(c,f){if(Gm(f)){if(c.flags|=16777216,!Wm(f))if(Cn())c.flags|=8192;else throw us=Ro,gp}else c.flags&=-16777217}function Gf(c,f){f!==null&&(c.flags|=4),c.flags&16384&&(f=c.tag!==22?N():536870912,c.lanes|=f,Hu|=f)}function vu(c,f){if(!En)switch(c.tailMode){case"hidden":f=c.tail;for(var g=null;f!==null;)f.alternate!==null&&(g=f),f=f.sibling;g===null?c.tail=null:g.sibling=null;break;case"collapsed":g=c.tail;for(var b=null;g!==null;)g.alternate!==null&&(b=g),g=g.sibling;b===null?f||c.tail===null?c.tail=null:c.tail.sibling=null:b.sibling=null}}function mi(c){var f=c.alternate!==null&&c.alternate.child===c.child,g=0,b=0;if(f)for(var C=c.child;C!==null;)g|=C.lanes|C.childLanes,b|=C.subtreeFlags&65011712,b|=C.flags&65011712,C.return=c,C=C.sibling;else for(C=c.child;C!==null;)g|=C.lanes|C.childLanes,b|=C.subtreeFlags,b|=C.flags,C.return=c,C=C.sibling;return c.subtreeFlags|=b,c.childLanes=g,f}function vv(c,f,g){var b=f.pendingProps;switch(Se(f),f.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mi(f),null;case 1:return mi(f),null;case 3:return g=f.stateNode,b=null,c!==null&&(b=c.memoizedState.cache),f.memoizedState.cache!==b&&(f.flags|=2048),re(Ri),de(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(c===null||c.child===null)&&(Bt(f)?ca(f):c===null||c.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,Ce())),gv(c,f),mi(f),null;case 26:if(va){var C=f.type,L=f.memoizedState;return c===null?(ca(f),L!==null?(mi(f),gu(f,L)):(mi(f),ss(f,C,null,b,g))):L?L!==c.memoizedState?(ca(f),mi(f),gu(f,L)):(mi(f),f.flags&=-16777217):(L=c.memoizedProps,Rn?L!==b&&ca(f):nm(c,f,C,b),mi(f),ss(f,C,L,b,g)),null}case 27:if(pr){if(qe(f),g=zr.current,C=f.type,c!==null&&f.stateNode!=null)Rn?c.memoizedProps!==b&&ca(f):nm(c,f,C,b);else{if(!b){if(f.stateNode===null)throw Error(r(166));return mi(f),null}c=Cr.current,Bt(f)?ct(f,c):(c=sp(C,b,g,c,!0),f.stateNode=c,ca(f))}return mi(f),null}case 5:if(qe(f),C=f.type,c!==null&&f.stateNode!=null)nm(c,f,C,b);else{if(!b){if(f.stateNode===null)throw Error(r(166));return mi(f),null}if(L=Cr.current,Bt(f))ct(f,L),r_(f.stateNode,C,b,L)&&(f.flags|=64);else{var H=mm(C,b,zr.current,L,f);Hf(f),tm(H,f,!1,!1),f.stateNode=H,ys(H,C,b,L)&&ca(f)}}return mi(f),ss(f,f.type,c===null?null:c.memoizedProps,f.pendingProps,g),null;case 6:if(c&&f.stateNode!=null)g=c.memoizedProps,Rn?g!==b&&ca(f):Xs&&(g!==b?(c=zr.current,g=Cr.current,Hf(f),f.stateNode=el(b,c,g,f)):f.stateNode=c.stateNode);else{if(typeof b!="string"&&f.stateNode===null)throw Error(r(166));if(c=zr.current,g=Cr.current,Bt(f)){if(!wi)throw Error(r(176));if(c=f.stateNode,g=f.memoizedProps,b=null,C=mr,C!==null)switch(C.tag){case 27:case 5:b=C.memoizedProps}tb(c,g,f,b)||Ze(f,!0)}else Hf(f),f.stateNode=el(b,c,g,f)}return mi(f),null;case 31:if(g=f.memoizedState,c===null||c.memoizedState!==null){if(b=Bt(f),g!==null){if(c===null){if(!b)throw Error(r(318));if(!wi)throw Error(r(556));if(c=f.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(557));Pm(c,f)}else rt(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;mi(f),c=!1}else g=Ce(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=g),c=!0;if(!c)return f.flags&256?(je(f),f):(je(f),null);if((f.flags&128)!==0)throw Error(r(558))}return mi(f),null;case 13:if(b=f.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(C=Bt(f),b!==null&&b.dehydrated!==null){if(c===null){if(!C)throw Error(r(318));if(!wi)throw Error(r(344));if(C=f.memoizedState,C=C!==null?C.dehydrated:null,!C)throw Error(r(317));e_(C,f)}else rt(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;mi(f),C=!1}else C=Ce(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=C),C=!0;if(!C)return f.flags&256?(je(f),f):(je(f),null)}return je(f),(f.flags&128)!==0?(f.lanes=g,f):(g=b!==null,c=c!==null&&c.memoizedState!==null,g&&(b=f.child,C=null,b.alternate!==null&&b.alternate.memoizedState!==null&&b.alternate.memoizedState.cachePool!==null&&(C=b.alternate.memoizedState.cachePool.pool),L=null,b.memoizedState!==null&&b.memoizedState.cachePool!==null&&(L=b.memoizedState.cachePool.pool),L!==C&&(b.flags|=2048)),g!==c&&g&&(f.child.flags|=8192),Gf(f,f.updateQueue),mi(f),null);case 4:return de(),gv(c,f),c===null&&ri(f.stateNode.containerInfo),mi(f),null;case 10:return re(f.type),mi(f),null;case 19:if(x(Hi),b=f.memoizedState,b===null)return mi(f),null;if(C=(f.flags&128)!==0,L=b.rendering,L===null)if(C)vu(b,!1);else{if(Ii!==0||c!==null&&(c.flags&128)!==0)for(c=f.child;c!==null;){if(L=dt(c),L!==null){for(f.flags|=128,vu(b,!1),c=L.updateQueue,f.updateQueue=c,Gf(f,c),f.subtreeFlags=0,c=g,g=f.child;g!==null;)Hd(g,c),g=g.sibling;return M(Hi,Hi.current&1|2),En&&j(f,b.treeForkCount),f.child}c=c.sibling}b.tail!==null&&Zr()>jl&&(f.flags|=128,C=!0,vu(b,!1),f.lanes=4194304)}else{if(!C)if(c=dt(L),c!==null){if(f.flags|=128,C=!0,c=c.updateQueue,f.updateQueue=c,Gf(f,c),vu(b,!0),b.tail===null&&b.tailMode==="hidden"&&!L.alternate&&!En)return mi(f),null}else 2*Zr()-b.renderingStartTime>jl&&g!==536870912&&(f.flags|=128,C=!0,vu(b,!1),f.lanes=4194304);b.isBackwards?(L.sibling=f.child,f.child=L):(c=b.last,c!==null?c.sibling=L:f.child=L,b.last=L)}return b.tail!==null?(c=b.tail,b.rendering=c,b.tail=c.sibling,b.renderingStartTime=Zr(),c.sibling=null,g=Hi.current,M(Hi,C?g&1|2:g&1),En&&j(f,b.treeForkCount),c):(mi(f),null);case 22:case 23:return je(f),V(),b=f.memoizedState!==null,c!==null?c.memoizedState!==null!==b&&(f.flags|=8192):b&&(f.flags|=8192),b?(g&536870912)!==0&&(f.flags&128)===0&&(mi(f),f.subtreeFlags&6&&(f.flags|=8192)):mi(f),g=f.updateQueue,g!==null&&Gf(f,g.retryQueue),g=null,c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),b=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(b=f.memoizedState.cachePool.pool),b!==g&&(f.flags|=2048),c!==null&&x(kl),null;case 24:return g=null,c!==null&&(g=c.memoizedState.cache),f.memoizedState.cache!==g&&(f.flags|=2048),re(Ri),mi(f),null;case 25:return null;case 30:return null}throw Error(r(156,f.tag))}function im(c,f){switch(Se(f),f.tag){case 1:return c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 3:return re(Ri),de(),c=f.flags,(c&65536)!==0&&(c&128)===0?(f.flags=c&-65537|128,f):null;case 26:case 27:case 5:return qe(f),null;case 31:if(f.memoizedState!==null){if(je(f),f.alternate===null)throw Error(r(340));rt()}return c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 13:if(je(f),c=f.memoizedState,c!==null&&c.dehydrated!==null){if(f.alternate===null)throw Error(r(340));rt()}return c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 19:return x(Hi),null;case 4:return de(),null;case 10:return re(f.type),null;case 22:case 23:return je(f),V(),c!==null&&x(kl),c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 24:return re(Ri),null;case 25:return null;default:return null}}function _v(c,f){switch(Se(f),f.tag){case 3:re(Ri),de();break;case 26:case 27:case 5:qe(f);break;case 4:de();break;case 31:f.memoizedState!==null&&je(f);break;case 13:je(f);break;case 19:x(Hi);break;case 10:re(f.type);break;case 22:case 23:je(f),V(),c!==null&&x(kl);break;case 24:re(Ri)}}function po(c,f){try{var g=f.updateQueue,b=g!==null?g.lastEffect:null;if(b!==null){var C=b.next;g=C;do{if((g.tag&c)===c){b=void 0;var L=g.create,H=g.inst;b=L(),H.destroy=b}g=g.next}while(g!==C)}}catch(ie){Zt(f,f.return,ie)}}function mo(c,f,g){try{var b=f.updateQueue,C=b!==null?b.lastEffect:null;if(C!==null){var L=C.next;b=L;do{if((b.tag&c)===c){var H=b.inst,ie=H.destroy;if(ie!==void 0){H.destroy=void 0,C=f;var Re=g,Ge=ie;try{Ge()}catch(st){Zt(C,Re,st)}}}b=b.next}while(b!==L)}}catch(st){Zt(f,f.return,st)}}function _u(c){var f=c.updateQueue;if(f!==null){var g=c.stateNode;try{Ur(f,g)}catch(b){Zt(c,c.return,b)}}}function Nd(c,f,g){g.props=_c(c.type,c.memoizedProps),g.state=c.memoizedState;try{g.componentWillUnmount()}catch(b){Zt(c,f,b)}}function xu(c,f){try{var g=c.ref;if(g!==null){switch(c.tag){case 26:case 27:case 5:var b=Du(c.stateNode);break;case 30:b=c.stateNode;break;default:b=c.stateNode}typeof g=="function"?c.refCleanup=g(b):g.current=b}}catch(C){Zt(c,f,C)}}function jr(c,f){var g=c.ref,b=c.refCleanup;if(g!==null)if(typeof b=="function")try{b()}catch(C){Zt(c,f,C)}finally{c.refCleanup=null,c=c.alternate,c!=null&&(c.refCleanup=null)}else if(typeof g=="function")try{g(null)}catch(C){Zt(c,f,C)}else g.current=null}function Sc(c){var f=c.type,g=c.memoizedProps,b=c.stateNode;try{Lv(b,f,g,c)}catch(C){Zt(c,c.return,C)}}function Wf(c,f,g){try{Ov(c.stateNode,c.type,g,f,c)}catch(b){Zt(c,c.return,b)}}function rm(c){return c.tag===5||c.tag===3||(va?c.tag===26:!1)||(pr?c.tag===27&&Oc(c.type):!1)||c.tag===4}function qo(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||rm(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(pr&&c.tag===27&&Oc(c.type)||c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function Ld(c,f,g){var b=c.tag;if(b===5||b===6)c=c.stateNode,f?Pv(g,c,f):Tm(g,c);else if(b!==4&&(pr&&b===27&&Oc(c.type)&&(g=c.stateNode,f=null),c=c.child,c!==null))for(Ld(c,f,g),c=c.sibling;c!==null;)Ld(c,f,g),c=c.sibling}function Xf(c,f,g){var b=c.tag;if(b===5||b===6)c=c.stateNode,f?Uv(g,c,f):Mm(g,c);else if(b!==4&&(pr&&b===27&&Oc(c.type)&&(g=c.stateNode),c=c.child,c!==null))for(Xf(c,f,g),c=c.sibling;c!==null;)Xf(c,f,g),c=c.sibling}function sm(c,f,g){c=c.containerInfo;try{Dm(c,g)}catch(b){Zt(f,f.return,b)}}function xv(c){var f=c.stateNode,g=c.memoizedProps;try{or(c.type,g,f,c)}catch(b){Zt(c,c.return,b)}}function K3(c,f){for(jd(c.containerInfo),Qi=f;Qi!==null;)if(c=Qi,f=c.child,(c.subtreeFlags&1028)!==0&&f!==null)f.return=c,Qi=f;else for(;Qi!==null;){c=Qi;var g=c.alternate;switch(f=c.flags,c.tag){case 0:if((f&4)!==0&&(f=c.updateQueue,f=f!==null?f.events:null,f!==null))for(var b=0;b<f.length;b++){var C=f[b];C.ref.impl=C.nextImpl}break;case 11:case 15:break;case 1:if((f&1024)!==0&&g!==null){f=void 0,b=c,C=g.memoizedProps,g=g.memoizedState;var L=b.stateNode;try{var H=_c(b.type,C);f=L.getSnapshotBeforeUpdate(H,g),L.__reactInternalSnapshotBeforeUpdate=f}catch(ie){Zt(b,b.return,ie)}}break;case 3:(f&1024)!==0&&Rn&&wm(c.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((f&1024)!==0)throw Error(r(163))}if(f=c.sibling,f!==null){f.return=c.return,Qi=f;break}Qi=c.return}}function yv(c,f,g){var b=g.flags;switch(g.tag){case 0:case 11:case 15:as(c,g),b&4&&po(5,g);break;case 1:if(as(c,g),b&4)if(c=g.stateNode,f===null)try{c.componentDidMount()}catch(H){Zt(g,g.return,H)}else{var C=_c(g.type,f.memoizedProps);f=f.memoizedState;try{c.componentDidUpdate(C,f,c.__reactInternalSnapshotBeforeUpdate)}catch(H){Zt(g,g.return,H)}}b&64&&_u(g),b&512&&xu(g,g.return);break;case 3:if(as(c,g),b&64&&(b=g.updateQueue,b!==null)){if(c=null,g.child!==null)switch(g.child.tag){case 27:case 5:c=Du(g.child.stateNode);break;case 1:c=g.child.stateNode}try{Ur(b,c)}catch(H){Zt(g,g.return,H)}}break;case 27:pr&&f===null&&b&4&&xv(g);case 26:case 5:if(as(c,g),f===null){if(b&4)Sc(g);else if(b&64){c=g.type,f=g.memoizedProps,C=g.stateNode;try{n_(C,c,f,g)}catch(H){Zt(g,g.return,H)}}}b&512&&xu(g,g.return);break;case 12:as(c,g);break;case 31:as(c,g),b&4&&fa(c,g);break;case 13:as(c,g),b&4&&Yf(c,g),b&64&&(b=g.memoizedState,b!==null&&(b=b.dehydrated,b!==null&&(g=J3.bind(null,g),tp(b,g))));break;case 22:if(b=g.memoizedState!==null||Gi,!b){f=f!==null&&f.memoizedState!==null||Wi,C=Gi;var L=Wi;Gi=b,(Wi=f)&&!L?da(c,g,(g.subtreeFlags&8772)!==0):as(c,g),Gi=C,Wi=L}break;case 30:break;default:as(c,g)}}function am(c){var f=c.alternate;f!==null&&(c.alternate=null,am(f)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(f=c.stateNode,f!==null&&Zd(f)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function ua(c,f,g){for(g=g.child;g!==null;)qf(c,f,g),g=g.sibling}function qf(c,f,g){if(Ms&&typeof Ms.onCommitFiberUnmount=="function")try{Ms.onCommitFiberUnmount(Ic,g)}catch{}switch(g.tag){case 26:if(va){Wi||jr(g,f),ua(c,f,g),g.memoizedState?Bl(g.memoizedState):g.stateNode&&Hm(g.stateNode);break}case 27:if(pr){Wi||jr(g,f);var b=Pi,C=Ki;Oc(g.type)&&(Pi=g.stateNode,Ki=!1),ua(c,f,g),wr(g.stateNode),Pi=b,Ki=C;break}case 5:Wi||jr(g,f);case 6:if(Rn){if(b=Pi,C=Ki,Pi=null,ua(c,f,g),Pi=b,Ki=C,Pi!==null)if(Ki)try{Em(Pi,g.stateNode)}catch(L){Zt(g,f,L)}else try{Iv(Pi,g.stateNode)}catch(L){Zt(g,f,L)}}else ua(c,f,g);break;case 18:Rn&&Pi!==null&&(Ki?np(Pi,g.stateNode):zm(Pi,g.stateNode));break;case 4:Rn?(b=Pi,C=Ki,Pi=g.stateNode.containerInfo,Ki=!0,ua(c,f,g),Pi=b,Ki=C):(Xs&&sm(g.stateNode,g,Cm()),ua(c,f,g));break;case 0:case 11:case 14:case 15:mo(2,g,f),Wi||mo(4,g,f),ua(c,f,g);break;case 1:Wi||(jr(g,f),b=g.stateNode,typeof b.componentWillUnmount=="function"&&Nd(g,f,b)),ua(c,f,g);break;case 21:ua(c,f,g);break;case 22:Wi=(b=Wi)||g.memoizedState!==null,ua(c,f,g),Wi=b;break;default:ua(c,f,g)}}function fa(c,f){if(wi&&f.memoizedState===null&&(c=f.alternate,c!==null&&(c=c.memoizedState,c!==null))){c=c.dehydrated;try{nb(c)}catch(g){Zt(f,f.return,g)}}}function Yf(c,f){if(wi&&f.memoizedState===null&&(c=f.alternate,c!==null&&(c=c.memoizedState,c!==null&&(c=c.dehydrated,c!==null))))try{ib(c)}catch(g){Zt(f,f.return,g)}}function ha(c){switch(c.tag){case 31:case 13:case 19:var f=c.stateNode;return f===null&&(f=c.stateNode=new Jm),f;case 22:return c=c.stateNode,f=c._retryCache,f===null&&(f=c._retryCache=new Jm),f;default:throw Error(r(435,c.tag))}}function Yo(c,f){var g=ha(c);f.forEach(function(b){if(!g.has(b)){g.add(b);var C=$3.bind(null,c,b);b.then(C,C)}})}function Er(c,f){var g=f.deletions;if(g!==null)for(var b=0;b<g.length;b++){var C=g[b],L=c,H=f;if(Rn){var ie=H;e:for(;ie!==null;){switch(ie.tag){case 27:if(pr){if(Oc(ie.type)){Pi=ie.stateNode,Ki=!1;break e}break}case 5:Pi=ie.stateNode,Ki=!1;break e;case 3:case 4:Pi=ie.stateNode.containerInfo,Ki=!0;break e}ie=ie.return}if(Pi===null)throw Error(r(160));qf(L,H,C),Pi=null,Ki=!1}else qf(L,H,C);L=C.alternate,L!==null&&(L.return=null),C.return=null}if(f.subtreeFlags&13886)for(f=f.child;f!==null;)jf(f,c),f=f.sibling}function jf(c,f){var g=c.alternate,b=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:Er(f,c),Ar(c),b&4&&(mo(3,c,c.return),po(3,c),mo(5,c,c.return));break;case 1:Er(f,c),Ar(c),b&512&&(Wi||g===null||jr(g,g.return)),b&64&&Gi&&(c=c.updateQueue,c!==null&&(b=c.callbacks,b!==null&&(g=c.shared.hiddenCallbacks,c.shared.hiddenCallbacks=g===null?b:g.concat(b))));break;case 26:if(va){var C=ei;if(Er(f,c),Ar(c),b&512&&(Wi||g===null||jr(g,g.return)),b&4){b=g!==null?g.memoizedState:null;var L=c.memoizedState;g===null?L===null?c.stateNode===null?c.stateNode=l_(C,c.type,c.memoizedProps,c):Vm(C,c.type,c.stateNode):c.stateNode=km(C,L,c.memoizedProps):b!==L?(b===null?g.stateNode!==null&&Hm(g.stateNode):Bl(b),L===null?Vm(C,c.type,c.stateNode):km(C,L,c.memoizedProps)):L===null&&c.stateNode!==null&&Wf(c,c.memoizedProps,g.memoizedProps)}break}case 27:if(pr){Er(f,c),Ar(c),b&512&&(Wi||g===null||jr(g,g.return)),g!==null&&b&4&&Wf(c,c.memoizedProps,g.memoizedProps);break}case 5:if(Er(f,c),Ar(c),b&512&&(Wi||g===null||jr(g,g.return)),Rn){if(c.flags&32){C=c.stateNode;try{Am(C)}catch(Ke){Zt(c,c.return,Ke)}}b&4&&c.stateNode!=null&&(C=c.memoizedProps,Wf(c,C,g!==null?g.memoizedProps:C)),b&1024&&(zu=!0)}else Xs&&c.alternate!==null&&(c.alternate.stateNode=c.stateNode);break;case 6:if(Er(f,c),Ar(c),b&4&&Rn){if(c.stateNode===null)throw Error(r(162));b=c.memoizedProps,g=g!==null?g.memoizedProps:b,C=c.stateNode;try{Nv(C,g,b)}catch(Ke){Zt(c,c.return,Ke)}}break;case 3:if(va?(c_(),C=ei,ei=ah(f.containerInfo),Er(f,c),ei=C):Er(f,c),Ar(c),b&4){if(Rn&&wi&&g!==null&&g.memoizedState.isDehydrated)try{i_(f.containerInfo)}catch(Ke){Zt(c,c.return,Ke)}if(Xs){b=f.containerInfo,g=f.pendingChildren;try{Dm(b,g)}catch(Ke){Zt(c,c.return,Ke)}}}zu&&(zu=!1,Od(c));break;case 4:va?(g=ei,ei=ah(c.stateNode.containerInfo),Er(f,c),Ar(c),ei=g):(Er(f,c),Ar(c)),b&4&&Xs&&sm(c.stateNode,c,c.stateNode.pendingChildren);break;case 12:Er(f,c),Ar(c);break;case 31:Er(f,c),Ar(c),b&4&&(b=c.updateQueue,b!==null&&(c.updateQueue=null,Yo(c,b)));break;case 13:Er(f,c),Ar(c),c.child.flags&8192&&c.memoizedState!==null!=(g!==null&&g.memoizedState!==null)&&(gh=Zr()),b&4&&(b=c.updateQueue,b!==null&&(c.updateQueue=null,Yo(c,b)));break;case 22:C=c.memoizedState!==null;var H=g!==null&&g.memoizedState!==null,ie=Gi,Re=Wi;if(Gi=ie||C,Wi=Re||H,Er(f,c),Wi=Re,Gi=ie,Ar(c),b&8192&&(f=c.stateNode,f._visibility=C?f._visibility&-2:f._visibility|1,C&&(g===null||H||Gi||Wi||El(c)),Rn)){e:if(g=null,Rn)for(f=c;;){if(f.tag===5||va&&f.tag===26){if(g===null){H=g=f;try{L=H.stateNode,C?eb(L):Bv(H.stateNode,H.memoizedProps)}catch(Ke){Zt(H,H.return,Ke)}}}else if(f.tag===6){if(g===null){H=f;try{var Ge=H.stateNode;C?zv(Ge):Fv(Ge,H.memoizedProps)}catch(Ke){Zt(H,H.return,Ke)}}}else if(f.tag===18){if(g===null){H=f;try{var st=H.stateNode;C?s_(st):a_(H.stateNode)}catch(Ke){Zt(H,H.return,Ke)}}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===c)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===c)break e;for(;f.sibling===null;){if(f.return===null||f.return===c)break e;g===f&&(g=null),f=f.return}g===f&&(g=null),f.sibling.return=f.return,f=f.sibling}}b&4&&(b=c.updateQueue,b!==null&&(g=b.retryQueue,g!==null&&(b.retryQueue=null,Yo(c,g))));break;case 19:Er(f,c),Ar(c),b&4&&(b=c.updateQueue,b!==null&&(c.updateQueue=null,Yo(c,b)));break;case 30:break;case 21:break;default:Er(f,c),Ar(c)}}function Ar(c){var f=c.flags;if(f&2){try{for(var g,b=c.return;b!==null;){if(rm(b)){g=b;break}b=b.return}if(Rn){if(g==null)throw Error(r(160));switch(g.tag){case 27:if(pr){var C=g.stateNode,L=qo(c);Xf(c,L,C);break}case 5:var H=g.stateNode;g.flags&32&&(Am(H),g.flags&=-33);var ie=qo(c);Xf(c,ie,H);break;case 3:case 4:var Re=g.stateNode.containerInfo,Ge=qo(c);Ld(c,Ge,Re);break;default:throw Error(r(161))}}}catch(st){Zt(c,c.return,st)}c.flags&=-3}f&4096&&(c.flags&=-4097)}function Od(c){if(c.subtreeFlags&1024)for(c=c.child;c!==null;){var f=c;Od(f),f.tag===5&&f.flags&1024&&xm(f.stateNode),c=c.sibling}}function as(c,f){if(f.subtreeFlags&8772)for(f=f.child;f!==null;)yv(c,f.alternate,f),f=f.sibling}function El(c){for(c=c.child;c!==null;){var f=c;switch(f.tag){case 0:case 11:case 14:case 15:mo(4,f,f.return),El(f);break;case 1:jr(f,f.return);var g=f.stateNode;typeof g.componentWillUnmount=="function"&&Nd(f,f.return,g),El(f);break;case 27:pr&&wr(f.stateNode);case 26:case 5:jr(f,f.return),El(f);break;case 22:f.memoizedState===null&&El(f);break;case 30:El(f);break;default:El(f)}c=c.sibling}}function da(c,f,g){for(g=g&&(f.subtreeFlags&8772)!==0,f=f.child;f!==null;){var b=f.alternate,C=c,L=f,H=L.flags;switch(L.tag){case 0:case 11:case 15:da(C,L,g),po(4,L);break;case 1:if(da(C,L,g),b=L,C=b.stateNode,typeof C.componentDidMount=="function")try{C.componentDidMount()}catch(Ge){Zt(b,b.return,Ge)}if(b=L,C=b.updateQueue,C!==null){var ie=b.stateNode;try{var Re=C.shared.hiddenCallbacks;if(Re!==null)for(C.shared.hiddenCallbacks=null,C=0;C<Re.length;C++)di(Re[C],ie)}catch(Ge){Zt(b,b.return,Ge)}}g&&H&64&&_u(L),xu(L,L.return);break;case 27:pr&&xv(L);case 26:case 5:da(C,L,g),g&&b===null&&H&4&&Sc(L),xu(L,L.return);break;case 12:da(C,L,g);break;case 31:da(C,L,g),g&&H&4&&fa(C,L);break;case 13:da(C,L,g),g&&H&4&&Yf(C,L);break;case 22:L.memoizedState===null&&da(C,L,g),xu(L,L.return);break;case 30:break;default:da(C,L,g)}f=f.sibling}}function Al(c,f){var g=null;c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),c=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(c=f.memoizedState.cachePool.pool),c!==g&&(c!=null&&c.refCount++,g!=null&&Ne(g))}function om(c,f){c=null,f.alternate!==null&&(c=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==c&&(f.refCount++,c!=null&&Ne(c))}function Ni(c,f,g,b){if(f.subtreeFlags&10256)for(f=f.child;f!==null;)Ud(c,f,g,b),f=f.sibling}function Ud(c,f,g,b){var C=f.flags;switch(f.tag){case 0:case 11:case 15:Ni(c,f,g,b),C&2048&&po(9,f);break;case 1:Ni(c,f,g,b);break;case 3:Ni(c,f,g,b),C&2048&&(c=null,f.alternate!==null&&(c=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==c&&(f.refCount++,c!=null&&Ne(c)));break;case 12:if(C&2048){Ni(c,f,g,b),c=f.stateNode;try{var L=f.memoizedProps,H=L.id,ie=L.onPostCommit;typeof ie=="function"&&ie(H,f.alternate===null?"mount":"update",c.passiveEffectDuration,-0)}catch(Re){Zt(f,f.return,Re)}}else Ni(c,f,g,b);break;case 31:Ni(c,f,g,b);break;case 13:Ni(c,f,g,b);break;case 23:break;case 22:L=f.stateNode,H=f.alternate,f.memoizedState!==null?L._visibility&2?Ni(c,f,g,b):yu(c,f):L._visibility&2?Ni(c,f,g,b):(L._visibility|=2,vs(c,f,g,b,(f.subtreeFlags&10256)!==0||!1)),C&2048&&Al(H,f);break;case 24:Ni(c,f,g,b),C&2048&&om(f.alternate,f);break;default:Ni(c,f,g,b)}}function vs(c,f,g,b,C){for(C=C&&((f.subtreeFlags&10256)!==0||!1),f=f.child;f!==null;){var L=c,H=f,ie=g,Re=b,Ge=H.flags;switch(H.tag){case 0:case 11:case 15:vs(L,H,ie,Re,C),po(8,H);break;case 23:break;case 22:var st=H.stateNode;H.memoizedState!==null?st._visibility&2?vs(L,H,ie,Re,C):yu(L,H):(st._visibility|=2,vs(L,H,ie,Re,C)),C&&Ge&2048&&Al(H.alternate,H);break;case 24:vs(L,H,ie,Re,C),C&&Ge&2048&&om(H.alternate,H);break;default:vs(L,H,ie,Re,C)}f=f.sibling}}function yu(c,f){if(f.subtreeFlags&10256)for(f=f.child;f!==null;){var g=c,b=f,C=b.flags;switch(b.tag){case 22:yu(g,b),C&2048&&Al(b.alternate,b);break;case 24:yu(g,b),C&2048&&om(b.alternate,b);break;default:yu(g,b)}f=f.sibling}}function go(c,f,g){if(c.subtreeFlags&Zs)for(c=c.child;c!==null;)wl(c,f,g),c=c.sibling}function wl(c,f,g){switch(c.tag){case 26:if(go(c,f,g),c.flags&Zs)if(c.memoizedState!==null)u_(g,ei,c.memoizedState,c.memoizedProps);else{var b=c.stateNode,C=c.type;c=c.memoizedProps,((f&335544128)===f||vm(C,c))&&Qd(g,b,C,c)}break;case 5:go(c,f,g),c.flags&Zs&&(b=c.stateNode,C=c.type,c=c.memoizedProps,((f&335544128)===f||vm(C,c))&&Qd(g,b,C,c));break;case 3:case 4:va?(b=ei,ei=ah(c.stateNode.containerInfo),go(c,f,g),ei=b):go(c,f,g);break;case 22:c.memoizedState===null&&(b=c.alternate,b!==null&&b.memoizedState!==null?(b=Zs,Zs=16777216,go(c,f,g),Zs=b):go(c,f,g));break;default:go(c,f,g)}}function Pd(c){var f=c.alternate;if(f!==null&&(c=f.child,c!==null)){f.child=null;do f=c.sibling,c.sibling=null,c=f;while(c!==null)}}function bu(c){var f=c.deletions;if((c.flags&16)!==0){if(f!==null)for(var g=0;g<f.length;g++){var b=f[g];Qi=b,Hs(b,c)}Pd(c)}if(c.subtreeFlags&10256)for(c=c.child;c!==null;)Id(c),c=c.sibling}function Id(c){switch(c.tag){case 0:case 11:case 15:bu(c),c.flags&2048&&mo(9,c,c.return);break;case 3:bu(c);break;case 12:bu(c);break;case 22:var f=c.stateNode;c.memoizedState!==null&&f._visibility&2&&(c.return===null||c.return.tag!==13)?(f._visibility&=-3,Zf(c)):bu(c);break;default:bu(c)}}function Zf(c){var f=c.deletions;if((c.flags&16)!==0){if(f!==null)for(var g=0;g<f.length;g++){var b=f[g];Qi=b,Hs(b,c)}Pd(c)}for(c=c.child;c!==null;){switch(f=c,f.tag){case 0:case 11:case 15:mo(8,f,f.return),Zf(f);break;case 22:g=f.stateNode,g._visibility&2&&(g._visibility&=-3,Zf(f));break;default:Zf(f)}c=c.sibling}}function Hs(c,f){for(;Qi!==null;){var g=Qi;switch(g.tag){case 0:case 11:case 15:mo(8,g,f);break;case 23:case 22:if(g.memoizedState!==null&&g.memoizedState.cachePool!==null){var b=g.memoizedState.cachePool.pool;b!=null&&b.refCount++}break;case 24:Ne(g.memoizedState.cache)}if(b=g.child,b!==null)b.return=g,Qi=b;else e:for(g=c;Qi!==null;){b=Qi;var C=b.sibling,L=b.return;if(am(b),b===g){Qi=null;break e}if(C!==null){C.return=L,Qi=C;break e}Qi=L}}}function Cl(c){var f=on(c);if(f!=null){if(typeof f.memoizedProps["data-testname"]!="string")throw Error(r(364));return f}if(c=ji(c),c===null)throw Error(r(362));return c.stateNode.current}function Rl(c,f){var g=c.tag;switch(f.$$typeof){case Ea:if(c.type===f.value)return!0;break;case Fu:e:{for(f=f.value,c=[c,0],g=0;g<c.length;){var b=c[g++],C=b.tag,L=c[g++],H=f[L];if(C!==5&&C!==26&&C!==27||!Il(b)){for(;H!=null&&Rl(b,H);)L++,H=f[L];if(L===f.length){f=!0;break e}else for(b=b.child;b!==null;)c.push(b,L),b=b.sibling}}f=!1}return f;case ku:if((g===5||g===26||g===27)&&Sm(c.stateNode,f.value))return!0;break;case Wl:if((g===5||g===6||g===26||g===27)&&(c=rh(c),c!==null&&0<=c.indexOf(f.value)))return!0;break;case ph:if((g===5||g===26||g===27)&&(c=c.memoizedProps["data-testname"],typeof c=="string"&&c.toLowerCase()===f.value.toLowerCase()))return!0;break;default:throw Error(r(365))}return!1}function Su(c){switch(c.$$typeof){case Ea:return"<"+(_(c.value)||"Unknown")+">";case Fu:return":has("+(Su(c)||"")+")";case ku:return'[role="'+c.value+'"]';case Wl:return'"'+c.value+'"';case ph:return'[data-testname="'+c.value+'"]';default:throw Error(r(365))}}function Mu(c,f){var g=[];c=[c,0];for(var b=0;b<c.length;){var C=c[b++],L=C.tag,H=c[b++],ie=f[H];if(L!==5&&L!==26&&L!==27||!Il(C)){for(;ie!=null&&Rl(C,ie);)H++,ie=f[H];if(H===f.length)g.push(C);else for(C=C.child;C!==null;)c.push(C,H),C=C.sibling}}return g}function _s(c,f){if(!dr)throw Error(r(363));c=Cl(c),c=Mu(c,f),f=[],c=Array.from(c);for(var g=0;g<c.length;){var b=c[g++],C=b.tag;if(C===5||C===26||C===27)Il(b)||f.push(b.stateNode);else for(b=b.child;b!==null;)c.push(b),b=b.sibling}return f}function Ai(){return(bn&2)!==0&&An!==0?An&-An:Ft.T!==null?et():Lu()}function jo(){if(hs===0)if((An&536870912)===0||En){var c=Pc;Pc<<=1,(Pc&3932160)===0&&(Pc=262144),hs=c}else hs=536870912;return c=Ts.current,c!==null&&(c.flags|=32),hs}function Li(c,f,g){(c===gn&&(ti===2||ti===9)||c.cancelPendingCommit!==null)&&(Vi(c,0),_o(c,An,hs,!1)),I(c,g),((bn&2)===0||c!==gn)&&(c===gn&&((bn&2)===0&&(Yl|=g),Ii===4&&_o(c,An,hs,!1)),at(c))}function Va(c,f,g){if((bn&6)!==0)throw Error(r(327));var b=!g&&(f&127)===0&&(f&c.expiredLanes)===0||R(c,f),C=b?Mv(c,f):xo(c,f,!0),L=b;do{if(C===0){Xl&&!b&&_o(c,f,0,!1);break}else{if(g=c.current.alternate,L&&!bv(g)){C=xo(c,f,!1),L=!1;continue}if(C===2){if(L=f,c.errorRecoveryDisabledLanes&L)var H=0;else H=c.pendingLanes&-536870913,H=H!==0?H:H&536870912?536870912:0;if(H!==0){f=H;e:{var ie=c;C=mh;var Re=wi&&ie.current.memoizedState.isDehydrated;if(Re&&(Vi(ie,H).flags|=256),H=xo(ie,H,!1),H!==2){if(ql&&!Re){ie.errorRecoveryDisabledLanes|=L,Yl|=L,C=4;break e}L=As,As=C,L!==null&&(As===null?As=L:As.push.apply(As,L))}C=H}if(L=!1,C!==2)continue}}if(C===1){Vi(c,0),_o(c,f,0,!0);break}e:{switch(b=c,L=C,L){case 0:case 1:throw Error(r(345));case 4:if((f&4194048)!==f)break;case 6:_o(b,f,hs,!Xa);break e;case 2:As=null;break;case 3:case 5:break;default:throw Error(r(329))}if((f&62914560)===f&&(C=gh+300-Zr(),10<C)){if(_o(b,f,hs,!Xa),T(b,0,!0)!==0)break e;Oo=f,b.timeoutHandle=gm(vo.bind(null,b,g,As,vh,_p,f,hs,Yl,Hu,Xa,L,"Throttled",-0,0),C);break e}vo(b,g,As,vh,_p,f,hs,Yl,Hu,Xa,L,null,-0,0)}}break}while(!0);at(c)}function vo(c,f,g,b,C,L,H,ie,Re,Ge,st,Ke,St,sn){if(c.timeoutHandle=bs,Ke=f.subtreeFlags,Ke&8192||(Ke&16785408)===16785408){Ke=_m(),wl(f,L,Ke);var Ji=(L&62914560)===L?gh-Zr():(L&4194048)===L?Hc-Zr():0;if(Ji=Dv(Ke,Ji),Ji!==null){Oo=L,c.cancelPendingCommit=Ji(bo.bind(null,c,f,L,g,b,C,H,ie,Re,st,Ke,null,St,sn)),_o(c,L,H,!Ge);return}}bo(c,f,L,g,b,C,H,ie,Re)}function bv(c){for(var f=c;;){var g=f.tag;if((g===0||g===11||g===15)&&f.flags&16384&&(g=f.updateQueue,g!==null&&(g=g.stores,g!==null)))for(var b=0;b<g.length;b++){var C=g[b],L=C.getSnapshot;C=C.value;try{if(!Zi(L(),C))return!1}catch{return!1}}if(g=f.child,f.subtreeFlags&16384&&g!==null)g.return=f,f=g;else{if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function _o(c,f,g,b){f&=~Vu,f&=~Yl,c.suspendedLanes|=f,c.pingedLanes&=~f,b&&(c.warmLanes|=f),b=c.expirationTimes;for(var C=f;0<C;){var L=31-Ss(C),H=1<<L;b[L]=-1,C&=~H}g!==0&&k(c,g,f)}function zd(){return(bn&6)===0?(Qe(0),!1):!0}function Bd(){if(Sn!==null){if(ti===0)var c=Sn.return;else c=Sn,Ga=vi=null,ii(c),Vl=null,zc=0,c=Sn;for(;c!==null;)_v(c.alternate,c),c=c.return;Sn=null}}function Vi(c,f){var g=c.timeoutHandle;g!==bs&&(c.timeoutHandle=bs,Rv(g)),g=c.cancelPendingCommit,g!==null&&(c.cancelPendingCommit=null,g()),Oo=0,Bd(),gn=c,Sn=g=Ws(c.current,null),An=f,ti=0,lr=null,Xa=!1,Xl=R(c,f),ql=!1,Hu=hs=Vu=Yl=al=Ii=0,As=mh=null,_p=!1,(f&8)!==0&&(f|=f&32);var b=c.entangledLanes;if(b!==0)for(c=c.entanglements,b&=f;0<b;){var C=31-Ss(b),L=1<<C;f|=c[C],b&=~L}return Lo=f,Ht(),g}function gi(c,f){ln=null,Ft.H=js,f===vr||f===Ma?(f=pt(),ti=3):f===gp?(f=pt(),ti=4):ti=f===fs?8:f!==null&&typeof f=="object"&&typeof f.then=="function"?6:1,lr=f,Sn===null&&(Ii=1,wd(c,ye(f,c.current)))}function Cn(){var c=Ts.current;return c===null?!0:(An&4194048)===An?Es===null:(An&62914560)===An||(An&536870912)!==0?c===Es:!1}function Zo(){var c=Ft.H;return Ft.H=js,c===null?js:c}function Gs(){var c=Ft.A;return Ft.A=Bu,c}function Tu(){Ii=4,Xa||(An&4194048)!==An&&Ts.current!==null||(Xl=!0),(al&134217727)===0&&(Yl&134217727)===0||gn===null||_o(gn,An,hs,!1)}function xo(c,f,g){var b=bn;bn|=2;var C=Zo(),L=Gs();(gn!==c||An!==f)&&(vh=null,Vi(c,f)),f=!1;var H=Ii;e:do try{if(ti!==0&&Sn!==null){var ie=Sn,Re=lr;switch(ti){case 8:Bd(),H=6;break e;case 3:case 2:case 9:case 6:Ts.current===null&&(f=!0);var Ge=ti;if(ti=0,lr=null,yo(c,ie,Re,Ge),g&&Xl){H=0;break e}break;default:Ge=ti,ti=0,lr=null,yo(c,ie,Re,Ge)}}Sv(),H=Ii;break}catch(st){gi(c,st)}while(!0);return f&&c.shellSuspendCounter++,Ga=vi=null,bn=b,Ft.H=C,Ft.A=L,Sn===null&&(gn=null,An=0,Ht()),H}function Sv(){for(;Sn!==null;)Dl(Sn)}function Mv(c,f){var g=bn;bn|=2;var b=Zo(),C=Gs();gn!==c||An!==f?(vh=null,jl=Zr()+500,Vi(c,f)):Xl=R(c,f);e:do try{if(ti!==0&&Sn!==null){f=Sn;var L=lr;t:switch(ti){case 1:ti=0,lr=null,yo(c,f,L,1);break;case 2:case 9:if($e(L)){ti=0,lr=null,Fd(f);break}f=function(){ti!==2&&ti!==9||gn!==c||(ti=7),at(c)},L.then(f,f);break e;case 3:ti=7;break e;case 4:ti=5;break e;case 7:$e(L)?(ti=0,lr=null,Fd(f)):(ti=0,lr=null,yo(c,f,L,7));break;case 5:var H=null;switch(Sn.tag){case 26:H=Sn.memoizedState;case 5:case 27:var ie=Sn,Re=ie.type,Ge=ie.pendingProps;if(H?Wm(H):Oi(ie.stateNode,Re,Ge)){ti=0,lr=null;var st=ie.sibling;if(st!==null)Sn=st;else{var Ke=ie.return;Ke!==null?(Sn=Ke,Au(Ke)):Sn=null}break t}}ti=0,lr=null,yo(c,f,L,5);break;case 6:ti=0,lr=null,yo(c,f,L,6);break;case 8:Bd(),Ii=6;break e;default:throw Error(r(462))}}Eu();break}catch(St){gi(c,St)}while(!0);return Ga=vi=null,Ft.H=b,Ft.A=C,bn=g,Sn!==null?0:(gn=null,An=0,Ht(),Ii)}function Eu(){for(;Sn!==null&&!h_();)Dl(Sn)}function Dl(c){var f=em(c.alternate,c,Lo);c.memoizedProps=c.pendingProps,f===null?Au(c):Sn=f}function Fd(c){var f=c,g=f.alternate;switch(f.tag){case 15:case 0:f=j0(g,f,f.pendingProps,f.type,void 0,An);break;case 11:f=j0(g,f,f.pendingProps,f.type.render,f.ref,An);break;case 5:ii(f);default:_v(g,f),f=Sn=Hd(f,Lo),f=em(g,f,Lo)}c.memoizedProps=c.pendingProps,f===null?Au(c):Sn=f}function yo(c,f,g,b){Ga=vi=null,ii(f),Vl=null,zc=0;var C=f.return;try{if(Q3(c,C,f,g,An)){Ii=1,wd(c,ye(g,c.current)),Sn=null;return}}catch(L){if(C!==null)throw Sn=C,L;Ii=1,wd(c,ye(g,c.current)),Sn=null;return}f.flags&32768?(En||b===1?c=!0:Xl||(An&536870912)!==0?c=!1:(Xa=c=!0,(b===2||b===9||b===3||b===6)&&(b=Ts.current,b!==null&&b.tag===13&&(b.flags|=16384))),Nl(f,c)):Au(f)}function Au(c){var f=c;do{if((f.flags&32768)!==0){Nl(f,Xa);return}c=f.return;var g=vv(f.alternate,f,Lo);if(g!==null){Sn=g;return}if(f=f.sibling,f!==null){Sn=f;return}Sn=f=c}while(f!==null);Ii===0&&(Ii=5)}function Nl(c,f){do{var g=im(c.alternate,c);if(g!==null){g.flags&=32767,Sn=g;return}if(g=c.return,g!==null&&(g.flags|=32768,g.subtreeFlags=0,g.deletions=null),!f&&(c=c.sibling,c!==null)){Sn=c;return}Sn=c=g}while(c!==null);Ii=6,Sn=null}function bo(c,f,g,b,C,L,H,ie,Re){c.cancelPendingCommit=null;do Mo();while(cr!==0);if((bn&6)!==0)throw Error(r(327));if(f!==null){if(f===c.current)throw Error(r(177));if(L=f.lanes|f.childLanes,L|=Bc,B(c,g,L,H,ie,Re),c===gn&&(Sn=gn=null,An=0),Gc=f,ll=c,Oo=g,Gu=L,xp=C,$m=b,(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?(c.callbackNode=null,c.callbackPriority=0,ar(lh,function(){return Qf(),null})):(c.callbackNode=null,c.callbackPriority=0),b=(f.flags&13878)!==0,(f.subtreeFlags&13878)!==0||b){b=Ft.T,Ft.T=null,C=ga(),Tn(2),H=bn,bn|=4;try{K3(c,f,g)}finally{bn=H,Tn(C),Ft.T=b}}cr=1,Qo(),So(),kd()}}function Qo(){if(cr===1){cr=0;var c=ll,f=Gc,g=(f.flags&13878)!==0;if((f.subtreeFlags&13878)!==0||g){g=Ft.T,Ft.T=null;var b=ga();Tn(2);var C=bn;bn|=4;try{jf(f,c),Cv(c.containerInfo)}finally{bn=C,Tn(b),Ft.T=g}}c.current=f,cr=2}}function So(){if(cr===2){cr=0;var c=ll,f=Gc,g=(f.flags&8772)!==0;if((f.subtreeFlags&8772)!==0||g){g=Ft.T,Ft.T=null;var b=ga();Tn(2);var C=bn;bn|=4;try{yv(c,f.alternate,f)}finally{bn=C,Tn(b),Ft.T=g}}cr=3}}function kd(){if(cr===4||cr===3){cr=0,qm();var c=ll,f=Gc,g=Oo,b=$m;(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?cr=5:(cr=0,Gc=ll=null,Vd(c,c.pendingLanes));var C=c.pendingLanes;if(C===0&&(ol=null),Z(g),f=f.stateNode,Ms&&typeof Ms.onCommitFiberRoot=="function")try{Ms.onCommitFiberRoot(Ic,f,void 0,(f.current.flags&128)===128)}catch{}if(b!==null){f=Ft.T,C=ga(),Tn(2),Ft.T=null;try{for(var L=c.onRecoverableError,H=0;H<b.length;H++){var ie=b[H];L(ie.value,{componentStack:ie.stack})}}finally{Ft.T=f,Tn(C)}}(Oo&3)!==0&&Mo(),at(c),C=c.pendingLanes,(g&261930)!==0&&(C&42)!==0?c===_h?kn++:(kn=0,_h=c):kn=0,wi&&sh(),Qe(0)}}function Vd(c,f){(c.pooledCacheLanes&=f)===0&&(f=c.pooledCache,f!=null&&(c.pooledCache=null,Ne(f)))}function Mo(){return Qo(),So(),kd(),Qf()}function Qf(){if(cr!==5)return!1;var c=ll,f=Gu;Gu=0;var g=Z(Oo),b=32>g?32:g;g=Ft.T;var C=ga();try{Tn(b),Ft.T=null,b=xp,xp=null;var L=ll,H=Oo;if(cr=0,Gc=ll=null,Oo=0,(bn&6)!==0)throw Error(r(331));var ie=bn;if(bn|=4,Id(L.current),Ud(L,L.current,H,b),bn=ie,Qe(0,!1),Ms&&typeof Ms.onPostCommitFiberRoot=="function")try{Ms.onPostCommitFiberRoot(Ic,L)}catch{}return!0}finally{Tn(C),Ft.T=g,Vd(c,f)}}function Ll(c,f,g){f=ye(g,f),f=q0(c.stateNode,f,2),c=Mn(c,f,2),c!==null&&(I(c,2),at(c))}function Zt(c,f,g){if(c.tag===3)Ll(c,c,g);else for(;f!==null;){if(f.tag===3){Ll(f,c,g);break}else if(f.tag===1){var b=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(ol===null||!ol.has(b))){c=ye(g,c),g=sv(2),b=Mn(f,g,2),b!==null&&(av(g,b,f,c),I(b,2),at(b));break}}f=f.return}}function wu(c,f,g){var b=c.pingCache;if(b===null){b=c.pingCache=new Qs;var C=new Set;b.set(f,C)}else C=b.get(f),C===void 0&&(C=new Set,b.set(f,C));C.has(g)||(ql=!0,C.add(g),c=Tv.bind(null,c,f,g),f.then(c,c))}function Tv(c,f,g){var b=c.pingCache;b!==null&&b.delete(f),c.pingedLanes|=c.suspendedLanes&g,c.warmLanes&=~g,gn===c&&(An&g)===g&&(Ii===4||Ii===3&&(An&62914560)===An&&300>Zr()-gh?(bn&2)===0&&Vi(c,0):Vu|=g,Hu===An&&(Hu=0)),at(c)}function Ev(c,f){f===0&&(f=N()),c=yn(c,f),c!==null&&(I(c,f),at(c))}function J3(c){var f=c.memoizedState,g=0;f!==null&&(g=f.retryLane),Ev(c,g)}function $3(c,f){var g=0;switch(c.tag){case 31:case 13:var b=c.stateNode,C=c.memoizedState;C!==null&&(g=C.retryLane);break;case 19:b=c.stateNode;break;case 22:b=c.stateNode._retryCache;break;default:throw Error(r(314))}b!==null&&b.delete(f),Ev(c,g)}function ar(c,f){return oh(c,f)}function lm(c,f,g,b){this.tag=c,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mc(c){return c=c.prototype,!(!c||!c.isReactComponent)}function Ws(c,f){var g=c.alternate;return g===null?(g=t(c.tag,f,c.key,c.mode),g.elementType=c.elementType,g.type=c.type,g.stateNode=c.stateNode,g.alternate=c,c.alternate=g):(g.pendingProps=f,g.type=c.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=c.flags&65011712,g.childLanes=c.childLanes,g.lanes=c.lanes,g.child=c.child,g.memoizedProps=c.memoizedProps,g.memoizedState=c.memoizedState,g.updateQueue=c.updateQueue,f=c.dependencies,g.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},g.sibling=c.sibling,g.index=c.index,g.ref=c.ref,g.refCleanup=c.refCleanup,g}function Hd(c,f){c.flags&=65011714;var g=c.alternate;return g===null?(c.childLanes=0,c.lanes=f,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=g.childLanes,c.lanes=g.lanes,c.child=g.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=g.memoizedProps,c.memoizedState=g.memoizedState,c.updateQueue=g.updateQueue,c.type=g.type,f=g.dependencies,c.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),c}function Ko(c,f,g,b,C,L){var H=0;if(b=c,typeof c=="function")Mc(c)&&(H=1);else if(typeof c=="string")H=va&&pr?ip(c,g,Cr.current)?26:Xm(c)?27:5:va?ip(c,g,Cr.current)?26:5:pr&&Xm(c)?27:5;else e:switch(c){case eh:return c=t(31,g,f,C),c.elementType=eh,c.lanes=L,c;case wc:return pa(g.children,C,L,f);case Cc:H=8,C|=24;break;case Rc:return c=t(12,g,f,C|2),c.elementType=Rc,c.lanes=L,c;case qd:return c=t(13,g,f,C),c.elementType=qd,c.lanes=L,c;case Jo:return c=t(19,g,f,C),c.elementType=Jo,c.lanes=L,c;default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case ma:H=10;break e;case $f:H=9;break e;case Cu:H=11;break e;case Yd:H=14;break e;case os:H=16,b=null;break e}H=29,g=Error(r(130,c===null?"null":typeof c,"")),b=null}return f=t(H,g,f,C),f.elementType=c,f.type=b,f.lanes=L,f}function pa(c,f,g,b){return c=t(7,c,b,f),c.lanes=g,c}function cm(c,f,g){return c=t(6,c,null,f),c.lanes=g,c}function um(c){var f=t(18,null,null,0);return f.stateNode=c,f}function fm(c,f,g){return f=t(4,c.children!==null?c.children:[],c.key,f),f.lanes=g,f.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},f}function Av(c,f,g,b,C,L,H,ie,Re){this.tag=1,this.containerInfo=c,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=bs,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=U(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=U(0),this.hiddenUpdates=U(null),this.identifierPrefix=b,this.onUncaughtError=C,this.onCaughtError=L,this.onRecoverableError=H,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Re,this.incompleteTransitions=new Map}function Ol(c,f,g,b,C,L,H,ie,Re,Ge,st,Ke){return c=new Av(c,f,g,H,Re,Ge,st,Ke,ie),f=1,L===!0&&(f|=24),L=t(3,null,null,f),c.current=L,L.stateNode=c,f=Ae(),f.refCount++,c.pooledCache=f,f.refCount++,L.memoizedState={element:b,isDehydrated:g,cache:f},tn(L),c}function Gd(c){return c?(c=Eo,c):Eo}function Kf(c){var f=c._reactInternals;if(f===void 0)throw typeof c.render=="function"?Error(r(188)):(c=Object.keys(c).join(","),Error(r(268,c)));return c=u(f),c=c!==null?d(c):null,c===null?null:Du(c.stateNode)}function hm(c,f,g,b,C,L){C=Gd(C),b.context===null?b.context=C:b.pendingContext=C,b=yi(f),b.payload={element:g},L=L===void 0?null:L,L!==null&&(b.callback=L),g=Mn(c,b,f),g!==null&&(Li(g,c,f),ki(g,c,f))}function Tc(c,f){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var g=c.retryLane;c.retryLane=g!==0&&g<f?g:f}}function Jf(c,f){Tc(c,f),(c=c.alternate)&&Tc(c,f)}var pn={},Wd=oc,xs=eI,Xd=Object.assign,Ec=Symbol.for("react.element"),To=Symbol.for("react.transitional.element"),Ac=Symbol.for("react.portal"),wc=Symbol.for("react.fragment"),Cc=Symbol.for("react.strict_mode"),Rc=Symbol.for("react.profiler"),$f=Symbol.for("react.consumer"),ma=Symbol.for("react.context"),Cu=Symbol.for("react.forward_ref"),qd=Symbol.for("react.suspense"),Jo=Symbol.for("react.suspense_list"),Yd=Symbol.for("react.memo"),os=Symbol.for("react.lazy"),eh=Symbol.for("react.activity"),dm=Symbol.for("react.memo_cache_sentinel"),$o=Symbol.iterator,Ul=Symbol.for("react.client.reference"),Pl=Array.isArray,Ft=Wd.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pm=e.rendererVersion,th=e.rendererPackageName,Ru=e.extraDevToolsConfig,Du=e.getPublicInstance,wv=e.getRootHostContext,Nu=e.getChildHostContext,jd=e.prepareForCommit,Cv=e.resetAfterCommit,mm=e.createInstance;e.cloneMutableInstance;var nh=e.appendInitialChild,ys=e.finalizeInitialChildren,ls=e.shouldSetTextContent,el=e.createTextInstance;e.cloneMutableTextInstance;var gm=e.scheduleTimeout,Rv=e.cancelTimeout,bs=e.noTimeout,Yi=e.isPrimaryRenderer;e.warnsIfNotActing;var Rn=e.supportsMutation,Xs=e.supportsPersistence,wi=e.supportsHydration,on=e.getInstanceFromNode;e.beforeActiveInstanceBlur;var ri=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var Tn=e.setCurrentUpdatePriority,ga=e.getCurrentUpdatePriority,Lu=e.resolveUpdatePriority;e.trackSchedulerEvent,e.resolveEventType,e.resolveEventTimeStamp;var Dc=e.shouldAttemptEagerTransition,Zd=e.detachDeletedInstance;e.requestPostPaintCallback;var ih=e.maySuspendCommit,Ou=e.maySuspendCommitOnUpdate,vm=e.maySuspendCommitInSyncRender,Oi=e.preloadInstance,_m=e.startSuspendingCommit,Qd=e.suspendInstance;e.suspendOnActiveViewTransition;var Dv=e.waitForCommitToBeReady;e.getSuspendedCommitReason;var Nc=e.NotPendingTransition,Lc=e.HostTransitionContext,xm=e.resetFormInstance;e.bindToConsole;var ym=e.supportsMicrotasks,bm=e.scheduleMicrotask,dr=e.supportsTestSelectors,ji=e.findFiberRoot,Kd=e.getBoundingRect,rh=e.getTextContent,Il=e.isHiddenSubtree,Sm=e.matchAccessibilityRole,tl=e.setFocusIfFocusable,Jd=e.setupIntersectionObserver,Mm=e.appendChild,Tm=e.appendChildToContainer,Nv=e.commitTextUpdate,Lv=e.commitMount,Ov=e.commitUpdate,Uv=e.insertBefore,Pv=e.insertInContainerBefore,Iv=e.removeChild,Em=e.removeChildFromContainer,Am=e.resetTextContent,eb=e.hideInstance,zv=e.hideTextInstance,Bv=e.unhideInstance,Fv=e.unhideTextInstance;e.cancelViewTransitionName,e.cancelRootViewTransitionName,e.restoreRootViewTransitionName,e.cloneRootViewTransitionContainer,e.removeRootViewTransitionClone,e.measureClonedInstance,e.hasInstanceChanged,e.hasInstanceAffectedParent,e.startViewTransition,e.startGestureTransition,e.stopViewTransition,e.getCurrentGestureOffset,e.createViewTransitionInstance;var wm=e.clearContainer;e.createFragmentInstance,e.updateFragmentInstanceFiber,e.commitNewChildToFragmentInstance,e.deleteChildFromFragmentInstance;var kv=e.cloneInstance,Cm=e.createContainerChildSet,Rm=e.appendChildToContainerChildSet,Vv=e.finalizeContainerChildren,Dm=e.replaceContainerChildren,Hv=e.cloneHiddenInstance,Nm=e.cloneHiddenTextInstance,zl=e.isSuspenseInstancePending,$d=e.isSuspenseInstanceFallback,ep=e.getSuspenseInstanceFallbackErrorDetails,tp=e.registerSuspenseInstanceRetry,Gv=e.canHydrateFormStateMarker,Lm=e.isFormStateMarkerMatching,Wv=e.getNextHydratableSibling,Xv=e.getNextHydratableSiblingAfterSingleton,qv=e.getFirstHydratableChild,Yv=e.getFirstHydratableChildWithinContainer,jv=e.getFirstHydratableChildWithinActivityInstance,Zv=e.getFirstHydratableChildWithinSuspenseInstance,Om=e.getFirstHydratableChildWithinSingleton,Qv=e.canHydrateInstance,Kv=e.canHydrateTextInstance,Um=e.canHydrateActivityInstance,Jv=e.canHydrateSuspenseInstance,$v=e.hydrateInstance,tb=e.hydrateTextInstance,Pm=e.hydrateActivityInstance,e_=e.hydrateSuspenseInstance,t_=e.getNextHydratableInstanceAfterActivityInstance,Im=e.getNextHydratableInstanceAfterSuspenseInstance,n_=e.commitHydratedInstance,i_=e.commitHydratedContainer,nb=e.commitHydratedActivityInstance,ib=e.commitHydratedSuspenseInstance,r_=e.finalizeHydratedChildren,sh=e.flushHydrationEvents;e.clearActivityBoundary;var zm=e.clearSuspenseBoundary;e.clearActivityBoundaryFromContainer;var np=e.clearSuspenseBoundaryFromContainer,s_=e.hideDehydratedBoundary,a_=e.unhideDehydratedBoundary,Uu=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var o_=e.validateHydratableInstance,Bm=e.validateHydratableTextInstance,va=e.supportsResources,ip=e.isHostHoistableType,ah=e.getHoistableRoot,Fm=e.getResource,km=e.acquireResource,Bl=e.releaseResource,l_=e.hydrateHoistable,Vm=e.mountHoistable,Hm=e.unmountHoistable,rp=e.createHoistableInstance,c_=e.prepareToCommitHoistables,Gm=e.mayResourceSuspendCommit,Wm=e.preloadResource,u_=e.suspendResource,pr=e.supportsSingletons,sp=e.resolveSingletonInstance,or=e.acquireSingletonInstance,wr=e.releaseSingletonInstance,Xm=e.isHostSingletonType,Oc=e.isSingletonScope,ap=[],Uc=-1,Eo={},Ss=Math.clz32?Math.clz32:E,op=Math.log,f_=Math.LN2,lp=256,Pc=262144,Pu=4194304,oh=xs.unstable_scheduleCallback,cp=xs.unstable_cancelCallback,h_=xs.unstable_shouldYield,qm=xs.unstable_requestPaint,Zr=xs.unstable_now,up=xs.unstable_ImmediatePriority,d_=xs.unstable_UserBlockingPriority,lh=xs.unstable_NormalPriority,fp=xs.unstable_IdlePriority,Ym=xs.log,p_=xs.unstable_setDisableYieldValue,Ic=null,Ms=null,Zi=typeof Object.is=="function"?Object.is:ee,hp=typeof reportError=="function"?reportError:function(c){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var f=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof c=="object"&&c!==null&&typeof c.message=="string"?String(c.message):String(c),error:c});if(!window.dispatchEvent(f))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",c);return}console.error(c)},rb=Object.prototype.hasOwnProperty,dp,Ao,ch=!1,jm=new WeakMap,nl=[],wo=0,si=null,uh=0,_a=[],qs=0,xa=null,Ir=1,Ha="",Cr=y(null),il=y(null),zr=y(null),fh=y(null),mr=null,Ci=null,En=!1,Co=null,cs=!1,pp=Error(r(519)),ya=y(null),vi=null,Ga=null,m_=typeof AbortController<"u"?AbortController:function(){var c=[],f=this.signal={aborted:!1,addEventListener:function(g,b){c.push(b)}};this.abort=function(){f.aborted=!0,c.forEach(function(g){return g()})}},Rr=xs.unstable_scheduleCallback,sb=xs.unstable_NormalPriority,Ri={$$typeof:ma,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},hh=null,$n=null,Qr=!1,ba=!1,mp=!1,Fl=0,Iu=null,Zm=0,rl=0,gr=null,Sa=Ft.S;Ft.S=function(c,f){Hc=Zr(),typeof f=="object"&&f!==null&&typeof f.then=="function"&&qt(c,f),Sa!==null&&Sa(c,f)};var kl=y(null),vr=Error(r(460)),gp=Error(r(474)),Ma=Error(r(542)),Ro={then:function(){}},us=null,Vl=null,zc=0,Br=Nt(!0),Qm=Nt(!1),Fr=[],Do=0,Bc=0,Ys=!1,vp=!1,Fc=y(null),Hl=y(0),Ts=y(null),Es=null,Hi=y(0),sl=0,ln=null,Ot=null,$t=null,mn=!1,hn=!1,On=!1,Kr=0,Ta=0,Wa=null,Km=0,js={readContext:q,use:rr,useCallback:Xe,useContext:Xe,useEffect:Xe,useImperativeHandle:Xe,useLayoutEffect:Xe,useInsertionEffect:Xe,useMemo:Xe,useReducer:Xe,useRef:Xe,useState:Xe,useDebugValue:Xe,useDeferredValue:Xe,useTransition:Xe,useSyncExternalStore:Xe,useId:Xe,useHostTransitionStatus:Xe,useFormState:Xe,useActionState:Xe,useOptimistic:Xe,useMemoCache:Xe,useCacheRefresh:Xe};js.useEffectEvent=Xe;var Ui={readContext:q,use:rr,useCallback:function(c,f){return nn().memoizedState=[c,f===void 0?null:f],c},useContext:q,useEffect:If,useImperativeHandle:function(c,f,g){g=g!=null?g.concat([c]):null,vc(4194308,4,fu.bind(null,f,c),g)},useLayoutEffect:function(c,f){return vc(4194308,4,c,f)},useInsertionEffect:function(c,f){vc(4,2,c,f)},useMemo:function(c,f){var g=nn();f=f===void 0?null:f;var b=c();if(On){J(!0);try{c()}finally{J(!1)}}return g.memoizedState=[b,f],b},useReducer:function(c,f,g){var b=nn();if(g!==void 0){var C=g(f);if(On){J(!0);try{g(f)}finally{J(!1)}}}else C=f;return b.memoizedState=b.baseState=C,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:C},b.queue=c,c=c.dispatch=Z3.bind(null,ln,c),[b.memoizedState,c]},useRef:function(c){var f=nn();return c={current:c},f.memoizedState=c},useState:function(c){c=B0(c);var f=c.queue,g=tv.bind(null,ln,f);return f.dispatch=g,[c.memoizedState,g]},useDebugValue:Bf,useDeferredValue:function(c,f){var g=nn();return du(g,c,f)},useTransition:function(){var c=B0(!1);return c=Jg.bind(null,ln,c.queue,!0,!1),nn().memoizedState=c,[!1,c]},useSyncExternalStore:function(c,f,g){var b=ln,C=nn();if(En){if(g===void 0)throw Error(r(407));g=g()}else{if(g=f(),gn===null)throw Error(r(349));(An&127)!==0||Mr(b,f,g)}C.memoizedState=g;var L={value:g,getSnapshot:f};return C.queue=L,If(mc.bind(null,b,L,c),[c]),b.flags|=2048,Vs(9,{destroy:void 0},Tr.bind(null,b,L,g,f),null),g},useId:function(){var c=nn(),f=gn.identifierPrefix;if(En){var g=Ha,b=Ir;g=(b&~(1<<32-Ss(b)-1)).toString(32)+g,f="_"+f+"R_"+g,g=Kr++,0<g&&(f+="H"+g.toString(32)),f+="_"}else g=Km++,f="_"+f+"r_"+g.toString(32)+"_";return c.memoizedState=f},useHostTransitionStatus:G0,useFormState:k0,useActionState:k0,useOptimistic:function(c){var f=nn();f.memoizedState=f.baseState=c;var g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return f.queue=g,f=Td.bind(null,ln,!0,g),g.dispatch=f,[c,f]},useMemoCache:ka,useCacheRefresh:function(){return nn().memoizedState=j3.bind(null,ln)},useEffectEvent:function(c){var f=nn(),g={impl:c};return f.memoizedState=g,function(){if((bn&2)!==0)throw Error(r(440));return g.impl.apply(void 0,arguments)}}},No={readContext:q,use:rr,useCallback:Sd,useContext:q,useEffect:uu,useImperativeHandle:Kg,useInsertionEffect:Ml,useLayoutEffect:zf,useMemo:hu,useReducer:is,useRef:bd,useState:function(){return is(bi)},useDebugValue:Bf,useDeferredValue:function(c,f){var g=mt();return H0(g,Ot.memoizedState,c,f)},useTransition:function(){var c=is(bi)[0],f=mt().memoizedState;return[typeof c=="boolean"?c:Yt(c),f]},useSyncExternalStore:sr,useId:Md,useHostTransitionStatus:G0,useFormState:lu,useActionState:lu,useOptimistic:function(c,f){var g=mt();return Uf(g,Ot,c,f)},useMemoCache:ka,useCacheRefresh:ev};No.useEffectEvent=rs;var Gl={readContext:q,use:rr,useCallback:Sd,useContext:q,useEffect:uu,useImperativeHandle:Kg,useInsertionEffect:Ml,useLayoutEffect:zf,useMemo:hu,useReducer:hr,useRef:bd,useState:function(){return hr(bi)},useDebugValue:Bf,useDeferredValue:function(c,f){var g=mt();return Ot===null?du(g,c,f):H0(g,Ot.memoizedState,c,f)},useTransition:function(){var c=hr(bi)[0],f=mt().memoizedState;return[typeof c=="boolean"?c:Yt(c),f]},useSyncExternalStore:sr,useId:Md,useHostTransitionStatus:G0,useFormState:cu,useActionState:cu,useOptimistic:function(c,f){var g=mt();return Ot!==null?Uf(g,Ot,c,f):(g.baseState=c,[c,g.queue.dispatch])},useMemoCache:ka,useCacheRefresh:ev};Gl.useEffectEvent=rs;var dh={enqueueSetState:function(c,f,g){c=c._reactInternals;var b=Ai(),C=yi(b);C.payload=f,g!=null&&(C.callback=g),f=Mn(c,C,b),f!==null&&(Li(f,c,b),ki(f,c,b))},enqueueReplaceState:function(c,f,g){c=c._reactInternals;var b=Ai(),C=yi(b);C.tag=1,C.payload=f,g!=null&&(C.callback=g),f=Mn(c,C,b),f!==null&&(Li(f,c,b),ki(f,c,b))},enqueueForceUpdate:function(c,f){c=c._reactInternals;var g=Ai(),b=yi(g);b.tag=2,f!=null&&(b.callback=f),f=Mn(c,b,g),f!==null&&(Li(f,c,g),ki(f,c,g))}},fs=Error(r(461)),Si=!1,kc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null},Gi=!1,Wi=!1,zu=!1,Jm=typeof WeakSet=="function"?WeakSet:Set,Qi=null,Pi=null,Ki=!1,ei=null,Zs=8192,Bu={getCacheForType:function(c){var f=q(Ri),g=f.data.get(c);return g===void 0&&(g=c(),f.data.set(c,g)),g},cacheSignal:function(){return q(Ri).controller.signal}},Ea=0,Fu=1,ku=2,ph=3,Wl=4;if(typeof Symbol=="function"&&Symbol.for){var Vc=Symbol.for;Ea=Vc("selector.component"),Fu=Vc("selector.has_pseudo_class"),ku=Vc("selector.role"),ph=Vc("selector.test_id"),Wl=Vc("selector.text")}var Qs=typeof WeakMap=="function"?WeakMap:Map,bn=0,gn=null,Sn=null,An=0,ti=0,lr=null,Xa=!1,Xl=!1,ql=!1,Lo=0,Ii=0,al=0,Yl=0,Vu=0,hs=0,Hu=0,mh=null,As=null,_p=!1,gh=0,Hc=0,jl=1/0,vh=null,ol=null,cr=0,ll=null,Gc=null,Oo=0,Gu=0,xp=null,$m=null,kn=0,_h=null;return pn.attemptContinuousHydration=function(c){if(c.tag===13||c.tag===31){var f=yn(c,67108864);f!==null&&Li(f,c,67108864),Jf(c,67108864)}},pn.attemptHydrationAtCurrentPriority=function(c){if(c.tag===13||c.tag===31){var f=Ai();f=W(f);var g=yn(c,f);g!==null&&Li(g,c,f),Jf(c,f)}},pn.attemptSynchronousHydration=function(c){switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var f=A(c.pendingLanes);if(f!==0){for(c.pendingLanes|=2,c.entangledLanes|=2;f;){var g=1<<31-Ss(f);c.entanglements[1]|=g,f&=~g}at(c),(bn&6)===0&&(jl=Zr()+500,Qe(0))}}break;case 31:case 13:f=yn(c,2),f!==null&&Li(f,c,2),zd(),Jf(c,2)}},pn.batchedUpdates=function(c,f){return c(f)},pn.createComponentSelector=function(c){return{$$typeof:Ea,value:c}},pn.createContainer=function(c,f,g,b,C,L,H,ie,Re,Ge){return Ol(c,f,!1,null,g,b,L,null,H,ie,Re,Ge)},pn.createHasPseudoClassSelector=function(c){return{$$typeof:Fu,value:c}},pn.createHydrationContainer=function(c,f,g,b,C,L,H,ie,Re,Ge,st,Ke,St,sn){var Ji;return c=Ol(g,b,!0,c,C,L,ie,sn,Re,Ge,st,Ke),c.context=Gd(null),g=c.current,b=Ai(),b=W(b),C=yi(b),C.callback=(Ji=f)!=null?Ji:null,Mn(g,C,b),f=b,c.current.lanes=f,I(c,f),at(c),c},pn.createPortal=function(c,f,g){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ac,key:b==null?null:""+b,children:c,containerInfo:f,implementation:g}},pn.createRoleSelector=function(c){return{$$typeof:ku,value:c}},pn.createTestNameSelector=function(c){return{$$typeof:ph,value:c}},pn.createTextSelector=function(c){return{$$typeof:Wl,value:c}},pn.defaultOnCaughtError=function(c){console.error(c)},pn.defaultOnRecoverableError=function(c){hp(c)},pn.defaultOnUncaughtError=function(c){hp(c)},pn.deferredUpdates=function(c){var f=Ft.T,g=ga();try{return Tn(32),Ft.T=null,c()}finally{Tn(g),Ft.T=f}},pn.discreteUpdates=function(c,f,g,b,C){var L=Ft.T,H=ga();try{return Tn(2),Ft.T=null,c(f,g,b,C)}finally{Tn(H),Ft.T=L,bn===0&&(jl=Zr()+500)}},pn.findAllNodes=_s,pn.findBoundingRects=function(c,f){if(!dr)throw Error(r(363));f=_s(c,f),c=[];for(var g=0;g<f.length;g++)c.push(Kd(f[g]));for(f=c.length-1;0<f;f--){g=c[f];for(var b=g.x,C=b+g.width,L=g.y,H=L+g.height,ie=f-1;0<=ie;ie--)if(f!==ie){var Re=c[ie],Ge=Re.x,st=Ge+Re.width,Ke=Re.y,St=Ke+Re.height;if(b>=Ge&&L>=Ke&&C<=st&&H<=St){c.splice(f,1);break}else if(b!==Ge||g.width!==Re.width||St<L||Ke>H){if(!(L!==Ke||g.height!==Re.height||st<b||Ge>C)){Ge>b&&(Re.width+=Ge-b,Re.x=b),st<C&&(Re.width=C-Ge),c.splice(f,1);break}}else{Ke>L&&(Re.height+=Ke-L,Re.y=L),St<H&&(Re.height=H-Ke),c.splice(f,1);break}}}return c},pn.findHostInstance=Kf,pn.findHostInstanceWithNoPortals=function(c){return c=u(c),c=c!==null?p(c):null,c===null?null:Du(c.stateNode)},pn.findHostInstanceWithWarning=function(c){return Kf(c)},pn.flushPassiveEffects=Mo,pn.flushSyncFromReconciler=function(c){var f=bn;bn|=1;var g=Ft.T,b=ga();try{if(Tn(2),Ft.T=null,c)return c()}finally{Tn(b),Ft.T=g,bn=f,(bn&6)===0&&Qe(0)}},pn.flushSyncWork=zd,pn.focusWithin=function(c,f){if(!dr)throw Error(r(363));for(c=Cl(c),f=Mu(c,f),f=Array.from(f),c=0;c<f.length;){var g=f[c++],b=g.tag;if(!Il(g)){if((b===5||b===26||b===27)&&tl(g.stateNode))return!0;for(g=g.child;g!==null;)f.push(g),g=g.sibling}}return!1},pn.getFindAllNodesFailureDescription=function(c,f){if(!dr)throw Error(r(363));var g=0,b=[];c=[Cl(c),0];for(var C=0;C<c.length;){var L=c[C++],H=L.tag,ie=c[C++],Re=f[ie];if((H!==5&&H!==26&&H!==27||!Il(L))&&(Rl(L,Re)&&(b.push(Su(Re)),ie++,ie>g&&(g=ie)),ie<f.length))for(L=L.child;L!==null;)c.push(L,ie),L=L.sibling}if(g<f.length){for(c=[];g<f.length;g++)c.push(Su(f[g]));return`findAllNodes was able to match part of the selector:
  `+(b.join(" > ")+`

No matching component was found for:
  `)+c.join(" > ")}return null},pn.getPublicRootInstance=function(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 27:case 5:return Du(c.child.stateNode);default:return c.child.stateNode}},pn.injectIntoDevTools=function(){var c={bundleType:0,version:pm,rendererPackageName:th,currentDispatcherRef:Ft,reconcilerVersion:"19.2.0"};if(Ru!==null&&(c.rendererConfig=Ru),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")c=!1;else{var f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(f.isDisabled||!f.supportsFiber)c=!0;else{try{Ic=f.inject(c),Ms=f}catch{}c=!!f.checkDCE}}return c},pn.isAlreadyRendering=function(){return(bn&6)!==0},pn.observeVisibleRects=function(c,f,g,b){if(!dr)throw Error(r(363));c=_s(c,f);var C=Jd(c,g,b).disconnect;return{disconnect:function(){C()}}},pn.shouldError=function(){return null},pn.shouldSuspend=function(){return!1},pn.startHostTransition=function(c,f,g,b){if(c.tag!==5)throw Error(r(476));var C=$g(c).queue;Jg(c,C,f,Nc,g===null?n:function(){var L=$g(c);return L.next===null&&(L=c.alternate.memoizedState),Ff(c,L.next.queue,{},Ai()),g(b)})},pn.updateContainer=function(c,f,g,b){var C=f.current,L=Ai();return hm(C,L,c,f,g,b),L},pn.updateContainerSync=function(c,f,g,b){return hm(f.current,2,c,f,g,b),2},pn},i.exports.default=i.exports,Object.defineProperty(i.exports,"__esModule",{value:!0})})(t5)),t5.exports}var i5;function wI(){return i5||(i5=1,e5.exports=AI()),e5.exports}var CI=wI();const RI=EI(CI);function DI(i){const e=RI(i);return e.injectIntoDevTools(),e}const M6=0,T0={},NI=/^three(?=[A-Z])/,H3=i=>`${i[0].toUpperCase()}${i.slice(1)}`;let LI=0;const OI=i=>typeof i=="function";function T6(i){if(OI(i)){const e=`${LI++}`;return T0[e]=i,e}else Object.assign(T0,i)}function E6(i,e){const t=H3(i),n=T0[t];if(i!=="primitive"&&!n)throw new Error(`R3F: ${t} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(i==="primitive"&&!e.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(e.args!==void 0&&!Array.isArray(e.args))throw new Error("R3F: The args prop must be an array!")}function UI(i,e,t){var n;return i=H3(i)in T0?i:i.replace(NI,""),E6(i,e),i==="primitive"&&(n=e.object)!=null&&n.__r3f&&delete e.object.__r3f,Hy(e.object,t,i,e)}function PI(i){if(!i.isHidden){var e;i.props.attach&&(e=i.parent)!=null&&e.object?Wy(i.parent,i):Da(i.object)&&(i.object.visible=!1),i.isHidden=!0,z0(i)}}function A6(i){if(i.isHidden){var e;i.props.attach&&(e=i.parent)!=null&&e.object?Gy(i.parent,i):Da(i.object)&&i.props.visible!==!1&&(i.object.visible=!0),i.isHidden=!1,z0(i)}}function K4(i,e,t){const n=e.root.getState();if(!(!i.parent&&i.object!==n.scene)){if(!e.object){var r,a;const l=T0[H3(e.type)];e.object=(r=e.props.object)!=null?r:new l(...(a=e.props.args)!=null?a:[]),e.object.__r3f=e}if(uf(e.object,e.props),e.props.attach)Gy(i,e);else if(Da(e.object)&&Da(i.object)){const l=i.object.children.indexOf(t?.object);if(t&&l!==-1){const u=i.object.children.indexOf(e.object);if(u!==-1){i.object.children.splice(u,1);const d=u<l?l-1:l;i.object.children.splice(d,0,e.object)}else e.object.parent=i.object,i.object.children.splice(l,0,e.object),e.object.dispatchEvent({type:"added"}),i.object.dispatchEvent({type:"childadded",child:e.object})}else i.object.add(e.object)}for(const l of e.children)K4(e,l);z0(e)}}function wS(i,e){e&&(e.parent=i,i.children.push(e),K4(i,e))}function r5(i,e,t){if(!e||!t)return;e.parent=i;const n=i.children.indexOf(t);n!==-1?i.children.splice(n,0,e):i.children.push(e),K4(i,e,t)}function w6(i){if(typeof i.dispose=="function"){const e=()=>{try{i.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?e():bM.unstable_scheduleCallback(bM.unstable_IdlePriority,e)}}function MM(i,e,t){if(!e)return;e.parent=null;const n=i.children.indexOf(e);n!==-1&&i.children.splice(n,1),e.props.attach?Wy(i,e):Da(e.object)&&Da(i.object)&&(i.object.remove(e.object),vI(p6(e),e.object));const r=e.props.dispose!==null&&t!==!1;for(let a=e.children.length-1;a>=0;a--){const l=e.children[a];MM(e,l,r)}e.children.length=0,delete e.object.__r3f,r&&e.type!=="primitive"&&e.object.type!=="Scene"&&w6(e.object),t===void 0&&z0(e)}function II(i,e){for(const t of[i,i.alternate])if(t!==null)if(typeof t.ref=="function"){t.refCleanup==null||t.refCleanup();const n=t.ref(e);typeof n=="function"&&(t.refCleanup=n)}else t.ref&&(t.ref.current=e)}const Vx=[];function zI(){for(const[t]of Vx){const n=t.parent;if(n){t.props.attach?Wy(n,t):Da(t.object)&&Da(n.object)&&n.object.remove(t.object);for(const r of t.children)r.props.attach?Wy(t,r):Da(r.object)&&Da(t.object)&&t.object.remove(r.object)}t.isHidden&&A6(t),t.object.__r3f&&delete t.object.__r3f,t.type!=="primitive"&&w6(t.object)}for(const[t,n,r]of Vx){t.props=n;const a=t.parent;if(a){var i,e;const l=T0[H3(t.type)];t.object=(i=t.props.object)!=null?i:new l(...(e=t.props.args)!=null?e:[]),t.object.__r3f=t,II(r,t.object),uf(t.object,t.props),t.props.attach?Gy(a,t):Da(t.object)&&Da(a.object)&&a.object.add(t.object);for(const u of t.children)u.props.attach?Gy(t,u):Da(u.object)&&Da(t.object)&&t.object.add(u.object);z0(t)}}Vx.length=0}const CS=()=>{},s5={};let Mx=M6;const BI=0,FI=4,TM=DI({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:UI,removeChild:MM,appendChild:wS,appendInitialChild:wS,insertBefore:r5,appendChildToContainer(i,e){const t=i.getState().scene.__r3f;!e||!t||wS(t,e)},removeChildFromContainer(i,e){const t=i.getState().scene.__r3f;!e||!t||MM(t,e)},insertInContainerBefore(i,e,t){const n=i.getState().scene.__r3f;!e||!t||!n||r5(n,e,t)},getRootHostContext:()=>s5,getChildHostContext:()=>s5,commitUpdate(i,e,t,n,r){var a,l,u;E6(e,n);let d=!1;if((i.type==="primitive"&&t.object!==n.object||((a=n.args)==null?void 0:a.length)!==((l=t.args)==null?void 0:l.length)||(u=n.args)!=null&&u.some((v,_)=>{var y;return v!==((y=t.args)==null?void 0:y[_])}))&&(d=!0),d)Vx.push([i,{...n},r]);else{const v=dI(i,n);Object.keys(v).length&&(Object.assign(i.props,v),uf(i.object,v))}(r.sibling===null||(r.flags&FI)===BI)&&zI()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:i=>i?.object,prepareForCommit:()=>null,preparePortalMount:i=>Hy(i.getState().scene,i,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:PI,unhideInstance:A6,createTextInstance:CS,hideTextInstance:CS,unhideTextInstance:CS,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:gt.createContext(null),setCurrentUpdatePriority(i){Mx=i},getCurrentUpdatePriority(){return Mx},resolveUpdatePriority(){var i;if(Mx!==M6)return Mx;switch(typeof window<"u"&&((i=window.event)==null?void 0:i.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return MI;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return bI;default:return SI}},resetFormInstance(){},rendererPackageName:"@react-three/fiber",rendererVersion:TI.version,applyViewTransitionName(i,e,t){},restoreViewTransitionName(i,e){},cancelViewTransitionName(i,e,t){},cancelRootViewTransitionName(i){},restoreRootViewTransitionName(i){},InstanceMeasurement:null,measureInstance:i=>null,wasInstanceInViewport:i=>!0,hasInstanceChanged:(i,e)=>!1,hasInstanceAffectedParent:(i,e)=>!1,suspendOnActiveViewTransition(i,e){},startGestureTransition:()=>null,startViewTransition:()=>null,stopViewTransition(i){},createViewTransitionInstance:i=>null,getCurrentGestureOffset(i){throw new Error("startGestureTransition is not yet supported in react-three-fiber.")},cloneMutableInstance(i,e){return i},cloneMutableTextInstance(i){return i},cloneRootViewTransitionContainer(i){throw new Error("Not implemented.")},removeRootViewTransitionClone(i,e){throw new Error("Not implemented.")},createFragmentInstance:i=>null,updateFragmentInstanceFiber(i,e){},commitNewChildToFragmentInstance(i,e){},deleteChildFromFragmentInstance(i,e){},measureClonedInstance:i=>null,maySuspendCommitOnUpdate:(i,e,t)=>!1,maySuspendCommitInSyncRender:(i,e)=>!1,startSuspendingCommit:()=>null,getSuspendedCommitReason:(i,e)=>null}),cd=new Map,Yp={objects:"shallow",strict:!1};function kI(i,e){if(!e&&typeof HTMLCanvasElement<"u"&&i instanceof HTMLCanvasElement&&i.parentElement){const{width:t,height:n,top:r,left:a}=i.parentElement.getBoundingClientRect();return{width:t,height:n,top:r,left:a}}else if(!e&&typeof OffscreenCanvas<"u"&&i instanceof OffscreenCanvas)return{width:i.width,height:i.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...e}}function VI(i){const e=cd.get(i),t=e?.fiber,n=e?.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,a=n||xI(wM,o5),l=t||TM.createContainer(a,yI,null,!1,null,"",r,r,r,null);e||cd.set(i,{fiber:l,store:a});let u,d,p=!1,v=null;return{async configure(_={}){let y;v=new Promise(X=>y=X);let{gl:x,size:M,scene:E,events:A,onCreated:T,shadows:R=!1,linear:D=!1,flat:N=!1,legacy:U=!1,orthographic:I=!1,frameloop:B="always",dpr:k=[1,2],performance:O,raycaster:P,camera:W,onPointerMissed:Z}=_,J=a.getState(),ee=J.gl;if(!J.gl){const X={canvas:i,powerPreference:"high-performance",antialias:!0,alpha:!0},ce=typeof x=="function"?await x(X):x;$2(ce)?ee=ce:ee=new u6({...X,...x}),J.set({gl:ee})}let se=J.raycaster;se||J.set({raycaster:se=new n6});const{params:Y,...Q}=P||{};if($i.equ(Q,se,Yp)||uf(se,{...Q}),$i.equ(Y,se.params,Yp)||uf(se,{params:{...se.params,...Y}}),!J.camera||J.camera===d&&!$i.equ(d,W,Yp)){d=W;const X=W?.isCamera,ce=X?W:I?new gd(0,0,0,0,.1,1e3):new Hr(75,0,.1,1e3);X||(ce.position.z=5,W&&(uf(ce,W),ce.manual||("aspect"in W||"left"in W||"right"in W||"bottom"in W||"top"in W)&&(ce.manual=!0,ce.updateProjectionMatrix())),!J.camera&&!(W!=null&&W.rotation)&&ce.lookAt(0,0,0)),J.set({camera:ce}),se.camera=ce}if(!J.scene){let X;E!=null&&E.isScene?(X=E,Hy(X,a,"",{})):(X=new _g,Hy(X,a,"",{}),E&&uf(X,E)),J.set({scene:X})}A&&!J.events.handlers&&J.set({events:A(a)});const ue=kI(i,M);if($i.equ(ue,J.size,Yp)||J.setSize(ue.width,ue.height,ue.top,ue.left),k&&J.viewport.dpr!==v6(k)&&J.setDpr(k),J.frameloop!==B&&J.setFrameloop(B),J.onPointerMissed||J.set({onPointerMissed:Z}),O&&!$i.equ(O,J.performance,Yp)&&J.set(X=>({performance:{...X.performance,...O}})),!J.xr){var ye;const X=(Le,Je)=>{const de=a.getState();de.frameloop!=="never"&&o5(Le,!0,de,Je)},ce=()=>{const Le=a.getState();Le.gl.xr.enabled=Le.gl.xr.isPresenting,Le.gl.xr.setAnimationLoop(Le.gl.xr.isPresenting?X:null),Le.gl.xr.isPresenting||wM(Le)},Se={connect(){const Le=a.getState().gl;Le.xr.addEventListener("sessionstart",ce),Le.xr.addEventListener("sessionend",ce)},disconnect(){const Le=a.getState().gl;Le.xr.removeEventListener("sessionstart",ce),Le.xr.removeEventListener("sessionend",ce)}};typeof((ye=ee.xr)==null?void 0:ye.addEventListener)=="function"&&Se.connect(),J.set({xr:Se})}if(ee.shadowMap){const X=ee.shadowMap.enabled,ce=ee.shadowMap.type;if(ee.shadowMap.enabled=!!R,$i.boo(R))ee.shadowMap.type=I1;else if($i.str(R)){var j;const Se={basic:MA,percentage:o0,soft:I1,variance:kh};ee.shadowMap.type=(j=Se[R])!=null?j:I1}else $i.obj(R)&&Object.assign(ee.shadowMap,R);(X!==ee.shadowMap.enabled||ce!==ee.shadowMap.type)&&(ee.shadowMap.needsUpdate=!0)}return Bn.enabled=!U,p||(ee.outputColorSpace=D?hc:Bi,ee.toneMapping=N?ro:a3),J.legacy!==U&&J.set(()=>({legacy:U})),J.linear!==D&&J.set(()=>({linear:D})),J.flat!==N&&J.set(()=>({flat:N})),x&&!$i.fun(x)&&!$2(x)&&!$i.equ(x,ee,Yp)&&uf(ee,x),u=T,p=!0,y(),this},render(_){return!p&&!v&&this.configure(),v.then(()=>{TM.updateContainer(fe.jsx(HI,{store:a,children:_,onCreated:u,rootElement:i}),l,null,()=>{})}),a},unmount(){C6(i)}}}function HI({store:i,children:e,onCreated:t,rootElement:n}){return Yg(()=>{const r=i.getState();r.set(a=>({internal:{...a.internal,active:!0}})),t&&t(r),i.getState().events.connected||r.events.connect==null||r.events.connect(n)},[]),fe.jsx(y6.Provider,{value:i,children:e})}function C6(i,e){const t=cd.get(i),n=t?.fiber;if(n){const r=t?.store.getState();r&&(r.internal.active=!1),TM.updateContainer(null,n,null,()=>{r&&setTimeout(()=>{try{var a,l,u,d;r.events.disconnect==null||r.events.disconnect(),(a=r.gl)==null||(l=a.renderLists)==null||l.dispose==null||l.dispose(),(u=r.gl)==null||u.forceContextLoss==null||u.forceContextLoss(),(d=r.gl)!=null&&d.xr&&r.xr.disconnect(),uI(r.scene),cd.delete(i)}catch{}},500)})}}const GI=new Set,WI=new Set,XI=new Set;function RS(i,e){if(i.size)for(const{callback:t}of i.values())t(e)}function X1(i,e){switch(i){case"before":return RS(GI,e);case"after":return RS(WI,e);case"tail":return RS(XI,e)}}let DS,NS;function EM(i,e,t){let n=e.clock.getDelta();e.frameloop==="never"&&typeof i=="number"&&(n=i-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=i),DS=e.internal.subscribers;for(let r=0;r<DS.length;r++)NS=DS[r],NS.ref.current(NS.store.getState(),n,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}let Xy=!1,AM=!1,LS,a5,jp;function R6(i){a5=requestAnimationFrame(R6),Xy=!0,LS=0,X1("before",i),AM=!0;for(const t of cd.values()){var e;jp=t.store.getState(),jp.internal.active&&(jp.frameloop==="always"||jp.internal.frames>0)&&!((e=jp.gl.xr)!=null&&e.isPresenting)&&(LS+=EM(i,jp))}if(AM=!1,X1("after",i),LS===0)return X1("tail",i),Xy=!1,cancelAnimationFrame(a5)}function wM(i,e=1){var t;if(!i)return cd.forEach(n=>wM(n.store.getState(),e));(t=i.gl.xr)!=null&&t.isPresenting||!i.internal.active||i.frameloop==="never"||(e>1?i.internal.frames=Math.min(60,i.internal.frames+e):AM?i.internal.frames=2:i.internal.frames=1,Xy||(Xy=!0,requestAnimationFrame(R6)))}function o5(i,e=!0,t,n){if(e&&X1("before",i),t)EM(i,t,n);else for(const r of cd.values())EM(i,r.store.getState());e&&X1("after",i)}const OS={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function qI(i){const{handlePointer:e}=_I(i);return{priority:1,enabled:!0,compute(t,n,r){n.pointer.set(t.offsetX/n.size.width*2-1,-(t.offsetY/n.size.height)*2+1),n.raycaster.setFromCamera(n.pointer,n.camera)},connected:void 0,handlers:Object.keys(OS).reduce((t,n)=>({...t,[n]:e(n)}),{}),update:()=>{var t;const{events:n,internal:r}=i.getState();(t=r.lastEvent)!=null&&t.current&&n.handlers&&n.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{const{set:n,events:r}=i.getState();if(r.disconnect==null||r.disconnect(),n(a=>({events:{...a.events,connected:t}})),r.handlers)for(const a in r.handlers){const l=r.handlers[a],[u,d]=OS[a];t.addEventListener(u,l,{passive:d})}},disconnect:()=>{const{set:t,events:n}=i.getState();if(n.connected){if(n.handlers)for(const r in n.handlers){const a=n.handlers[r],[l]=OS[r];n.connected.removeEventListener(l,a)}t(r=>({events:{...r.events,connected:void 0}}))}}}}function l5(i,e){let t;return(...n)=>{window.clearTimeout(t),t=window.setTimeout(()=>i(...n),e)}}function YI({debounce:i,scroll:e,polyfill:t,offsetSize:n}={debounce:0,scroll:!1,offsetSize:!1}){const r=t||(typeof window>"u"?class{}:window.ResizeObserver);if(!r)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[a,l]=gt.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),u=gt.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:a,orientationHandler:null}),d=i?typeof i=="number"?i:i.scroll:null,p=i?typeof i=="number"?i:i.resize:null,v=gt.useRef(!1);gt.useEffect(()=>(v.current=!0,()=>{v.current=!1}));const[_,y,x]=gt.useMemo(()=>{const T=()=>{if(!u.current.element)return;const{left:R,top:D,width:N,height:U,bottom:I,right:B,x:k,y:O}=u.current.element.getBoundingClientRect(),P={left:R,top:D,width:N,height:U,bottom:I,right:B,x:k,y:O};u.current.element instanceof HTMLElement&&n&&(P.height=u.current.element.offsetHeight,P.width=u.current.element.offsetWidth),Object.freeze(P),v.current&&!KI(u.current.lastBounds,P)&&l(u.current.lastBounds=P)};return[T,p?l5(T,p):T,d?l5(T,d):T]},[l,n,d,p]);function M(){u.current.scrollContainers&&(u.current.scrollContainers.forEach(T=>T.removeEventListener("scroll",x,!0)),u.current.scrollContainers=null),u.current.resizeObserver&&(u.current.resizeObserver.disconnect(),u.current.resizeObserver=null),u.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",u.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",u.current.orientationHandler))}function E(){u.current.element&&(u.current.resizeObserver=new r(x),u.current.resizeObserver.observe(u.current.element),e&&u.current.scrollContainers&&u.current.scrollContainers.forEach(T=>T.addEventListener("scroll",x,{capture:!0,passive:!0})),u.current.orientationHandler=()=>{x()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",u.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",u.current.orientationHandler))}const A=T=>{!T||T===u.current.element||(M(),u.current.element=T,u.current.scrollContainers=D6(T),E())};return ZI(x,!!e),jI(y),gt.useEffect(()=>{M(),E()},[e,x,y]),gt.useEffect(()=>M,[]),[A,a,_]}function jI(i){gt.useEffect(()=>{const e=i;return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[i])}function ZI(i,e){gt.useEffect(()=>{if(e){const t=i;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>{window.removeEventListener("scroll",t,!0)}}},[i,e])}function D6(i){const e=[];if(!i||i===document.body)return e;const{overflow:t,overflowX:n,overflowY:r}=window.getComputedStyle(i);return[t,n,r].some(a=>a==="auto"||a==="scroll")&&e.push(i),[...e,...D6(i.parentElement)]}const QI=["x","y","top","bottom","left","right","width","height"],KI=(i,e)=>QI.every(t=>i[t]===e[t]);function JI({ref:i,children:e,fallback:t,resize:n,style:r,gl:a,events:l=qI,eventSource:u,eventPrefix:d,shadows:p,linear:v,flat:_,legacy:y,orthographic:x,frameloop:M,dpr:E,performance:A,raycaster:T,camera:R,scene:D,onPointerMissed:N,onCreated:U,...I}){gt.useMemo(()=>T6(HP),[]);const B=oI(),[k,O]=YI({scroll:!0,debounce:{scroll:50,resize:0},...n}),P=gt.useRef(null),W=gt.useRef(null);gt.useImperativeHandle(i,()=>P.current);const Z=g6(N),[J,ee]=gt.useState(!1),[se,Y]=gt.useState(!1);if(J)throw J;if(se)throw se;const Q=gt.useRef(null);Yg(()=>{const ye=P.current;if(O.width>0&&O.height>0&&ye){Q.current||(Q.current=VI(ye));async function j(){await Q.current.configure({gl:a,scene:D,events:l,shadows:p,linear:v,flat:_,legacy:y,orthographic:x,frameloop:M,dpr:E,performance:A,raycaster:T,camera:R,size:O,onPointerMissed:(...X)=>Z.current==null?void 0:Z.current(...X),onCreated:X=>{X.events.connect==null||X.events.connect(u?sI(u)?u.current:u:W.current),d&&X.setEvents({compute:(ce,Se)=>{const Le=ce[d+"X"],Je=ce[d+"Y"];Se.pointer.set(Le/Se.size.width*2-1,-(Je/Se.size.height)*2+1),Se.raycaster.setFromCamera(Se.pointer,Se.camera)}}),U?.(X)}}),Q.current.render(fe.jsx(B,{children:fe.jsx(cI,{set:Y,children:fe.jsx(gt.Suspense,{fallback:fe.jsx(lI,{set:ee}),children:e??null})})}))}j()}}),gt.useEffect(()=>{const ye=P.current;if(ye)return()=>C6(ye)},[]);const ue=u?"none":"auto";return fe.jsx("div",{ref:W,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:ue,...r},...I,children:fe.jsx("div",{ref:k,style:{width:"100%",height:"100%"},children:fe.jsx("canvas",{ref:P,style:{display:"block"},children:t})})})}function $I(i){return fe.jsx(h6,{children:fe.jsx(JI,{...i})})}var US=1/1e3,ez=1e3,tz=class{constructor(){this.startTime=performance.now(),this.previousTime=0,this.currentTime=0,this._delta=0,this._elapsed=0,this._fixedDelta=1e3/60,this.timescale=1,this.useFixedDelta=!1,this._autoReset=!1}get autoReset(){return this._autoReset}set autoReset(i){typeof document<"u"&&document.hidden!==void 0&&(i?document.addEventListener("visibilitychange",this):document.removeEventListener("visibilitychange",this),this._autoReset=i)}get delta(){return this._delta*US}get fixedDelta(){return this._fixedDelta*US}set fixedDelta(i){this._fixedDelta=i*ez}get elapsed(){return this._elapsed*US}update(i){this.useFixedDelta?this._delta=this.fixedDelta:(this.previousTime=this.currentTime,this.currentTime=(i!==void 0?i:performance.now())-this.startTime,this._delta=this.currentTime-this.previousTime),this._delta*=this.timescale,this._elapsed+=this._delta}reset(){this._delta=0,this._elapsed=0,this.currentTime=performance.now()-this.startTime}getDelta(){return this.delta}getElapsed(){return this.elapsed}handleEvent(i){document.hidden||(this.currentTime=performance.now()-this.startTime)}dispose(){this.autoReset=!1}},nz=(()=>{const i=new Float32Array([-1,-1,0,3,-1,0,-1,3,0]),e=new Float32Array([0,0,2,0,0,2]),t=new an;return t.setAttribute("position",new ci(i,3)),t.setAttribute("uv",new ci(e,2)),t})(),bl=class CM{static get fullscreenGeometry(){return nz}constructor(e="Pass",t=new _g,n=new gd){this.name=e,this.renderer=null,this.scene=t,this.camera=n,this.screen=null,this.rtt=!0,this.needsSwap=!0,this.needsDepthTexture=!1,this.enabled=!0}get renderToScreen(){return!this.rtt}set renderToScreen(e){if(this.rtt===e){const t=this.fullscreenMaterial;t!==null&&(t.needsUpdate=!0),this.rtt=!e}}set mainScene(e){}set mainCamera(e){}setRenderer(e){this.renderer=e}isEnabled(){return this.enabled}setEnabled(e){this.enabled=e}get fullscreenMaterial(){return this.screen!==null?this.screen.material:null}set fullscreenMaterial(e){let t=this.screen;t!==null?t.material=e:(t=new br(CM.fullscreenGeometry,e),t.frustumCulled=!1,this.scene===null&&(this.scene=new _g),this.scene.add(t),this.screen=t)}getFullscreenMaterial(){return this.fullscreenMaterial}setFullscreenMaterial(e){this.fullscreenMaterial=e}getDepthTexture(){return null}setDepthTexture(e,t=Cf){}render(e,t,n,r,a){throw new Error("Render method not implemented!")}setSize(e,t){}initialize(e,t,n){}dispose(){for(const e of Object.keys(this)){const t=this[e];(t instanceof Xr||t instanceof ns||t instanceof qi||t instanceof CM)&&this[e].dispose()}this.fullscreenMaterial!==null&&this.fullscreenMaterial.dispose()}},iz=class extends bl{constructor(){super("ClearMaskPass",null,null),this.needsSwap=!1}render(i,e,t,n,r){const a=i.state.buffers.stencil;a.setLocked(!1),a.setTest(!1)}},rz=`#ifdef COLOR_WRITE
#include <common>
#include <dithering_pars_fragment>
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#endif
#ifdef DEPTH_WRITE
#include <packing>
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}
#endif
#ifdef USE_WEIGHTS
uniform vec4 channelWeights;
#endif
uniform float opacity;varying vec2 vUv;void main(){
#ifdef COLOR_WRITE
vec4 texel=texture2D(inputBuffer,vUv);
#ifdef USE_WEIGHTS
texel*=channelWeights;
#endif
gl_FragColor=opacity*texel;
#ifdef COLOR_SPACE_CONVERSION
#include <colorspace_fragment>
#endif
#include <dithering_fragment>
#else
gl_FragColor=vec4(0.0);
#endif
#ifdef DEPTH_WRITE
gl_FragDepth=readDepth(vUv);
#endif
}`,sz="varying vec2 vUv;void main(){vUv=position.xy*0.5+0.5;gl_Position=vec4(position.xy,1.0,1.0);}",az=class extends Fs{constructor(){super({name:"CopyMaterial",defines:{COLOR_SPACE_CONVERSION:"1",DEPTH_PACKING:"0",COLOR_WRITE:"1"},uniforms:{inputBuffer:new li(null),depthBuffer:new li(null),channelWeights:new li(null),opacity:new li(1)},blending:io,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:rz,vertexShader:sz}),this.depthFunc=og}get inputBuffer(){return this.uniforms.inputBuffer.value}set inputBuffer(i){const e=i!==null;this.colorWrite!==e&&(e?this.defines.COLOR_WRITE=!0:delete this.defines.COLOR_WRITE,this.colorWrite=e,this.needsUpdate=!0),this.uniforms.inputBuffer.value=i}get depthBuffer(){return this.uniforms.depthBuffer.value}set depthBuffer(i){const e=i!==null;this.depthWrite!==e&&(e?this.defines.DEPTH_WRITE=!0:delete this.defines.DEPTH_WRITE,this.depthTest=e,this.depthWrite=e,this.needsUpdate=!0),this.uniforms.depthBuffer.value=i}set depthPacking(i){this.defines.DEPTH_PACKING=i.toFixed(0),this.needsUpdate=!0}get colorSpaceConversion(){return this.defines.COLOR_SPACE_CONVERSION!==void 0}set colorSpaceConversion(i){this.colorSpaceConversion!==i&&(i?this.defines.COLOR_SPACE_CONVERSION=!0:delete this.defines.COLOR_SPACE_CONVERSION,this.needsUpdate=!0)}get channelWeights(){return this.uniforms.channelWeights.value}set channelWeights(i){i!==null?(this.defines.USE_WEIGHTS="1",this.uniforms.channelWeights.value=i):delete this.defines.USE_WEIGHTS,this.needsUpdate=!0}setInputBuffer(i){this.uniforms.inputBuffer.value=i}getOpacity(i){return this.uniforms.opacity.value}setOpacity(i){this.uniforms.opacity.value=i}},oz=class extends bl{constructor(i,e=!0){super("CopyPass"),this.fullscreenMaterial=new az,this.needsSwap=!1,this.renderTarget=i,i===void 0&&(this.renderTarget=new Xr(1,1,{minFilter:hi,magFilter:hi,stencilBuffer:!1,depthBuffer:!1}),this.renderTarget.texture.name="CopyPass.Target"),this.autoResize=e}get resize(){return this.autoResize}set resize(i){this.autoResize=i}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}setAutoResizeEnabled(i){this.autoResize=i}render(i,e,t,n,r){this.fullscreenMaterial.inputBuffer=e.texture,i.setRenderTarget(this.renderToScreen?null:this.renderTarget),i.render(this.scene,this.camera)}setSize(i,e){this.autoResize&&this.renderTarget.setSize(i,e)}initialize(i,e,t){t!==void 0&&(this.renderTarget.texture.type=t,t!==Gr?this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1":i!==null&&i.outputColorSpace===Bi&&(this.renderTarget.texture.colorSpace=Bi))}},c5=new Mt,N6=class extends bl{constructor(i=!0,e=!0,t=!1){super("ClearPass",null,null),this.needsSwap=!1,this.color=i,this.depth=e,this.stencil=t,this.overrideClearColor=null,this.overrideClearAlpha=-1}setClearFlags(i,e,t){this.color=i,this.depth=e,this.stencil=t}getOverrideClearColor(){return this.overrideClearColor}setOverrideClearColor(i){this.overrideClearColor=i}getOverrideClearAlpha(){return this.overrideClearAlpha}setOverrideClearAlpha(i){this.overrideClearAlpha=i}render(i,e,t,n,r){const a=this.overrideClearColor,l=this.overrideClearAlpha,u=i.getClearAlpha(),d=a!==null,p=l>=0;d?(i.getClearColor(c5),i.setClearColor(a,p?l:u)):p&&i.setClearAlpha(l),i.setRenderTarget(this.renderToScreen?null:e),i.clear(this.color,this.depth,this.stencil),d?i.setClearColor(c5,u):p&&i.setClearAlpha(u)}},lz=class extends bl{constructor(i,e){super("MaskPass",i,e),this.needsSwap=!1,this.clearPass=new N6(!1,!1,!0),this.inverse=!1}set mainScene(i){this.scene=i}set mainCamera(i){this.camera=i}get inverted(){return this.inverse}set inverted(i){this.inverse=i}get clear(){return this.clearPass.enabled}set clear(i){this.clearPass.enabled=i}getClearPass(){return this.clearPass}isInverted(){return this.inverted}setInverted(i){this.inverted=i}render(i,e,t,n,r){const a=i.getContext(),l=i.state.buffers,u=this.scene,d=this.camera,p=this.clearPass,v=this.inverted?0:1,_=1-v;l.color.setMask(!1),l.depth.setMask(!1),l.color.setLocked(!0),l.depth.setLocked(!0),l.stencil.setTest(!0),l.stencil.setOp(a.REPLACE,a.REPLACE,a.REPLACE),l.stencil.setFunc(a.ALWAYS,v,4294967295),l.stencil.setClear(_),l.stencil.setLocked(!0),this.clearPass.enabled&&(this.renderToScreen?p.render(i,null):(p.render(i,e),p.render(i,t))),this.renderToScreen?(i.setRenderTarget(null),i.render(u,d)):(i.setRenderTarget(e),i.render(u,d),i.setRenderTarget(t),i.render(u,d)),l.color.setLocked(!1),l.depth.setLocked(!1),l.stencil.setLocked(!1),l.stencil.setFunc(a.EQUAL,1,4294967295),l.stencil.setOp(a.KEEP,a.KEEP,a.KEEP),l.stencil.setLocked(!0)}},cz=class{constructor(i=null,{depthBuffer:e=!0,stencilBuffer:t=!1,multisampling:n=0,frameBufferType:r}={}){this.renderer=null,this.inputBuffer=this.createBuffer(e,t,r,n),this.outputBuffer=this.inputBuffer.clone(),this.copyPass=new oz,this.depthTexture=null,this.passes=[],this.timer=new tz,this.autoRenderToScreen=!0,this.setRenderer(i)}get multisampling(){return this.inputBuffer.samples||0}set multisampling(i){const e=this.inputBuffer,t=this.multisampling;t>0&&i>0?(this.inputBuffer.samples=i,this.outputBuffer.samples=i,this.inputBuffer.dispose(),this.outputBuffer.dispose()):t!==i&&(this.inputBuffer.dispose(),this.outputBuffer.dispose(),this.inputBuffer=this.createBuffer(e.depthBuffer,e.stencilBuffer,e.texture.type,i),this.inputBuffer.depthTexture=this.depthTexture,this.outputBuffer=this.inputBuffer.clone())}getTimer(){return this.timer}getRenderer(){return this.renderer}setRenderer(i){if(this.renderer=i,i!==null){const e=i.getSize(new Ie),t=i.getContext().getContextAttributes().alpha,n=this.inputBuffer.texture.type;n===Gr&&i.outputColorSpace===Bi&&(this.inputBuffer.texture.colorSpace=Bi,this.outputBuffer.texture.colorSpace=Bi,this.inputBuffer.dispose(),this.outputBuffer.dispose()),i.autoClear=!1,this.setSize(e.width,e.height);for(const r of this.passes)r.initialize(i,t,n)}}replaceRenderer(i,e=!0){const t=this.renderer,n=t.domElement.parentNode;return this.setRenderer(i),e&&n!==null&&(n.removeChild(t.domElement),n.appendChild(i.domElement)),t}createDepthTexture(){const i=this.depthTexture=new od;return this.inputBuffer.depthTexture=i,this.inputBuffer.dispose(),this.inputBuffer.stencilBuffer?(i.format=tu,i.type=rd):i.type=oo,i}deleteDepthTexture(){if(this.depthTexture!==null){this.depthTexture.dispose(),this.depthTexture=null,this.inputBuffer.depthTexture=null,this.inputBuffer.dispose();for(const i of this.passes)i.setDepthTexture(null)}}createBuffer(i,e,t,n){const r=this.renderer,a=r===null?new Ie:r.getDrawingBufferSize(new Ie),l={minFilter:hi,magFilter:hi,stencilBuffer:e,depthBuffer:i,type:t},u=new Xr(a.width,a.height,l);return n>0&&(u.samples=n),t===Gr&&r!==null&&r.outputColorSpace===Bi&&(u.texture.colorSpace=Bi),u.texture.name="EffectComposer.Buffer",u.texture.generateMipmaps=!1,u}setMainScene(i){for(const e of this.passes)e.mainScene=i}setMainCamera(i){for(const e of this.passes)e.mainCamera=i}addPass(i,e){const t=this.passes,n=this.renderer,r=n.getDrawingBufferSize(new Ie),a=n.getContext().getContextAttributes().alpha,l=this.inputBuffer.texture.type;if(i.setRenderer(n),i.setSize(r.width,r.height),i.initialize(n,a,l),this.autoRenderToScreen&&(t.length>0&&(t[t.length-1].renderToScreen=!1),i.renderToScreen&&(this.autoRenderToScreen=!1)),e!==void 0?t.splice(e,0,i):t.push(i),this.autoRenderToScreen&&(t[t.length-1].renderToScreen=!0),i.needsDepthTexture||this.depthTexture!==null)if(this.depthTexture===null){const u=this.createDepthTexture();for(i of t)i.setDepthTexture(u)}else i.setDepthTexture(this.depthTexture)}removePass(i){const e=this.passes,t=e.indexOf(i);if(t!==-1&&e.splice(t,1).length>0){if(this.depthTexture!==null){const a=(u,d)=>u||d.needsDepthTexture;e.reduce(a,!1)||(i.getDepthTexture()===this.depthTexture&&i.setDepthTexture(null),this.deleteDepthTexture())}this.autoRenderToScreen&&t===e.length&&(i.renderToScreen=!1,e.length>0&&(e[e.length-1].renderToScreen=!0))}}removeAllPasses(){const i=this.passes;this.deleteDepthTexture(),i.length>0&&(this.autoRenderToScreen&&(i[i.length-1].renderToScreen=!1),this.passes=[])}render(i){const e=this.renderer,t=this.copyPass;let n=this.inputBuffer,r=this.outputBuffer,a=!1,l,u,d;i===void 0&&(this.timer.update(),i=this.timer.getDelta());for(const p of this.passes)p.enabled&&(p.render(e,n,r,i,a),p.needsSwap&&(a&&(t.renderToScreen=p.renderToScreen,l=e.getContext(),u=e.state.buffers.stencil,u.setFunc(l.NOTEQUAL,1,4294967295),t.render(e,n,r,i,a),u.setFunc(l.EQUAL,1,4294967295)),d=n,n=r,r=d),p instanceof lz?a=!0:p instanceof iz&&(a=!1))}setSize(i,e,t){const n=this.renderer,r=n.getSize(new Ie);(i===void 0||e===void 0)&&(i=r.width,e=r.height),(r.width!==i||r.height!==e)&&n.setSize(i,e,t);const a=n.getDrawingBufferSize(new Ie);this.inputBuffer.setSize(a.width,a.height),this.outputBuffer.setSize(a.width,a.height);for(const l of this.passes)l.setSize(a.width,a.height)}reset(){this.dispose(),this.autoRenderToScreen=!0}dispose(){for(const i of this.passes)i.dispose();this.passes=[],this.inputBuffer!==null&&this.inputBuffer.dispose(),this.outputBuffer!==null&&this.outputBuffer.dispose(),this.deleteDepthTexture(),this.copyPass.dispose(),this.timer.dispose(),bl.fullscreenGeometry.dispose()}},Zh={NONE:0,DEPTH:1,CONVOLUTION:2},Qn={FRAGMENT_HEAD:"FRAGMENT_HEAD",FRAGMENT_MAIN_UV:"FRAGMENT_MAIN_UV",FRAGMENT_MAIN_IMAGE:"FRAGMENT_MAIN_IMAGE",VERTEX_HEAD:"VERTEX_HEAD",VERTEX_MAIN_SUPPORT:"VERTEX_MAIN_SUPPORT"},uz=class{constructor(){this.shaderParts=new Map([[Qn.FRAGMENT_HEAD,null],[Qn.FRAGMENT_MAIN_UV,null],[Qn.FRAGMENT_MAIN_IMAGE,null],[Qn.VERTEX_HEAD,null],[Qn.VERTEX_MAIN_SUPPORT,null]]),this.defines=new Map,this.uniforms=new Map,this.blendModes=new Map,this.extensions=new Set,this.attributes=Zh.NONE,this.varyings=new Set,this.uvTransformation=!1,this.readDepth=!1,this.colorSpace=hc}},PS=!1,u5=class{constructor(i=null){this.originalMaterials=new Map,this.material=null,this.materials=null,this.materialsBackSide=null,this.materialsDoubleSide=null,this.materialsFlatShaded=null,this.materialsFlatShadedBackSide=null,this.materialsFlatShadedDoubleSide=null,this.setMaterial(i),this.meshCount=0,this.replaceMaterial=e=>{if(e.isMesh){let t;if(e.material.flatShading)switch(e.material.side){case Na:t=this.materialsFlatShadedDoubleSide;break;case Wr:t=this.materialsFlatShadedBackSide;break;default:t=this.materialsFlatShaded;break}else switch(e.material.side){case Na:t=this.materialsDoubleSide;break;case Wr:t=this.materialsBackSide;break;default:t=this.materials;break}this.originalMaterials.set(e,e.material),e.isSkinnedMesh?e.material=t[2]:e.isInstancedMesh?e.material=t[1]:e.material=t[0],++this.meshCount}}}cloneMaterial(i){if(!(i instanceof Fs))return i.clone();const e=i.uniforms,t=new Map;for(const r in e){const a=e[r].value;a.isRenderTargetTexture&&(e[r].value=null,t.set(r,a))}const n=i.clone();for(const r of t)e[r[0]].value=r[1],n.uniforms[r[0]].value=r[1];return n}setMaterial(i){if(this.disposeMaterials(),this.material=i,i!==null){const e=this.materials=[this.cloneMaterial(i),this.cloneMaterial(i),this.cloneMaterial(i)];for(const t of e)t.uniforms=Object.assign({},i.uniforms),t.side=cc;e[2].skinning=!0,this.materialsBackSide=e.map(t=>{const n=this.cloneMaterial(t);return n.uniforms=Object.assign({},i.uniforms),n.side=Wr,n}),this.materialsDoubleSide=e.map(t=>{const n=this.cloneMaterial(t);return n.uniforms=Object.assign({},i.uniforms),n.side=Na,n}),this.materialsFlatShaded=e.map(t=>{const n=this.cloneMaterial(t);return n.uniforms=Object.assign({},i.uniforms),n.flatShading=!0,n}),this.materialsFlatShadedBackSide=e.map(t=>{const n=this.cloneMaterial(t);return n.uniforms=Object.assign({},i.uniforms),n.flatShading=!0,n.side=Wr,n}),this.materialsFlatShadedDoubleSide=e.map(t=>{const n=this.cloneMaterial(t);return n.uniforms=Object.assign({},i.uniforms),n.flatShading=!0,n.side=Na,n})}}render(i,e,t){const n=i.shadowMap.enabled;if(i.shadowMap.enabled=!1,PS){const r=this.originalMaterials;this.meshCount=0,e.traverse(this.replaceMaterial),i.render(e,t);for(const a of r)a[0].material=a[1];this.meshCount!==r.size&&r.clear()}else{const r=e.overrideMaterial;e.overrideMaterial=this.material,i.render(e,t),e.overrideMaterial=r}i.shadowMap.enabled=n}disposeMaterials(){if(this.material!==null){const i=this.materials.concat(this.materialsBackSide).concat(this.materialsDoubleSide).concat(this.materialsFlatShaded).concat(this.materialsFlatShadedBackSide).concat(this.materialsFlatShadedDoubleSide);for(const e of i)e.dispose()}}dispose(){this.originalMaterials.clear(),this.disposeMaterials()}static get workaroundEnabled(){return PS}static set workaroundEnabled(i){PS=i}},sf=-1,c0=class extends uo{constructor(i,e=sf,t=sf,n=1){super(),this.resizable=i,this.baseSize=new Ie(1,1),this.preferredSize=new Ie(e,t),this.target=this.preferredSize,this.s=n,this.effectiveSize=new Ie,this.addEventListener("change",()=>this.updateEffectiveSize()),this.updateEffectiveSize()}updateEffectiveSize(){const i=this.baseSize,e=this.preferredSize,t=this.effectiveSize,n=this.scale;e.width!==sf?t.width=e.width:e.height!==sf?t.width=Math.round(e.height*(i.width/Math.max(i.height,1))):t.width=Math.round(i.width*n),e.height!==sf?t.height=e.height:e.width!==sf?t.height=Math.round(e.width/Math.max(i.width/Math.max(i.height,1),1)):t.height=Math.round(i.height*n)}get width(){return this.effectiveSize.width}set width(i){this.preferredWidth=i}get height(){return this.effectiveSize.height}set height(i){this.preferredHeight=i}getWidth(){return this.width}getHeight(){return this.height}get scale(){return this.s}set scale(i){this.s!==i&&(this.s=i,this.preferredSize.setScalar(sf),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getScale(){return this.scale}setScale(i){this.scale=i}get baseWidth(){return this.baseSize.width}set baseWidth(i){this.baseSize.width!==i&&(this.baseSize.width=i,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getBaseWidth(){return this.baseWidth}setBaseWidth(i){this.baseWidth=i}get baseHeight(){return this.baseSize.height}set baseHeight(i){this.baseSize.height!==i&&(this.baseSize.height=i,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getBaseHeight(){return this.baseHeight}setBaseHeight(i){this.baseHeight=i}setBaseSize(i,e){(this.baseSize.width!==i||this.baseSize.height!==e)&&(this.baseSize.set(i,e),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}get preferredWidth(){return this.preferredSize.width}set preferredWidth(i){this.preferredSize.width!==i&&(this.preferredSize.width=i,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getPreferredWidth(){return this.preferredWidth}setPreferredWidth(i){this.preferredWidth=i}get preferredHeight(){return this.preferredSize.height}set preferredHeight(i){this.preferredSize.height!==i&&(this.preferredSize.height=i,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getPreferredHeight(){return this.preferredHeight}setPreferredHeight(i){this.preferredHeight=i}setPreferredSize(i,e){(this.preferredSize.width!==i||this.preferredSize.height!==e)&&(this.preferredSize.set(i,e),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}copy(i){this.s=i.scale,this.baseSize.set(i.baseWidth,i.baseHeight),this.preferredSize.set(i.preferredWidth,i.preferredHeight),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height)}static get AUTO_SIZE(){return sf}},Vn={ADD:0,ALPHA:1,AVERAGE:2,COLOR:3,COLOR_BURN:4,COLOR_DODGE:5,DARKEN:6,DIFFERENCE:7,DIVIDE:8,DST:9,EXCLUSION:10,HARD_LIGHT:11,HARD_MIX:12,HUE:13,INVERT:14,INVERT_RGB:15,LIGHTEN:16,LINEAR_BURN:17,LINEAR_DODGE:18,LINEAR_LIGHT:19,LUMINOSITY:20,MULTIPLY:21,NEGATION:22,NORMAL:23,OVERLAY:24,PIN_LIGHT:25,REFLECT:26,SATURATION:27,SCREEN:28,SOFT_LIGHT:29,SRC:30,SUBTRACT:31,VIVID_LIGHT:32},fz="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 c=dst.rgb+src.rgb;return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",hz="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){return mix(dst,src,src.a*opacity);}",dz="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 c=(dst.rgb+src.rgb)*0.5;return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",pz="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 a=RGBToHSL(dst.rgb);vec3 b=RGBToHSL(src.rgb);vec3 c=HSLToRGB(vec3(b.xy,a.z));return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",mz="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 a=dst.rgb,b=src.rgb;vec3 c=mix(step(0.0,b)*(1.0-min(vec3(1.0),(1.0-a)/max(b,1e-9))),vec3(1.0),step(1.0,a));return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",gz="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 a=dst.rgb,b=src.rgb;vec3 c=step(0.0,a)*mix(min(vec3(1.0),a/max(1.0-b,1e-9)),vec3(1.0),step(1.0,b));return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",vz="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 c=min(dst.rgb,src.rgb);return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",_z="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 c=abs(dst.rgb-src.rgb);return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",xz="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 c=dst.rgb/max(src.rgb,1e-9);return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",yz="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 c=dst.rgb+src.rgb-2.0*dst.rgb*src.rgb;return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",bz="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 a=min(dst.rgb,1.0);vec3 b=min(src.rgb,1.0);vec3 c=mix(2.0*a*b,1.0-2.0*(1.0-a)*(1.0-b),step(0.5,b));return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",Sz="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 c=step(1.0,dst.rgb+src.rgb);return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",Mz="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 a=RGBToHSL(dst.rgb);vec3 b=RGBToHSL(src.rgb);vec3 c=HSLToRGB(vec3(b.x,a.yz));return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",Tz="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 c=max(1.0-src.rgb,0.0);return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",Ez="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 c=src.rgb*max(1.0-dst.rgb,0.0);return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",Az="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 c=max(dst.rgb,src.rgb);return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",wz="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 c=clamp(src.rgb+dst.rgb-1.0,0.0,1.0);return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",Cz="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 c=min(dst.rgb+src.rgb,1.0);return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",Rz="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 c=clamp(2.0*src.rgb+dst.rgb-1.0,0.0,1.0);return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",Dz="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 a=RGBToHSL(dst.rgb);vec3 b=RGBToHSL(src.rgb);vec3 c=HSLToRGB(vec3(a.xy,b.z));return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",Nz="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 c=dst.rgb*src.rgb;return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",Lz="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 c=max(1.0-abs(1.0-dst.rgb-src.rgb),0.0);return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",Oz="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){return mix(dst,src,opacity);}",Uz="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 a=2.0*src.rgb*dst.rgb;vec3 b=1.0-2.0*(1.0-src.rgb)*(1.0-dst.rgb);vec3 c=mix(a,b,step(0.5,dst.rgb));return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",Pz="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 src2=2.0*src.rgb;vec3 c=mix(mix(src2,dst.rgb,step(0.5*dst.rgb,src.rgb)),max(src2-1.0,vec3(0.0)),step(dst.rgb,src2-1.0));return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",Iz="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 a=min(dst.rgb*dst.rgb/max(1.0-src.rgb,1e-9),1.0);vec3 c=mix(a,src.rgb,step(1.0,src.rgb));return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",zz="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 a=RGBToHSL(dst.rgb);vec3 b=RGBToHSL(src.rgb);vec3 c=HSLToRGB(vec3(a.x,b.y,a.z));return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",Bz="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 c=dst.rgb+src.rgb-min(dst.rgb*src.rgb,1.0);return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",Fz="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 src2=2.0*src.rgb;vec3 d=dst.rgb+(src2-1.0);vec3 w=step(0.5,src.rgb);vec3 a=dst.rgb-(1.0-src2)*dst.rgb*(1.0-dst.rgb);vec3 b=mix(d*(sqrt(dst.rgb)-dst.rgb),d*dst.rgb*((16.0*dst.rgb-12.0)*dst.rgb+3.0),w*(1.0-step(0.25,dst.rgb)));vec3 c=mix(a,b,w);return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",kz="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){return src;}",Vz="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 c=max(dst.rgb-src.rgb,0.0);return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",Hz="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 c=mix(max(1.0-min((1.0-dst.rgb)/(2.0*src.rgb),1.0),0.0),min(dst.rgb/(2.0*(1.0-src.rgb)),1.0),step(0.5,src.rgb));return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",Gz=new Map([[Vn.ADD,fz],[Vn.ALPHA,hz],[Vn.AVERAGE,dz],[Vn.COLOR,pz],[Vn.COLOR_BURN,mz],[Vn.COLOR_DODGE,gz],[Vn.DARKEN,vz],[Vn.DIFFERENCE,_z],[Vn.DIVIDE,xz],[Vn.DST,null],[Vn.EXCLUSION,yz],[Vn.HARD_LIGHT,bz],[Vn.HARD_MIX,Sz],[Vn.HUE,Mz],[Vn.INVERT,Tz],[Vn.INVERT_RGB,Ez],[Vn.LIGHTEN,Az],[Vn.LINEAR_BURN,wz],[Vn.LINEAR_DODGE,Cz],[Vn.LINEAR_LIGHT,Rz],[Vn.LUMINOSITY,Dz],[Vn.MULTIPLY,Nz],[Vn.NEGATION,Lz],[Vn.NORMAL,Oz],[Vn.OVERLAY,Uz],[Vn.PIN_LIGHT,Pz],[Vn.REFLECT,Iz],[Vn.SATURATION,zz],[Vn.SCREEN,Bz],[Vn.SOFT_LIGHT,Fz],[Vn.SRC,kz],[Vn.SUBTRACT,Vz],[Vn.VIVID_LIGHT,Hz]]),Wz=class extends uo{constructor(i,e=1){super(),this._blendFunction=i,this.opacity=new li(e)}getOpacity(){return this.opacity.value}setOpacity(i){this.opacity.value=i}get blendFunction(){return this._blendFunction}set blendFunction(i){this._blendFunction=i,this.dispatchEvent({type:"change"})}getBlendFunction(){return this.blendFunction}setBlendFunction(i){this.blendFunction=i}getShaderCode(){return Gz.get(this.blendFunction)}},RM=class extends uo{constructor(i,e,{attributes:t=Zh.NONE,blendFunction:n=Vn.NORMAL,defines:r=new Map,uniforms:a=new Map,extensions:l=null,vertexShader:u=null}={}){super(),this.name=i,this.renderer=null,this.attributes=t,this.fragmentShader=e,this.vertexShader=u,this.defines=r,this.uniforms=a,this.extensions=l,this.blendMode=new Wz(n),this.blendMode.addEventListener("change",d=>this.setChanged()),this._inputColorSpace=hc,this._outputColorSpace=pl}get inputColorSpace(){return this._inputColorSpace}set inputColorSpace(i){this._inputColorSpace=i,this.setChanged()}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(i){this._outputColorSpace=i,this.setChanged()}set mainScene(i){}set mainCamera(i){}getName(){return this.name}setRenderer(i){this.renderer=i}getDefines(){return this.defines}getUniforms(){return this.uniforms}getExtensions(){return this.extensions}getBlendMode(){return this.blendMode}getAttributes(){return this.attributes}setAttributes(i){this.attributes=i,this.setChanged()}getFragmentShader(){return this.fragmentShader}setFragmentShader(i){this.fragmentShader=i,this.setChanged()}getVertexShader(){return this.vertexShader}setVertexShader(i){this.vertexShader=i,this.setChanged()}setChanged(){this.dispatchEvent({type:"change"})}setDepthTexture(i,e=Cf){}update(i,e,t){}setSize(i,e){}initialize(i,e,t){}dispose(){for(const i of Object.keys(this)){const e=this[i];(e instanceof Xr||e instanceof ns||e instanceof qi||e instanceof bl)&&this[i].dispose()}}},L6=class extends bl{constructor(i,e,t=null){super("RenderPass",i,e),this.needsSwap=!1,this.clearPass=new N6,this.overrideMaterialManager=t===null?null:new u5(t),this.ignoreBackground=!1,this.skipShadowMapUpdate=!1,this.selection=null}set mainScene(i){this.scene=i}set mainCamera(i){this.camera=i}get renderToScreen(){return super.renderToScreen}set renderToScreen(i){super.renderToScreen=i,this.clearPass.renderToScreen=i}get overrideMaterial(){const i=this.overrideMaterialManager;return i!==null?i.material:null}set overrideMaterial(i){const e=this.overrideMaterialManager;i!==null?e!==null?e.setMaterial(i):this.overrideMaterialManager=new u5(i):e!==null&&(e.dispose(),this.overrideMaterialManager=null)}getOverrideMaterial(){return this.overrideMaterial}setOverrideMaterial(i){this.overrideMaterial=i}get clear(){return this.clearPass.enabled}set clear(i){this.clearPass.enabled=i}getSelection(){return this.selection}setSelection(i){this.selection=i}isBackgroundDisabled(){return this.ignoreBackground}setBackgroundDisabled(i){this.ignoreBackground=i}isShadowMapDisabled(){return this.skipShadowMapUpdate}setShadowMapDisabled(i){this.skipShadowMapUpdate=i}getClearPass(){return this.clearPass}render(i,e,t,n,r){const a=this.scene,l=this.camera,u=this.selection,d=l.layers.mask,p=a.background,v=i.shadowMap.autoUpdate,_=this.renderToScreen?null:e;u!==null&&l.layers.set(u.getLayer()),this.skipShadowMapUpdate&&(i.shadowMap.autoUpdate=!1),(this.ignoreBackground||this.clearPass.overrideClearColor!==null)&&(a.background=null),this.clearPass.enabled&&this.clearPass.render(i,e),i.setRenderTarget(_),this.overrideMaterialManager!==null?this.overrideMaterialManager.render(i,a,l):i.render(a,l),l.layers.mask=d,a.background=p,i.shadowMap.autoUpdate=v}},Xz=`#include <packing>
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
#ifdef DOWNSAMPLE_NORMALS
uniform lowp sampler2D normalBuffer;
#endif
varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}int findBestDepth(const in float samples[4]){float c=(samples[0]+samples[1]+samples[2]+samples[3])*0.25;float distances[4];distances[0]=abs(c-samples[0]);distances[1]=abs(c-samples[1]);distances[2]=abs(c-samples[2]);distances[3]=abs(c-samples[3]);float maxDistance=max(max(distances[0],distances[1]),max(distances[2],distances[3]));int remaining[3];int rejected[3];int i,j,k;for(i=0,j=0,k=0;i<4;++i){if(distances[i]<maxDistance){remaining[j++]=i;}else{rejected[k++]=i;}}for(;j<3;++j){remaining[j]=rejected[--k];}vec3 s=vec3(samples[remaining[0]],samples[remaining[1]],samples[remaining[2]]);c=(s.x+s.y+s.z)/3.0;distances[0]=abs(c-s.x);distances[1]=abs(c-s.y);distances[2]=abs(c-s.z);float minDistance=min(distances[0],min(distances[1],distances[2]));for(i=0;i<3;++i){if(distances[i]==minDistance){break;}}return remaining[i];}void main(){float d[4];d[0]=readDepth(vUv0);d[1]=readDepth(vUv1);d[2]=readDepth(vUv2);d[3]=readDepth(vUv3);int index=findBestDepth(d);
#ifdef DOWNSAMPLE_NORMALS
vec3 n[4];n[0]=texture2D(normalBuffer,vUv0).rgb;n[1]=texture2D(normalBuffer,vUv1).rgb;n[2]=texture2D(normalBuffer,vUv2).rgb;n[3]=texture2D(normalBuffer,vUv3).rgb;
#else
vec3 n[4];n[0]=vec3(0.0);n[1]=vec3(0.0);n[2]=vec3(0.0);n[3]=vec3(0.0);
#endif
gl_FragColor=vec4(n[index],d[index]);}`,qz="uniform vec2 texelSize;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vUv0=uv;vUv1=vec2(uv.x,uv.y+texelSize.y);vUv2=vec2(uv.x+texelSize.x,uv.y);vUv3=uv+texelSize;gl_Position=vec4(position.xy,1.0,1.0);}",Yz=class extends Fs{constructor(){super({name:"DepthDownsamplingMaterial",defines:{DEPTH_PACKING:"0"},uniforms:{depthBuffer:new li(null),normalBuffer:new li(null),texelSize:new li(new Ie)},blending:io,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:Xz,vertexShader:qz})}set depthBuffer(i){this.uniforms.depthBuffer.value=i}set depthPacking(i){this.defines.DEPTH_PACKING=i.toFixed(0),this.needsUpdate=!0}setDepthBuffer(i,e=Cf){this.depthBuffer=i,this.depthPacking=e}set normalBuffer(i){this.uniforms.normalBuffer.value=i,i!==null?this.defines.DOWNSAMPLE_NORMALS="1":delete this.defines.DOWNSAMPLE_NORMALS,this.needsUpdate=!0}setNormalBuffer(i){this.normalBuffer=i}setTexelSize(i,e){this.uniforms.texelSize.value.set(i,e)}setSize(i,e){this.uniforms.texelSize.value.set(1/i,1/e)}},jz=class extends bl{constructor({normalBuffer:i=null,resolutionScale:e=.5,width:t=c0.AUTO_SIZE,height:n=c0.AUTO_SIZE,resolutionX:r=t,resolutionY:a=n}={}){super("DepthDownsamplingPass");const l=new Yz;l.normalBuffer=i,this.fullscreenMaterial=l,this.needsDepthTexture=!0,this.needsSwap=!1,this.renderTarget=new Xr(1,1,{minFilter:Fi,magFilter:Fi,depthBuffer:!1,type:Ps}),this.renderTarget.texture.name="DepthDownsamplingPass.Target",this.renderTarget.texture.generateMipmaps=!1;const u=this.resolution=new c0(this,r,a,e);u.addEventListener("change",d=>this.setSize(u.baseWidth,u.baseHeight))}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}setDepthTexture(i,e=Cf){this.fullscreenMaterial.depthBuffer=i,this.fullscreenMaterial.depthPacking=e}render(i,e,t,n,r){i.setRenderTarget(this.renderToScreen?null:this.renderTarget),i.render(this.scene,this.camera)}setSize(i,e){const t=this.resolution;t.setBaseSize(i,e),this.renderTarget.setSize(t.width,t.height),this.fullscreenMaterial.setSize(i,e)}initialize(i,e,t){const n=i.getContext();if(!(n.getExtension("EXT_color_buffer_float")||n.getExtension("EXT_color_buffer_half_float")))throw new Error("Rendering to float texture is not supported.")}},Zz=`#include <common>
#include <packing>
#include <dithering_pars_fragment>
#define packFloatToRGBA(v) packDepthToRGBA(v)
#define unpackRGBAToFloat(v) unpackRGBAToDepth(v)
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#if DEPTH_PACKING == 3201
uniform lowp sampler2D depthBuffer;
#elif defined(GL_FRAGMENT_PRECISION_HIGH)
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;vec4 sRGBToLinear(const in vec4 value){return vec4(mix(pow(value.rgb*0.9478672986+vec3(0.0521327014),vec3(2.4)),value.rgb*0.0773993808,vec3(lessThanEqual(value.rgb,vec3(0.04045)))),value.a);}float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
float depth=unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
float depth=texture2D(depthBuffer,uv).r;
#endif
#if defined(USE_LOGARITHMIC_DEPTH_BUFFER) || defined(LOG_DEPTH)
float d=pow(2.0,depth*log2(cameraFar+1.0))-1.0;float a=cameraFar/(cameraFar-cameraNear);float b=cameraFar*cameraNear/(cameraNear-cameraFar);depth=a+b/d;
#elif defined(USE_REVERSED_DEPTH_BUFFER)
depth=1.0-depth;
#endif
return depth;}float getViewZ(const in float depth){
#ifdef PERSPECTIVE_CAMERA
return perspectiveDepthToViewZ(depth,cameraNear,cameraFar);
#else
return orthographicDepthToViewZ(depth,cameraNear,cameraFar);
#endif
}vec3 RGBToHCV(const in vec3 RGB){vec4 P=mix(vec4(RGB.bg,-1.0,2.0/3.0),vec4(RGB.gb,0.0,-1.0/3.0),step(RGB.b,RGB.g));vec4 Q=mix(vec4(P.xyw,RGB.r),vec4(RGB.r,P.yzx),step(P.x,RGB.r));float C=Q.x-min(Q.w,Q.y);float H=abs((Q.w-Q.y)/(6.0*C+EPSILON)+Q.z);return vec3(H,C,Q.x);}vec3 RGBToHSL(const in vec3 RGB){vec3 HCV=RGBToHCV(RGB);float L=HCV.z-HCV.y*0.5;float S=HCV.y/(1.0-abs(L*2.0-1.0)+EPSILON);return vec3(HCV.x,S,L);}vec3 HueToRGB(const in float H){float R=abs(H*6.0-3.0)-1.0;float G=2.0-abs(H*6.0-2.0);float B=2.0-abs(H*6.0-4.0);return clamp(vec3(R,G,B),0.0,1.0);}vec3 HSLToRGB(const in vec3 HSL){vec3 RGB=HueToRGB(HSL.x);float C=(1.0-abs(2.0*HSL.z-1.0))*HSL.y;return(RGB-0.5)*C+HSL.z;}FRAGMENT_HEAD void main(){FRAGMENT_MAIN_UV vec4 color0=texture2D(inputBuffer,UV);vec4 color1=vec4(0.0);FRAGMENT_MAIN_IMAGE color0.a=clamp(color0.a,0.0,1.0);gl_FragColor=color0;
#ifdef ENCODE_OUTPUT
#include <colorspace_fragment>
#endif
#include <dithering_fragment>
}`,Qz="uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;VERTEX_HEAD void main(){vUv=position.xy*0.5+0.5;VERTEX_MAIN_SUPPORT gl_Position=vec4(position.xy,1.0,1.0);}",Kz=class extends Fs{constructor(i,e,t,n,r=!1){super({name:"EffectMaterial",defines:{THREE_REVISION:zg.replace(/\D+/g,""),DEPTH_PACKING:"0",ENCODE_OUTPUT:"1"},uniforms:{inputBuffer:new li(null),depthBuffer:new li(null),resolution:new li(new Ie),texelSize:new li(new Ie),cameraNear:new li(.3),cameraFar:new li(1e3),aspect:new li(1),time:new li(0)},blending:io,toneMapped:!1,depthWrite:!1,depthTest:!1,dithering:r}),i&&this.setShaderParts(i),e&&this.setDefines(e),t&&this.setUniforms(t),this.copyCameraSettings(n)}set inputBuffer(i){this.uniforms.inputBuffer.value=i}setInputBuffer(i){this.uniforms.inputBuffer.value=i}get depthBuffer(){return this.uniforms.depthBuffer.value}set depthBuffer(i){this.uniforms.depthBuffer.value=i}get depthPacking(){return Number(this.defines.DEPTH_PACKING)}set depthPacking(i){this.defines.DEPTH_PACKING=i.toFixed(0),this.needsUpdate=!0}setDepthBuffer(i,e=Cf){this.depthBuffer=i,this.depthPacking=e}setShaderData(i){this.setShaderParts(i.shaderParts),this.setDefines(i.defines),this.setUniforms(i.uniforms),this.setExtensions(i.extensions)}setShaderParts(i){return this.fragmentShader=Zz.replace(Qn.FRAGMENT_HEAD,i.get(Qn.FRAGMENT_HEAD)||"").replace(Qn.FRAGMENT_MAIN_UV,i.get(Qn.FRAGMENT_MAIN_UV)||"").replace(Qn.FRAGMENT_MAIN_IMAGE,i.get(Qn.FRAGMENT_MAIN_IMAGE)||""),this.vertexShader=Qz.replace(Qn.VERTEX_HEAD,i.get(Qn.VERTEX_HEAD)||"").replace(Qn.VERTEX_MAIN_SUPPORT,i.get(Qn.VERTEX_MAIN_SUPPORT)||""),this.needsUpdate=!0,this}setDefines(i){for(const e of i.entries())this.defines[e[0]]=e[1];return this.needsUpdate=!0,this}setUniforms(i){for(const e of i.entries())this.uniforms[e[0]]=e[1];return this}setExtensions(i){this.extensions={};for(const e of i)this.extensions[e]=!0;return this}get encodeOutput(){return this.defines.ENCODE_OUTPUT!==void 0}set encodeOutput(i){this.encodeOutput!==i&&(i?this.defines.ENCODE_OUTPUT="1":delete this.defines.ENCODE_OUTPUT,this.needsUpdate=!0)}isOutputEncodingEnabled(i){return this.encodeOutput}setOutputEncodingEnabled(i){this.encodeOutput=i}get time(){return this.uniforms.time.value}set time(i){this.uniforms.time.value=i}setDeltaTime(i){this.uniforms.time.value+=i}adoptCameraSettings(i){this.copyCameraSettings(i)}copyCameraSettings(i){i&&(this.uniforms.cameraNear.value=i.near,this.uniforms.cameraFar.value=i.far,i instanceof Hr?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}setSize(i,e){const t=this.uniforms;t.resolution.value.set(i,e),t.texelSize.value.set(1/i,1/e),t.aspect.value=i/e}static get Section(){return Qn}};function f5(i,e,t){for(const n of e){const r="$1"+i+n.charAt(0).toUpperCase()+n.slice(1),a=new RegExp("([^\\.])(\\b"+n+"\\b)","g");for(const l of t.entries())l[1]!==null&&t.set(l[0],l[1].replace(a,r))}}function Jz(i,e,t){let n=e.getFragmentShader(),r=e.getVertexShader();const a=n!==void 0&&/mainImage/.test(n),l=n!==void 0&&/mainUv/.test(n);if(t.attributes|=e.getAttributes(),n===void 0)throw new Error(`Missing fragment shader (${e.name})`);if(l&&(t.attributes&Zh.CONVOLUTION)!==0)throw new Error(`Effects that transform UVs are incompatible with convolution effects (${e.name})`);if(!a&&!l)throw new Error(`Could not find mainImage or mainUv function (${e.name})`);{const u=/\w+\s+(\w+)\([\w\s,]*\)\s*{/g,d=t.shaderParts;let p=d.get(Qn.FRAGMENT_HEAD)||"",v=d.get(Qn.FRAGMENT_MAIN_UV)||"",_=d.get(Qn.FRAGMENT_MAIN_IMAGE)||"",y=d.get(Qn.VERTEX_HEAD)||"",x=d.get(Qn.VERTEX_MAIN_SUPPORT)||"";const M=new Set,E=new Set;if(l&&(v+=`	${i}MainUv(UV);
`,t.uvTransformation=!0),r!==null&&/mainSupport/.test(r)){const R=/mainSupport *\([\w\s]*?uv\s*?\)/.test(r);x+=`	${i}MainSupport(`,x+=R?`vUv);
`:`);
`;for(const D of r.matchAll(/(?:varying\s+\w+\s+([\S\s]*?);)/g))for(const N of D[1].split(/\s*,\s*/))t.varyings.add(N),M.add(N),E.add(N);for(const D of r.matchAll(u))E.add(D[1])}for(const R of n.matchAll(u))E.add(R[1]);for(const R of e.defines.keys())E.add(R.replace(/\([\w\s,]*\)/g,""));for(const R of e.uniforms.keys())E.add(R);E.delete("while"),E.delete("for"),E.delete("if"),e.uniforms.forEach((R,D)=>t.uniforms.set(i+D.charAt(0).toUpperCase()+D.slice(1),R)),e.defines.forEach((R,D)=>t.defines.set(i+D.charAt(0).toUpperCase()+D.slice(1),R));const A=new Map([["fragment",n],["vertex",r]]);f5(i,E,t.defines),f5(i,E,A),n=A.get("fragment"),r=A.get("vertex");const T=e.blendMode;if(t.blendModes.set(T.blendFunction,T),a){e.inputColorSpace!==null&&e.inputColorSpace!==t.colorSpace&&(_+=e.inputColorSpace===Bi?`color0 = sRGBTransferOETF(color0);
	`:`color0 = sRGBToLinear(color0);
	`),e.outputColorSpace!==pl?t.colorSpace=e.outputColorSpace:e.inputColorSpace!==null&&(t.colorSpace=e.inputColorSpace);const R=/MainImage *\([\w\s,]*?depth[\w\s,]*?\)/;_+=`${i}MainImage(color0, UV, `,(t.attributes&Zh.DEPTH)!==0&&R.test(n)&&(_+="depth, ",t.readDepth=!0),_+=`color1);
	`;const D=i+"BlendOpacity";t.uniforms.set(D,T.opacity),_+=`color0 = blend${T.blendFunction}(color0, color1, ${D});

	`,p+=`uniform float ${D};

`}if(p+=n+`
`,r!==null&&(y+=r+`
`),d.set(Qn.FRAGMENT_HEAD,p),d.set(Qn.FRAGMENT_MAIN_UV,v),d.set(Qn.FRAGMENT_MAIN_IMAGE,_),d.set(Qn.VERTEX_HEAD,y),d.set(Qn.VERTEX_MAIN_SUPPORT,x),e.extensions!==null)for(const R of e.extensions)t.extensions.add(R)}}var $z=class extends bl{constructor(i,...e){super("EffectPass"),this.fullscreenMaterial=new Kz(null,null,null,i),this.listener=t=>this.handleEvent(t),this.effects=[],this.setEffects(e),this.skipRendering=!1,this.minTime=1,this.maxTime=Number.POSITIVE_INFINITY,this.timeScale=1}set mainScene(i){for(const e of this.effects)e.mainScene=i}set mainCamera(i){this.fullscreenMaterial.copyCameraSettings(i);for(const e of this.effects)e.mainCamera=i}get encodeOutput(){return this.fullscreenMaterial.encodeOutput}set encodeOutput(i){this.fullscreenMaterial.encodeOutput=i}get dithering(){return this.fullscreenMaterial.dithering}set dithering(i){const e=this.fullscreenMaterial;e.dithering=i,e.needsUpdate=!0}setEffects(i){for(const e of this.effects)e.removeEventListener("change",this.listener);this.effects=i.sort((e,t)=>t.attributes-e.attributes);for(const e of this.effects)e.addEventListener("change",this.listener)}updateMaterial(){const i=new uz;let e=0;for(const l of this.effects)if(l.blendMode.blendFunction===Vn.DST)i.attributes|=l.getAttributes()&Zh.DEPTH;else{if((i.attributes&l.getAttributes()&Zh.CONVOLUTION)!==0)throw new Error(`Convolution effects cannot be merged (${l.name})`);Jz("e"+e++,l,i)}let t=i.shaderParts.get(Qn.FRAGMENT_HEAD),n=i.shaderParts.get(Qn.FRAGMENT_MAIN_IMAGE),r=i.shaderParts.get(Qn.FRAGMENT_MAIN_UV);const a=/\bblend\b/g;for(const l of i.blendModes.values())t+=l.getShaderCode().replace(a,`blend${l.blendFunction}`)+`
`;(i.attributes&Zh.DEPTH)!==0?(i.readDepth&&(n=`float depth = readDepth(UV);

	`+n),this.needsDepthTexture=this.getDepthTexture()===null):this.needsDepthTexture=!1,i.colorSpace===Bi&&(n+=`color0 = sRGBToLinear(color0);
	`),i.uvTransformation?(r=`vec2 transformedUv = vUv;
`+r,i.defines.set("UV","transformedUv")):i.defines.set("UV","vUv"),i.shaderParts.set(Qn.FRAGMENT_HEAD,t),i.shaderParts.set(Qn.FRAGMENT_MAIN_IMAGE,n),i.shaderParts.set(Qn.FRAGMENT_MAIN_UV,r);for(const[l,u]of i.shaderParts)u!==null&&i.shaderParts.set(l,u.trim().replace(/^#/,`
#`));this.skipRendering=e===0,this.needsSwap=!this.skipRendering,this.fullscreenMaterial.setShaderData(i)}recompile(){this.updateMaterial()}getDepthTexture(){return this.fullscreenMaterial.depthBuffer}setDepthTexture(i,e=Cf){this.fullscreenMaterial.depthBuffer=i,this.fullscreenMaterial.depthPacking=e;for(const t of this.effects)t.setDepthTexture(i,e)}render(i,e,t,n,r){for(const a of this.effects)a.update(i,e,n);if(!this.skipRendering||this.renderToScreen){const a=this.fullscreenMaterial;a.inputBuffer=e.texture,a.time+=n*this.timeScale,i.setRenderTarget(this.renderToScreen?null:t),i.render(this.scene,this.camera)}}setSize(i,e){this.fullscreenMaterial.setSize(i,e);for(const t of this.effects)t.setSize(i,e)}initialize(i,e,t){this.renderer=i;for(const n of this.effects)n.initialize(i,e,t);this.updateMaterial(),t!==void 0&&t!==Gr&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}dispose(){super.dispose();for(const i of this.effects)i.removeEventListener("change",this.listener),i.dispose()}handleEvent(i){i.type==="change"&&this.recompile()}},eB=class extends bl{constructor(i,e,{renderTarget:t,resolutionScale:n=1,width:r=c0.AUTO_SIZE,height:a=c0.AUTO_SIZE,resolutionX:l=r,resolutionY:u=a}={}){super("NormalPass"),this.needsSwap=!1,this.renderPass=new L6(i,e,new U4);const d=this.renderPass;d.ignoreBackground=!0,d.skipShadowMapUpdate=!0;const p=d.getClearPass();p.overrideClearColor=new Mt(7829503),p.overrideClearAlpha=1,this.renderTarget=t,this.renderTarget===void 0&&(this.renderTarget=new Xr(1,1,{minFilter:Fi,magFilter:Fi}),this.renderTarget.texture.name="NormalPass.Target");const v=this.resolution=new c0(this,l,u,n);v.addEventListener("change",_=>this.setSize(v.baseWidth,v.baseHeight))}set mainScene(i){this.renderPass.mainScene=i}set mainCamera(i){this.renderPass.mainCamera=i}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}getResolutionScale(){return this.resolution.scale}setResolutionScale(i){this.resolution.scale=i}render(i,e,t,n,r){const a=this.renderToScreen?null:this.renderTarget;this.renderPass.render(i,a,a)}setSize(i,e){const t=this.resolution;t.setBaseSize(i,e),this.renderTarget.setSize(t.width,t.height)}};function q1(i,e,t){return e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}new Ie;new Ie;function O6(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}var zo=function i(e,t,n){var r=this;O6(this,i),q1(this,"dot2",function(a,l){return r.x*a+r.y*l}),q1(this,"dot3",function(a,l,u){return r.x*a+r.y*l+r.z*u}),this.x=e,this.y=t,this.z=n},tB=[new zo(1,1,0),new zo(-1,1,0),new zo(1,-1,0),new zo(-1,-1,0),new zo(1,0,1),new zo(-1,0,1),new zo(1,0,-1),new zo(-1,0,-1),new zo(0,1,1),new zo(0,-1,1),new zo(0,1,-1),new zo(0,-1,-1)],h5=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],d5=new Array(512),p5=new Array(512),nB=function(e){e>0&&e<1&&(e*=65536),e=Math.floor(e),e<256&&(e|=e<<8);for(var t=0;t<256;t++){var n;t&1?n=h5[t]^e&255:n=h5[t]^e>>8&255,d5[t]=d5[t+256]=n,p5[t]=p5[t+256]=tB[n%12]}};nB(0);function iB(i){if(typeof i=="number")i=Math.abs(i);else if(typeof i=="string"){var e=i;i=0;for(var t=0;t<e.length;t++)i=(i+(t+1)*(e.charCodeAt(t)%96))%2147483647}return i===0&&(i=311),i}function m5(i){var e=iB(i);return function(){var t=e*48271%2147483647;return e=t,t/2147483647}}var rB=function i(e){var t=this;O6(this,i),q1(this,"seed",0),q1(this,"init",function(n){t.seed=n,t.value=m5(n)}),q1(this,"value",m5(this.seed)),this.init(e)};new rB(Math.random());const sB=gt.createContext(null),g5=i=>(i.getAttributes()&2)===2,aB=gt.memo(gt.forwardRef(({children:i,camera:e,scene:t,resolutionScale:n,enabled:r=!0,renderPriority:a=1,autoClear:l=!0,depthBuffer:u,enableNormalPass:d,stencilBuffer:p,multisampling:v=8,frameBufferType:_=_l},y)=>{const{gl:x,scene:M,camera:E,size:A}=Q4(),T=t||M,R=e||E,[D,N,U]=gt.useMemo(()=>{const k=new cz(x,{depthBuffer:u,stencilBuffer:p,multisampling:v,frameBufferType:_});k.addPass(new L6(T,R));let O=null,P=null;return d&&(P=new eB(T,R),P.enabled=!1,k.addPass(P),n!==void 0&&(O=new jz({normalBuffer:P.texture,resolutionScale:n}),O.enabled=!1,k.addPass(O))),[k,P,O]},[R,x,u,p,v,_,T,d,n]);gt.useEffect(()=>D?.setSize(A.width,A.height),[D,A]),S6((k,O)=>{if(r){const P=x.autoClear;x.autoClear=l,p&&!l&&x.clearStencil(),D.render(O),x.autoClear=P}},r?a:0);const I=gt.useRef(null);gt.useLayoutEffect(()=>{const k=[],O=I.current.__r3f;if(O&&D){const P=O.children;for(let W=0;W<P.length;W++){const Z=P[W].object;if(Z instanceof RM){const J=[Z];if(!g5(Z)){let se=null;for(;(se=P[W+1]?.object)instanceof RM&&!g5(se);)J.push(se),W++}const ee=new $z(R,...J);k.push(ee)}else Z instanceof bl&&k.push(Z)}for(const W of k)D?.addPass(W);N&&(N.enabled=!0),U&&(U.enabled=!0)}return()=>{for(const P of k)D?.removePass(P);N&&(N.enabled=!1),U&&(U.enabled=!1)}},[D,i,R,N,U]),gt.useEffect(()=>{const k=x.toneMapping;return x.toneMapping=ro,()=>{x.toneMapping=k}},[x]);const B=gt.useMemo(()=>({composer:D,normalPass:N,downSamplingPass:U,resolutionScale:n,camera:R,scene:T}),[D,N,U,n,R,T]);return gt.useImperativeHandle(y,()=>D,[D]),fe.jsx(sB.Provider,{value:B,children:fe.jsx("group",{ref:I,children:i})})}));let oB=0;const v5=new WeakMap,lB=(i,e)=>function({blendFunction:t=e?.blendFunction,opacity:n=e?.opacity,...r}){let a=v5.get(i);if(!a){const d=`@react-three/postprocessing/${i.name}-${oB++}`;T6({[d]:i}),v5.set(i,a=d)}const l=Q4(d=>d.camera),u=oc.useMemo(()=>[...e?.args??[],...r.args??[{...e,...r}]],[JSON.stringify(r)]);return fe.jsx(a,{camera:l,"blendMode-blendFunction":t,"blendMode-opacity-value":n,...r,args:u})},cB=`
precision highp float;
varying vec2 vUv;
void main() {
  vUv = uv;
  vec4 modelPosition = modelMatrix * vec4(position, 1.0);
  vec4 viewPosition = viewMatrix * modelPosition;
  gl_Position = projectionMatrix * viewPosition;
}
`,uB=`
precision highp float;
uniform vec2 resolution;
uniform float time;
uniform float waveSpeed;
uniform float waveFrequency;
uniform float waveAmplitude;
uniform vec3 waveColor;
uniform vec2 mousePos;
uniform int enableMouseInteraction;
uniform float mouseRadius;

vec4 mod289(vec4 x) { return x - floor(x * (1.0/289.0)) * 289.0; }
vec4 permute(vec4 x) { return mod289(((x * 34.0) + 1.0) * x); }
vec4 taylorInvSqrt(vec4 r) { return 1.79284291400159 - 0.85373472095314 * r; }
vec2 fade(vec2 t) { return t*t*t*(t*(t*6.0-15.0)+10.0); }

float cnoise(vec2 P) {
  vec4 Pi = floor(P.xyxy) + vec4(0.0,0.0,1.0,1.0);
  vec4 Pf = fract(P.xyxy) - vec4(0.0,0.0,1.0,1.0);
  Pi = mod289(Pi);
  vec4 ix = Pi.xzxz;
  vec4 iy = Pi.yyww;
  vec4 fx = Pf.xzxz;
  vec4 fy = Pf.yyww;
  vec4 i = permute(permute(ix) + iy);
  vec4 gx = fract(i * (1.0/41.0)) * 2.0 - 1.0;
  vec4 gy = abs(gx) - 0.5;
  vec4 tx = floor(gx + 0.5);
  gx = gx - tx;
  vec2 g00 = vec2(gx.x, gy.x);
  vec2 g10 = vec2(gx.y, gy.y);
  vec2 g01 = vec2(gx.z, gy.z);
  vec2 g11 = vec2(gx.w, gy.w);
  vec4 norm = taylorInvSqrt(vec4(dot(g00,g00), dot(g01,g01), dot(g10,g10), dot(g11,g11)));
  g00 *= norm.x; g01 *= norm.y; g10 *= norm.z; g11 *= norm.w;
  float n00 = dot(g00, vec2(fx.x, fy.x));
  float n10 = dot(g10, vec2(fx.y, fy.y));
  float n01 = dot(g01, vec2(fx.z, fy.z));
  float n11 = dot(g11, vec2(fx.w, fy.w));
  vec2 fade_xy = fade(Pf.xy);
  vec2 n_x = mix(vec2(n00, n01), vec2(n10, n11), fade_xy.x);
  return 2.3 * mix(n_x.x, n_x.y, fade_xy.y);
}

const int OCTAVES = 4;
float fbm(vec2 p) {
  float value = 0.0;
  float amp = 1.0;
  float freq = waveFrequency;
  for (int i = 0; i < OCTAVES; i++) {
    value += amp * abs(cnoise(p));
    p *= freq;
    amp *= waveAmplitude;
  }
  return value;
}

float pattern(vec2 p) {
  vec2 p2 = p - time * waveSpeed;
  return fbm(p + fbm(p2)); 
}

void main() {
  vec2 uv = gl_FragCoord.xy / resolution.xy;
  uv -= 0.5;
  uv.x *= resolution.x / resolution.y;
  float f = pattern(uv);
  if (enableMouseInteraction == 1) {
    vec2 mouseNDC = (mousePos / resolution - 0.5) * vec2(1.0, -1.0);
    mouseNDC.x *= resolution.x / resolution.y;
    float dist = length(uv - mouseNDC);
    float effect = 1.0 - smoothstep(0.0, mouseRadius, dist);
    f -= 0.5 * effect;
  }
  vec3 col = mix(vec3(0.0), waveColor, f);
  gl_FragColor = vec4(col, 1.0);
}
`,fB=`
precision highp float;
uniform float colorNum;
uniform float pixelSize;
const float bayerMatrix8x8[64] = float[64](
  0.0/64.0, 48.0/64.0, 12.0/64.0, 60.0/64.0,  3.0/64.0, 51.0/64.0, 15.0/64.0, 63.0/64.0,
  32.0/64.0,16.0/64.0, 44.0/64.0, 28.0/64.0, 35.0/64.0,19.0/64.0, 47.0/64.0, 31.0/64.0,
  8.0/64.0, 56.0/64.0,  4.0/64.0, 52.0/64.0, 11.0/64.0,59.0/64.0,  7.0/64.0, 55.0/64.0,
  40.0/64.0,24.0/64.0, 36.0/64.0, 20.0/64.0, 43.0/64.0,27.0/64.0, 39.0/64.0, 23.0/64.0,
  2.0/64.0, 50.0/64.0, 14.0/64.0, 62.0/64.0,  1.0/64.0,49.0/64.0, 13.0/64.0, 61.0/64.0,
  34.0/64.0,18.0/64.0, 46.0/64.0, 30.0/64.0, 33.0/64.0,17.0/64.0, 45.0/64.0, 29.0/64.0,
  10.0/64.0,58.0/64.0,  6.0/64.0, 54.0/64.0,  9.0/64.0,57.0/64.0,  5.0/64.0, 53.0/64.0,
  42.0/64.0,26.0/64.0, 38.0/64.0, 22.0/64.0, 41.0/64.0,25.0/64.0, 37.0/64.0, 21.0/64.0
);

vec3 dither(vec2 uv, vec3 color) {
  vec2 scaledCoord = floor(uv * resolution / pixelSize);
  int x = int(mod(scaledCoord.x, 8.0));
  int y = int(mod(scaledCoord.y, 8.0));
  float threshold = bayerMatrix8x8[y * 8 + x] - 0.25;
  float step = 1.0 / (colorNum - 1.0);
  color += threshold * step;
  float bias = 0.2;
  color = clamp(color - bias, 0.0, 1.0);
  return floor(color * (colorNum - 1.0) + 0.5) / (colorNum - 1.0);
}

void mainImage(in vec4 inputColor, in vec2 uv, out vec4 outputColor) {
  vec2 normalizedPixelSize = pixelSize / resolution;
  vec2 uvPixel = normalizedPixelSize * floor(uv / normalizedPixelSize);
  vec4 color = texture2D(inputBuffer, uvPixel);
  color.rgb = dither(uv, color.rgb);
  outputColor = color;
}
`;class hB extends RM{constructor(){const e=new Map([["colorNum",new li(4)],["pixelSize",new li(2)]]);super("RetroEffect",fB,{uniforms:e}),this.uniforms=e}set colorNum(e){this.uniforms.get("colorNum").value=e}get colorNum(){return this.uniforms.get("colorNum").value}set pixelSize(e){this.uniforms.get("pixelSize").value=e}get pixelSize(){return this.uniforms.get("pixelSize").value}}const dB=lB(hB),U6=gt.forwardRef((i,e)=>fe.jsx(dB,{ref:e,...i}));U6.displayName="RetroEffect";function pB({waveSpeed:i,waveFrequency:e,waveAmplitude:t,waveColor:n,colorNum:r,pixelSize:a,disableAnimation:l,enableMouseInteraction:u,mouseRadius:d}){const p=gt.useRef(null),v=gt.useRef(new Ie),{viewport:_,size:y,gl:x}=Q4(),M=gt.useRef({time:new li(0),resolution:new li(new Ie(0,0)),waveSpeed:new li(i),waveFrequency:new li(e),waveAmplitude:new li(t),waveColor:new li(new Mt(...n)),mousePos:new li(new Ie(0,0)),enableMouseInteraction:new li(u?1:0),mouseRadius:new li(d)});gt.useEffect(()=>{const T=x.getPixelRatio(),R=Math.floor(y.width*T),D=Math.floor(y.height*T),N=M.current.resolution.value;(N.x!==R||N.y!==D)&&N.set(R,D)},[y,x]);const E=gt.useRef([...n]);S6(({clock:T})=>{const R=M.current;l||(R.time.value=T.getElapsedTime()),R.waveSpeed.value!==i&&(R.waveSpeed.value=i),R.waveFrequency.value!==e&&(R.waveFrequency.value=e),R.waveAmplitude.value!==t&&(R.waveAmplitude.value=t),E.current.every((D,N)=>D===n[N])||(R.waveColor.value.set(...n),E.current=[...n]),R.enableMouseInteraction.value=u?1:0,R.mouseRadius.value=d,u&&R.mousePos.value.copy(v.current)});const A=T=>{if(!u)return;const R=x.domElement.getBoundingClientRect(),D=x.getPixelRatio(),N=(T.clientX-R.left)*D,U=(T.clientY-R.top)*D;v.current.set(N,U)};return fe.jsxs(fe.Fragment,{children:[fe.jsxs("mesh",{ref:p,scale:[_.width,_.height,1],children:[fe.jsx("planeGeometry",{args:[1,1]}),fe.jsx("shaderMaterial",{vertexShader:cB,fragmentShader:uB,uniforms:M.current})]}),fe.jsx(aB,{children:fe.jsx(U6,{colorNum:r,pixelSize:a})}),fe.jsxs("mesh",{onPointerMove:A,position:[0,0,.01],scale:[_.width,_.height,1],visible:!0,children:[fe.jsx("planeGeometry",{args:[1,1]}),fe.jsx("meshBasicMaterial",{transparent:!0,opacity:0})]})]})}function mB({waveSpeed:i=.05,waveFrequency:e=3,waveAmplitude:t=.3,waveColor:n=[.5,.5,.5],colorNum:r=4,pixelSize:a=2,disableAnimation:l=!1,enableMouseInteraction:u=!0,mouseRadius:d=1}){return fe.jsx($I,{className:"w-full h-full relative",camera:{position:[0,0,6]},dpr:1,gl:{antialias:!0,preserveDrawingBuffer:!0},children:fe.jsx(pB,{waveSpeed:i,waveFrequency:e,waveAmplitude:t,waveColor:n,colorNum:r,pixelSize:a,disableAnimation:l,enableMouseInteraction:u,mouseRadius:d})})}function Kc(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function P6(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i,i.__proto__=e}var ao={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},E0={duration:.5,overwrite:!1,delay:0},J4,gs,Xi,Vo=1e8,Ti=1/Vo,DM=Math.PI*2,gB=DM/4,vB=0,I6=Math.sqrt,_B=Math.cos,xB=Math.sin,ts=function(e){return typeof e=="string"},fr=function(e){return typeof e=="function"},au=function(e){return typeof e=="number"},$4=function(e){return typeof e>"u"},dc=function(e){return typeof e=="object"},Ua=function(e){return e!==!1},eT=function(){return typeof window<"u"},Tx=function(e){return fr(e)||ts(e)},z6=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},Bs=Array.isArray,yB=/random\([^)]+\)/g,bB=/,\s*/g,_5=/(?:-?\.?\d|\.)+/gi,B6=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,r0=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,IS=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,F6=/[+-]=-?[.\d]+/,SB=/[^,'"\[\]\s]+/gi,MB=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,tr,$l,NM,tT,lo={},qy={},k6,V6=function(e){return(qy=A0(e,lo))&&Ba},nT=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},wg=function(e,t){return!t&&console.warn(e)},H6=function(e,t){return e&&(lo[e]=t)&&qy&&(qy[e]=t)||lo},Cg=function(){return 0},TB={suppressEvents:!0,isStart:!0,kill:!1},Hx={suppressEvents:!0,kill:!1},EB={suppressEvents:!0},iT={},_f=[],LM={},G6,Qa={},zS={},x5=30,Gx=[],rT="",sT=function(e){var t=e[0],n,r;if(dc(t)||fr(t)||(e=[e]),!(n=(t._gsap||{}).harness)){for(r=Gx.length;r--&&!Gx[r].targetTest(t););n=Gx[r]}for(r=e.length;r--;)e[r]&&(e[r]._gsap||(e[r]._gsap=new dC(e[r],n)))||e.splice(r,1);return e},Qh=function(e){return e._gsap||sT(Ho(e))[0]._gsap},W6=function(e,t,n){return(n=e[t])&&fr(n)?e[t]():$4(n)&&e.getAttribute&&e.getAttribute(t)||n},Pa=function(e,t){return(e=e.split(",")).forEach(t)||e},xr=function(e){return Math.round(e*1e5)/1e5||0},er=function(e){return Math.round(e*1e7)/1e7||0},u0=function(e,t){var n=t.charAt(0),r=parseFloat(t.substr(2));return e=parseFloat(e),n==="+"?e+r:n==="-"?e-r:n==="*"?e*r:e/r},AB=function(e,t){for(var n=t.length,r=0;e.indexOf(t[r])<0&&++r<n;);return r<n},Yy=function(){var e=_f.length,t=_f.slice(0),n,r;for(LM={},_f.length=0,n=0;n<e;n++)r=t[n],r&&r._lazy&&(r.render(r._lazy[0],r._lazy[1],!0)._lazy=0)},aT=function(e){return!!(e._initted||e._startAt||e.add)},X6=function(e,t,n,r){_f.length&&!gs&&Yy(),e.render(t,n,!!(gs&&t<0&&aT(e))),_f.length&&!gs&&Yy()},q6=function(e){var t=parseFloat(e);return(t||t===0)&&(e+"").match(SB).length<2?t:ts(e)?e.trim():e},Y6=function(e){return e},co=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},wB=function(e){return function(t,n){for(var r in n)r in t||r==="duration"&&e||r==="ease"||(t[r]=n[r])}},A0=function(e,t){for(var n in t)e[n]=t[n];return e},y5=function i(e,t){for(var n in t)n!=="__proto__"&&n!=="constructor"&&n!=="prototype"&&(e[n]=dc(t[n])?i(e[n]||(e[n]={}),t[n]):t[n]);return e},jy=function(e,t){var n={},r;for(r in e)r in t||(n[r]=e[r]);return n},Y1=function(e){var t=e.parent||tr,n=e.keyframes?wB(Bs(e.keyframes)):co;if(Ua(e.inherit))for(;t;)n(e,t.vars.defaults),t=t.parent||t._dp;return e},CB=function(e,t){for(var n=e.length,r=n===t.length;r&&n--&&e[n]===t[n];);return n<0},j6=function(e,t,n,r,a){var l=e[r],u;if(a)for(u=t[a];l&&l[a]>u;)l=l._prev;return l?(t._next=l._next,l._next=t):(t._next=e[n],e[n]=t),t._next?t._next._prev=t:e[r]=t,t._prev=l,t.parent=t._dp=e,t},G3=function(e,t,n,r){n===void 0&&(n="_first"),r===void 0&&(r="_last");var a=t._prev,l=t._next;a?a._next=l:e[n]===t&&(e[n]=l),l?l._prev=a:e[r]===t&&(e[r]=a),t._next=t._prev=t.parent=null},Tf=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},Kh=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var n=e;n;)n._dirty=1,n=n.parent;return e},RB=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},OM=function(e,t,n,r){return e._startAt&&(gs?e._startAt.revert(Hx):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,r))},DB=function i(e){return!e||e._ts&&i(e.parent)},b5=function(e){return e._repeat?w0(e._tTime,e=e.duration()+e._rDelay)*e:0},w0=function(e,t){var n=Math.floor(e=er(e/t));return e&&n===e?n-1:n},Zy=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},W3=function(e){return e._end=er(e._start+(e._tDur/Math.abs(e._ts||e._rts||Ti)||0))},X3=function(e,t){var n=e._dp;return n&&n.smoothChildTiming&&e._ts&&(e._start=er(n._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),W3(e),n._dirty||Kh(n,e)),e},Z6=function(e,t){var n;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(n=Zy(e.rawTime(),t),(!t._dur||jg(0,t.totalDuration(),n)-t._tTime>Ti)&&t.render(n,!0)),Kh(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(n=e;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;e._zTime=-Ti}},tc=function(e,t,n,r){return t.parent&&Tf(t),t._start=er((au(n)?n:n||e!==tr?Bo(e,n,t):e._time)+t._delay),t._end=er(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),j6(e,t,"_first","_last",e._sort?"_start":0),UM(t)||(e._recent=t),r||Z6(e,t),e._ts<0&&X3(e,e._tTime),e},Q6=function(e,t){return(lo.ScrollTrigger||nT("scrollTrigger",t))&&lo.ScrollTrigger.create(t,e)},K6=function(e,t,n,r,a){if(lT(e,t,a),!e._initted)return 1;if(!n&&e._pt&&!gs&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&G6!==Ja.frame)return _f.push(e),e._lazy=[a,r],1},NB=function i(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||i(t))},UM=function(e){var t=e.data;return t==="isFromStart"||t==="isStart"},LB=function(e,t,n,r){var a=e.ratio,l=t<0||!t&&(!e._start&&NB(e)&&!(!e._initted&&UM(e))||(e._ts<0||e._dp._ts<0)&&!UM(e))?0:1,u=e._rDelay,d=0,p,v,_;if(u&&e._repeat&&(d=jg(0,e._tDur,t),v=w0(d,u),e._yoyo&&v&1&&(l=1-l),v!==w0(e._tTime,u)&&(a=1-l,e.vars.repeatRefresh&&e._initted&&e.invalidate())),l!==a||gs||r||e._zTime===Ti||!t&&e._zTime){if(!e._initted&&K6(e,t,r,n,d))return;for(_=e._zTime,e._zTime=t||(n?Ti:0),n||(n=t&&!_),e.ratio=l,e._from&&(l=1-l),e._time=0,e._tTime=d,p=e._pt;p;)p.r(l,p.d),p=p._next;t<0&&OM(e,t,n,!0),e._onUpdate&&!n&&to(e,"onUpdate"),d&&e._repeat&&!n&&e.parent&&to(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===l&&(l&&Tf(e,1),!n&&!gs&&(to(e,l?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)},OB=function(e,t,n){var r;if(n>t)for(r=e._first;r&&r._start<=n;){if(r.data==="isPause"&&r._start>t)return r;r=r._next}else for(r=e._last;r&&r._start>=n;){if(r.data==="isPause"&&r._start<t)return r;r=r._prev}},C0=function(e,t,n,r){var a=e._repeat,l=er(t)||0,u=e._tTime/e._tDur;return u&&!r&&(e._time*=l/e._dur),e._dur=l,e._tDur=a?a<0?1e10:er(l*(a+1)+e._rDelay*a):l,u>0&&!r&&X3(e,e._tTime=e._tDur*u),e.parent&&W3(e),n||Kh(e.parent,e),e},S5=function(e){return e instanceof sa?Kh(e):C0(e,e._dur)},UB={_start:0,endTime:Cg,totalDuration:Cg},Bo=function i(e,t,n){var r=e.labels,a=e._recent||UB,l=e.duration()>=Vo?a.endTime(!1):e._dur,u,d,p;return ts(t)&&(isNaN(t)||t in r)?(d=t.charAt(0),p=t.substr(-1)==="%",u=t.indexOf("="),d==="<"||d===">"?(u>=0&&(t=t.replace(/=/,"")),(d==="<"?a._start:a.endTime(a._repeat>=0))+(parseFloat(t.substr(1))||0)*(p?(u<0?a:n).totalDuration()/100:1)):u<0?(t in r||(r[t]=l),r[t]):(d=parseFloat(t.charAt(u-1)+t.substr(u+1)),p&&n&&(d=d/100*(Bs(n)?n[0]:n).totalDuration()),u>1?i(e,t.substr(0,u-1),n)+d:l+d)):t==null?l:+t},j1=function(e,t,n){var r=au(t[1]),a=(r?2:1)+(e<2?0:1),l=t[a],u,d;if(r&&(l.duration=t[1]),l.parent=n,e){for(u=l,d=n;d&&!("immediateRender"in u);)u=d.vars.defaults||{},d=Ua(d.vars.inherit)&&d.parent;l.immediateRender=Ua(u.immediateRender),e<2?l.runBackwards=1:l.startAt=t[a-1]}return new Or(t[0],l,t[a+1])},Of=function(e,t){return e||e===0?t(e):t},jg=function(e,t,n){return n<e?e:n>t?t:n},Os=function(e,t){return!ts(e)||!(t=MB.exec(e))?"":t[1]},PB=function(e,t,n){return Of(n,function(r){return jg(e,t,r)})},PM=[].slice,J6=function(e,t){return e&&dc(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&dc(e[0]))&&!e.nodeType&&e!==$l},IB=function(e,t,n){return n===void 0&&(n=[]),e.forEach(function(r){var a;return ts(r)&&!t||J6(r,1)?(a=n).push.apply(a,Ho(r)):n.push(r)})||n},Ho=function(e,t,n){return Xi&&!t&&Xi.selector?Xi.selector(e):ts(e)&&!n&&(NM||!R0())?PM.call((t||tT).querySelectorAll(e),0):Bs(e)?IB(e,n):J6(e)?PM.call(e,0):e?[e]:[]},IM=function(e){return e=Ho(e)[0]||wg("Invalid scope")||{},function(t){var n=e.current||e.nativeElement||e;return Ho(t,n.querySelectorAll?n:n===e?wg("Invalid scope")||tT.createElement("div"):e)}},$6=function(e){return e.sort(function(){return .5-Math.random()})},eC=function(e){if(fr(e))return e;var t=dc(e)?e:{each:e},n=Jh(t.ease),r=t.from||0,a=parseFloat(t.base)||0,l={},u=r>0&&r<1,d=isNaN(r)||u,p=t.axis,v=r,_=r;return ts(r)?v=_={center:.5,edges:.5,end:1}[r]||0:!u&&d&&(v=r[0],_=r[1]),function(y,x,M){var E=(M||t).length,A=l[E],T,R,D,N,U,I,B,k,O;if(!A){if(O=t.grid==="auto"?0:(t.grid||[1,Vo])[1],!O){for(B=-Vo;B<(B=M[O++].getBoundingClientRect().left)&&O<E;);O<E&&O--}for(A=l[E]=[],T=d?Math.min(O,E)*v-.5:r%O,R=O===Vo?0:d?E*_/O-.5:r/O|0,B=0,k=Vo,I=0;I<E;I++)D=I%O-T,N=R-(I/O|0),A[I]=U=p?Math.abs(p==="y"?N:D):I6(D*D+N*N),U>B&&(B=U),U<k&&(k=U);r==="random"&&$6(A),A.max=B-k,A.min=k,A.v=E=(parseFloat(t.amount)||parseFloat(t.each)*(O>E?E-1:p?p==="y"?E/O:O:Math.max(O,E/O))||0)*(r==="edges"?-1:1),A.b=E<0?a-E:a,A.u=Os(t.amount||t.each)||0,n=n&&E<0?uC(n):n}return E=(A[y]-A.min)/A.max||0,er(A.b+(n?n(E):E)*A.v)+A.u}},zM=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(n){var r=er(Math.round(parseFloat(n)/e)*e*t);return(r-r%1)/t+(au(n)?0:Os(n))}},tC=function(e,t){var n=Bs(e),r,a;return!n&&dc(e)&&(r=n=e.radius||Vo,e.values?(e=Ho(e.values),(a=!au(e[0]))&&(r*=r)):e=zM(e.increment)),Of(t,n?fr(e)?function(l){return a=e(l),Math.abs(a-l)<=r?a:l}:function(l){for(var u=parseFloat(a?l.x:l),d=parseFloat(a?l.y:0),p=Vo,v=0,_=e.length,y,x;_--;)a?(y=e[_].x-u,x=e[_].y-d,y=y*y+x*x):y=Math.abs(e[_]-u),y<p&&(p=y,v=_);return v=!r||p<=r?e[v]:l,a||v===l||au(l)?v:v+Os(l)}:zM(e))},nC=function(e,t,n,r){return Of(Bs(e)?!t:n===!0?!!(n=0):!r,function(){return Bs(e)?e[~~(Math.random()*e.length)]:(n=n||1e-5)&&(r=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((e-n/2+Math.random()*(t-e+n*.99))/n)*n*r)/r})},zB=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return t.reduce(function(a,l){return l(a)},r)}},BB=function(e,t){return function(n){return e(parseFloat(n))+(t||Os(n))}},FB=function(e,t,n){return rC(e,t,0,1,n)},iC=function(e,t,n){return Of(n,function(r){return e[~~t(r)]})},kB=function i(e,t,n){var r=t-e;return Bs(e)?iC(e,i(0,e.length),t):Of(n,function(a){return(r+(a-e)%r)%r+e})},VB=function i(e,t,n){var r=t-e,a=r*2;return Bs(e)?iC(e,i(0,e.length-1),t):Of(n,function(l){return l=(a+(l-e)%a)%a||0,e+(l>r?a-l:l)})},Rg=function(e){return e.replace(yB,function(t){var n=t.indexOf("[")+1,r=t.substring(n||7,n?t.indexOf("]"):t.length-1).split(bB);return nC(n?r:+r[0],n?0:+r[1],+r[2]||1e-5)})},rC=function(e,t,n,r,a){var l=t-e,u=r-n;return Of(a,function(d){return n+((d-e)/l*u||0)})},HB=function i(e,t,n,r){var a=isNaN(e+t)?0:function(x){return(1-x)*e+x*t};if(!a){var l=ts(e),u={},d,p,v,_,y;if(n===!0&&(r=1)&&(n=null),l)e={p:e},t={p:t};else if(Bs(e)&&!Bs(t)){for(v=[],_=e.length,y=_-2,p=1;p<_;p++)v.push(i(e[p-1],e[p]));_--,a=function(M){M*=_;var E=Math.min(y,~~M);return v[E](M-E)},n=t}else r||(e=A0(Bs(e)?[]:{},e));if(!v){for(d in t)oT.call(u,e,d,"get",t[d]);a=function(M){return fT(M,u)||(l?e.p:e)}}}return Of(n,a)},M5=function(e,t,n){var r=e.labels,a=Vo,l,u,d;for(l in r)u=r[l]-t,u<0==!!n&&u&&a>(u=Math.abs(u))&&(d=l,a=u);return d},to=function(e,t,n){var r=e.vars,a=r[t],l=Xi,u=e._ctx,d,p,v;if(a)return d=r[t+"Params"],p=r.callbackScope||e,n&&_f.length&&Yy(),u&&(Xi=u),v=d?a.apply(p,d):a.call(p),Xi=l,v},R1=function(e){return Tf(e),e.scrollTrigger&&e.scrollTrigger.kill(!!gs),e.progress()<1&&to(e,"onInterrupt"),e},s0,sC=[],aC=function(e){if(e)if(e=!e.name&&e.default||e,eT()||e.headless){var t=e.name,n=fr(e),r=t&&!n&&e.init?function(){this._props=[]}:e,a={init:Cg,render:fT,add:oT,kill:rF,modifier:iF,rawVars:0},l={targetTest:0,get:0,getSetter:uT,aliases:{},register:0};if(R0(),e!==r){if(Qa[t])return;co(r,co(jy(e,a),l)),A0(r.prototype,A0(a,jy(e,l))),Qa[r.prop=t]=r,e.targetTest&&(Gx.push(r),iT[t]=1),t=(t==="css"?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}H6(t,r),e.register&&e.register(Ba,r,Ia)}else sC.push(e)},Mi=255,D1={aqua:[0,Mi,Mi],lime:[0,Mi,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Mi],navy:[0,0,128],white:[Mi,Mi,Mi],olive:[128,128,0],yellow:[Mi,Mi,0],orange:[Mi,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Mi,0,0],pink:[Mi,192,203],cyan:[0,Mi,Mi],transparent:[Mi,Mi,Mi,0]},BS=function(e,t,n){return e+=e<0?1:e>1?-1:0,(e*6<1?t+(n-t)*e*6:e<.5?n:e*3<2?t+(n-t)*(2/3-e)*6:t)*Mi+.5|0},oC=function(e,t,n){var r=e?au(e)?[e>>16,e>>8&Mi,e&Mi]:0:D1.black,a,l,u,d,p,v,_,y,x,M;if(!r){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),D1[e])r=D1[e];else if(e.charAt(0)==="#"){if(e.length<6&&(a=e.charAt(1),l=e.charAt(2),u=e.charAt(3),e="#"+a+a+l+l+u+u+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return r=parseInt(e.substr(1,6),16),[r>>16,r>>8&Mi,r&Mi,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),r=[e>>16,e>>8&Mi,e&Mi]}else if(e.substr(0,3)==="hsl"){if(r=M=e.match(_5),!t)d=+r[0]%360/360,p=+r[1]/100,v=+r[2]/100,l=v<=.5?v*(p+1):v+p-v*p,a=v*2-l,r.length>3&&(r[3]*=1),r[0]=BS(d+1/3,a,l),r[1]=BS(d,a,l),r[2]=BS(d-1/3,a,l);else if(~e.indexOf("="))return r=e.match(B6),n&&r.length<4&&(r[3]=1),r}else r=e.match(_5)||D1.transparent;r=r.map(Number)}return t&&!M&&(a=r[0]/Mi,l=r[1]/Mi,u=r[2]/Mi,_=Math.max(a,l,u),y=Math.min(a,l,u),v=(_+y)/2,_===y?d=p=0:(x=_-y,p=v>.5?x/(2-_-y):x/(_+y),d=_===a?(l-u)/x+(l<u?6:0):_===l?(u-a)/x+2:(a-l)/x+4,d*=60),r[0]=~~(d+.5),r[1]=~~(p*100+.5),r[2]=~~(v*100+.5)),n&&r.length<4&&(r[3]=1),r},lC=function(e){var t=[],n=[],r=-1;return e.split(xf).forEach(function(a){var l=a.match(r0)||[];t.push.apply(t,l),n.push(r+=l.length+1)}),t.c=n,t},T5=function(e,t,n){var r="",a=(e+r).match(xf),l=t?"hsla(":"rgba(",u=0,d,p,v,_;if(!a)return e;if(a=a.map(function(y){return(y=oC(y,t,1))&&l+(t?y[0]+","+y[1]+"%,"+y[2]+"%,"+y[3]:y.join(","))+")"}),n&&(v=lC(e),d=n.c,d.join(r)!==v.c.join(r)))for(p=e.replace(xf,"1").split(r0),_=p.length-1;u<_;u++)r+=p[u]+(~d.indexOf(u)?a.shift()||l+"0,0,0,0)":(v.length?v:a.length?a:n).shift());if(!p)for(p=e.split(xf),_=p.length-1;u<_;u++)r+=p[u]+a[u];return r+p[_]},xf=(function(){var i="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in D1)i+="|"+e+"\\b";return new RegExp(i+")","gi")})(),GB=/hsl[a]?\(/,cC=function(e){var t=e.join(" "),n;if(xf.lastIndex=0,xf.test(t))return n=GB.test(t),e[1]=T5(e[1],n),e[0]=T5(e[0],n,lC(e[1])),!0},Dg,Ja=(function(){var i=Date.now,e=500,t=33,n=i(),r=n,a=1e3/240,l=a,u=[],d,p,v,_,y,x,M=function E(A){var T=i()-r,R=A===!0,D,N,U,I;if((T>e||T<0)&&(n+=T-t),r+=T,U=r-n,D=U-l,(D>0||R)&&(I=++_.frame,y=U-_.time*1e3,_.time=U=U/1e3,l+=D+(D>=a?4:a-D),N=1),R||(d=p(E)),N)for(x=0;x<u.length;x++)u[x](U,y,I,A)};return _={time:0,frame:0,tick:function(){M(!0)},deltaRatio:function(A){return y/(1e3/(A||60))},wake:function(){k6&&(!NM&&eT()&&($l=NM=window,tT=$l.document||{},lo.gsap=Ba,($l.gsapVersions||($l.gsapVersions=[])).push(Ba.version),V6(qy||$l.GreenSockGlobals||!$l.gsap&&$l||{}),sC.forEach(aC)),v=typeof requestAnimationFrame<"u"&&requestAnimationFrame,d&&_.sleep(),p=v||function(A){return setTimeout(A,l-_.time*1e3+1|0)},Dg=1,M(2))},sleep:function(){(v?cancelAnimationFrame:clearTimeout)(d),Dg=0,p=Cg},lagSmoothing:function(A,T){e=A||1/0,t=Math.min(T||33,e)},fps:function(A){a=1e3/(A||240),l=_.time*1e3+a},add:function(A,T,R){var D=T?function(N,U,I,B){A(N,U,I,B),_.remove(D)}:A;return _.remove(A),u[R?"unshift":"push"](D),R0(),D},remove:function(A,T){~(T=u.indexOf(A))&&u.splice(T,1)&&x>=T&&x--},_listeners:u},_})(),R0=function(){return!Dg&&Ja.wake()},Hn={},WB=/^[\d.\-M][\d.\-,\s]/,XB=/["']/g,qB=function(e){for(var t={},n=e.substr(1,e.length-3).split(":"),r=n[0],a=1,l=n.length,u,d,p;a<l;a++)d=n[a],u=a!==l-1?d.lastIndexOf(","):d.length,p=d.substr(0,u),t[r]=isNaN(p)?p.replace(XB,"").trim():+p,r=d.substr(u+1).trim();return t},YB=function(e){var t=e.indexOf("(")+1,n=e.indexOf(")"),r=e.indexOf("(",t);return e.substring(t,~r&&r<n?e.indexOf(")",n+1):n)},jB=function(e){var t=(e+"").split("("),n=Hn[t[0]];return n&&t.length>1&&n.config?n.config.apply(null,~e.indexOf("{")?[qB(t[1])]:YB(e).split(",").map(q6)):Hn._CE&&WB.test(e)?Hn._CE("",e):n},uC=function(e){return function(t){return 1-e(1-t)}},fC=function i(e,t){for(var n=e._first,r;n;)n instanceof sa?i(n,t):n.vars.yoyoEase&&(!n._yoyo||!n._repeat)&&n._yoyo!==t&&(n.timeline?i(n.timeline,t):(r=n._ease,n._ease=n._yEase,n._yEase=r,n._yoyo=t)),n=n._next},Jh=function(e,t){return e&&(fr(e)?e:Hn[e]||jB(e))||t},vd=function(e,t,n,r){n===void 0&&(n=function(d){return 1-t(1-d)}),r===void 0&&(r=function(d){return d<.5?t(d*2)/2:1-t((1-d)*2)/2});var a={easeIn:t,easeOut:n,easeInOut:r},l;return Pa(e,function(u){Hn[u]=lo[u]=a,Hn[l=u.toLowerCase()]=n;for(var d in a)Hn[l+(d==="easeIn"?".in":d==="easeOut"?".out":".inOut")]=Hn[u+"."+d]=a[d]}),a},hC=function(e){return function(t){return t<.5?(1-e(1-t*2))/2:.5+e((t-.5)*2)/2}},FS=function i(e,t,n){var r=t>=1?t:1,a=(n||(e?.3:.45))/(t<1?t:1),l=a/DM*(Math.asin(1/r)||0),u=function(v){return v===1?1:r*Math.pow(2,-10*v)*xB((v-l)*a)+1},d=e==="out"?u:e==="in"?function(p){return 1-u(1-p)}:hC(u);return a=DM/a,d.config=function(p,v){return i(e,p,v)},d},kS=function i(e,t){t===void 0&&(t=1.70158);var n=function(l){return l?--l*l*((t+1)*l+t)+1:0},r=e==="out"?n:e==="in"?function(a){return 1-n(1-a)}:hC(n);return r.config=function(a){return i(e,a)},r};Pa("Linear,Quad,Cubic,Quart,Quint,Strong",function(i,e){var t=e<5?e+1:e;vd(i+",Power"+(t-1),e?function(n){return Math.pow(n,t)}:function(n){return n},function(n){return 1-Math.pow(1-n,t)},function(n){return n<.5?Math.pow(n*2,t)/2:1-Math.pow((1-n)*2,t)/2})});Hn.Linear.easeNone=Hn.none=Hn.Linear.easeIn;vd("Elastic",FS("in"),FS("out"),FS());(function(i,e){var t=1/e,n=2*t,r=2.5*t,a=function(u){return u<t?i*u*u:u<n?i*Math.pow(u-1.5/e,2)+.75:u<r?i*(u-=2.25/e)*u+.9375:i*Math.pow(u-2.625/e,2)+.984375};vd("Bounce",function(l){return 1-a(1-l)},a)})(7.5625,2.75);vd("Expo",function(i){return Math.pow(2,10*(i-1))*i+i*i*i*i*i*i*(1-i)});vd("Circ",function(i){return-(I6(1-i*i)-1)});vd("Sine",function(i){return i===1?1:-_B(i*gB)+1});vd("Back",kS("in"),kS("out"),kS());Hn.SteppedEase=Hn.steps=lo.SteppedEase={config:function(e,t){e===void 0&&(e=1);var n=1/e,r=e+(t?0:1),a=t?1:0,l=1-Ti;return function(u){return((r*jg(0,l,u)|0)+a)*n}}};E0.ease=Hn["quad.out"];Pa("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(i){return rT+=i+","+i+"Params,"});var dC=function(e,t){this.id=vB++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:W6,this.set=t?t.getSetter:uT},Ng=(function(){function i(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,C0(this,+t.duration,1,1),this.data=t.data,Xi&&(this._ctx=Xi,Xi.data.push(this)),Dg||Ja.wake()}var e=i.prototype;return e.delay=function(n){return n||n===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+n-this._delay),this._delay=n,this):this._delay},e.duration=function(n){return arguments.length?this.totalDuration(this._repeat>0?n+(n+this._rDelay)*this._repeat:n):this.totalDuration()&&this._dur},e.totalDuration=function(n){return arguments.length?(this._dirty=0,C0(this,this._repeat<0?n:(n-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(n,r){if(R0(),!arguments.length)return this._tTime;var a=this._dp;if(a&&a.smoothChildTiming&&this._ts){for(X3(this,n),!a._dp||a.parent||Z6(a,this);a&&a.parent;)a.parent._time!==a._start+(a._ts>=0?a._tTime/a._ts:(a.totalDuration()-a._tTime)/-a._ts)&&a.totalTime(a._tTime,!0),a=a.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&n<this._tDur||this._ts<0&&n>0||!this._tDur&&!n)&&tc(this._dp,this,this._start-this._delay)}return(this._tTime!==n||!this._dur&&!r||this._initted&&Math.abs(this._zTime)===Ti||!this._initted&&this._dur&&n||!n&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=n),X6(this,n,r)),this},e.time=function(n,r){return arguments.length?this.totalTime(Math.min(this.totalDuration(),n+b5(this))%(this._dur+this._rDelay)||(n?this._dur:0),r):this._time},e.totalProgress=function(n,r){return arguments.length?this.totalTime(this.totalDuration()*n,r):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(n,r){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-n:n)+b5(this),r):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(n,r){var a=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(n-1)*a,r):this._repeat?w0(this._tTime,a)+1:1},e.timeScale=function(n,r){if(!arguments.length)return this._rts===-Ti?0:this._rts;if(this._rts===n)return this;var a=this.parent&&this._ts?Zy(this.parent._time,this):this._tTime;return this._rts=+n||0,this._ts=this._ps||n===-Ti?0:this._rts,this.totalTime(jg(-Math.abs(this._delay),this.totalDuration(),a),r!==!1),W3(this),RB(this)},e.paused=function(n){return arguments.length?(this._ps!==n&&(this._ps=n,n?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(R0(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==Ti&&(this._tTime-=Ti)))),this):this._ps},e.startTime=function(n){if(arguments.length){this._start=er(n);var r=this.parent||this._dp;return r&&(r._sort||!this.parent)&&tc(r,this,this._start-this._delay),this}return this._start},e.endTime=function(n){return this._start+(Ua(n)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(n){var r=this.parent||this._dp;return r?n&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Zy(r.rawTime(n),this):this._tTime:this._tTime},e.revert=function(n){n===void 0&&(n=EB);var r=gs;return gs=n,aT(this)&&(this.timeline&&this.timeline.revert(n),this.totalTime(-.01,n.suppressEvents)),this.data!=="nested"&&n.kill!==!1&&this.kill(),gs=r,this},e.globalTime=function(n){for(var r=this,a=arguments.length?n:r.rawTime();r;)a=r._start+a/(Math.abs(r._ts)||1),r=r._dp;return!this.parent&&this._sat?this._sat.globalTime(n):a},e.repeat=function(n){return arguments.length?(this._repeat=n===1/0?-2:n,S5(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(n){if(arguments.length){var r=this._time;return this._rDelay=n,S5(this),r?this.time(r):this}return this._rDelay},e.yoyo=function(n){return arguments.length?(this._yoyo=n,this):this._yoyo},e.seek=function(n,r){return this.totalTime(Bo(this,n),Ua(r))},e.restart=function(n,r){return this.play().totalTime(n?-this._delay:0,Ua(r)),this._dur||(this._zTime=-Ti),this},e.play=function(n,r){return n!=null&&this.seek(n,r),this.reversed(!1).paused(!1)},e.reverse=function(n,r){return n!=null&&this.seek(n||this.totalDuration(),r),this.reversed(!0).paused(!1)},e.pause=function(n,r){return n!=null&&this.seek(n,r),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(n){return arguments.length?(!!n!==this.reversed()&&this.timeScale(-this._rts||(n?-Ti:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-Ti,this},e.isActive=function(){var n=this.parent||this._dp,r=this._start,a;return!!(!n||this._ts&&this._initted&&n.isActive()&&(a=n.rawTime(!0))>=r&&a<this.endTime(!0)-Ti)},e.eventCallback=function(n,r,a){var l=this.vars;return arguments.length>1?(r?(l[n]=r,a&&(l[n+"Params"]=a),n==="onUpdate"&&(this._onUpdate=r)):delete l[n],this):l[n]},e.then=function(n){var r=this,a=r._prom;return new Promise(function(l){var u=fr(n)?n:Y6,d=function(){var v=r.then;r.then=null,a&&a(),fr(u)&&(u=u(r))&&(u.then||u===r)&&(r.then=v),l(u),r.then=v};r._initted&&r.totalProgress()===1&&r._ts>=0||!r._tTime&&r._ts<0?d():r._prom=d})},e.kill=function(){R1(this)},i})();co(Ng.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-Ti,_prom:0,_ps:!1,_rts:1});var sa=(function(i){P6(e,i);function e(n,r){var a;return n===void 0&&(n={}),a=i.call(this,n)||this,a.labels={},a.smoothChildTiming=!!n.smoothChildTiming,a.autoRemoveChildren=!!n.autoRemoveChildren,a._sort=Ua(n.sortChildren),tr&&tc(n.parent||tr,Kc(a),r),n.reversed&&a.reverse(),n.paused&&a.paused(!0),n.scrollTrigger&&Q6(Kc(a),n.scrollTrigger),a}var t=e.prototype;return t.to=function(r,a,l){return j1(0,arguments,this),this},t.from=function(r,a,l){return j1(1,arguments,this),this},t.fromTo=function(r,a,l,u){return j1(2,arguments,this),this},t.set=function(r,a,l){return a.duration=0,a.parent=this,Y1(a).repeatDelay||(a.repeat=0),a.immediateRender=!!a.immediateRender,new Or(r,a,Bo(this,l),1),this},t.call=function(r,a,l){return tc(this,Or.delayedCall(0,r,a),l)},t.staggerTo=function(r,a,l,u,d,p,v){return l.duration=a,l.stagger=l.stagger||u,l.onComplete=p,l.onCompleteParams=v,l.parent=this,new Or(r,l,Bo(this,d)),this},t.staggerFrom=function(r,a,l,u,d,p,v){return l.runBackwards=1,Y1(l).immediateRender=Ua(l.immediateRender),this.staggerTo(r,a,l,u,d,p,v)},t.staggerFromTo=function(r,a,l,u,d,p,v,_){return u.startAt=l,Y1(u).immediateRender=Ua(u.immediateRender),this.staggerTo(r,a,u,d,p,v,_)},t.render=function(r,a,l){var u=this._time,d=this._dirty?this.totalDuration():this._tDur,p=this._dur,v=r<=0?0:er(r),_=this._zTime<0!=r<0&&(this._initted||!p),y,x,M,E,A,T,R,D,N,U,I,B;if(this!==tr&&v>d&&r>=0&&(v=d),v!==this._tTime||l||_){if(u!==this._time&&p&&(v+=this._time-u,r+=this._time-u),y=v,N=this._start,D=this._ts,T=!D,_&&(p||(u=this._zTime),(r||!a)&&(this._zTime=r)),this._repeat){if(I=this._yoyo,A=p+this._rDelay,this._repeat<-1&&r<0)return this.totalTime(A*100+r,a,l);if(y=er(v%A),v===d?(E=this._repeat,y=p):(U=er(v/A),E=~~U,E&&E===U&&(y=p,E--),y>p&&(y=p)),U=w0(this._tTime,A),!u&&this._tTime&&U!==E&&this._tTime-U*A-this._dur<=0&&(U=E),I&&E&1&&(y=p-y,B=1),E!==U&&!this._lock){var k=I&&U&1,O=k===(I&&E&1);if(E<U&&(k=!k),u=k?0:v%p?p:v,this._lock=1,this.render(u||(B?0:er(E*A)),a,!p)._lock=0,this._tTime=v,!a&&this.parent&&to(this,"onRepeat"),this.vars.repeatRefresh&&!B&&(this.invalidate()._lock=1,U=E),u&&u!==this._time||T!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(p=this._dur,d=this._tDur,O&&(this._lock=2,u=k?p:-1e-4,this.render(u,!0),this.vars.repeatRefresh&&!B&&this.invalidate()),this._lock=0,!this._ts&&!T)return this;fC(this,B)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(R=OB(this,er(u),er(y)),R&&(v-=y-(y=R._start))),this._tTime=v,this._time=y,this._act=!D,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=r,u=0),!u&&v&&p&&!a&&!U&&(to(this,"onStart"),this._tTime!==v))return this;if(y>=u&&r>=0)for(x=this._first;x;){if(M=x._next,(x._act||y>=x._start)&&x._ts&&R!==x){if(x.parent!==this)return this.render(r,a,l);if(x.render(x._ts>0?(y-x._start)*x._ts:(x._dirty?x.totalDuration():x._tDur)+(y-x._start)*x._ts,a,l),y!==this._time||!this._ts&&!T){R=0,M&&(v+=this._zTime=-Ti);break}}x=M}else{x=this._last;for(var P=r<0?r:y;x;){if(M=x._prev,(x._act||P<=x._end)&&x._ts&&R!==x){if(x.parent!==this)return this.render(r,a,l);if(x.render(x._ts>0?(P-x._start)*x._ts:(x._dirty?x.totalDuration():x._tDur)+(P-x._start)*x._ts,a,l||gs&&aT(x)),y!==this._time||!this._ts&&!T){R=0,M&&(v+=this._zTime=P?-Ti:Ti);break}}x=M}}if(R&&!a&&(this.pause(),R.render(y>=u?0:-Ti)._zTime=y>=u?1:-1,this._ts))return this._start=N,W3(this),this.render(r,a,l);this._onUpdate&&!a&&to(this,"onUpdate",!0),(v===d&&this._tTime>=this.totalDuration()||!v&&u)&&(N===this._start||Math.abs(D)!==Math.abs(this._ts))&&(this._lock||((r||!p)&&(v===d&&this._ts>0||!v&&this._ts<0)&&Tf(this,1),!a&&!(r<0&&!u)&&(v||u||!d)&&(to(this,v===d&&r>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(v<d&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(r,a){var l=this;if(au(a)||(a=Bo(this,a,r)),!(r instanceof Ng)){if(Bs(r))return r.forEach(function(u){return l.add(u,a)}),this;if(ts(r))return this.addLabel(r,a);if(fr(r))r=Or.delayedCall(0,r);else return this}return this!==r?tc(this,r,a):this},t.getChildren=function(r,a,l,u){r===void 0&&(r=!0),a===void 0&&(a=!0),l===void 0&&(l=!0),u===void 0&&(u=-Vo);for(var d=[],p=this._first;p;)p._start>=u&&(p instanceof Or?a&&d.push(p):(l&&d.push(p),r&&d.push.apply(d,p.getChildren(!0,a,l)))),p=p._next;return d},t.getById=function(r){for(var a=this.getChildren(1,1,1),l=a.length;l--;)if(a[l].vars.id===r)return a[l]},t.remove=function(r){return ts(r)?this.removeLabel(r):fr(r)?this.killTweensOf(r):(r.parent===this&&G3(this,r),r===this._recent&&(this._recent=this._last),Kh(this))},t.totalTime=function(r,a){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=er(Ja.time-(this._ts>0?r/this._ts:(this.totalDuration()-r)/-this._ts))),i.prototype.totalTime.call(this,r,a),this._forcing=0,this):this._tTime},t.addLabel=function(r,a){return this.labels[r]=Bo(this,a),this},t.removeLabel=function(r){return delete this.labels[r],this},t.addPause=function(r,a,l){var u=Or.delayedCall(0,a||Cg,l);return u.data="isPause",this._hasPause=1,tc(this,u,Bo(this,r))},t.removePause=function(r){var a=this._first;for(r=Bo(this,r);a;)a._start===r&&a.data==="isPause"&&Tf(a),a=a._next},t.killTweensOf=function(r,a,l){for(var u=this.getTweensOf(r,l),d=u.length;d--;)df!==u[d]&&u[d].kill(r,a);return this},t.getTweensOf=function(r,a){for(var l=[],u=Ho(r),d=this._first,p=au(a),v;d;)d instanceof Or?AB(d._targets,u)&&(p?(!df||d._initted&&d._ts)&&d.globalTime(0)<=a&&d.globalTime(d.totalDuration())>a:!a||d.isActive())&&l.push(d):(v=d.getTweensOf(u,a)).length&&l.push.apply(l,v),d=d._next;return l},t.tweenTo=function(r,a){a=a||{};var l=this,u=Bo(l,r),d=a,p=d.startAt,v=d.onStart,_=d.onStartParams,y=d.immediateRender,x,M=Or.to(l,co({ease:a.ease||"none",lazy:!1,immediateRender:!1,time:u,overwrite:"auto",duration:a.duration||Math.abs((u-(p&&"time"in p?p.time:l._time))/l.timeScale())||Ti,onStart:function(){if(l.pause(),!x){var A=a.duration||Math.abs((u-(p&&"time"in p?p.time:l._time))/l.timeScale());M._dur!==A&&C0(M,A,0,1).render(M._time,!0,!0),x=1}v&&v.apply(M,_||[])}},a));return y?M.render(0):M},t.tweenFromTo=function(r,a,l){return this.tweenTo(a,co({startAt:{time:Bo(this,r)}},l))},t.recent=function(){return this._recent},t.nextLabel=function(r){return r===void 0&&(r=this._time),M5(this,Bo(this,r))},t.previousLabel=function(r){return r===void 0&&(r=this._time),M5(this,Bo(this,r),1)},t.currentLabel=function(r){return arguments.length?this.seek(r,!0):this.previousLabel(this._time+Ti)},t.shiftChildren=function(r,a,l){l===void 0&&(l=0);var u=this._first,d=this.labels,p;for(r=er(r);u;)u._start>=l&&(u._start+=r,u._end+=r),u=u._next;if(a)for(p in d)d[p]>=l&&(d[p]+=r);return Kh(this)},t.invalidate=function(r){var a=this._first;for(this._lock=0;a;)a.invalidate(r),a=a._next;return i.prototype.invalidate.call(this,r)},t.clear=function(r){r===void 0&&(r=!0);for(var a=this._first,l;a;)l=a._next,this.remove(a),a=l;return this._dp&&(this._time=this._tTime=this._pTime=0),r&&(this.labels={}),Kh(this)},t.totalDuration=function(r){var a=0,l=this,u=l._last,d=Vo,p,v,_;if(arguments.length)return l.timeScale((l._repeat<0?l.duration():l.totalDuration())/(l.reversed()?-r:r));if(l._dirty){for(_=l.parent;u;)p=u._prev,u._dirty&&u.totalDuration(),v=u._start,v>d&&l._sort&&u._ts&&!l._lock?(l._lock=1,tc(l,u,v-u._delay,1)._lock=0):d=v,v<0&&u._ts&&(a-=v,(!_&&!l._dp||_&&_.smoothChildTiming)&&(l._start+=er(v/l._ts),l._time-=v,l._tTime-=v),l.shiftChildren(-v,!1,-1/0),d=0),u._end>a&&u._ts&&(a=u._end),u=p;C0(l,l===tr&&l._time>a?l._time:a,1,1),l._dirty=0}return l._tDur},e.updateRoot=function(r){if(tr._ts&&(X6(tr,Zy(r,tr)),G6=Ja.frame),Ja.frame>=x5){x5+=ao.autoSleep||120;var a=tr._first;if((!a||!a._ts)&&ao.autoSleep&&Ja._listeners.length<2){for(;a&&!a._ts;)a=a._next;a||Ja.sleep()}}},e})(Ng);co(sa.prototype,{_lock:0,_hasPause:0,_forcing:0});var ZB=function(e,t,n,r,a,l,u){var d=new Ia(this._pt,e,t,0,1,xC,null,a),p=0,v=0,_,y,x,M,E,A,T,R;for(d.b=n,d.e=r,n+="",r+="",(T=~r.indexOf("random("))&&(r=Rg(r)),l&&(R=[n,r],l(R,e,t),n=R[0],r=R[1]),y=n.match(IS)||[];_=IS.exec(r);)M=_[0],E=r.substring(p,_.index),x?x=(x+1)%5:E.substr(-5)==="rgba("&&(x=1),M!==y[v++]&&(A=parseFloat(y[v-1])||0,d._pt={_next:d._pt,p:E||v===1?E:",",s:A,c:M.charAt(1)==="="?u0(A,M)-A:parseFloat(M)-A,m:x&&x<4?Math.round:0},p=IS.lastIndex);return d.c=p<r.length?r.substring(p,r.length):"",d.fp=u,(F6.test(r)||T)&&(d.e=0),this._pt=d,d},oT=function(e,t,n,r,a,l,u,d,p,v){fr(r)&&(r=r(a||0,e,l));var _=e[t],y=n!=="get"?n:fr(_)?p?e[t.indexOf("set")||!fr(e["get"+t.substr(3)])?t:"get"+t.substr(3)](p):e[t]():_,x=fr(_)?p?eF:vC:cT,M;if(ts(r)&&(~r.indexOf("random(")&&(r=Rg(r)),r.charAt(1)==="="&&(M=u0(y,r)+(Os(y)||0),(M||M===0)&&(r=M))),!v||y!==r||BM)return!isNaN(y*r)&&r!==""?(M=new Ia(this._pt,e,t,+y||0,r-(y||0),typeof _=="boolean"?nF:_C,0,x),p&&(M.fp=p),u&&M.modifier(u,this,e),this._pt=M):(!_&&!(t in e)&&nT(t,r),ZB.call(this,e,t,y,r,x,d||ao.stringFilter,p))},QB=function(e,t,n,r,a){if(fr(e)&&(e=Z1(e,a,t,n,r)),!dc(e)||e.style&&e.nodeType||Bs(e)||z6(e))return ts(e)?Z1(e,a,t,n,r):e;var l={},u;for(u in e)l[u]=Z1(e[u],a,t,n,r);return l},pC=function(e,t,n,r,a,l){var u,d,p,v;if(Qa[e]&&(u=new Qa[e]).init(a,u.rawVars?t[e]:QB(t[e],r,a,l,n),n,r,l)!==!1&&(n._pt=d=new Ia(n._pt,a,e,0,1,u.render,u,0,u.priority),n!==s0))for(p=n._ptLookup[n._targets.indexOf(a)],v=u._props.length;v--;)p[u._props[v]]=d;return u},df,BM,lT=function i(e,t,n){var r=e.vars,a=r.ease,l=r.startAt,u=r.immediateRender,d=r.lazy,p=r.onUpdate,v=r.runBackwards,_=r.yoyoEase,y=r.keyframes,x=r.autoRevert,M=e._dur,E=e._startAt,A=e._targets,T=e.parent,R=T&&T.data==="nested"?T.vars.targets:A,D=e._overwrite==="auto"&&!J4,N=e.timeline,U,I,B,k,O,P,W,Z,J,ee,se,Y,Q;if(N&&(!y||!a)&&(a="none"),e._ease=Jh(a,E0.ease),e._yEase=_?uC(Jh(_===!0?a:_,E0.ease)):0,_&&e._yoyo&&!e._repeat&&(_=e._yEase,e._yEase=e._ease,e._ease=_),e._from=!N&&!!r.runBackwards,!N||y&&!r.stagger){if(Z=A[0]?Qh(A[0]).harness:0,Y=Z&&r[Z.prop],U=jy(r,iT),E&&(E._zTime<0&&E.progress(1),t<0&&v&&u&&!x?E.render(-1,!0):E.revert(v&&M?Hx:TB),E._lazy=0),l){if(Tf(e._startAt=Or.set(A,co({data:"isStart",overwrite:!1,parent:T,immediateRender:!0,lazy:!E&&Ua(d),startAt:null,delay:0,onUpdate:p&&function(){return to(e,"onUpdate")},stagger:0},l))),e._startAt._dp=0,e._startAt._sat=e,t<0&&(gs||!u&&!x)&&e._startAt.revert(Hx),u&&M&&t<=0&&n<=0){t&&(e._zTime=t);return}}else if(v&&M&&!E){if(t&&(u=!1),B=co({overwrite:!1,data:"isFromStart",lazy:u&&!E&&Ua(d),immediateRender:u,stagger:0,parent:T},U),Y&&(B[Z.prop]=Y),Tf(e._startAt=Or.set(A,B)),e._startAt._dp=0,e._startAt._sat=e,t<0&&(gs?e._startAt.revert(Hx):e._startAt.render(-1,!0)),e._zTime=t,!u)i(e._startAt,Ti,Ti);else if(!t)return}for(e._pt=e._ptCache=0,d=M&&Ua(d)||d&&!M,I=0;I<A.length;I++){if(O=A[I],W=O._gsap||sT(A)[I]._gsap,e._ptLookup[I]=ee={},LM[W.id]&&_f.length&&Yy(),se=R===A?I:R.indexOf(O),Z&&(J=new Z).init(O,Y||U,e,se,R)!==!1&&(e._pt=k=new Ia(e._pt,O,J.name,0,1,J.render,J,0,J.priority),J._props.forEach(function(ue){ee[ue]=k}),J.priority&&(P=1)),!Z||Y)for(B in U)Qa[B]&&(J=pC(B,U,e,se,O,R))?J.priority&&(P=1):ee[B]=k=oT.call(e,O,B,"get",U[B],se,R,0,r.stringFilter);e._op&&e._op[I]&&e.kill(O,e._op[I]),D&&e._pt&&(df=e,tr.killTweensOf(O,ee,e.globalTime(t)),Q=!e.parent,df=0),e._pt&&d&&(LM[W.id]=1)}P&&yC(e),e._onInit&&e._onInit(e)}e._onUpdate=p,e._initted=(!e._op||e._pt)&&!Q,y&&t<=0&&N.render(Vo,!0,!0)},KB=function(e,t,n,r,a,l,u,d){var p=(e._pt&&e._ptCache||(e._ptCache={}))[t],v,_,y,x;if(!p)for(p=e._ptCache[t]=[],y=e._ptLookup,x=e._targets.length;x--;){if(v=y[x][t],v&&v.d&&v.d._pt)for(v=v.d._pt;v&&v.p!==t&&v.fp!==t;)v=v._next;if(!v)return BM=1,e.vars[t]="+=0",lT(e,u),BM=0,d?wg(t+" not eligible for reset"):1;p.push(v)}for(x=p.length;x--;)_=p[x],v=_._pt||_,v.s=(r||r===0)&&!a?r:v.s+(r||0)+l*v.c,v.c=n-v.s,_.e&&(_.e=xr(n)+Os(_.e)),_.b&&(_.b=v.s+Os(_.b))},JB=function(e,t){var n=e[0]?Qh(e[0]).harness:0,r=n&&n.aliases,a,l,u,d;if(!r)return t;a=A0({},t);for(l in r)if(l in a)for(d=r[l].split(","),u=d.length;u--;)a[d[u]]=a[l];return a},$B=function(e,t,n,r){var a=t.ease||r||"power1.inOut",l,u;if(Bs(t))u=n[e]||(n[e]=[]),t.forEach(function(d,p){return u.push({t:p/(t.length-1)*100,v:d,e:a})});else for(l in t)u=n[l]||(n[l]=[]),l==="ease"||u.push({t:parseFloat(e),v:t[l],e:a})},Z1=function(e,t,n,r,a){return fr(e)?e.call(t,n,r,a):ts(e)&&~e.indexOf("random(")?Rg(e):e},mC=rT+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",gC={};Pa(mC+",id,stagger,delay,duration,paused,scrollTrigger",function(i){return gC[i]=1});var Or=(function(i){P6(e,i);function e(n,r,a,l){var u;typeof r=="number"&&(a.duration=r,r=a,a=null),u=i.call(this,l?r:Y1(r))||this;var d=u.vars,p=d.duration,v=d.delay,_=d.immediateRender,y=d.stagger,x=d.overwrite,M=d.keyframes,E=d.defaults,A=d.scrollTrigger,T=d.yoyoEase,R=r.parent||tr,D=(Bs(n)||z6(n)?au(n[0]):"length"in r)?[n]:Ho(n),N,U,I,B,k,O,P,W;if(u._targets=D.length?sT(D):wg("GSAP target "+n+" not found. https://gsap.com",!ao.nullTargetWarn)||[],u._ptLookup=[],u._overwrite=x,M||y||Tx(p)||Tx(v)){if(r=u.vars,N=u.timeline=new sa({data:"nested",defaults:E||{},targets:R&&R.data==="nested"?R.vars.targets:D}),N.kill(),N.parent=N._dp=Kc(u),N._start=0,y||Tx(p)||Tx(v)){if(B=D.length,P=y&&eC(y),dc(y))for(k in y)~mC.indexOf(k)&&(W||(W={}),W[k]=y[k]);for(U=0;U<B;U++)I=jy(r,gC),I.stagger=0,T&&(I.yoyoEase=T),W&&A0(I,W),O=D[U],I.duration=+Z1(p,Kc(u),U,O,D),I.delay=(+Z1(v,Kc(u),U,O,D)||0)-u._delay,!y&&B===1&&I.delay&&(u._delay=v=I.delay,u._start+=v,I.delay=0),N.to(O,I,P?P(U,O,D):0),N._ease=Hn.none;N.duration()?p=v=0:u.timeline=0}else if(M){Y1(co(N.vars.defaults,{ease:"none"})),N._ease=Jh(M.ease||r.ease||"none");var Z=0,J,ee,se;if(Bs(M))M.forEach(function(Y){return N.to(D,Y,">")}),N.duration();else{I={};for(k in M)k==="ease"||k==="easeEach"||$B(k,M[k],I,M.easeEach);for(k in I)for(J=I[k].sort(function(Y,Q){return Y.t-Q.t}),Z=0,U=0;U<J.length;U++)ee=J[U],se={ease:ee.e,duration:(ee.t-(U?J[U-1].t:0))/100*p},se[k]=ee.v,N.to(D,se,Z),Z+=se.duration;N.duration()<p&&N.to({},{duration:p-N.duration()})}}p||u.duration(p=N.duration())}else u.timeline=0;return x===!0&&!J4&&(df=Kc(u),tr.killTweensOf(D),df=0),tc(R,Kc(u),a),r.reversed&&u.reverse(),r.paused&&u.paused(!0),(_||!p&&!M&&u._start===er(R._time)&&Ua(_)&&DB(Kc(u))&&R.data!=="nested")&&(u._tTime=-Ti,u.render(Math.max(0,-v)||0)),A&&Q6(Kc(u),A),u}var t=e.prototype;return t.render=function(r,a,l){var u=this._time,d=this._tDur,p=this._dur,v=r<0,_=r>d-Ti&&!v?d:r<Ti?0:r,y,x,M,E,A,T,R,D,N;if(!p)LB(this,r,a,l);else if(_!==this._tTime||!r||l||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==v||this._lazy){if(y=_,D=this.timeline,this._repeat){if(E=p+this._rDelay,this._repeat<-1&&v)return this.totalTime(E*100+r,a,l);if(y=er(_%E),_===d?(M=this._repeat,y=p):(A=er(_/E),M=~~A,M&&M===A?(y=p,M--):y>p&&(y=p)),T=this._yoyo&&M&1,T&&(N=this._yEase,y=p-y),A=w0(this._tTime,E),y===u&&!l&&this._initted&&M===A)return this._tTime=_,this;M!==A&&(D&&this._yEase&&fC(D,T),this.vars.repeatRefresh&&!T&&!this._lock&&y!==E&&this._initted&&(this._lock=l=1,this.render(er(E*M),!0).invalidate()._lock=0))}if(!this._initted){if(K6(this,v?r:y,l,a,_))return this._tTime=0,this;if(u!==this._time&&!(l&&this.vars.repeatRefresh&&M!==A))return this;if(p!==this._dur)return this.render(r,a,l)}if(this._tTime=_,this._time=y,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=R=(N||this._ease)(y/p),this._from&&(this.ratio=R=1-R),!u&&_&&!a&&!A&&(to(this,"onStart"),this._tTime!==_))return this;for(x=this._pt;x;)x.r(R,x.d),x=x._next;D&&D.render(r<0?r:D._dur*D._ease(y/this._dur),a,l)||this._startAt&&(this._zTime=r),this._onUpdate&&!a&&(v&&OM(this,r,a,l),to(this,"onUpdate")),this._repeat&&M!==A&&this.vars.onRepeat&&!a&&this.parent&&to(this,"onRepeat"),(_===this._tDur||!_)&&this._tTime===_&&(v&&!this._onUpdate&&OM(this,r,!0,!0),(r||!p)&&(_===this._tDur&&this._ts>0||!_&&this._ts<0)&&Tf(this,1),!a&&!(v&&!u)&&(_||u||T)&&(to(this,_===d?"onComplete":"onReverseComplete",!0),this._prom&&!(_<d&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(r){return(!r||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(r),i.prototype.invalidate.call(this,r)},t.resetTo=function(r,a,l,u,d){Dg||Ja.wake(),this._ts||this.play();var p=Math.min(this._dur,(this._dp._time-this._start)*this._ts),v;return this._initted||lT(this,p),v=this._ease(p/this._dur),KB(this,r,a,l,u,v,p,d)?this.resetTo(r,a,l,u,1):(X3(this,0),this.parent||j6(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(r,a){if(a===void 0&&(a="all"),!r&&(!a||a==="all"))return this._lazy=this._pt=0,this.parent?R1(this):this.scrollTrigger&&this.scrollTrigger.kill(!!gs),this;if(this.timeline){var l=this.timeline.totalDuration();return this.timeline.killTweensOf(r,a,df&&df.vars.overwrite!==!0)._first||R1(this),this.parent&&l!==this.timeline.totalDuration()&&C0(this,this._dur*this.timeline._tDur/l,0,1),this}var u=this._targets,d=r?Ho(r):u,p=this._ptLookup,v=this._pt,_,y,x,M,E,A,T;if((!a||a==="all")&&CB(u,d))return a==="all"&&(this._pt=0),R1(this);for(_=this._op=this._op||[],a!=="all"&&(ts(a)&&(E={},Pa(a,function(R){return E[R]=1}),a=E),a=JB(u,a)),T=u.length;T--;)if(~d.indexOf(u[T])){y=p[T],a==="all"?(_[T]=a,M=y,x={}):(x=_[T]=_[T]||{},M=a);for(E in M)A=y&&y[E],A&&((!("kill"in A.d)||A.d.kill(E)===!0)&&G3(this,A,"_pt"),delete y[E]),x!=="all"&&(x[E]=1)}return this._initted&&!this._pt&&v&&R1(this),this},e.to=function(r,a){return new e(r,a,arguments[2])},e.from=function(r,a){return j1(1,arguments)},e.delayedCall=function(r,a,l,u){return new e(a,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:r,onComplete:a,onReverseComplete:a,onCompleteParams:l,onReverseCompleteParams:l,callbackScope:u})},e.fromTo=function(r,a,l){return j1(2,arguments)},e.set=function(r,a){return a.duration=0,a.repeatDelay||(a.repeat=0),new e(r,a)},e.killTweensOf=function(r,a,l){return tr.killTweensOf(r,a,l)},e})(Ng);co(Or.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});Pa("staggerTo,staggerFrom,staggerFromTo",function(i){Or[i]=function(){var e=new sa,t=PM.call(arguments,0);return t.splice(i==="staggerFromTo"?5:4,0,0),e[i].apply(e,t)}});var cT=function(e,t,n){return e[t]=n},vC=function(e,t,n){return e[t](n)},eF=function(e,t,n,r){return e[t](r.fp,n)},tF=function(e,t,n){return e.setAttribute(t,n)},uT=function(e,t){return fr(e[t])?vC:$4(e[t])&&e.setAttribute?tF:cT},_C=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e6)/1e6,t)},nF=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},xC=function(e,t){var n=t._pt,r="";if(!e&&t.b)r=t.b;else if(e===1&&t.e)r=t.e;else{for(;n;)r=n.p+(n.m?n.m(n.s+n.c*e):Math.round((n.s+n.c*e)*1e4)/1e4)+r,n=n._next;r+=t.c}t.set(t.t,t.p,r,t)},fT=function(e,t){for(var n=t._pt;n;)n.r(e,n.d),n=n._next},iF=function(e,t,n,r){for(var a=this._pt,l;a;)l=a._next,a.p===r&&a.modifier(e,t,n),a=l},rF=function(e){for(var t=this._pt,n,r;t;)r=t._next,t.p===e&&!t.op||t.op===e?G3(this,t,"_pt"):t.dep||(n=1),t=r;return!n},sF=function(e,t,n,r){r.mSet(e,t,r.m.call(r.tween,n,r.mt),r)},yC=function(e){for(var t=e._pt,n,r,a,l;t;){for(n=t._next,r=a;r&&r.pr>t.pr;)r=r._next;(t._prev=r?r._prev:l)?t._prev._next=t:a=t,(t._next=r)?r._prev=t:l=t,t=n}e._pt=a},Ia=(function(){function i(t,n,r,a,l,u,d,p,v){this.t=n,this.s=a,this.c=l,this.p=r,this.r=u||_C,this.d=d||this,this.set=p||cT,this.pr=v||0,this._next=t,t&&(t._prev=this)}var e=i.prototype;return e.modifier=function(n,r,a){this.mSet=this.mSet||this.set,this.set=sF,this.m=n,this.mt=a,this.tween=r},i})();Pa(rT+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(i){return iT[i]=1});lo.TweenMax=lo.TweenLite=Or;lo.TimelineLite=lo.TimelineMax=sa;tr=new sa({sortChildren:!1,defaults:E0,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});ao.stringFilter=cC;var $h=[],Wx={},aF=[],E5=0,oF=0,VS=function(e){return(Wx[e]||aF).map(function(t){return t()})},FM=function(){var e=Date.now(),t=[];e-E5>2&&(VS("matchMediaInit"),$h.forEach(function(n){var r=n.queries,a=n.conditions,l,u,d,p;for(u in r)l=$l.matchMedia(r[u]).matches,l&&(d=1),l!==a[u]&&(a[u]=l,p=1);p&&(n.revert(),d&&t.push(n))}),VS("matchMediaRevert"),t.forEach(function(n){return n.onMatch(n,function(r){return n.add(null,r)})}),E5=e,VS("matchMedia"))},bC=(function(){function i(t,n){this.selector=n&&IM(n),this.data=[],this._r=[],this.isReverted=!1,this.id=oF++,t&&this.add(t)}var e=i.prototype;return e.add=function(n,r,a){fr(n)&&(a=r,r=n,n=fr);var l=this,u=function(){var p=Xi,v=l.selector,_;return p&&p!==l&&p.data.push(l),a&&(l.selector=IM(a)),Xi=l,_=r.apply(l,arguments),fr(_)&&l._r.push(_),Xi=p,l.selector=v,l.isReverted=!1,_};return l.last=u,n===fr?u(l,function(d){return l.add(null,d)}):n?l[n]=u:u},e.ignore=function(n){var r=Xi;Xi=null,n(this),Xi=r},e.getTweens=function(){var n=[];return this.data.forEach(function(r){return r instanceof i?n.push.apply(n,r.getTweens()):r instanceof Or&&!(r.parent&&r.parent.data==="nested")&&n.push(r)}),n},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(n,r){var a=this;if(n?(function(){for(var u=a.getTweens(),d=a.data.length,p;d--;)p=a.data[d],p.data==="isFlip"&&(p.revert(),p.getChildren(!0,!0,!1).forEach(function(v){return u.splice(u.indexOf(v),1)}));for(u.map(function(v){return{g:v._dur||v._delay||v._sat&&!v._sat.vars.immediateRender?v.globalTime(0):-1/0,t:v}}).sort(function(v,_){return _.g-v.g||-1/0}).forEach(function(v){return v.t.revert(n)}),d=a.data.length;d--;)p=a.data[d],p instanceof sa?p.data!=="nested"&&(p.scrollTrigger&&p.scrollTrigger.revert(),p.kill()):!(p instanceof Or)&&p.revert&&p.revert(n);a._r.forEach(function(v){return v(n,a)}),a.isReverted=!0})():this.data.forEach(function(u){return u.kill&&u.kill()}),this.clear(),r)for(var l=$h.length;l--;)$h[l].id===this.id&&$h.splice(l,1)},e.revert=function(n){this.kill(n||{})},i})(),lF=(function(){function i(t){this.contexts=[],this.scope=t,Xi&&Xi.data.push(this)}var e=i.prototype;return e.add=function(n,r,a){dc(n)||(n={matches:n});var l=new bC(0,a||this.scope),u=l.conditions={},d,p,v;Xi&&!l.selector&&(l.selector=Xi.selector),this.contexts.push(l),r=l.add("onMatch",r),l.queries=n;for(p in n)p==="all"?v=1:(d=$l.matchMedia(n[p]),d&&($h.indexOf(l)<0&&$h.push(l),(u[p]=d.matches)&&(v=1),d.addListener?d.addListener(FM):d.addEventListener("change",FM)));return v&&r(l,function(_){return l.add(null,_)}),this},e.revert=function(n){this.kill(n||{})},e.kill=function(n){this.contexts.forEach(function(r){return r.kill(n,!0)})},i})(),Qy={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach(function(r){return aC(r)})},timeline:function(e){return new sa(e)},getTweensOf:function(e,t){return tr.getTweensOf(e,t)},getProperty:function(e,t,n,r){ts(e)&&(e=Ho(e)[0]);var a=Qh(e||{}).get,l=n?Y6:q6;return n==="native"&&(n=""),e&&(t?l((Qa[t]&&Qa[t].get||a)(e,t,n,r)):function(u,d,p){return l((Qa[u]&&Qa[u].get||a)(e,u,d,p))})},quickSetter:function(e,t,n){if(e=Ho(e),e.length>1){var r=e.map(function(v){return Ba.quickSetter(v,t,n)}),a=r.length;return function(v){for(var _=a;_--;)r[_](v)}}e=e[0]||{};var l=Qa[t],u=Qh(e),d=u.harness&&(u.harness.aliases||{})[t]||t,p=l?function(v){var _=new l;s0._pt=0,_.init(e,n?v+n:v,s0,0,[e]),_.render(1,_),s0._pt&&fT(1,s0)}:u.set(e,d);return l?p:function(v){return p(e,d,n?v+n:v,u,1)}},quickTo:function(e,t,n){var r,a=Ba.to(e,co((r={},r[t]="+=0.1",r.paused=!0,r.stagger=0,r),n||{})),l=function(d,p,v){return a.resetTo(t,d,p,v)};return l.tween=a,l},isTweening:function(e){return tr.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=Jh(e.ease,E0.ease)),y5(E0,e||{})},config:function(e){return y5(ao,e||{})},registerEffect:function(e){var t=e.name,n=e.effect,r=e.plugins,a=e.defaults,l=e.extendTimeline;(r||"").split(",").forEach(function(u){return u&&!Qa[u]&&!lo[u]&&wg(t+" effect requires "+u+" plugin.")}),zS[t]=function(u,d,p){return n(Ho(u),co(d||{},a),p)},l&&(sa.prototype[t]=function(u,d,p){return this.add(zS[t](u,dc(d)?d:(p=d)&&{},this),p)})},registerEase:function(e,t){Hn[e]=Jh(t)},parseEase:function(e,t){return arguments.length?Jh(e,t):Hn},getById:function(e){return tr.getById(e)},exportRoot:function(e,t){e===void 0&&(e={});var n=new sa(e),r,a;for(n.smoothChildTiming=Ua(e.smoothChildTiming),tr.remove(n),n._dp=0,n._time=n._tTime=tr._time,r=tr._first;r;)a=r._next,(t||!(!r._dur&&r instanceof Or&&r.vars.onComplete===r._targets[0]))&&tc(n,r,r._start-r._delay),r=a;return tc(tr,n,0),n},context:function(e,t){return e?new bC(e,t):Xi},matchMedia:function(e){return new lF(e)},matchMediaRefresh:function(){return $h.forEach(function(e){var t=e.conditions,n,r;for(r in t)t[r]&&(t[r]=!1,n=1);n&&e.revert()})||FM()},addEventListener:function(e,t){var n=Wx[e]||(Wx[e]=[]);~n.indexOf(t)||n.push(t)},removeEventListener:function(e,t){var n=Wx[e],r=n&&n.indexOf(t);r>=0&&n.splice(r,1)},utils:{wrap:kB,wrapYoyo:VB,distribute:eC,random:nC,snap:tC,normalize:FB,getUnit:Os,clamp:PB,splitColor:oC,toArray:Ho,selector:IM,mapRange:rC,pipe:zB,unitize:BB,interpolate:HB,shuffle:$6},install:V6,effects:zS,ticker:Ja,updateRoot:sa.updateRoot,plugins:Qa,globalTimeline:tr,core:{PropTween:Ia,globals:H6,Tween:Or,Timeline:sa,Animation:Ng,getCache:Qh,_removeLinkedListItem:G3,reverting:function(){return gs},context:function(e){return e&&Xi&&(Xi.data.push(e),e._ctx=Xi),Xi},suppressOverwrites:function(e){return J4=e}}};Pa("to,from,fromTo,delayedCall,set,killTweensOf",function(i){return Qy[i]=Or[i]});Ja.add(sa.updateRoot);s0=Qy.to({},{duration:0});var cF=function(e,t){for(var n=e._pt;n&&n.p!==t&&n.op!==t&&n.fp!==t;)n=n._next;return n},uF=function(e,t){var n=e._targets,r,a,l;for(r in t)for(a=n.length;a--;)l=e._ptLookup[a][r],l&&(l=l.d)&&(l._pt&&(l=cF(l,r)),l&&l.modifier&&l.modifier(t[r],e,n[a],r))},HS=function(e,t){return{name:e,headless:1,rawVars:1,init:function(r,a,l){l._onInit=function(u){var d,p;if(ts(a)&&(d={},Pa(a,function(v){return d[v]=1}),a=d),t){d={};for(p in a)d[p]=t(a[p]);a=d}uF(u,a)}}}},Ba=Qy.registerPlugin({name:"attr",init:function(e,t,n,r,a){var l,u,d;this.tween=n;for(l in t)d=e.getAttribute(l)||"",u=this.add(e,"setAttribute",(d||0)+"",t[l],r,a,0,0,l),u.op=l,u.b=d,this._props.push(l)},render:function(e,t){for(var n=t._pt;n;)gs?n.set(n.t,n.p,n.b,n):n.r(e,n.d),n=n._next}},{name:"endArray",headless:1,init:function(e,t){for(var n=t.length;n--;)this.add(e,n,e[n]||0,t[n],0,0,0,0,0,1)}},HS("roundProps",zM),HS("modifiers"),HS("snap",tC))||Qy;Or.version=sa.version=Ba.version="3.14.2";k6=1;eT()&&R0();Hn.Power0;Hn.Power1;Hn.Power2;Hn.Power3;Hn.Power4;Hn.Linear;Hn.Quad;Hn.Cubic;Hn.Quart;Hn.Quint;Hn.Strong;Hn.Elastic;Hn.Back;Hn.SteppedEase;Hn.Bounce;Hn.Sine;Hn.Expo;Hn.Circ;var A5,pf,f0,hT,Wh,w5,dT,fF=function(){return typeof window<"u"},ou={},Ih=180/Math.PI,h0=Math.PI/180,Zp=Math.atan2,C5=1e8,pT=/([A-Z])/g,hF=/(left|right|width|margin|padding|x)/i,dF=/[\s,\(]\S/,sc={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},kM=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},pF=function(e,t){return t.set(t.t,t.p,e===1?t.e:Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},mF=function(e,t){return t.set(t.t,t.p,e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},gF=function(e,t){return t.set(t.t,t.p,e===1?t.e:e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},vF=function(e,t){var n=t.s+t.c*e;t.set(t.t,t.p,~~(n+(n<0?-.5:.5))+t.u,t)},SC=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},MC=function(e,t){return t.set(t.t,t.p,e!==1?t.b:t.e,t)},_F=function(e,t,n){return e.style[t]=n},xF=function(e,t,n){return e.style.setProperty(t,n)},yF=function(e,t,n){return e._gsap[t]=n},bF=function(e,t,n){return e._gsap.scaleX=e._gsap.scaleY=n},SF=function(e,t,n,r,a){var l=e._gsap;l.scaleX=l.scaleY=n,l.renderTransform(a,l)},MF=function(e,t,n,r,a){var l=e._gsap;l[t]=n,l.renderTransform(a,l)},ir="transform",za=ir+"Origin",TF=function i(e,t){var n=this,r=this.target,a=r.style,l=r._gsap;if(e in ou&&a){if(this.tfm=this.tfm||{},e!=="transform")e=sc[e]||e,~e.indexOf(",")?e.split(",").forEach(function(u){return n.tfm[u]=Jc(r,u)}):this.tfm[e]=l.x?l[e]:Jc(r,e),e===za&&(this.tfm.zOrigin=l.zOrigin);else return sc.transform.split(",").forEach(function(u){return i.call(n,u,t)});if(this.props.indexOf(ir)>=0)return;l.svg&&(this.svgo=r.getAttribute("data-svg-origin"),this.props.push(za,t,"")),e=ir}(a||t)&&this.props.push(e,t,a[e])},TC=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},EF=function(){var e=this.props,t=this.target,n=t.style,r=t._gsap,a,l;for(a=0;a<e.length;a+=3)e[a+1]?e[a+1]===2?t[e[a]](e[a+2]):t[e[a]]=e[a+2]:e[a+2]?n[e[a]]=e[a+2]:n.removeProperty(e[a].substr(0,2)==="--"?e[a]:e[a].replace(pT,"-$1").toLowerCase());if(this.tfm){for(l in this.tfm)r[l]=this.tfm[l];r.svg&&(r.renderTransform(),t.setAttribute("data-svg-origin",this.svgo||"")),a=dT(),(!a||!a.isStart)&&!n[ir]&&(TC(n),r.zOrigin&&n[za]&&(n[za]+=" "+r.zOrigin+"px",r.zOrigin=0,r.renderTransform()),r.uncache=1)}},EC=function(e,t){var n={target:e,props:[],revert:EF,save:TF};return e._gsap||Ba.core.getCache(e),t&&e.style&&e.nodeType&&t.split(",").forEach(function(r){return n.save(r)}),n},AC,VM=function(e,t){var n=pf.createElementNS?pf.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):pf.createElement(e);return n&&n.style?n:pf.createElement(e)},no=function i(e,t,n){var r=getComputedStyle(e);return r[t]||r.getPropertyValue(t.replace(pT,"-$1").toLowerCase())||r.getPropertyValue(t)||!n&&i(e,D0(t)||t,1)||""},R5="O,Moz,ms,Ms,Webkit".split(","),D0=function(e,t,n){var r=t||Wh,a=r.style,l=5;if(e in a&&!n)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);l--&&!(R5[l]+e in a););return l<0?null:(l===3?"ms":l>=0?R5[l]:"")+e},HM=function(){fF()&&window.document&&(A5=window,pf=A5.document,f0=pf.documentElement,Wh=VM("div")||{style:{}},VM("div"),ir=D0(ir),za=ir+"Origin",Wh.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",AC=!!D0("perspective"),dT=Ba.core.reverting,hT=1)},D5=function(e){var t=e.ownerSVGElement,n=VM("svg",t&&t.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=e.cloneNode(!0),a;r.style.display="block",n.appendChild(r),f0.appendChild(n);try{a=r.getBBox()}catch{}return n.removeChild(r),f0.removeChild(n),a},N5=function(e,t){for(var n=t.length;n--;)if(e.hasAttribute(t[n]))return e.getAttribute(t[n])},wC=function(e){var t,n;try{t=e.getBBox()}catch{t=D5(e),n=1}return t&&(t.width||t.height)||n||(t=D5(e)),t&&!t.width&&!t.x&&!t.y?{x:+N5(e,["x","cx","x1"])||0,y:+N5(e,["y","cy","y1"])||0,width:0,height:0}:t},CC=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&wC(e))},Ef=function(e,t){if(t){var n=e.style,r;t in ou&&t!==za&&(t=ir),n.removeProperty?(r=t.substr(0,2),(r==="ms"||t.substr(0,6)==="webkit")&&(t="-"+t),n.removeProperty(r==="--"?t:t.replace(pT,"-$1").toLowerCase())):n.removeAttribute(t)}},mf=function(e,t,n,r,a,l){var u=new Ia(e._pt,t,n,0,1,l?MC:SC);return e._pt=u,u.b=r,u.e=a,e._props.push(n),u},L5={deg:1,rad:1,turn:1},AF={grid:1,flex:1},Af=function i(e,t,n,r){var a=parseFloat(n)||0,l=(n+"").trim().substr((a+"").length)||"px",u=Wh.style,d=hF.test(t),p=e.tagName.toLowerCase()==="svg",v=(p?"client":"offset")+(d?"Width":"Height"),_=100,y=r==="px",x=r==="%",M,E,A,T;if(r===l||!a||L5[r]||L5[l])return a;if(l!=="px"&&!y&&(a=i(e,t,n,"px")),T=e.getCTM&&CC(e),(x||l==="%")&&(ou[t]||~t.indexOf("adius")))return M=T?e.getBBox()[d?"width":"height"]:e[v],xr(x?a/M*_:a/100*M);if(u[d?"width":"height"]=_+(y?l:r),E=r!=="rem"&&~t.indexOf("adius")||r==="em"&&e.appendChild&&!p?e:e.parentNode,T&&(E=(e.ownerSVGElement||{}).parentNode),(!E||E===pf||!E.appendChild)&&(E=pf.body),A=E._gsap,A&&x&&A.width&&d&&A.time===Ja.time&&!A.uncache)return xr(a/A.width*_);if(x&&(t==="height"||t==="width")){var R=e.style[t];e.style[t]=_+r,M=e[v],R?e.style[t]=R:Ef(e,t)}else(x||l==="%")&&!AF[no(E,"display")]&&(u.position=no(e,"position")),E===e&&(u.position="static"),E.appendChild(Wh),M=Wh[v],E.removeChild(Wh),u.position="absolute";return d&&x&&(A=Qh(E),A.time=Ja.time,A.width=E[v]),xr(y?M*a/_:M&&a?_/M*a:0)},Jc=function(e,t,n,r){var a;return hT||HM(),t in sc&&t!=="transform"&&(t=sc[t],~t.indexOf(",")&&(t=t.split(",")[0])),ou[t]&&t!=="transform"?(a=Og(e,r),a=t!=="transformOrigin"?a[t]:a.svg?a.origin:Jy(no(e,za))+" "+a.zOrigin+"px"):(a=e.style[t],(!a||a==="auto"||r||~(a+"").indexOf("calc("))&&(a=Ky[t]&&Ky[t](e,t,n)||no(e,t)||W6(e,t)||(t==="opacity"?1:0))),n&&!~(a+"").trim().indexOf(" ")?Af(e,t,a,n)+n:a},wF=function(e,t,n,r){if(!n||n==="none"){var a=D0(t,e,1),l=a&&no(e,a,1);l&&l!==n?(t=a,n=l):t==="borderColor"&&(n=no(e,"borderTopColor"))}var u=new Ia(this._pt,e.style,t,0,1,xC),d=0,p=0,v,_,y,x,M,E,A,T,R,D,N,U;if(u.b=n,u.e=r,n+="",r+="",r.substring(0,6)==="var(--"&&(r=no(e,r.substring(4,r.indexOf(")")))),r==="auto"&&(E=e.style[t],e.style[t]=r,r=no(e,t)||r,E?e.style[t]=E:Ef(e,t)),v=[n,r],cC(v),n=v[0],r=v[1],y=n.match(r0)||[],U=r.match(r0)||[],U.length){for(;_=r0.exec(r);)A=_[0],R=r.substring(d,_.index),M?M=(M+1)%5:(R.substr(-5)==="rgba("||R.substr(-5)==="hsla(")&&(M=1),A!==(E=y[p++]||"")&&(x=parseFloat(E)||0,N=E.substr((x+"").length),A.charAt(1)==="="&&(A=u0(x,A)+N),T=parseFloat(A),D=A.substr((T+"").length),d=r0.lastIndex-D.length,D||(D=D||ao.units[t]||N,d===r.length&&(r+=D,u.e+=D)),N!==D&&(x=Af(e,t,E,D)||0),u._pt={_next:u._pt,p:R||p===1?R:",",s:x,c:T-x,m:M&&M<4||t==="zIndex"?Math.round:0});u.c=d<r.length?r.substring(d,r.length):""}else u.r=t==="display"&&r==="none"?MC:SC;return F6.test(r)&&(u.e=0),this._pt=u,u},O5={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},CF=function(e){var t=e.split(" "),n=t[0],r=t[1]||"50%";return(n==="top"||n==="bottom"||r==="left"||r==="right")&&(e=n,n=r,r=e),t[0]=O5[n]||n,t[1]=O5[r]||r,t.join(" ")},RF=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var n=t.t,r=n.style,a=t.u,l=n._gsap,u,d,p;if(a==="all"||a===!0)r.cssText="",d=1;else for(a=a.split(","),p=a.length;--p>-1;)u=a[p],ou[u]&&(d=1,u=u==="transformOrigin"?za:ir),Ef(n,u);d&&(Ef(n,ir),l&&(l.svg&&n.removeAttribute("transform"),r.scale=r.rotate=r.translate="none",Og(n,1),l.uncache=1,TC(r)))}},Ky={clearProps:function(e,t,n,r,a){if(a.data!=="isFromStart"){var l=e._pt=new Ia(e._pt,t,n,0,0,RF);return l.u=r,l.pr=-10,l.tween=a,e._props.push(n),1}}},Lg=[1,0,0,1,0,0],RC={},DC=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},U5=function(e){var t=no(e,ir);return DC(t)?Lg:t.substr(7).match(B6).map(xr)},mT=function(e,t){var n=e._gsap||Qh(e),r=e.style,a=U5(e),l,u,d,p;return n.svg&&e.getAttribute("transform")?(d=e.transform.baseVal.consolidate().matrix,a=[d.a,d.b,d.c,d.d,d.e,d.f],a.join(",")==="1,0,0,1,0,0"?Lg:a):(a===Lg&&!e.offsetParent&&e!==f0&&!n.svg&&(d=r.display,r.display="block",l=e.parentNode,(!l||!e.offsetParent&&!e.getBoundingClientRect().width)&&(p=1,u=e.nextElementSibling,f0.appendChild(e)),a=U5(e),d?r.display=d:Ef(e,"display"),p&&(u?l.insertBefore(e,u):l?l.appendChild(e):f0.removeChild(e))),t&&a.length>6?[a[0],a[1],a[4],a[5],a[12],a[13]]:a)},GM=function(e,t,n,r,a,l){var u=e._gsap,d=a||mT(e,!0),p=u.xOrigin||0,v=u.yOrigin||0,_=u.xOffset||0,y=u.yOffset||0,x=d[0],M=d[1],E=d[2],A=d[3],T=d[4],R=d[5],D=t.split(" "),N=parseFloat(D[0])||0,U=parseFloat(D[1])||0,I,B,k,O;n?d!==Lg&&(B=x*A-M*E)&&(k=N*(A/B)+U*(-E/B)+(E*R-A*T)/B,O=N*(-M/B)+U*(x/B)-(x*R-M*T)/B,N=k,U=O):(I=wC(e),N=I.x+(~D[0].indexOf("%")?N/100*I.width:N),U=I.y+(~(D[1]||D[0]).indexOf("%")?U/100*I.height:U)),r||r!==!1&&u.smooth?(T=N-p,R=U-v,u.xOffset=_+(T*x+R*E)-T,u.yOffset=y+(T*M+R*A)-R):u.xOffset=u.yOffset=0,u.xOrigin=N,u.yOrigin=U,u.smooth=!!r,u.origin=t,u.originIsAbsolute=!!n,e.style[za]="0px 0px",l&&(mf(l,u,"xOrigin",p,N),mf(l,u,"yOrigin",v,U),mf(l,u,"xOffset",_,u.xOffset),mf(l,u,"yOffset",y,u.yOffset)),e.setAttribute("data-svg-origin",N+" "+U)},Og=function(e,t){var n=e._gsap||new dC(e);if("x"in n&&!t&&!n.uncache)return n;var r=e.style,a=n.scaleX<0,l="px",u="deg",d=getComputedStyle(e),p=no(e,za)||"0",v,_,y,x,M,E,A,T,R,D,N,U,I,B,k,O,P,W,Z,J,ee,se,Y,Q,ue,ye,j,X,ce,Se,Le,Je;return v=_=y=E=A=T=R=D=N=0,x=M=1,n.svg=!!(e.getCTM&&CC(e)),d.translate&&((d.translate!=="none"||d.scale!=="none"||d.rotate!=="none")&&(r[ir]=(d.translate!=="none"?"translate3d("+(d.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(d.rotate!=="none"?"rotate("+d.rotate+") ":"")+(d.scale!=="none"?"scale("+d.scale.split(" ").join(",")+") ":"")+(d[ir]!=="none"?d[ir]:"")),r.scale=r.rotate=r.translate="none"),B=mT(e,n.svg),n.svg&&(n.uncache?(ue=e.getBBox(),p=n.xOrigin-ue.x+"px "+(n.yOrigin-ue.y)+"px",Q=""):Q=!t&&e.getAttribute("data-svg-origin"),GM(e,Q||p,!!Q||n.originIsAbsolute,n.smooth!==!1,B)),U=n.xOrigin||0,I=n.yOrigin||0,B!==Lg&&(W=B[0],Z=B[1],J=B[2],ee=B[3],v=se=B[4],_=Y=B[5],B.length===6?(x=Math.sqrt(W*W+Z*Z),M=Math.sqrt(ee*ee+J*J),E=W||Z?Zp(Z,W)*Ih:0,R=J||ee?Zp(J,ee)*Ih+E:0,R&&(M*=Math.abs(Math.cos(R*h0))),n.svg&&(v-=U-(U*W+I*J),_-=I-(U*Z+I*ee))):(Je=B[6],Se=B[7],j=B[8],X=B[9],ce=B[10],Le=B[11],v=B[12],_=B[13],y=B[14],k=Zp(Je,ce),A=k*Ih,k&&(O=Math.cos(-k),P=Math.sin(-k),Q=se*O+j*P,ue=Y*O+X*P,ye=Je*O+ce*P,j=se*-P+j*O,X=Y*-P+X*O,ce=Je*-P+ce*O,Le=Se*-P+Le*O,se=Q,Y=ue,Je=ye),k=Zp(-J,ce),T=k*Ih,k&&(O=Math.cos(-k),P=Math.sin(-k),Q=W*O-j*P,ue=Z*O-X*P,ye=J*O-ce*P,Le=ee*P+Le*O,W=Q,Z=ue,J=ye),k=Zp(Z,W),E=k*Ih,k&&(O=Math.cos(k),P=Math.sin(k),Q=W*O+Z*P,ue=se*O+Y*P,Z=Z*O-W*P,Y=Y*O-se*P,W=Q,se=ue),A&&Math.abs(A)+Math.abs(E)>359.9&&(A=E=0,T=180-T),x=xr(Math.sqrt(W*W+Z*Z+J*J)),M=xr(Math.sqrt(Y*Y+Je*Je)),k=Zp(se,Y),R=Math.abs(k)>2e-4?k*Ih:0,N=Le?1/(Le<0?-Le:Le):0),n.svg&&(Q=e.getAttribute("transform"),n.forceCSS=e.setAttribute("transform","")||!DC(no(e,ir)),Q&&e.setAttribute("transform",Q))),Math.abs(R)>90&&Math.abs(R)<270&&(a?(x*=-1,R+=E<=0?180:-180,E+=E<=0?180:-180):(M*=-1,R+=R<=0?180:-180)),t=t||n.uncache,n.x=v-((n.xPercent=v&&(!t&&n.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-v)?-50:0)))?e.offsetWidth*n.xPercent/100:0)+l,n.y=_-((n.yPercent=_&&(!t&&n.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-_)?-50:0)))?e.offsetHeight*n.yPercent/100:0)+l,n.z=y+l,n.scaleX=xr(x),n.scaleY=xr(M),n.rotation=xr(E)+u,n.rotationX=xr(A)+u,n.rotationY=xr(T)+u,n.skewX=R+u,n.skewY=D+u,n.transformPerspective=N+l,(n.zOrigin=parseFloat(p.split(" ")[2])||!t&&n.zOrigin||0)&&(r[za]=Jy(p)),n.xOffset=n.yOffset=0,n.force3D=ao.force3D,n.renderTransform=n.svg?NF:AC?NC:DF,n.uncache=0,n},Jy=function(e){return(e=e.split(" "))[0]+" "+e[1]},GS=function(e,t,n){var r=Os(t);return xr(parseFloat(t)+parseFloat(Af(e,"x",n+"px",r)))+r},DF=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,NC(e,t)},Oh="0deg",M1="0px",Uh=") ",NC=function(e,t){var n=t||this,r=n.xPercent,a=n.yPercent,l=n.x,u=n.y,d=n.z,p=n.rotation,v=n.rotationY,_=n.rotationX,y=n.skewX,x=n.skewY,M=n.scaleX,E=n.scaleY,A=n.transformPerspective,T=n.force3D,R=n.target,D=n.zOrigin,N="",U=T==="auto"&&e&&e!==1||T===!0;if(D&&(_!==Oh||v!==Oh)){var I=parseFloat(v)*h0,B=Math.sin(I),k=Math.cos(I),O;I=parseFloat(_)*h0,O=Math.cos(I),l=GS(R,l,B*O*-D),u=GS(R,u,-Math.sin(I)*-D),d=GS(R,d,k*O*-D+D)}A!==M1&&(N+="perspective("+A+Uh),(r||a)&&(N+="translate("+r+"%, "+a+"%) "),(U||l!==M1||u!==M1||d!==M1)&&(N+=d!==M1||U?"translate3d("+l+", "+u+", "+d+") ":"translate("+l+", "+u+Uh),p!==Oh&&(N+="rotate("+p+Uh),v!==Oh&&(N+="rotateY("+v+Uh),_!==Oh&&(N+="rotateX("+_+Uh),(y!==Oh||x!==Oh)&&(N+="skew("+y+", "+x+Uh),(M!==1||E!==1)&&(N+="scale("+M+", "+E+Uh),R.style[ir]=N||"translate(0, 0)"},NF=function(e,t){var n=t||this,r=n.xPercent,a=n.yPercent,l=n.x,u=n.y,d=n.rotation,p=n.skewX,v=n.skewY,_=n.scaleX,y=n.scaleY,x=n.target,M=n.xOrigin,E=n.yOrigin,A=n.xOffset,T=n.yOffset,R=n.forceCSS,D=parseFloat(l),N=parseFloat(u),U,I,B,k,O;d=parseFloat(d),p=parseFloat(p),v=parseFloat(v),v&&(v=parseFloat(v),p+=v,d+=v),d||p?(d*=h0,p*=h0,U=Math.cos(d)*_,I=Math.sin(d)*_,B=Math.sin(d-p)*-y,k=Math.cos(d-p)*y,p&&(v*=h0,O=Math.tan(p-v),O=Math.sqrt(1+O*O),B*=O,k*=O,v&&(O=Math.tan(v),O=Math.sqrt(1+O*O),U*=O,I*=O)),U=xr(U),I=xr(I),B=xr(B),k=xr(k)):(U=_,k=y,I=B=0),(D&&!~(l+"").indexOf("px")||N&&!~(u+"").indexOf("px"))&&(D=Af(x,"x",l,"px"),N=Af(x,"y",u,"px")),(M||E||A||T)&&(D=xr(D+M-(M*U+E*B)+A),N=xr(N+E-(M*I+E*k)+T)),(r||a)&&(O=x.getBBox(),D=xr(D+r/100*O.width),N=xr(N+a/100*O.height)),O="matrix("+U+","+I+","+B+","+k+","+D+","+N+")",x.setAttribute("transform",O),R&&(x.style[ir]=O)},LF=function(e,t,n,r,a){var l=360,u=ts(a),d=parseFloat(a)*(u&&~a.indexOf("rad")?Ih:1),p=d-r,v=r+p+"deg",_,y;return u&&(_=a.split("_")[1],_==="short"&&(p%=l,p!==p%(l/2)&&(p+=p<0?l:-l)),_==="cw"&&p<0?p=(p+l*C5)%l-~~(p/l)*l:_==="ccw"&&p>0&&(p=(p-l*C5)%l-~~(p/l)*l)),e._pt=y=new Ia(e._pt,t,n,r,p,pF),y.e=v,y.u="deg",e._props.push(n),y},P5=function(e,t){for(var n in t)e[n]=t[n];return e},OF=function(e,t,n){var r=P5({},n._gsap),a="perspective,force3D,transformOrigin,svgOrigin",l=n.style,u,d,p,v,_,y,x,M;r.svg?(p=n.getAttribute("transform"),n.setAttribute("transform",""),l[ir]=t,u=Og(n,1),Ef(n,ir),n.setAttribute("transform",p)):(p=getComputedStyle(n)[ir],l[ir]=t,u=Og(n,1),l[ir]=p);for(d in ou)p=r[d],v=u[d],p!==v&&a.indexOf(d)<0&&(x=Os(p),M=Os(v),_=x!==M?Af(n,d,p,M):parseFloat(p),y=parseFloat(v),e._pt=new Ia(e._pt,u,d,_,y-_,kM),e._pt.u=M||0,e._props.push(d));P5(u,r)};Pa("padding,margin,Width,Radius",function(i,e){var t="Top",n="Right",r="Bottom",a="Left",l=(e<3?[t,n,r,a]:[t+a,t+n,r+n,r+a]).map(function(u){return e<2?i+u:"border"+u+i});Ky[e>1?"border"+i:i]=function(u,d,p,v,_){var y,x;if(arguments.length<4)return y=l.map(function(M){return Jc(u,M,p)}),x=y.join(" "),x.split(y[0]).length===5?y[0]:x;y=(v+"").split(" "),x={},l.forEach(function(M,E){return x[M]=y[E]=y[E]||y[(E-1)/2|0]}),u.init(d,x,_)}});var LC={name:"css",register:HM,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,n,r,a){var l=this._props,u=e.style,d=n.vars.startAt,p,v,_,y,x,M,E,A,T,R,D,N,U,I,B,k,O;hT||HM(),this.styles=this.styles||EC(e),k=this.styles.props,this.tween=n;for(E in t)if(E!=="autoRound"&&(v=t[E],!(Qa[E]&&pC(E,t,n,r,e,a)))){if(x=typeof v,M=Ky[E],x==="function"&&(v=v.call(n,r,e,a),x=typeof v),x==="string"&&~v.indexOf("random(")&&(v=Rg(v)),M)M(this,e,E,v,n)&&(B=1);else if(E.substr(0,2)==="--")p=(getComputedStyle(e).getPropertyValue(E)+"").trim(),v+="",xf.lastIndex=0,xf.test(p)||(A=Os(p),T=Os(v),T?A!==T&&(p=Af(e,E,p,T)+T):A&&(v+=A)),this.add(u,"setProperty",p,v,r,a,0,0,E),l.push(E),k.push(E,0,u[E]);else if(x!=="undefined"){if(d&&E in d?(p=typeof d[E]=="function"?d[E].call(n,r,e,a):d[E],ts(p)&&~p.indexOf("random(")&&(p=Rg(p)),Os(p+"")||p==="auto"||(p+=ao.units[E]||Os(Jc(e,E))||""),(p+"").charAt(1)==="="&&(p=Jc(e,E))):p=Jc(e,E),y=parseFloat(p),R=x==="string"&&v.charAt(1)==="="&&v.substr(0,2),R&&(v=v.substr(2)),_=parseFloat(v),E in sc&&(E==="autoAlpha"&&(y===1&&Jc(e,"visibility")==="hidden"&&_&&(y=0),k.push("visibility",0,u.visibility),mf(this,u,"visibility",y?"inherit":"hidden",_?"inherit":"hidden",!_)),E!=="scale"&&E!=="transform"&&(E=sc[E],~E.indexOf(",")&&(E=E.split(",")[0]))),D=E in ou,D){if(this.styles.save(E),O=v,x==="string"&&v.substring(0,6)==="var(--"){if(v=no(e,v.substring(4,v.indexOf(")"))),v.substring(0,5)==="calc("){var P=e.style.perspective;e.style.perspective=v,v=no(e,"perspective"),P?e.style.perspective=P:Ef(e,"perspective")}_=parseFloat(v)}if(N||(U=e._gsap,U.renderTransform&&!t.parseTransform||Og(e,t.parseTransform),I=t.smoothOrigin!==!1&&U.smooth,N=this._pt=new Ia(this._pt,u,ir,0,1,U.renderTransform,U,0,-1),N.dep=1),E==="scale")this._pt=new Ia(this._pt,U,"scaleY",U.scaleY,(R?u0(U.scaleY,R+_):_)-U.scaleY||0,kM),this._pt.u=0,l.push("scaleY",E),E+="X";else if(E==="transformOrigin"){k.push(za,0,u[za]),v=CF(v),U.svg?GM(e,v,0,I,0,this):(T=parseFloat(v.split(" ")[2])||0,T!==U.zOrigin&&mf(this,U,"zOrigin",U.zOrigin,T),mf(this,u,E,Jy(p),Jy(v)));continue}else if(E==="svgOrigin"){GM(e,v,1,I,0,this);continue}else if(E in RC){LF(this,U,E,y,R?u0(y,R+v):v);continue}else if(E==="smoothOrigin"){mf(this,U,"smooth",U.smooth,v);continue}else if(E==="force3D"){U[E]=v;continue}else if(E==="transform"){OF(this,v,e);continue}}else E in u||(E=D0(E)||E);if(D||(_||_===0)&&(y||y===0)&&!dF.test(v)&&E in u)A=(p+"").substr((y+"").length),_||(_=0),T=Os(v)||(E in ao.units?ao.units[E]:A),A!==T&&(y=Af(e,E,p,T)),this._pt=new Ia(this._pt,D?U:u,E,y,(R?u0(y,R+_):_)-y,!D&&(T==="px"||E==="zIndex")&&t.autoRound!==!1?vF:kM),this._pt.u=T||0,D&&O!==v?(this._pt.b=p,this._pt.e=O,this._pt.r=gF):A!==T&&T!=="%"&&(this._pt.b=p,this._pt.r=mF);else if(E in u)wF.call(this,e,E,p,R?R+v:v);else if(E in e)this.add(e,E,p||e[E],R?R+v:v,r,a);else if(E!=="parseTransform"){nT(E,v);continue}D||(E in u?k.push(E,0,u[E]):typeof e[E]=="function"?k.push(E,2,e[E]()):k.push(E,1,p||e[E])),l.push(E)}}B&&yC(this)},render:function(e,t){if(t.tween._time||!dT())for(var n=t._pt;n;)n.r(e,n.d),n=n._next;else t.styles.revert()},get:Jc,aliases:sc,getSetter:function(e,t,n){var r=sc[t];return r&&r.indexOf(",")<0&&(t=r),t in ou&&t!==za&&(e._gsap.x||Jc(e,"x"))?n&&w5===n?t==="scale"?bF:yF:(w5=n||{})&&(t==="scale"?SF:MF):e.style&&!$4(e.style[t])?_F:~t.indexOf("-")?xF:uT(e,t)},core:{_removeProperty:Ef,_getMatrix:mT}};Ba.utils.checkPrefix=D0;Ba.core.getStyleSaver=EC;(function(i,e,t,n){var r=Pa(i+","+e+","+t,function(a){ou[a]=1});Pa(e,function(a){ao.units[a]="deg",RC[a]=1}),sc[r[13]]=i+","+e,Pa(n,function(a){var l=a.split(":");sc[l[1]]=r[l[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");Pa("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(i){ao.units[i]="px"});Ba.registerPlugin(LC);var nc=Ba.registerPlugin(LC)||Ba;nc.core.Tween;function UF(i,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(i,n.key,n)}}function PF(i,e,t){return e&&UF(i.prototype,e),i}var ps,Xx,$a,gf,vf,d0,OC,zh,Q1,UC,nu,hl,PC,IC=function(){return ps||typeof window<"u"&&(ps=window.gsap)&&ps.registerPlugin&&ps},zC=1,a0=[],Nn=[],lc=[],K1=Date.now,WM=function(e,t){return t},IF=function(){var e=Q1.core,t=e.bridge||{},n=e._scrollers,r=e._proxies;n.push.apply(n,Nn),r.push.apply(r,lc),Nn=n,lc=r,WM=function(l,u){return t[l](u)}},yf=function(e,t){return~lc.indexOf(e)&&lc[lc.indexOf(e)+1][t]},J1=function(e){return!!~UC.indexOf(e)},$s=function(e,t,n,r,a){return e.addEventListener(t,n,{passive:r!==!1,capture:!!a})},Js=function(e,t,n,r){return e.removeEventListener(t,n,!!r)},Ex="scrollLeft",Ax="scrollTop",XM=function(){return nu&&nu.isPressed||Nn.cache++},$y=function(e,t){var n=function r(a){if(a||a===0){zC&&($a.history.scrollRestoration="manual");var l=nu&&nu.isPressed;a=r.v=Math.round(a)||(nu&&nu.iOS?1:0),e(a),r.cacheID=Nn.cache,l&&WM("ss",a)}else(t||Nn.cache!==r.cacheID||WM("ref"))&&(r.cacheID=Nn.cache,r.v=e());return r.v+r.offset};return n.offset=0,e&&n},aa={s:Ex,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:$y(function(i){return arguments.length?$a.scrollTo(i,Vr.sc()):$a.pageXOffset||gf[Ex]||vf[Ex]||d0[Ex]||0})},Vr={s:Ax,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:aa,sc:$y(function(i){return arguments.length?$a.scrollTo(aa.sc(),i):$a.pageYOffset||gf[Ax]||vf[Ax]||d0[Ax]||0})},Ra=function(e,t){return(t&&t._ctx&&t._ctx.selector||ps.utils.toArray)(e)[0]||(typeof e=="string"&&ps.config().nullTargetWarn!==!1?console.warn("Element not found:",e):null)},zF=function(e,t){for(var n=t.length;n--;)if(t[n]===e||t[n].contains(e))return!0;return!1},wf=function(e,t){var n=t.s,r=t.sc;J1(e)&&(e=gf.scrollingElement||vf);var a=Nn.indexOf(e),l=r===Vr.sc?1:2;!~a&&(a=Nn.push(e)-1),Nn[a+l]||$s(e,"scroll",XM);var u=Nn[a+l],d=u||(Nn[a+l]=$y(yf(e,n),!0)||(J1(e)?r:$y(function(p){return arguments.length?e[n]=p:e[n]})));return d.target=e,u||(d.smooth=ps.getProperty(e,"scrollBehavior")==="smooth"),d},qM=function(e,t,n){var r=e,a=e,l=K1(),u=l,d=t||50,p=Math.max(500,d*3),v=function(M,E){var A=K1();E||A-l>d?(a=r,r=M,u=l,l=A):n?r+=M:r=a+(M-a)/(A-u)*(l-u)},_=function(){a=r=n?0:r,u=l=0},y=function(M){var E=u,A=a,T=K1();return(M||M===0)&&M!==r&&v(M),l===u||T-u>p?0:(r+(n?A:-A))/((n?T:l)-E)*1e3};return{update:v,reset:_,getVelocity:y}},T1=function(e,t){return t&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e},I5=function(e){var t=Math.max.apply(Math,e),n=Math.min.apply(Math,e);return Math.abs(t)>=Math.abs(n)?t:n},BC=function(){Q1=ps.core.globals().ScrollTrigger,Q1&&Q1.core&&IF()},FC=function(e){return ps=e||IC(),!Xx&&ps&&typeof document<"u"&&document.body&&($a=window,gf=document,vf=gf.documentElement,d0=gf.body,UC=[$a,gf,vf,d0],ps.utils.clamp,PC=ps.core.context||function(){},zh="onpointerenter"in d0?"pointer":"mouse",OC=yr.isTouch=$a.matchMedia&&$a.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in $a||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,hl=yr.eventTypes=("ontouchstart"in vf?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in vf?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return zC=0},500),BC(),Xx=1),Xx};aa.op=Vr;Nn.cache=0;var yr=(function(){function i(t){this.init(t)}var e=i.prototype;return e.init=function(n){Xx||FC(ps)||console.warn("Please gsap.registerPlugin(Observer)"),Q1||BC();var r=n.tolerance,a=n.dragMinimum,l=n.type,u=n.target,d=n.lineHeight,p=n.debounce,v=n.preventDefault,_=n.onStop,y=n.onStopDelay,x=n.ignore,M=n.wheelSpeed,E=n.event,A=n.onDragStart,T=n.onDragEnd,R=n.onDrag,D=n.onPress,N=n.onRelease,U=n.onRight,I=n.onLeft,B=n.onUp,k=n.onDown,O=n.onChangeX,P=n.onChangeY,W=n.onChange,Z=n.onToggleX,J=n.onToggleY,ee=n.onHover,se=n.onHoverEnd,Y=n.onMove,Q=n.ignoreCheck,ue=n.isNormalizer,ye=n.onGestureStart,j=n.onGestureEnd,X=n.onWheel,ce=n.onEnable,Se=n.onDisable,Le=n.onClick,Je=n.scrollSpeed,de=n.capture,xe=n.allowClicks,qe=n.lockAxis,Ze=n.onLockAxis;this.target=u=Ra(u)||vf,this.vars=n,x&&(x=ps.utils.toArray(x)),r=r||1e-9,a=a||0,M=M||1,Je=Je||1,l=l||"wheel,touch,pointer",p=p!==!1,d||(d=parseFloat($a.getComputedStyle(d0).lineHeight)||22);var ct,Pt,Bt,rt,Ce,Be,Oe,re=this,K=0,Tt=0,nt=n.passive||!v&&n.passive!==!1,ut=wf(u,aa),Ye=wf(u,Vr),q=ut(),F=Ye(),ae=~l.indexOf("touch")&&!~l.indexOf("pointer")&&hl[0]==="pointerdown",Ae=J1(u),Ne=u.ownerDocument||gf,Me=[0,0,0],at=[0,0,0],Qe=0,bt=function(){return Qe=K1()},xt=function(Et,Kt){return(re.event=Et)&&x&&zF(Et.target,x)||Kt&&ae&&Et.pointerType!=="touch"||Q&&Q(Et,Kt)},Ve=function(){re._vx.reset(),re._vy.reset(),Pt.pause(),_&&_(re)},We=function(){var Et=re.deltaX=I5(Me),Kt=re.deltaY=I5(at),lt=Math.abs(Et)>=r,Vt=Math.abs(Kt)>=r;W&&(lt||Vt)&&W(re,Et,Kt,Me,at),lt&&(U&&re.deltaX>0&&U(re),I&&re.deltaX<0&&I(re),O&&O(re),Z&&re.deltaX<0!=K<0&&Z(re),K=re.deltaX,Me[0]=Me[1]=Me[2]=0),Vt&&(k&&re.deltaY>0&&k(re),B&&re.deltaY<0&&B(re),P&&P(re),J&&re.deltaY<0!=Tt<0&&J(re),Tt=re.deltaY,at[0]=at[1]=at[2]=0),(rt||Bt)&&(Y&&Y(re),Bt&&(A&&Bt===1&&A(re),R&&R(re),Bt=0),rt=!1),Be&&!(Be=!1)&&Ze&&Ze(re),Ce&&(X(re),Ce=!1),ct=0},ht=function(Et,Kt,lt){Me[lt]+=Et,at[lt]+=Kt,re._vx.update(Et),re._vy.update(Kt),p?ct||(ct=requestAnimationFrame(We)):We()},ft=function(Et,Kt){qe&&!Oe&&(re.axis=Oe=Math.abs(Et)>Math.abs(Kt)?"x":"y",Be=!0),Oe!=="y"&&(Me[2]+=Et,re._vx.update(Et,!0)),Oe!=="x"&&(at[2]+=Kt,re._vy.update(Kt,!0)),p?ct||(ct=requestAnimationFrame(We)):We()},et=function(Et){if(!xt(Et,1)){Et=T1(Et,v);var Kt=Et.clientX,lt=Et.clientY,Vt=Kt-re.x,Nt=lt-re.y,Ht=re.isDragging;re.x=Kt,re.y=lt,(Ht||(Vt||Nt)&&(Math.abs(re.startX-Kt)>=a||Math.abs(re.startY-lt)>=a))&&(Bt||(Bt=Ht?2:1),Ht||(re.isDragging=!0),ft(Vt,Nt))}},qt=re.onPress=function(pt){xt(pt,1)||pt&&pt.button||(re.axis=Oe=null,Pt.pause(),re.isPressed=!0,pt=T1(pt),K=Tt=0,re.startX=re.x=pt.clientX,re.startY=re.y=pt.clientY,re._vx.reset(),re._vy.reset(),$s(ue?u:Ne,hl[1],et,nt,!0),re.deltaX=re.deltaY=0,D&&D(re))},te=re.onRelease=function(pt){if(!xt(pt,1)){Js(ue?u:Ne,hl[1],et,!0);var Et=!isNaN(re.y-re.startY),Kt=re.isDragging,lt=Kt&&(Math.abs(re.x-re.startX)>3||Math.abs(re.y-re.startY)>3),Vt=T1(pt);!lt&&Et&&(re._vx.reset(),re._vy.reset(),v&&xe&&ps.delayedCall(.08,function(){if(K1()-Qe>300&&!pt.defaultPrevented){if(pt.target.click)pt.target.click();else if(Ne.createEvent){var Nt=Ne.createEvent("MouseEvents");Nt.initMouseEvent("click",!0,!0,$a,1,Vt.screenX,Vt.screenY,Vt.clientX,Vt.clientY,!1,!1,!1,!1,0,null),pt.target.dispatchEvent(Nt)}}})),re.isDragging=re.isGesturing=re.isPressed=!1,_&&Kt&&!ue&&Pt.restart(!0),Bt&&We(),T&&Kt&&T(re),N&&N(re,lt)}},ot=function(Et){return Et.touches&&Et.touches.length>1&&(re.isGesturing=!0)&&ye(Et,re.isDragging)},He=function(){return(re.isGesturing=!1)||j(re)},it=function(Et){if(!xt(Et)){var Kt=ut(),lt=Ye();ht((Kt-q)*Je,(lt-F)*Je,1),q=Kt,F=lt,_&&Pt.restart(!0)}},Fe=function(Et){if(!xt(Et)){Et=T1(Et,v),X&&(Ce=!0);var Kt=(Et.deltaMode===1?d:Et.deltaMode===2?$a.innerHeight:1)*M;ht(Et.deltaX*Kt,Et.deltaY*Kt,0),_&&!ue&&Pt.restart(!0)}},Ue=function(Et){if(!xt(Et)){var Kt=Et.clientX,lt=Et.clientY,Vt=Kt-re.x,Nt=lt-re.y;re.x=Kt,re.y=lt,rt=!0,_&&Pt.restart(!0),(Vt||Nt)&&ft(Vt,Nt)}},$e=function(Et){re.event=Et,ee(re)},Ut=function(Et){re.event=Et,se(re)},un=function(Et){return xt(Et)||T1(Et,v)&&Le(re)};Pt=re._dc=ps.delayedCall(y||.25,Ve).pause(),re.deltaX=re.deltaY=0,re._vx=qM(0,50,!0),re._vy=qM(0,50,!0),re.scrollX=ut,re.scrollY=Ye,re.isDragging=re.isGesturing=re.isPressed=!1,PC(this),re.enable=function(pt){return re.isEnabled||($s(Ae?Ne:u,"scroll",XM),l.indexOf("scroll")>=0&&$s(Ae?Ne:u,"scroll",it,nt,de),l.indexOf("wheel")>=0&&$s(u,"wheel",Fe,nt,de),(l.indexOf("touch")>=0&&OC||l.indexOf("pointer")>=0)&&($s(u,hl[0],qt,nt,de),$s(Ne,hl[2],te),$s(Ne,hl[3],te),xe&&$s(u,"click",bt,!0,!0),Le&&$s(u,"click",un),ye&&$s(Ne,"gesturestart",ot),j&&$s(Ne,"gestureend",He),ee&&$s(u,zh+"enter",$e),se&&$s(u,zh+"leave",Ut),Y&&$s(u,zh+"move",Ue)),re.isEnabled=!0,re.isDragging=re.isGesturing=re.isPressed=rt=Bt=!1,re._vx.reset(),re._vy.reset(),q=ut(),F=Ye(),pt&&pt.type&&qt(pt),ce&&ce(re)),re},re.disable=function(){re.isEnabled&&(a0.filter(function(pt){return pt!==re&&J1(pt.target)}).length||Js(Ae?Ne:u,"scroll",XM),re.isPressed&&(re._vx.reset(),re._vy.reset(),Js(ue?u:Ne,hl[1],et,!0)),Js(Ae?Ne:u,"scroll",it,de),Js(u,"wheel",Fe,de),Js(u,hl[0],qt,de),Js(Ne,hl[2],te),Js(Ne,hl[3],te),Js(u,"click",bt,!0),Js(u,"click",un),Js(Ne,"gesturestart",ot),Js(Ne,"gestureend",He),Js(u,zh+"enter",$e),Js(u,zh+"leave",Ut),Js(u,zh+"move",Ue),re.isEnabled=re.isPressed=re.isDragging=!1,Se&&Se(re))},re.kill=re.revert=function(){re.disable();var pt=a0.indexOf(re);pt>=0&&a0.splice(pt,1),nu===re&&(nu=0)},a0.push(re),ue&&J1(u)&&(nu=re),re.enable(E)},PF(i,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),i})();yr.version="3.14.2";yr.create=function(i){return new yr(i)};yr.register=FC;yr.getAll=function(){return a0.slice()};yr.getById=function(i){return a0.filter(function(e){return e.vars.id===i})[0]};IC()&&ps.registerPlugin(yr);var Dt,$p,Dn,Di,Ka,oi,gT,e3,Ug,$1,N1,wx,Ns,q3,YM,na,z5,B5,e0,kC,WS,VC,ta,jM,HC,GC,af,ZM,vT,p0,_T,eg,QM,XS,Cx=1,Ls=Date.now,qS=Ls(),Go=0,L1=0,F5=function(e,t,n){var r=Za(e)&&(e.substr(0,6)==="clamp("||e.indexOf("max")>-1);return n["_"+t+"Clamp"]=r,r?e.substr(6,e.length-7):e},k5=function(e,t){return t&&(!Za(e)||e.substr(0,6)!=="clamp(")?"clamp("+e+")":e},BF=function i(){return L1&&requestAnimationFrame(i)},V5=function(){return q3=1},H5=function(){return q3=0},ec=function(e){return e},O1=function(e){return Math.round(e*1e5)/1e5||0},WC=function(){return typeof window<"u"},XC=function(){return Dt||WC()&&(Dt=window.gsap)&&Dt.registerPlugin&&Dt},ud=function(e){return!!~gT.indexOf(e)},qC=function(e){return(e==="Height"?_T:Dn["inner"+e])||Ka["client"+e]||oi["client"+e]},YC=function(e){return yf(e,"getBoundingClientRect")||(ud(e)?function(){return Qx.width=Dn.innerWidth,Qx.height=_T,Qx}:function(){return eu(e)})},FF=function(e,t,n){var r=n.d,a=n.d2,l=n.a;return(l=yf(e,"getBoundingClientRect"))?function(){return l()[r]}:function(){return(t?qC(a):e["client"+a])||0}},kF=function(e,t){return!t||~lc.indexOf(e)?YC(e):function(){return Qx}},ac=function(e,t){var n=t.s,r=t.d2,a=t.d,l=t.a;return Math.max(0,(n="scroll"+r)&&(l=yf(e,n))?l()-YC(e)()[a]:ud(e)?(Ka[n]||oi[n])-qC(r):e[n]-e["offset"+r])},Rx=function(e,t){for(var n=0;n<e0.length;n+=3)(!t||~t.indexOf(e0[n+1]))&&e(e0[n],e0[n+1],e0[n+2])},Za=function(e){return typeof e=="string"},Us=function(e){return typeof e=="function"},U1=function(e){return typeof e=="number"},Bh=function(e){return typeof e=="object"},E1=function(e,t,n){return e&&e.progress(t?0:1)&&n&&e.pause()},YS=function(e,t){if(e.enabled){var n=e._ctx?e._ctx.add(function(){return t(e)}):t(e);n&&n.totalTime&&(e.callbackAnimation=n)}},Qp=Math.abs,jC="left",ZC="top",xT="right",yT="bottom",ed="width",td="height",tg="Right",ng="Left",ig="Top",rg="Bottom",Lr="padding",Fo="margin",N0="Width",bT="Height",kr="px",ko=function(e){return Dn.getComputedStyle(e)},VF=function(e){var t=ko(e).position;e.style.position=t==="absolute"||t==="fixed"?t:"relative"},G5=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},eu=function(e,t){var n=t&&ko(e)[YM]!=="matrix(1, 0, 0, 1, 0, 0)"&&Dt.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),r=e.getBoundingClientRect();return n&&n.progress(0).kill(),r},t3=function(e,t){var n=t.d2;return e["offset"+n]||e["client"+n]||0},QC=function(e){var t=[],n=e.labels,r=e.duration(),a;for(a in n)t.push(n[a]/r);return t},HF=function(e){return function(t){return Dt.utils.snap(QC(e),t)}},ST=function(e){var t=Dt.utils.snap(e),n=Array.isArray(e)&&e.slice(0).sort(function(r,a){return r-a});return n?function(r,a,l){l===void 0&&(l=.001);var u;if(!a)return t(r);if(a>0){for(r-=l,u=0;u<n.length;u++)if(n[u]>=r)return n[u];return n[u-1]}else for(u=n.length,r+=l;u--;)if(n[u]<=r)return n[u];return n[0]}:function(r,a,l){l===void 0&&(l=.001);var u=t(r);return!a||Math.abs(u-r)<l||u-r<0==a<0?u:t(a<0?r-e:r+e)}},GF=function(e){return function(t,n){return ST(QC(e))(t,n.direction)}},Dx=function(e,t,n,r){return n.split(",").forEach(function(a){return e(t,a,r)})},es=function(e,t,n,r,a){return e.addEventListener(t,n,{passive:!r,capture:!!a})},$r=function(e,t,n,r){return e.removeEventListener(t,n,!!r)},Nx=function(e,t,n){n=n&&n.wheelHandler,n&&(e(t,"wheel",n),e(t,"touchmove",n))},W5={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},Lx={toggleActions:"play",anticipatePin:0},n3={top:0,left:0,center:.5,bottom:1,right:1},qx=function(e,t){if(Za(e)){var n=e.indexOf("="),r=~n?+(e.charAt(n-1)+1)*parseFloat(e.substr(n+1)):0;~n&&(e.indexOf("%")>n&&(r*=t/100),e=e.substr(0,n-1)),e=r+(e in n3?n3[e]*t:~e.indexOf("%")?parseFloat(e)*t/100:parseFloat(e)||0)}return e},Ox=function(e,t,n,r,a,l,u,d){var p=a.startColor,v=a.endColor,_=a.fontSize,y=a.indent,x=a.fontWeight,M=Di.createElement("div"),E=ud(n)||yf(n,"pinType")==="fixed",A=e.indexOf("scroller")!==-1,T=E?oi:n,R=e.indexOf("start")!==-1,D=R?p:v,N="border-color:"+D+";font-size:"+_+";color:"+D+";font-weight:"+x+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return N+="position:"+((A||d)&&E?"fixed;":"absolute;"),(A||d||!E)&&(N+=(r===Vr?xT:yT)+":"+(l+parseFloat(y))+"px;"),u&&(N+="box-sizing:border-box;text-align:left;width:"+u.offsetWidth+"px;"),M._isStart=R,M.setAttribute("class","gsap-marker-"+e+(t?" marker-"+t:"")),M.style.cssText=N,M.innerText=t||t===0?e+"-"+t:e,T.children[0]?T.insertBefore(M,T.children[0]):T.appendChild(M),M._offset=M["offset"+r.op.d2],Yx(M,0,r,R),M},Yx=function(e,t,n,r){var a={display:"block"},l=n[r?"os2":"p2"],u=n[r?"p2":"os2"];e._isFlipped=r,a[n.a+"Percent"]=r?-100:0,a[n.a]=r?"1px":0,a["border"+l+N0]=1,a["border"+u+N0]=0,a[n.p]=t+"px",Dt.set(e,a)},wn=[],KM={},Pg,X5=function(){return Ls()-Go>34&&(Pg||(Pg=requestAnimationFrame(ru)))},Kp=function(){(!ta||!ta.isPressed||ta.startX>oi.clientWidth)&&(Nn.cache++,ta?Pg||(Pg=requestAnimationFrame(ru)):ru(),Go||hd("scrollStart"),Go=Ls())},jS=function(){GC=Dn.innerWidth,HC=Dn.innerHeight},P1=function(e){Nn.cache++,(e===!0||!Ns&&!VC&&!Di.fullscreenElement&&!Di.webkitFullscreenElement&&(!jM||GC!==Dn.innerWidth||Math.abs(Dn.innerHeight-HC)>Dn.innerHeight*.25))&&e3.restart(!0)},fd={},WF=[],KC=function i(){return $r(Ln,"scrollEnd",i)||Xh(!0)},hd=function(e){return fd[e]&&fd[e].map(function(t){return t()})||WF},ja=[],JC=function(e){for(var t=0;t<ja.length;t+=5)(!e||ja[t+4]&&ja[t+4].query===e)&&(ja[t].style.cssText=ja[t+1],ja[t].getBBox&&ja[t].setAttribute("transform",ja[t+2]||""),ja[t+3].uncache=1)},$C=function(){return Nn.forEach(function(e){return Us(e)&&++e.cacheID&&(e.rec=e())})},MT=function(e,t){var n;for(na=0;na<wn.length;na++)n=wn[na],n&&(!t||n._ctx===t)&&(e?n.kill(1):n.revert(!0,!0));eg=!0,t&&JC(t),t||hd("revert")},e8=function(e,t){Nn.cache++,(t||!ia)&&Nn.forEach(function(n){return Us(n)&&n.cacheID++&&(n.rec=0)}),Za(e)&&(Dn.history.scrollRestoration=vT=e)},ia,nd=0,q5,XF=function(){if(q5!==nd){var e=q5=nd;requestAnimationFrame(function(){return e===nd&&Xh(!0)})}},t8=function(){oi.appendChild(p0),_T=!ta&&p0.offsetHeight||Dn.innerHeight,oi.removeChild(p0)},Y5=function(e){return Ug(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(t){return t.style.display=e?"none":"block"})},Xh=function(e,t){if(Ka=Di.documentElement,oi=Di.body,gT=[Dn,Di,Ka,oi],Go&&!e&&!eg){es(Ln,"scrollEnd",KC);return}t8(),ia=Ln.isRefreshing=!0,eg||$C();var n=hd("refreshInit");kC&&Ln.sort(),t||MT(),Nn.forEach(function(r){Us(r)&&(r.smooth&&(r.target.style.scrollBehavior="auto"),r(0))}),wn.slice(0).forEach(function(r){return r.refresh()}),eg=!1,wn.forEach(function(r){if(r._subPinOffset&&r.pin){var a=r.vars.horizontal?"offsetWidth":"offsetHeight",l=r.pin[a];r.revert(!0,1),r.adjustPinSpacing(r.pin[a]-l),r.refresh()}}),QM=1,Y5(!0),wn.forEach(function(r){var a=ac(r.scroller,r._dir),l=r.vars.end==="max"||r._endClamp&&r.end>a,u=r._startClamp&&r.start>=a;(l||u)&&r.setPositions(u?a-1:r.start,l?Math.max(u?a:r.start+1,a):r.end,!0)}),Y5(!1),QM=0,n.forEach(function(r){return r&&r.render&&r.render(-1)}),Nn.forEach(function(r){Us(r)&&(r.smooth&&requestAnimationFrame(function(){return r.target.style.scrollBehavior="smooth"}),r.rec&&r(r.rec))}),e8(vT,1),e3.pause(),nd++,ia=2,ru(2),wn.forEach(function(r){return Us(r.vars.onRefresh)&&r.vars.onRefresh(r)}),ia=Ln.isRefreshing=!1,hd("refresh")},JM=0,jx=1,sg,ru=function(e){if(e===2||!ia&&!eg){Ln.isUpdating=!0,sg&&sg.update(0);var t=wn.length,n=Ls(),r=n-qS>=50,a=t&&wn[0].scroll();if(jx=JM>a?-1:1,ia||(JM=a),r&&(Go&&!q3&&n-Go>200&&(Go=0,hd("scrollEnd")),N1=qS,qS=n),jx<0){for(na=t;na-- >0;)wn[na]&&wn[na].update(0,r);jx=1}else for(na=0;na<t;na++)wn[na]&&wn[na].update(0,r);Ln.isUpdating=!1}Pg=0},$M=[jC,ZC,yT,xT,Fo+rg,Fo+tg,Fo+ig,Fo+ng,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],Zx=$M.concat([ed,td,"boxSizing","max"+N0,"max"+bT,"position",Fo,Lr,Lr+ig,Lr+tg,Lr+rg,Lr+ng]),qF=function(e,t,n){m0(n);var r=e._gsap;if(r.spacerIsNative)m0(r.spacerState);else if(e._gsap.swappedIn){var a=t.parentNode;a&&(a.insertBefore(e,t),a.removeChild(t))}e._gsap.swappedIn=!1},ZS=function(e,t,n,r){if(!e._gsap.swappedIn){for(var a=$M.length,l=t.style,u=e.style,d;a--;)d=$M[a],l[d]=n[d];l.position=n.position==="absolute"?"absolute":"relative",n.display==="inline"&&(l.display="inline-block"),u[yT]=u[xT]="auto",l.flexBasis=n.flexBasis||"auto",l.overflow="visible",l.boxSizing="border-box",l[ed]=t3(e,aa)+kr,l[td]=t3(e,Vr)+kr,l[Lr]=u[Fo]=u[ZC]=u[jC]="0",m0(r),u[ed]=u["max"+N0]=n[ed],u[td]=u["max"+bT]=n[td],u[Lr]=n[Lr],e.parentNode!==t&&(e.parentNode.insertBefore(t,e),t.appendChild(e)),e._gsap.swappedIn=!0}},YF=/([A-Z])/g,m0=function(e){if(e){var t=e.t.style,n=e.length,r=0,a,l;for((e.t._gsap||Dt.core.getCache(e.t)).uncache=1;r<n;r+=2)l=e[r+1],a=e[r],l?t[a]=l:t[a]&&t.removeProperty(a.replace(YF,"-$1").toLowerCase())}},Ux=function(e){for(var t=Zx.length,n=e.style,r=[],a=0;a<t;a++)r.push(Zx[a],n[Zx[a]]);return r.t=e,r},jF=function(e,t,n){for(var r=[],a=e.length,l=n?8:0,u;l<a;l+=2)u=e[l],r.push(u,u in t?t[u]:e[l+1]);return r.t=e.t,r},Qx={left:0,top:0},j5=function(e,t,n,r,a,l,u,d,p,v,_,y,x,M){Us(e)&&(e=e(d)),Za(e)&&e.substr(0,3)==="max"&&(e=y+(e.charAt(4)==="="?qx("0"+e.substr(3),n):0));var E=x?x.time():0,A,T,R;if(x&&x.seek(0),isNaN(e)||(e=+e),U1(e))x&&(e=Dt.utils.mapRange(x.scrollTrigger.start,x.scrollTrigger.end,0,y,e)),u&&Yx(u,n,r,!0);else{Us(t)&&(t=t(d));var D=(e||"0").split(" "),N,U,I,B;R=Ra(t,d)||oi,N=eu(R)||{},(!N||!N.left&&!N.top)&&ko(R).display==="none"&&(B=R.style.display,R.style.display="block",N=eu(R),B?R.style.display=B:R.style.removeProperty("display")),U=qx(D[0],N[r.d]),I=qx(D[1]||"0",n),e=N[r.p]-p[r.p]-v+U+a-I,u&&Yx(u,I,r,n-I<20||u._isStart&&I>20),n-=n-I}if(M&&(d[M]=e||-.001,e<0&&(e=0)),l){var k=e+n,O=l._isStart;A="scroll"+r.d2,Yx(l,k,r,O&&k>20||!O&&(_?Math.max(oi[A],Ka[A]):l.parentNode[A])<=k+1),_&&(p=eu(u),_&&(l.style[r.op.p]=p[r.op.p]-r.op.m-l._offset+kr))}return x&&R&&(A=eu(R),x.seek(y),T=eu(R),x._caScrollDist=A[r.p]-T[r.p],e=e/x._caScrollDist*y),x&&x.seek(E),x?e:Math.round(e)},ZF=/(webkit|moz|length|cssText|inset)/i,Z5=function(e,t,n,r){if(e.parentNode!==t){var a=e.style,l,u;if(t===oi){e._stOrig=a.cssText,u=ko(e);for(l in u)!+l&&!ZF.test(l)&&u[l]&&typeof a[l]=="string"&&l!=="0"&&(a[l]=u[l]);a.top=n,a.left=r}else a.cssText=e._stOrig;Dt.core.getCache(e).uncache=1,t.appendChild(e)}},n8=function(e,t,n){var r=t,a=r;return function(l){var u=Math.round(e());return u!==r&&u!==a&&Math.abs(u-r)>3&&Math.abs(u-a)>3&&(l=u,n&&n()),a=r,r=Math.round(l),r}},Px=function(e,t,n){var r={};r[t.p]="+="+n,Dt.set(e,r)},Q5=function(e,t){var n=wf(e,t),r="_scroll"+t.p2,a=function l(u,d,p,v,_){var y=l.tween,x=d.onComplete,M={};p=p||n();var E=n8(n,p,function(){y.kill(),l.tween=0});return _=v&&_||0,v=v||u-p,y&&y.kill(),d[r]=u,d.inherit=!1,d.modifiers=M,M[r]=function(){return E(p+v*y.ratio+_*y.ratio*y.ratio)},d.onUpdate=function(){Nn.cache++,l.tween&&ru()},d.onComplete=function(){l.tween=0,x&&x.call(y)},y=l.tween=Dt.to(e,d),y};return e[r]=n,n.wheelHandler=function(){return a.tween&&a.tween.kill()&&(a.tween=0)},es(e,"wheel",n.wheelHandler),Ln.isTouch&&es(e,"touchmove",n.wheelHandler),a},Ln=(function(){function i(t,n){$p||i.register(Dt)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),ZM(this),this.init(t,n)}var e=i.prototype;return e.init=function(n,r){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),!L1){this.update=this.refresh=this.kill=ec;return}n=G5(Za(n)||U1(n)||n.nodeType?{trigger:n}:n,Lx);var a=n,l=a.onUpdate,u=a.toggleClass,d=a.id,p=a.onToggle,v=a.onRefresh,_=a.scrub,y=a.trigger,x=a.pin,M=a.pinSpacing,E=a.invalidateOnRefresh,A=a.anticipatePin,T=a.onScrubComplete,R=a.onSnapComplete,D=a.once,N=a.snap,U=a.pinReparent,I=a.pinSpacer,B=a.containerAnimation,k=a.fastScrollEnd,O=a.preventOverlaps,P=n.horizontal||n.containerAnimation&&n.horizontal!==!1?aa:Vr,W=!_&&_!==0,Z=Ra(n.scroller||Dn),J=Dt.core.getCache(Z),ee=ud(Z),se=("pinType"in n?n.pinType:yf(Z,"pinType")||ee&&"fixed")==="fixed",Y=[n.onEnter,n.onLeave,n.onEnterBack,n.onLeaveBack],Q=W&&n.toggleActions.split(" "),ue="markers"in n?n.markers:Lx.markers,ye=ee?0:parseFloat(ko(Z)["border"+P.p2+N0])||0,j=this,X=n.onRefreshInit&&function(){return n.onRefreshInit(j)},ce=FF(Z,ee,P),Se=kF(Z,ee),Le=0,Je=0,de=0,xe=wf(Z,P),qe,Ze,ct,Pt,Bt,rt,Ce,Be,Oe,re,K,Tt,nt,ut,Ye,q,F,ae,Ae,Ne,Me,at,Qe,bt,xt,Ve,We,ht,ft,et,qt,te,ot,He,it,Fe,Ue,$e,Ut;if(j._startClamp=j._endClamp=!1,j._dir=P,A*=45,j.scroller=Z,j.scroll=B?B.time.bind(B):xe,Pt=xe(),j.vars=n,r=r||n.animation,"refreshPriority"in n&&(kC=1,n.refreshPriority===-9999&&(sg=j)),J.tweenScroll=J.tweenScroll||{top:Q5(Z,Vr),left:Q5(Z,aa)},j.tweenTo=qe=J.tweenScroll[P.p],j.scrubDuration=function(lt){ot=U1(lt)&&lt,ot?te?te.duration(lt):te=Dt.to(r,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:ot,paused:!0,onComplete:function(){return T&&T(j)}}):(te&&te.progress(1).kill(),te=0)},r&&(r.vars.lazy=!1,r._initted&&!j.isReverted||r.vars.immediateRender!==!1&&n.immediateRender!==!1&&r.duration()&&r.render(0,!0,!0),j.animation=r.pause(),r.scrollTrigger=j,j.scrubDuration(_),et=0,d||(d=r.vars.id)),N&&((!Bh(N)||N.push)&&(N={snapTo:N}),"scrollBehavior"in oi.style&&Dt.set(ee?[oi,Ka]:Z,{scrollBehavior:"auto"}),Nn.forEach(function(lt){return Us(lt)&&lt.target===(ee?Di.scrollingElement||Ka:Z)&&(lt.smooth=!1)}),ct=Us(N.snapTo)?N.snapTo:N.snapTo==="labels"?HF(r):N.snapTo==="labelsDirectional"?GF(r):N.directional!==!1?function(lt,Vt){return ST(N.snapTo)(lt,Ls()-Je<500?0:Vt.direction)}:Dt.utils.snap(N.snapTo),He=N.duration||{min:.1,max:2},He=Bh(He)?$1(He.min,He.max):$1(He,He),it=Dt.delayedCall(N.delay||ot/2||.1,function(){var lt=xe(),Vt=Ls()-Je<500,Nt=qe.tween;if((Vt||Math.abs(j.getVelocity())<10)&&!Nt&&!q3&&Le!==lt){var Ht=(lt-rt)/ut,ni=r&&!W?r.totalProgress():Ht,rn=Vt?0:(ni-qt)/(Ls()-N1)*1e3||0,yn=Dt.utils.clamp(-Ht,1-Ht,Qp(rn/2)*rn/.185),Yn=Ht+(N.inertia===!1?0:yn),Jt,tn,fn=N,yi=fn.onStart,Mn=fn.onInterrupt,ki=fn.onComplete;if(Jt=ct(Yn,j),U1(Jt)||(Jt=Yn),tn=Math.max(0,Math.round(rt+Jt*ut)),lt<=Ce&&lt>=rt&&tn!==lt){if(Nt&&!Nt._initted&&Nt.data<=Qp(tn-lt))return;N.inertia===!1&&(yn=Jt-Ht),qe(tn,{duration:He(Qp(Math.max(Qp(Yn-ni),Qp(Jt-ni))*.185/rn/.05||0)),ease:N.ease||"power3",data:Qp(tn-lt),onInterrupt:function(){return it.restart(!0)&&Mn&&Mn(j)},onComplete:function(){j.update(),Le=xe(),r&&!W&&(te?te.resetTo("totalProgress",Jt,r._tTime/r._tDur):r.progress(Jt)),et=qt=r&&!W?r.totalProgress():j.progress,R&&R(j),ki&&ki(j)}},lt,yn*ut,tn-lt-yn*ut),yi&&yi(j,qe.tween)}}else j.isActive&&Le!==lt&&it.restart(!0)}).pause()),d&&(KM[d]=j),y=j.trigger=Ra(y||x!==!0&&x),Ut=y&&y._gsap&&y._gsap.stRevert,Ut&&(Ut=Ut(j)),x=x===!0?y:Ra(x),Za(u)&&(u={targets:y,className:u}),x&&(M===!1||M===Fo||(M=!M&&x.parentNode&&x.parentNode.style&&ko(x.parentNode).display==="flex"?!1:Lr),j.pin=x,Ze=Dt.core.getCache(x),Ze.spacer?Ye=Ze.pinState:(I&&(I=Ra(I),I&&!I.nodeType&&(I=I.current||I.nativeElement),Ze.spacerIsNative=!!I,I&&(Ze.spacerState=Ux(I))),Ze.spacer=ae=I||Di.createElement("div"),ae.classList.add("pin-spacer"),d&&ae.classList.add("pin-spacer-"+d),Ze.pinState=Ye=Ux(x)),n.force3D!==!1&&Dt.set(x,{force3D:!0}),j.spacer=ae=Ze.spacer,ft=ko(x),bt=ft[M+P.os2],Ne=Dt.getProperty(x),Me=Dt.quickSetter(x,P.a,kr),ZS(x,ae,ft),F=Ux(x)),ue){Tt=Bh(ue)?G5(ue,W5):W5,re=Ox("scroller-start",d,Z,P,Tt,0),K=Ox("scroller-end",d,Z,P,Tt,0,re),Ae=re["offset"+P.op.d2];var un=Ra(yf(Z,"content")||Z);Be=this.markerStart=Ox("start",d,un,P,Tt,Ae,0,B),Oe=this.markerEnd=Ox("end",d,un,P,Tt,Ae,0,B),B&&($e=Dt.quickSetter([Be,Oe],P.a,kr)),!se&&!(lc.length&&yf(Z,"fixedMarkers")===!0)&&(VF(ee?oi:Z),Dt.set([re,K],{force3D:!0}),Ve=Dt.quickSetter(re,P.a,kr),ht=Dt.quickSetter(K,P.a,kr))}if(B){var pt=B.vars.onUpdate,Et=B.vars.onUpdateParams;B.eventCallback("onUpdate",function(){j.update(0,0,1),pt&&pt.apply(B,Et||[])})}if(j.previous=function(){return wn[wn.indexOf(j)-1]},j.next=function(){return wn[wn.indexOf(j)+1]},j.revert=function(lt,Vt){if(!Vt)return j.kill(!0);var Nt=lt!==!1||!j.enabled,Ht=Ns;Nt!==j.isReverted&&(Nt&&(Fe=Math.max(xe(),j.scroll.rec||0),de=j.progress,Ue=r&&r.progress()),Be&&[Be,Oe,re,K].forEach(function(ni){return ni.style.display=Nt?"none":"block"}),Nt&&(Ns=j,j.update(Nt)),x&&(!U||!j.isActive)&&(Nt?qF(x,ae,Ye):ZS(x,ae,ko(x),xt)),Nt||j.update(Nt),Ns=Ht,j.isReverted=Nt)},j.refresh=function(lt,Vt,Nt,Ht){if(!((Ns||!j.enabled)&&!Vt)){if(x&&lt&&Go){es(i,"scrollEnd",KC);return}!ia&&X&&X(j),Ns=j,qe.tween&&!Nt&&(qe.tween.kill(),qe.tween=0),te&&te.pause(),E&&r&&(r.revert({kill:!1}).invalidate(),r.getChildren?r.getChildren(!0,!0,!1).forEach(function(vt){return vt.vars.immediateRender&&vt.render(0,!0,!0)}):r.vars.immediateRender&&r.render(0,!0,!0)),j.isReverted||j.revert(!0,!0),j._subPinOffset=!1;var ni=ce(),rn=Se(),yn=B?B.duration():ac(Z,P),Yn=ut<=.01||!ut,Jt=0,tn=Ht||0,fn=Bh(Nt)?Nt.end:n.end,yi=n.endTrigger||y,Mn=Bh(Nt)?Nt.start:n.start||(n.start===0||!y?0:x?"0 0":"0 100%"),ki=j.pinnedContainer=n.pinnedContainer&&Ra(n.pinnedContainer,j),Sr=y&&Math.max(0,wn.indexOf(j))||0,Jn=Sr,ui,di,Ur,ks,fi,V,le,Ee,ve,he,je,dt,Xe;for(ue&&Bh(Nt)&&(dt=Dt.getProperty(re,P.p),Xe=Dt.getProperty(K,P.p));Jn-- >0;)V=wn[Jn],V.end||V.refresh(0,1)||(Ns=j),le=V.pin,le&&(le===y||le===x||le===ki)&&!V.isReverted&&(he||(he=[]),he.unshift(V),V.revert(!0,!0)),V!==wn[Jn]&&(Sr--,Jn--);for(Us(Mn)&&(Mn=Mn(j)),Mn=F5(Mn,"start",j),rt=j5(Mn,y,ni,P,xe(),Be,re,j,rn,ye,se,yn,B,j._startClamp&&"_startClamp")||(x?-.001:0),Us(fn)&&(fn=fn(j)),Za(fn)&&!fn.indexOf("+=")&&(~fn.indexOf(" ")?fn=(Za(Mn)?Mn.split(" ")[0]:"")+fn:(Jt=qx(fn.substr(2),ni),fn=Za(Mn)?Mn:(B?Dt.utils.mapRange(0,B.duration(),B.scrollTrigger.start,B.scrollTrigger.end,rt):rt)+Jt,yi=y)),fn=F5(fn,"end",j),Ce=Math.max(rt,j5(fn||(yi?"100% 0":yn),yi,ni,P,xe()+Jt,Oe,K,j,rn,ye,se,yn,B,j._endClamp&&"_endClamp"))||-.001,Jt=0,Jn=Sr;Jn--;)V=wn[Jn]||{},le=V.pin,le&&V.start-V._pinPush<=rt&&!B&&V.end>0&&(ui=V.end-(j._startClamp?Math.max(0,V.start):V.start),(le===y&&V.start-V._pinPush<rt||le===ki)&&isNaN(Mn)&&(Jt+=ui*(1-V.progress)),le===x&&(tn+=ui));if(rt+=Jt,Ce+=Jt,j._startClamp&&(j._startClamp+=Jt),j._endClamp&&!ia&&(j._endClamp=Ce||-.001,Ce=Math.min(Ce,ac(Z,P))),ut=Ce-rt||(rt-=.01)&&.001,Yn&&(de=Dt.utils.clamp(0,1,Dt.utils.normalize(rt,Ce,Fe))),j._pinPush=tn,Be&&Jt&&(ui={},ui[P.a]="+="+Jt,ki&&(ui[P.p]="-="+xe()),Dt.set([Be,Oe],ui)),x&&!(QM&&j.end>=ac(Z,P)))ui=ko(x),ks=P===Vr,Ur=xe(),at=parseFloat(Ne(P.a))+tn,!yn&&Ce>1&&(je=(ee?Di.scrollingElement||Ka:Z).style,je={style:je,value:je["overflow"+P.a.toUpperCase()]},ee&&ko(oi)["overflow"+P.a.toUpperCase()]!=="scroll"&&(je.style["overflow"+P.a.toUpperCase()]="scroll")),ZS(x,ae,ui),F=Ux(x),di=eu(x,!0),Ee=se&&wf(Z,ks?aa:Vr)(),M?(xt=[M+P.os2,ut+tn+kr],xt.t=ae,Jn=M===Lr?t3(x,P)+ut+tn:0,Jn&&(xt.push(P.d,Jn+kr),ae.style.flexBasis!=="auto"&&(ae.style.flexBasis=Jn+kr)),m0(xt),ki&&wn.forEach(function(vt){vt.pin===ki&&vt.vars.pinSpacing!==!1&&(vt._subPinOffset=!0)}),se&&xe(Fe)):(Jn=t3(x,P),Jn&&ae.style.flexBasis!=="auto"&&(ae.style.flexBasis=Jn+kr)),se&&(fi={top:di.top+(ks?Ur-rt:Ee)+kr,left:di.left+(ks?Ee:Ur-rt)+kr,boxSizing:"border-box",position:"fixed"},fi[ed]=fi["max"+N0]=Math.ceil(di.width)+kr,fi[td]=fi["max"+bT]=Math.ceil(di.height)+kr,fi[Fo]=fi[Fo+ig]=fi[Fo+tg]=fi[Fo+rg]=fi[Fo+ng]="0",fi[Lr]=ui[Lr],fi[Lr+ig]=ui[Lr+ig],fi[Lr+tg]=ui[Lr+tg],fi[Lr+rg]=ui[Lr+rg],fi[Lr+ng]=ui[Lr+ng],q=jF(Ye,fi,U),ia&&xe(0)),r?(ve=r._initted,WS(1),r.render(r.duration(),!0,!0),Qe=Ne(P.a)-at+ut+tn,We=Math.abs(ut-Qe)>1,se&&We&&q.splice(q.length-2,2),r.render(0,!0,!0),ve||r.invalidate(!0),r.parent||r.totalTime(r.totalTime()),WS(0)):Qe=ut,je&&(je.value?je.style["overflow"+P.a.toUpperCase()]=je.value:je.style.removeProperty("overflow-"+P.a));else if(y&&xe()&&!B)for(di=y.parentNode;di&&di!==oi;)di._pinOffset&&(rt-=di._pinOffset,Ce-=di._pinOffset),di=di.parentNode;he&&he.forEach(function(vt){return vt.revert(!1,!0)}),j.start=rt,j.end=Ce,Pt=Bt=ia?Fe:xe(),!B&&!ia&&(Pt<Fe&&xe(Fe),j.scroll.rec=0),j.revert(!1,!0),Je=Ls(),it&&(Le=-1,it.restart(!0)),Ns=0,r&&W&&(r._initted||Ue)&&r.progress()!==Ue&&r.progress(Ue||0,!0).render(r.time(),!0,!0),(Yn||de!==j.progress||B||E||r&&!r._initted)&&(r&&!W&&(r._initted||de||r.vars.immediateRender!==!1)&&r.totalProgress(B&&rt<-.001&&!de?Dt.utils.normalize(rt,Ce,0):de,!0),j.progress=Yn||(Pt-rt)/ut===de?0:de),x&&M&&(ae._pinOffset=Math.round(j.progress*Qe)),te&&te.invalidate(),isNaN(dt)||(dt-=Dt.getProperty(re,P.p),Xe-=Dt.getProperty(K,P.p),Px(re,P,dt),Px(Be,P,dt-(Ht||0)),Px(K,P,Xe),Px(Oe,P,Xe-(Ht||0))),Yn&&!ia&&j.update(),v&&!ia&&!nt&&(nt=!0,v(j),nt=!1)}},j.getVelocity=function(){return(xe()-Bt)/(Ls()-N1)*1e3||0},j.endAnimation=function(){E1(j.callbackAnimation),r&&(te?te.progress(1):r.paused()?W||E1(r,j.direction<0,1):E1(r,r.reversed()))},j.labelToScroll=function(lt){return r&&r.labels&&(rt||j.refresh()||rt)+r.labels[lt]/r.duration()*ut||0},j.getTrailing=function(lt){var Vt=wn.indexOf(j),Nt=j.direction>0?wn.slice(0,Vt).reverse():wn.slice(Vt+1);return(Za(lt)?Nt.filter(function(Ht){return Ht.vars.preventOverlaps===lt}):Nt).filter(function(Ht){return j.direction>0?Ht.end<=rt:Ht.start>=Ce})},j.update=function(lt,Vt,Nt){if(!(B&&!Nt&&!lt)){var Ht=ia===!0?Fe:j.scroll(),ni=lt?0:(Ht-rt)/ut,rn=ni<0?0:ni>1?1:ni||0,yn=j.progress,Yn,Jt,tn,fn,yi,Mn,ki,Sr;if(Vt&&(Bt=Pt,Pt=B?xe():Ht,N&&(qt=et,et=r&&!W?r.totalProgress():rn)),A&&x&&!Ns&&!Cx&&Go&&(!rn&&rt<Ht+(Ht-Bt)/(Ls()-N1)*A?rn=1e-4:rn===1&&Ce>Ht+(Ht-Bt)/(Ls()-N1)*A&&(rn=.9999)),rn!==yn&&j.enabled){if(Yn=j.isActive=!!rn&&rn<1,Jt=!!yn&&yn<1,Mn=Yn!==Jt,yi=Mn||!!rn!=!!yn,j.direction=rn>yn?1:-1,j.progress=rn,yi&&!Ns&&(tn=rn&&!yn?0:rn===1?1:yn===1?2:3,W&&(fn=!Mn&&Q[tn+1]!=="none"&&Q[tn+1]||Q[tn],Sr=r&&(fn==="complete"||fn==="reset"||fn in r))),O&&(Mn||Sr)&&(Sr||_||!r)&&(Us(O)?O(j):j.getTrailing(O).forEach(function(Ur){return Ur.endAnimation()})),W||(te&&!Ns&&!Cx?(te._dp._time-te._start!==te._time&&te.render(te._dp._time-te._start),te.resetTo?te.resetTo("totalProgress",rn,r._tTime/r._tDur):(te.vars.totalProgress=rn,te.invalidate().restart())):r&&r.totalProgress(rn,!!(Ns&&(Je||lt)))),x){if(lt&&M&&(ae.style[M+P.os2]=bt),!se)Me(O1(at+Qe*rn));else if(yi){if(ki=!lt&&rn>yn&&Ce+1>Ht&&Ht+1>=ac(Z,P),U)if(!lt&&(Yn||ki)){var Jn=eu(x,!0),ui=Ht-rt;Z5(x,oi,Jn.top+(P===Vr?ui:0)+kr,Jn.left+(P===Vr?0:ui)+kr)}else Z5(x,ae);m0(Yn||ki?q:F),We&&rn<1&&Yn||Me(at+(rn===1&&!ki?Qe:0))}}N&&!qe.tween&&!Ns&&!Cx&&it.restart(!0),u&&(Mn||D&&rn&&(rn<1||!XS))&&Ug(u.targets).forEach(function(Ur){return Ur.classList[Yn||D?"add":"remove"](u.className)}),l&&!W&&!lt&&l(j),yi&&!Ns?(W&&(Sr&&(fn==="complete"?r.pause().totalProgress(1):fn==="reset"?r.restart(!0).pause():fn==="restart"?r.restart(!0):r[fn]()),l&&l(j)),(Mn||!XS)&&(p&&Mn&&YS(j,p),Y[tn]&&YS(j,Y[tn]),D&&(rn===1?j.kill(!1,1):Y[tn]=0),Mn||(tn=rn===1?1:3,Y[tn]&&YS(j,Y[tn]))),k&&!Yn&&Math.abs(j.getVelocity())>(U1(k)?k:2500)&&(E1(j.callbackAnimation),te?te.progress(1):E1(r,fn==="reverse"?1:!rn,1))):W&&l&&!Ns&&l(j)}if(ht){var di=B?Ht/B.duration()*(B._caScrollDist||0):Ht;Ve(di+(re._isFlipped?1:0)),ht(di)}$e&&$e(-Ht/B.duration()*(B._caScrollDist||0))}},j.enable=function(lt,Vt){j.enabled||(j.enabled=!0,es(Z,"resize",P1),ee||es(Z,"scroll",Kp),X&&es(i,"refreshInit",X),lt!==!1&&(j.progress=de=0,Pt=Bt=Le=xe()),Vt!==!1&&j.refresh())},j.getTween=function(lt){return lt&&qe?qe.tween:te},j.setPositions=function(lt,Vt,Nt,Ht){if(B){var ni=B.scrollTrigger,rn=B.duration(),yn=ni.end-ni.start;lt=ni.start+yn*lt/rn,Vt=ni.start+yn*Vt/rn}j.refresh(!1,!1,{start:k5(lt,Nt&&!!j._startClamp),end:k5(Vt,Nt&&!!j._endClamp)},Ht),j.update()},j.adjustPinSpacing=function(lt){if(xt&&lt){var Vt=xt.indexOf(P.d)+1;xt[Vt]=parseFloat(xt[Vt])+lt+kr,xt[1]=parseFloat(xt[1])+lt+kr,m0(xt)}},j.disable=function(lt,Vt){if(lt!==!1&&j.revert(!0,!0),j.enabled&&(j.enabled=j.isActive=!1,Vt||te&&te.pause(),Fe=0,Ze&&(Ze.uncache=1),X&&$r(i,"refreshInit",X),it&&(it.pause(),qe.tween&&qe.tween.kill()&&(qe.tween=0)),!ee)){for(var Nt=wn.length;Nt--;)if(wn[Nt].scroller===Z&&wn[Nt]!==j)return;$r(Z,"resize",P1),ee||$r(Z,"scroll",Kp)}},j.kill=function(lt,Vt){j.disable(lt,Vt),te&&!Vt&&te.kill(),d&&delete KM[d];var Nt=wn.indexOf(j);Nt>=0&&wn.splice(Nt,1),Nt===na&&jx>0&&na--,Nt=0,wn.forEach(function(Ht){return Ht.scroller===j.scroller&&(Nt=1)}),Nt||ia||(j.scroll.rec=0),r&&(r.scrollTrigger=null,lt&&r.revert({kill:!1}),Vt||r.kill()),Be&&[Be,Oe,re,K].forEach(function(Ht){return Ht.parentNode&&Ht.parentNode.removeChild(Ht)}),sg===j&&(sg=0),x&&(Ze&&(Ze.uncache=1),Nt=0,wn.forEach(function(Ht){return Ht.pin===x&&Nt++}),Nt||(Ze.spacer=0)),n.onKill&&n.onKill(j)},wn.push(j),j.enable(!1,!1),Ut&&Ut(j),r&&r.add&&!ut){var Kt=j.update;j.update=function(){j.update=Kt,Nn.cache++,rt||Ce||j.refresh()},Dt.delayedCall(.01,j.update),ut=.01,rt=Ce=0}else j.refresh();x&&XF()},i.register=function(n){return $p||(Dt=n||XC(),WC()&&window.document&&i.enable(),$p=L1),$p},i.defaults=function(n){if(n)for(var r in n)Lx[r]=n[r];return Lx},i.disable=function(n,r){L1=0,wn.forEach(function(l){return l[r?"kill":"disable"](n)}),$r(Dn,"wheel",Kp),$r(Di,"scroll",Kp),clearInterval(wx),$r(Di,"touchcancel",ec),$r(oi,"touchstart",ec),Dx($r,Di,"pointerdown,touchstart,mousedown",V5),Dx($r,Di,"pointerup,touchend,mouseup",H5),e3.kill(),Rx($r);for(var a=0;a<Nn.length;a+=3)Nx($r,Nn[a],Nn[a+1]),Nx($r,Nn[a],Nn[a+2])},i.enable=function(){if(Dn=window,Di=document,Ka=Di.documentElement,oi=Di.body,Dt&&(Ug=Dt.utils.toArray,$1=Dt.utils.clamp,ZM=Dt.core.context||ec,WS=Dt.core.suppressOverwrites||ec,vT=Dn.history.scrollRestoration||"auto",JM=Dn.pageYOffset||0,Dt.core.globals("ScrollTrigger",i),oi)){L1=1,p0=document.createElement("div"),p0.style.height="100vh",p0.style.position="absolute",t8(),BF(),yr.register(Dt),i.isTouch=yr.isTouch,af=yr.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),jM=yr.isTouch===1,es(Dn,"wheel",Kp),gT=[Dn,Di,Ka,oi],Dt.matchMedia?(i.matchMedia=function(p){var v=Dt.matchMedia(),_;for(_ in p)v.add(_,p[_]);return v},Dt.addEventListener("matchMediaInit",function(){$C(),MT()}),Dt.addEventListener("matchMediaRevert",function(){return JC()}),Dt.addEventListener("matchMedia",function(){Xh(0,1),hd("matchMedia")}),Dt.matchMedia().add("(orientation: portrait)",function(){return jS(),jS})):console.warn("Requires GSAP 3.11.0 or later"),jS(),es(Di,"scroll",Kp);var n=oi.hasAttribute("style"),r=oi.style,a=r.borderTopStyle,l=Dt.core.Animation.prototype,u,d;for(l.revert||Object.defineProperty(l,"revert",{value:function(){return this.time(-.01,!0)}}),r.borderTopStyle="solid",u=eu(oi),Vr.m=Math.round(u.top+Vr.sc())||0,aa.m=Math.round(u.left+aa.sc())||0,a?r.borderTopStyle=a:r.removeProperty("border-top-style"),n||(oi.setAttribute("style",""),oi.removeAttribute("style")),wx=setInterval(X5,250),Dt.delayedCall(.5,function(){return Cx=0}),es(Di,"touchcancel",ec),es(oi,"touchstart",ec),Dx(es,Di,"pointerdown,touchstart,mousedown",V5),Dx(es,Di,"pointerup,touchend,mouseup",H5),YM=Dt.utils.checkPrefix("transform"),Zx.push(YM),$p=Ls(),e3=Dt.delayedCall(.2,Xh).pause(),e0=[Di,"visibilitychange",function(){var p=Dn.innerWidth,v=Dn.innerHeight;Di.hidden?(z5=p,B5=v):(z5!==p||B5!==v)&&P1()},Di,"DOMContentLoaded",Xh,Dn,"load",Xh,Dn,"resize",P1],Rx(es),wn.forEach(function(p){return p.enable(0,1)}),d=0;d<Nn.length;d+=3)Nx($r,Nn[d],Nn[d+1]),Nx($r,Nn[d],Nn[d+2])}},i.config=function(n){"limitCallbacks"in n&&(XS=!!n.limitCallbacks);var r=n.syncInterval;r&&clearInterval(wx)||(wx=r)&&setInterval(X5,r),"ignoreMobileResize"in n&&(jM=i.isTouch===1&&n.ignoreMobileResize),"autoRefreshEvents"in n&&(Rx($r)||Rx(es,n.autoRefreshEvents||"none"),VC=(n.autoRefreshEvents+"").indexOf("resize")===-1)},i.scrollerProxy=function(n,r){var a=Ra(n),l=Nn.indexOf(a),u=ud(a);~l&&Nn.splice(l,u?6:2),r&&(u?lc.unshift(Dn,r,oi,r,Ka,r):lc.unshift(a,r))},i.clearMatchMedia=function(n){wn.forEach(function(r){return r._ctx&&r._ctx.query===n&&r._ctx.kill(!0,!0)})},i.isInViewport=function(n,r,a){var l=(Za(n)?Ra(n):n).getBoundingClientRect(),u=l[a?ed:td]*r||0;return a?l.right-u>0&&l.left+u<Dn.innerWidth:l.bottom-u>0&&l.top+u<Dn.innerHeight},i.positionInViewport=function(n,r,a){Za(n)&&(n=Ra(n));var l=n.getBoundingClientRect(),u=l[a?ed:td],d=r==null?u/2:r in n3?n3[r]*u:~r.indexOf("%")?parseFloat(r)*u/100:parseFloat(r)||0;return a?(l.left+d)/Dn.innerWidth:(l.top+d)/Dn.innerHeight},i.killAll=function(n){if(wn.slice(0).forEach(function(a){return a.vars.id!=="ScrollSmoother"&&a.kill()}),n!==!0){var r=fd.killAll||[];fd={},r.forEach(function(a){return a()})}},i})();Ln.version="3.14.2";Ln.saveStyles=function(i){return i?Ug(i).forEach(function(e){if(e&&e.style){var t=ja.indexOf(e);t>=0&&ja.splice(t,5),ja.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),Dt.core.getCache(e),ZM())}}):ja};Ln.revert=function(i,e){return MT(!i,e)};Ln.create=function(i,e){return new Ln(i,e)};Ln.refresh=function(i){return i?P1(!0):($p||Ln.register())&&Xh(!0)};Ln.update=function(i){return++Nn.cache&&ru(i===!0?2:0)};Ln.clearScrollMemory=e8;Ln.maxScroll=function(i,e){return ac(i,e?aa:Vr)};Ln.getScrollFunc=function(i,e){return wf(Ra(i),e?aa:Vr)};Ln.getById=function(i){return KM[i]};Ln.getAll=function(){return wn.filter(function(i){return i.vars.id!=="ScrollSmoother"})};Ln.isScrolling=function(){return!!Go};Ln.snapDirectional=ST;Ln.addEventListener=function(i,e){var t=fd[i]||(fd[i]=[]);~t.indexOf(e)||t.push(e)};Ln.removeEventListener=function(i,e){var t=fd[i],n=t&&t.indexOf(e);n>=0&&t.splice(n,1)};Ln.batch=function(i,e){var t=[],n={},r=e.interval||.016,a=e.batchMax||1e9,l=function(p,v){var _=[],y=[],x=Dt.delayedCall(r,function(){v(_,y),_=[],y=[]}).pause();return function(M){_.length||x.restart(!0),_.push(M.trigger),y.push(M),a<=_.length&&x.progress(1)}},u;for(u in e)n[u]=u.substr(0,2)==="on"&&Us(e[u])&&u!=="onRefreshInit"?l(u,e[u]):e[u];return Us(a)&&(a=a(),es(Ln,"refresh",function(){return a=e.batchMax()})),Ug(i).forEach(function(d){var p={};for(u in n)p[u]=n[u];p.trigger=d,t.push(Ln.create(p))}),t};var K5=function(e,t,n,r){return t>r?e(r):t<0&&e(0),n>r?(r-t)/(n-t):n<0?t/(t-n):1},QS=function i(e,t){t===!0?e.style.removeProperty("touch-action"):e.style.touchAction=t===!0?"auto":t?"pan-"+t+(yr.isTouch?" pinch-zoom":""):"none",e===Ka&&i(oi,t)},Ix={auto:1,scroll:1},QF=function(e){var t=e.event,n=e.target,r=e.axis,a=(t.changedTouches?t.changedTouches[0]:t).target,l=a._gsap||Dt.core.getCache(a),u=Ls(),d;if(!l._isScrollT||u-l._isScrollT>2e3){for(;a&&a!==oi&&(a.scrollHeight<=a.clientHeight&&a.scrollWidth<=a.clientWidth||!(Ix[(d=ko(a)).overflowY]||Ix[d.overflowX]));)a=a.parentNode;l._isScroll=a&&a!==n&&!ud(a)&&(Ix[(d=ko(a)).overflowY]||Ix[d.overflowX]),l._isScrollT=u}(l._isScroll||r==="x")&&(t.stopPropagation(),t._gsapAllow=!0)},i8=function(e,t,n,r){return yr.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:t,onWheel:r=r&&QF,onPress:r,onDrag:r,onScroll:r,onEnable:function(){return n&&es(Di,yr.eventTypes[0],$5,!1,!0)},onDisable:function(){return $r(Di,yr.eventTypes[0],$5,!0)}})},KF=/(input|label|select|textarea)/i,J5,$5=function(e){var t=KF.test(e.target.tagName);(t||J5)&&(e._gsapAllow=!0,J5=t)},JF=function(e){Bh(e)||(e={}),e.preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";var t=e,n=t.normalizeScrollX,r=t.momentum,a=t.allowNestedScroll,l=t.onRelease,u,d,p=Ra(e.target)||Ka,v=Dt.core.globals().ScrollSmoother,_=v&&v.get(),y=af&&(e.content&&Ra(e.content)||_&&e.content!==!1&&!_.smooth()&&_.content()),x=wf(p,Vr),M=wf(p,aa),E=1,A=(yr.isTouch&&Dn.visualViewport?Dn.visualViewport.scale*Dn.visualViewport.width:Dn.outerWidth)/Dn.innerWidth,T=0,R=Us(r)?function(){return r(u)}:function(){return r||2.8},D,N,U=i8(p,e.type,!0,a),I=function(){return N=!1},B=ec,k=ec,O=function(){d=ac(p,Vr),k=$1(af?1:0,d),n&&(B=$1(0,ac(p,aa))),D=nd},P=function(){y._gsap.y=O1(parseFloat(y._gsap.y)+x.offset)+"px",y.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(y._gsap.y)+", 0, 1)",x.offset=x.cacheID=0},W=function(){if(N){requestAnimationFrame(I);var ue=O1(u.deltaY/2),ye=k(x.v-ue);if(y&&ye!==x.v+x.offset){x.offset=ye-x.v;var j=O1((parseFloat(y&&y._gsap.y)||0)-x.offset);y.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+j+", 0, 1)",y._gsap.y=j+"px",x.cacheID=Nn.cache,ru()}return!0}x.offset&&P(),N=!0},Z,J,ee,se,Y=function(){O(),Z.isActive()&&Z.vars.scrollY>d&&(x()>d?Z.progress(1)&&x(d):Z.resetTo("scrollY",d))};return y&&Dt.set(y,{y:"+=0"}),e.ignoreCheck=function(Q){return af&&Q.type==="touchmove"&&W()||E>1.05&&Q.type!=="touchstart"||u.isGesturing||Q.touches&&Q.touches.length>1},e.onPress=function(){N=!1;var Q=E;E=O1((Dn.visualViewport&&Dn.visualViewport.scale||1)/A),Z.pause(),Q!==E&&QS(p,E>1.01?!0:n?!1:"x"),J=M(),ee=x(),O(),D=nd},e.onRelease=e.onGestureStart=function(Q,ue){if(x.offset&&P(),!ue)se.restart(!0);else{Nn.cache++;var ye=R(),j,X;n&&(j=M(),X=j+ye*.05*-Q.velocityX/.227,ye*=K5(M,j,X,ac(p,aa)),Z.vars.scrollX=B(X)),j=x(),X=j+ye*.05*-Q.velocityY/.227,ye*=K5(x,j,X,ac(p,Vr)),Z.vars.scrollY=k(X),Z.invalidate().duration(ye).play(.01),(af&&Z.vars.scrollY>=d||j>=d-1)&&Dt.to({},{onUpdate:Y,duration:ye})}l&&l(Q)},e.onWheel=function(){Z._ts&&Z.pause(),Ls()-T>1e3&&(D=0,T=Ls())},e.onChange=function(Q,ue,ye,j,X){if(nd!==D&&O(),ue&&n&&M(B(j[2]===ue?J+(Q.startX-Q.x):M()+ue-j[1])),ye){x.offset&&P();var ce=X[2]===ye,Se=ce?ee+Q.startY-Q.y:x()+ye-X[1],Le=k(Se);ce&&Se!==Le&&(ee+=Le-Se),x(Le)}(ye||ue)&&ru()},e.onEnable=function(){QS(p,n?!1:"x"),Ln.addEventListener("refresh",Y),es(Dn,"resize",Y),x.smooth&&(x.target.style.scrollBehavior="auto",x.smooth=M.smooth=!1),U.enable()},e.onDisable=function(){QS(p,!0),$r(Dn,"resize",Y),Ln.removeEventListener("refresh",Y),U.kill()},e.lockAxis=e.lockAxis!==!1,u=new yr(e),u.iOS=af,af&&!x()&&x(1),af&&Dt.ticker.add(ec),se=u._dc,Z=Dt.to(u,{ease:"power4",paused:!0,inherit:!1,scrollX:n?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:n8(x,x(),function(){return Z.pause()})},onUpdate:ru,onComplete:se.vars.onComplete}),u};Ln.sort=function(i){if(Us(i))return wn.sort(i);var e=Dn.pageYOffset||0;return Ln.getAll().forEach(function(t){return t._sortY=t.trigger?e+t.trigger.getBoundingClientRect().top:t.start+Dn.innerHeight}),wn.sort(i||function(t,n){return(t.vars.refreshPriority||0)*-1e6+(t.vars.containerAnimation?1e6:t._sortY)-((n.vars.containerAnimation?1e6:n._sortY)+(n.vars.refreshPriority||0)*-1e6)})};Ln.observe=function(i){return new yr(i)};Ln.normalizeScroll=function(i){if(typeof i>"u")return ta;if(i===!0&&ta)return ta.enable();if(i===!1){ta&&ta.kill(),ta=i;return}var e=i instanceof yr?i:JF(i);return ta&&ta.target===e.target&&ta.kill(),ud(e.target)&&(ta=e),e};Ln.core={_getVelocityProp:qM,_inputObserver:i8,_scrollers:Nn,_proxies:lc,bridge:{ss:function(){Go||hd("scrollStart"),Go=Ls()},ref:function(){return Ns}}};XC()&&Dt.registerPlugin(Ln);let eA=typeof document<"u"?gt.useLayoutEffect:gt.useEffect,tA=i=>i&&!Array.isArray(i)&&typeof i=="object",zx=[],$F={},r8=nc;const Y3=(i,e=zx)=>{let t=$F;tA(i)?(t=i,i=null,e="dependencies"in t?t.dependencies:zx):tA(e)&&(t=e,e="dependencies"in t?t.dependencies:zx),i&&typeof i!="function"&&console.warn("First parameter must be a function or config object");const{scope:n,revertOnUpdate:r}=t,a=gt.useRef(!1),l=gt.useRef(r8.context(()=>{},n)),u=gt.useRef(p=>l.current.add(null,p)),d=e&&e.length&&!r;return d&&eA(()=>(a.current=!0,()=>l.current.revert()),zx),eA(()=>{if(i&&l.current.add(i,n),!d||!a.current)return()=>l.current.revert()},e),{context:l.current,contextSafe:u.current}};Y3.register=i=>{r8=i};Y3.headless=!0;nc.registerPlugin(Ln,Y3);const KS=({text:i,className:e="",delay:t=100,duration:n=1,stagger:r=.02,ease:a="power2.out",threshold:l=.1,rootMargin:u="-10%",textAlign:d="center",onLetterAnimationComplete:p,enableScrollTrigger:v=!0})=>{const _=gt.useRef(null),y=gt.useRef(!1);Y3(()=>{if(!_.current||y.current)return;const M=_.current.querySelectorAll(".split-char"),E={opacity:1,y:0,filter:"blur(0px)",scale:1,duration:n,ease:a,stagger:r,onComplete:()=>{y.current=!0,p&&p()}};v&&(E.scrollTrigger={trigger:_.current,start:`top bottom${u}`,toggleActions:"play none none reverse"}),nc.fromTo(M,{opacity:0,y:20,filter:"blur(10px)",scale:1.2},{...E,delay:t})},{scope:_,dependencies:[i,t,n,a,r,l,u]});const x=i.split("").map((M,E)=>fe.jsx("span",{className:"split-char inline-block",style:{willChange:"opacity, transform, filter"},children:M===" "?"":M},E));return fe.jsx("p",{ref:_,className:`split-parent overflow-hidden inline-block ${e}`,style:{textAlign:d,whiteSpace:"normal"},children:x})};function JS({title:i,description:e,imageUrl:t,techStack:n=[],demoLink:r,repoLink:a,onClick:l,displayTitle:u}){return fe.jsxs("div",{onClick:l,className:"bg-[#111] rounded-2xl overflow-hidden border border-white/10 hover:border-white/20 transition-all duration-300 hover:transform hover:-translate-y-1 group cursor-pointer",children:[fe.jsxs("div",{className:"relative aspect-video overflow-hidden",children:[fe.jsx("img",{src:t,alt:i,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}),fe.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end p-6",children:fe.jsxs("div",{className:"flex gap-4",onClick:d=>d.stopPropagation(),children:[r&&fe.jsx("a",{href:r,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-lg transition-colors",children:"Live Demo"}),a&&fe.jsx("a",{href:a,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 bg-white/10 hover:bg-white/20 text-white text-sm font-medium rounded-lg backdrop-blur-sm transition-colors",children:"GitHub"})]})})]}),fe.jsxs("div",{className:"p-6",children:[fe.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:u||i}),fe.jsx("p",{className:"text-gray-400 mb-4 line-clamp-2 whitespace-pre-line",children:e}),fe.jsx("div",{className:"flex flex-wrap gap-2",children:n.map((d,p)=>fe.jsx("span",{className:"px-3 py-1 bg-white/5 border border-white/10 rounded-full text-xs font-medium text-gray-300",children:d},p))})]})]})}function ek({project:i,onClose:e}){const[t,n]=gt.useState(!1);gt.useEffect(()=>{n(!0);const a=l=>{l.key==="Escape"&&e()};return window.addEventListener("keydown",a),()=>window.removeEventListener("keydown",a)},[e]);const r=()=>{n(!1),setTimeout(e,300)};return i?fe.jsxs("div",{className:`fixed inset-0 z-50 flex items-center justify-center p-4 sm:p-8 transition-opacity duration-300 ${t?"opacity-100":"opacity-0"}`,children:[fe.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:r}),fe.jsx("div",{className:`relative w-full max-w-6xl bg-[#0a0a0a] border border-white/10 rounded-xl overflow-hidden shadow-2xl transform transition-all duration-500 ease-out ${t?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:fe.jsxs("div",{className:"flex flex-col md:flex-row h-[85vh] md:h-[650px]",children:[fe.jsxs("div",{className:"w-full md:w-5/12 h-64 md:h-full relative bg-black border-r border-white/5",children:[fe.jsx("img",{src:i.imageUrl,alt:i.title,className:"w-full h-full object-cover opacity-90"}),fe.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-[#0a0a0a] via-transparent to-transparent md:bg-gradient-to-r md:from-transparent md:to-[#0a0a0a]/50"})]}),fe.jsxs("div",{className:"w-full md:w-7/12 p-8 md:p-14 overflow-y-auto flex flex-col bg-[#0a0a0a]",children:[fe.jsx("button",{onClick:r,className:"absolute top-4 right-4 p-2 text-white/50 hover:text-white transition-colors z-10",children:fe.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[fe.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),fe.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}),fe.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:i.title}),fe.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:i.techStack?.map((a,l)=>fe.jsx("span",{className:"px-3 py-1 bg-white/5 border border-white/10 rounded-full text-xs font-medium text-blue-400",children:a},l))}),fe.jsx("div",{className:"prose prose-invert max-w-none mb-8 text-gray-300",children:fe.jsx("p",{className:"text-lg leading-relaxed whitespace-pre-line",children:i.description})}),fe.jsxs("div",{className:"mt-auto flex gap-4 pt-6 border-t border-white/10",children:[i.demoLink&&fe.jsxs("a",{href:i.demoLink,target:"_blank",rel:"noopener noreferrer",className:"flex-1 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white text-center font-medium rounded-xl transition-colors flex items-center justify-center gap-2",children:[fe.jsx("span",{children:"Live Demo"}),fe.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[fe.jsx("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}),fe.jsx("polyline",{points:"15 3 21 3 21 9"}),fe.jsx("line",{x1:"10",y1:"14",x2:"21",y2:"3"})]})]}),i.repoLink&&fe.jsxs("a",{href:i.repoLink,target:"_blank",rel:"noopener noreferrer",className:"flex-1 px-6 py-3 bg-white/5 hover:bg-white/10 text-white text-center font-medium rounded-xl border border-white/10 transition-colors flex items-center justify-center gap-2",children:[fe.jsx("span",{children:"GitHub Code"}),fe.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:fe.jsx("path",{d:"M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"})})]})]})]})]})})]}):null}function tk(){return fe.jsxs("div",{className:"absolute inset-0 w-full h-full overflow-hidden pointer-events-none select-none z-0",children:[fe.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black via-[#0a0a0a] to-[#1F1F1F]"}),fe.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:"linear-gradient(to right, #333 1px, transparent 1px), linear-gradient(to bottom, #333 1px, transparent 1px)",backgroundSize:"40px 40px"}})]})}function nk({company:i,role:e,date:t,location:n,description:r,stack:a=[]}){return fe.jsxs("div",{className:"bg-[#111] border border-white/10 p-6 rounded-xl hover:border-white/20 transition-colors group",children:[fe.jsxs("div",{className:"flex justify-between items-start mb-2",children:[fe.jsxs("div",{children:[fe.jsx("h4",{className:"text-xl font-bold text-white group-hover:text-white transition-colors",children:e}),fe.jsx("p",{className:"text-white/70",children:i})]}),fe.jsxs("div",{className:"text-right",children:[fe.jsx("span",{className:"block text-xs text-white/50 font-mono mb-1",children:t}),fe.jsx("span",{className:"block text-xs text-white/50",children:n})]})]}),fe.jsx("p",{className:"text-white/60 text-sm mb-4 leading-relaxed whitespace-pre-line",children:r}),fe.jsx("div",{className:"flex flex-wrap gap-2",children:a.map((l,u)=>fe.jsx("span",{className:"px-2 py-1 text-[10px] uppercase tracking-wider bg-white/5 text-white/50 rounded border border-white/5",children:l},u))})]})}var s8={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},nA=oc.createContext&&oc.createContext(s8),ik=["attr","size","title"];function rk(i,e){if(i==null)return{};var t=sk(i,e),n,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(r=0;r<a.length;r++)n=a[r],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(i,n)&&(t[n]=i[n])}return t}function sk(i,e){if(i==null)return{};var t={};for(var n in i)if(Object.prototype.hasOwnProperty.call(i,n)){if(e.indexOf(n)>=0)continue;t[n]=i[n]}return t}function i3(){return i3=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i},i3.apply(this,arguments)}function iA(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(i,r).enumerable})),t.push.apply(t,n)}return t}function r3(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?iA(Object(t),!0).forEach(function(n){ak(i,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):iA(Object(t)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(t,n))})}return i}function ak(i,e,t){return e=ok(e),e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function ok(i){var e=lk(i,"string");return typeof e=="symbol"?e:e+""}function lk(i,e){if(typeof i!="object"||!i)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var n=t.call(i,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function a8(i){return i&&i.map((e,t)=>oc.createElement(e.tag,r3({key:t},e.attr),a8(e.child)))}function Kn(i){return e=>oc.createElement(ck,i3({attr:r3({},i.attr)},e),a8(i.child))}function ck(i){var e=t=>{var{attr:n,size:r,title:a}=i,l=rk(i,ik),u=r||t.size||"1em",d;return t.className&&(d=t.className),i.className&&(d=(d?d+" ":"")+i.className),oc.createElement("svg",i3({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,n,l,{className:d,style:r3(r3({color:i.color||t.color},t.style),i.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),a&&oc.createElement("title",null,a),i.children)};return nA!==void 0?oc.createElement(nA.Consumer,null,t=>e(t)):e(s8)}function uk(i){return Kn({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M9.85 8.42c-.37-.15-.77-.21-1.18-.2-.26 0-.49 0-.68.01-.2-.01-.34 0-.41.01v3.36c.14.01.27.02.39.02h.53c.39 0 .78-.06 1.15-.18.32-.09.6-.28.82-.53.21-.25.31-.59.31-1.03.01-.31-.07-.62-.23-.89-.17-.26-.41-.46-.7-.57zM19.75.3H4.25C1.9.3 0 2.2 0 4.55v14.899c0 2.35 1.9 4.25 4.25 4.25h15.5c2.35 0 4.25-1.9 4.25-4.25V4.55C24 2.2 22.1.3 19.75.3zm-7.391 11.65c-.399.56-.959.98-1.609 1.22-.68.25-1.43.34-2.25.34-.24 0-.4 0-.5-.01s-.24-.01-.43-.01v3.209c.01.07-.04.131-.11.141H5.52c-.08 0-.12-.041-.12-.131V6.42c0-.07.03-.11.1-.11.17 0 .33 0 .56-.01.24-.01.49-.01.76-.02s.56-.01.87-.02c.31-.01.61-.01.91-.01.82 0 1.5.1 2.06.31.5.17.96.45 1.34.82.32.32.57.71.73 1.14.149.42.229.85.229 1.3.001.86-.199 1.57-.6 2.13zm7.091 3.89c-.28.4-.671.709-1.12.891-.49.209-1.09.318-1.811.318-.459 0-.91-.039-1.359-.129-.35-.061-.7-.17-1.02-.32-.07-.039-.121-.109-.111-.189v-1.74c0-.029.011-.07.041-.09.029-.02.06-.01.09.01.39.23.8.391 1.24.49.379.1.779.15 1.18.15.38 0 .65-.051.83-.141.16-.07.27-.24.27-.42 0-.141-.08-.27-.24-.4-.16-.129-.489-.279-.979-.471-.51-.18-.979-.42-1.42-.719-.31-.221-.569-.51-.761-.85-.159-.32-.239-.67-.229-1.021 0-.43.12-.84.341-1.21.25-.4.619-.72 1.049-.92.469-.239 1.059-.349 1.769-.349.41 0 .83.03 1.24.09.3.04.59.12.86.23.039.01.08.05.1.09.01.04.02.08.02.12v1.63c0 .04-.02.08-.05.1-.09.02-.14.02-.18 0-.3-.16-.62-.27-.96-.34-.37-.08-.74-.13-1.12-.13-.2-.01-.41.02-.601.07-.129.03-.24.1-.31.2-.05.08-.08.18-.08.27s.04.18.101.26c.09.11.209.2.34.27.229.12.47.23.709.33.541.18 1.061.43 1.541.73.33.209.6.49.789.83.16.318.24.67.23 1.029.011.471-.129.94-.389 1.331z"},child:[]}]})(i)}function fk(i){return Kn({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12.152 6.896c-.948 0-2.415-1.078-3.96-1.04-2.04.027-3.91 1.183-4.961 3.014-2.117 3.675-.546 9.103 1.519 12.09 1.013 1.454 2.208 3.09 3.792 3.039 1.52-.065 2.09-.987 3.935-.987 1.831 0 2.35.987 3.96.948 1.637-.026 2.676-1.48 3.676-2.948 1.156-1.688 1.636-3.325 1.662-3.415-.039-.013-3.182-1.221-3.22-4.857-.026-3.04 2.48-4.494 2.597-4.559-1.429-2.09-3.623-2.324-4.39-2.376-2-.156-3.675 1.09-4.61 1.09zM15.53 3.83c.843-1.012 1.4-2.427 1.245-3.83-1.207.052-2.662.805-3.532 1.818-.78.896-1.454 2.338-1.273 3.714 1.338.104 2.715-.688 3.559-1.701"},child:[]}]})(i)}function hk(i){return Kn({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zM6.962 7.68c.754 0 1.337.549 1.405 1.2.069.583-.171 1.097-.822 1.406-.343.171-.48.172-.549.069-.034-.069 0-.137.069-.206.617-.514.617-.926.548-1.508-.034-.378-.308-.618-.583-.618-1.2 0-2.914 2.674-2.674 4.629.103.754.549 1.646 1.509 1.646.308 0 .65-.103.96-.24.5-.264.799-.47 1.097-.8-.073-.885.704-2.046 1.851-2.046.515 0 .926.205.96.583.068.514-.377.582-.514.582s-.378-.034-.378-.17c-.034-.138.309-.07.275-.378-.035-.206-.24-.274-.446-.274-.72 0-1.131.994-1.029 1.611.035.275.172.549.447.549.205 0 .514-.31.617-.755.068-.308.343-.514.583-.514.102 0 .17.034.205.171v.138c-.034.137-.137.548-.102.651 0 .069.034.171.17.171.092 0 .436-.18.777-.459.117-.59.253-1.298.253-1.357.034-.24.137-.48.617-.48.103 0 .171.034.205.171v.138l-.136.617c.445-.583 1.097-.994 1.508-.994.172 0 .309.102.309.274 0 .103 0 .274-.069.446-.137.377-.309.96-.412 1.474 0 .137.035.274.207.274.171 0 .685-.206 1.096-.754l.007-.004c-.002-.068-.007-.134-.007-.202 0-.411.035-.754.104-.994.068-.274.411-.514.617-.514.103 0 .205.069.205.171 0 .035 0 .103-.034.137-.137.446-.24.857-.24 1.269 0 .24.034.582.102.788 0 .034.035.069.07.069.068 0 .548-.445.89-1.028-.308-.206-.48-.549-.48-.96 0-.72.446-1.097.858-1.097.343 0 .617.24.617.72 0 .308-.103.65-.274.96h.102a.77.77 0 0 0 .584-.24.293.293 0 0 1 .134-.117c.335-.425.83-.74 1.41-.74.48 0 .924.205.959.582.068.515-.378.618-.515.618l-.002-.002c-.138 0-.377-.035-.377-.172 0-.137.309-.068.274-.376-.034-.206-.24-.275-.446-.275-.686 0-1.13.891-1.028 1.611.034.275.171.583.445.583.206 0 .515-.308.652-.754.068-.274.343-.514.583-.514.103 0 .17.034.205.171 0 .069 0 .206-.137.652-.17.308-.171.48-.137.617.034.274.171.48.309.583.034.034.068.102.068.102 0 .069-.034.138-.137.138-.034 0-.068 0-.103-.035-.514-.205-.72-.548-.789-.891-.205.24-.445.377-.72.377-.445 0-.89-.411-.96-.926a1.609 1.609 0 0 1 .075-.649c-.203.13-.422.203-.623.203h-.17c-.447.652-.927 1.098-1.27 1.303a.896.896 0 0 1-.377.104c-.068 0-.171-.035-.205-.104-.095-.152-.156-.392-.193-.667-.481.527-1.145.805-1.453.805-.343 0-.548-.206-.582-.55v-.376c.102-.754.377-1.2.377-1.337a.074.074 0 0 0-.069-.07c-.24 0-1.028.824-1.166 1.373l-.103.445c-.068.309-.377.515-.582.515-.103 0-.172-.035-.206-.172v-.137l.046-.233c-.435.31-.87.508-1.075.508-.308 0-.48-.172-.514-.412-.206.274-.445.412-.754.412-.352 0-.696-.24-.862-.593-.244.275-.523.553-.852.764-.48.309-1.028.549-1.68.549-.582 0-1.097-.309-1.371-.583-.412-.377-.651-.96-.686-1.509-.205-1.68.823-3.84 2.4-4.8.378-.205.755-.343 1.132-.343zm9.77 3.291c-.104 0-.172.172-.172.343 0 .274.137.583.309.755a1.74 1.74 0 0 0 .102-.583c0-.343-.137-.515-.24-.515z"},child:[]}]})(i)}function dk(i){return Kn({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M1.5 0h21l-1.91 21.563L11.977 24l-8.565-2.438L1.5 0zm17.09 4.413L5.41 4.41l.213 2.622 10.125.002-.255 2.716h-6.64l.24 2.573h6.182l-.366 3.523-2.91.804-2.956-.81-.188-2.11h-2.61l.29 3.855L12 19.288l5.373-1.53L18.59 4.414z"},child:[]}]})(i)}function pk(i){return Kn({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M13.983 11.078h2.119a.186.186 0 00.186-.185V9.006a.186.186 0 00-.186-.186h-2.119a.185.185 0 00-.185.185v1.888c0 .102.083.185.185.185m-2.954-5.43h2.118a.186.186 0 00.186-.186V3.574a.186.186 0 00-.186-.185h-2.118a.185.185 0 00-.185.185v1.888c0 .102.082.185.185.185m0 2.716h2.118a.187.187 0 00.186-.186V6.29a.186.186 0 00-.186-.185h-2.118a.185.185 0 00-.185.185v1.887c0 .102.082.185.185.186m-2.93 0h2.12a.186.186 0 00.184-.186V6.29a.185.185 0 00-.185-.185H8.1a.185.185 0 00-.185.185v1.887c0 .102.083.185.185.186m-2.964 0h2.119a.186.186 0 00.185-.186V6.29a.185.185 0 00-.185-.185H5.136a.186.186 0 00-.186.185v1.887c0 .102.084.185.186.186m5.893 2.715h2.118a.186.186 0 00.186-.185V9.006a.186.186 0 00-.186-.186h-2.118a.185.185 0 00-.185.185v1.888c0 .102.082.185.185.185m-2.93 0h2.12a.185.185 0 00.184-.185V9.006a.185.185 0 00-.184-.186h-2.12a.185.185 0 00-.184.185v1.888c0 .102.083.185.185.185m-2.964 0h2.119a.185.185 0 00.185-.185V9.006a.185.185 0 00-.184-.186h-2.12a.186.186 0 00-.186.186v1.887c0 .102.084.185.186.185m-2.92 0h2.12a.185.185 0 00.184-.185V9.006a.185.185 0 00-.184-.186h-2.12a.185.185 0 00-.184.185v1.888c0 .102.082.185.185.185M23.763 9.89c-.065-.051-.672-.51-1.954-.51-.338.001-.676.03-1.01.087-.248-1.7-1.653-2.53-1.716-2.566l-.344-.199-.226.327c-.284.438-.49.922-.612 1.43-.23.97-.09 1.882.403 2.661-.595.332-1.55.413-1.744.42H.751a.751.751 0 00-.75.748 11.376 11.376 0 00.692 4.062c.545 1.428 1.355 2.48 2.41 3.124 1.18.723 3.1 1.137 5.275 1.137.983.003 1.963-.086 2.93-.266a12.248 12.248 0 003.823-1.389c.98-.567 1.86-1.288 2.61-2.136 1.252-1.418 1.998-2.997 2.553-4.4h.221c1.372 0 2.215-.549 2.68-1.009.309-.293.55-.65.707-1.046l.098-.288Z"},child:[]}]})(i)}function mk(i){return Kn({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M0 20.084c.043.53.23 1.063.718 1.778.58.849 1.576 1.315 2.303.567.49-.505 5.794-9.776 8.35-13.29a.761.761 0 011.248 0c2.556 3.514 7.86 12.785 8.35 13.29.727.748 1.723.282 2.303-.567.57-.835.728-1.42.728-2.046 0-.426-8.26-15.798-9.092-17.078-.8-1.23-1.044-1.498-2.397-1.542h-1.032c-1.353.044-1.597.311-2.398 1.542C8.267 3.991.33 18.758 0 19.77Z"},child:[]}]})(i)}function gk(i){return Kn({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M24 18.588a1.529 1.529 0 01-1.895-.72l-3.45-4.771-.5-.667-4.003 5.444a1.466 1.466 0 01-1.802.708l5.158-6.92-4.798-6.251a1.595 1.595 0 011.9.666l3.576 4.83 3.596-4.81a1.435 1.435 0 011.788-.668L21.708 7.9l-2.522 3.283a.666.666 0 000 .994l4.804 6.412zM.002 11.576l.42-2.075c1.154-4.103 5.858-5.81 9.094-3.27 1.895 1.489 2.368 3.597 2.275 5.973H1.116C.943 16.447 4.005 19.009 7.92 17.7a4.078 4.078 0 002.582-2.876c.207-.666.548-.78 1.174-.588a5.417 5.417 0 01-2.589 3.957 6.272 6.272 0 01-7.306-.933 6.575 6.575 0 01-1.64-3.858c0-.235-.08-.455-.134-.666A88.33 88.33 0 010 11.577zm1.127-.286h9.654c-.06-3.076-2.001-5.258-4.59-5.278-2.882-.04-4.944 2.094-5.071 5.264z"},child:[]}]})(i)}function vk(i){return Kn({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 .0387C5.3729.0384.0003 5.3931 0 11.9988c-.001 6.6066 5.372 11.9628 12 11.9625 6.628.0003 12.001-5.3559 12-11.9625-.0003-6.6057-5.3729-11.9604-12-11.96m-.829 5.4153h7.55l-7.5805 5.3284h5.1828L5.279 18.5436q2.9466-6.5444 5.892-13.0896"},child:[]}]})(i)}function _k(i){return Kn({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M15.852 8.981h-4.588V0h4.588c2.476 0 4.49 2.014 4.49 4.49s-2.014 4.491-4.49 4.491zM12.735 7.51h3.117c1.665 0 3.019-1.355 3.019-3.019s-1.355-3.019-3.019-3.019h-3.117V7.51zm0 1.471H8.148c-2.476 0-4.49-2.014-4.49-4.49S5.672 0 8.148 0h4.588v8.981zm-4.587-7.51c-1.665 0-3.019 1.355-3.019 3.019s1.354 3.02 3.019 3.02h3.117V1.471H8.148zm4.587 15.019H8.148c-2.476 0-4.49-2.014-4.49-4.49s2.014-4.49 4.49-4.49h4.588v8.98zM8.148 8.981c-1.665 0-3.019 1.355-3.019 3.019s1.355 3.019 3.019 3.019h3.117V8.981H8.148zM8.172 24c-2.489 0-4.515-2.014-4.515-4.49s2.014-4.49 4.49-4.49h4.588v4.441c0 2.503-2.047 4.539-4.563 4.539zm-.024-7.51a3.023 3.023 0 0 0-3.019 3.019c0 1.665 1.365 3.019 3.044 3.019 1.705 0 3.093-1.376 3.093-3.068v-2.97H8.148zm7.704 0h-.098c-2.476 0-4.49-2.014-4.49-4.49s2.014-4.49 4.49-4.49h.098c2.476 0 4.49 2.014 4.49 4.49s-2.014 4.49-4.49 4.49zm-.097-7.509c-1.665 0-3.019 1.355-3.019 3.019s1.355 3.019 3.019 3.019h.098c1.665 0 3.019-1.355 3.019-3.019s-1.355-3.019-3.019-3.019h-.098z"},child:[]}]})(i)}function xk(i){return Kn({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M23.546 10.93L13.067.452c-.604-.603-1.582-.603-2.188 0L8.708 2.627l2.76 2.76c.645-.215 1.379-.07 1.889.441.516.515.658 1.258.438 1.9l2.658 2.66c.645-.223 1.387-.078 1.9.435.721.72.721 1.884 0 2.604-.719.719-1.881.719-2.6 0-.539-.541-.674-1.337-.404-1.996L12.86 8.955v6.525c.176.086.342.203.488.348.713.721.713 1.883 0 2.6-.719.721-1.889.721-2.609 0-.719-.719-.719-1.879 0-2.598.182-.18.387-.316.605-.406V8.835c-.217-.091-.424-.222-.6-.401-.545-.545-.676-1.342-.396-2.009L7.636 3.7.45 10.881c-.6.605-.6 1.584 0 2.189l10.48 10.477c.604.604 1.582.604 2.186 0l10.43-10.43c.605-.603.605-1.582 0-2.187"},child:[]}]})(i)}function yk(i){return Kn({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"},child:[]}]})(i)}function bk(i){return Kn({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M1.5 0h21l-1.91 21.563L11.977 24l-8.564-2.438L1.5 0zm7.031 9.75l-.232-2.718 10.059.003.23-2.622L5.412 4.41l.698 8.01h9.126l-.326 3.426-2.91.804-2.955-.81-.188-2.11H6.248l.33 4.171L12 19.351l5.379-1.443.744-8.157H8.531z"},child:[]}]})(i)}function Sk(i){return Kn({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M0 0v24h24V0zm3.723 3.111h5v1.834h-1.39v6.277h1.39v1.834h-5v-1.834h1.444V4.945H3.723zm11.055 0H17v6.5c0 .612-.055 1.111-.222 1.556-.167.444-.39.777-.723 1.11-.277.279-.666.557-1.11.668a3.933 3.933 0 0 1-1.445.278c-.778 0-1.444-.167-1.944-.445a4.81 4.81 0 0 1-1.279-1.056l1.39-1.555c.277.334.555.555.833.722.277.167.611.278.945.278.389 0 .721-.111 1-.389.221-.278.333-.667.333-1.278zM2.222 19.5h9V21h-9z"},child:[]}]})(i)}function Mk(i){return Kn({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M0 0h24v24H0V0zm22.034 18.276c-.175-1.095-.888-2.015-3.003-2.873-.736-.345-1.554-.585-1.797-1.14-.091-.33-.105-.51-.046-.705.15-.646.915-.84 1.515-.66.39.12.75.42.976.9 1.034-.676 1.034-.676 1.755-1.125-.27-.42-.404-.601-.586-.78-.63-.705-1.469-1.065-2.834-1.034l-.705.089c-.676.165-1.32.525-1.71 1.005-1.14 1.291-.811 3.541.569 4.471 1.365 1.02 3.361 1.244 3.616 2.205.24 1.17-.87 1.545-1.966 1.41-.811-.18-1.26-.586-1.755-1.336l-1.83 1.051c.21.48.45.689.81 1.109 1.74 1.756 6.09 1.666 6.871-1.004.029-.09.24-.705.074-1.65l.046.067zm-8.983-7.245h-2.248c0 1.938-.009 3.864-.009 5.805 0 1.232.063 2.363-.138 2.711-.33.689-1.18.601-1.566.48-.396-.196-.597-.466-.83-.855-.063-.105-.11-.196-.127-.196l-1.825 1.125c.305.63.75 1.172 1.324 1.517.855.51 2.004.675 3.207.405.783-.226 1.458-.691 1.811-1.411.51-.93.402-2.07.397-3.346.012-2.054 0-4.109 0-6.179l.004-.056z"},child:[]}]})(i)}function Tk(i){return Kn({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M2.872 24h-.975a3.866 3.866 0 01-.07-.197c-.215-.666-.594-1.49-.692-2.154-.146-.984.78-1.039 1.374-1.465.915-.66 1.635-1.025 2.627-1.62.295-.179 1.182-.624 1.281-.829.201-.408-.345-.982-.49-1.3-.225-.507-.345-.937-.376-1.435-.824-.13-1.455-.627-1.844-1.185-.63-.925-1.066-2.635-.525-3.936.045-.103.254-.305.285-.463.06-.308-.105-.72-.12-1.048-.06-1.692.284-3.15 1.425-3.66.463-1.84 2.113-2.453 3.673-3.367.58-.342 1.224-.562 1.89-.807 2.372-.877 6.027-.712 7.994.783.836.633 2.176 1.97 2.656 2.939 1.262 2.555 1.17 6.825.287 9.934-.12.421-.29 1.032-.533 1.533-.168.35-.689 1.05-.625 1.36.064.314 1.19 1.17 1.432 1.395.434.422 1.26.975 1.324 1.5.07.557-.248 1.336-.41 1.875-.217.721-.436 1.441-.654 2.131H2.87zm11.104-3.54c-.545-.3-1.361-.622-2.065-.757-.87-.164-.78 1.188-.75 1.994.03.643.36 1.316.51 1.744.076.197.09.41.256.449.3.068 1.29-.326 1.575-.479.6-.328 1.064-.844 1.574-1.189.016-.17.016-.34.03-.508a2.648 2.648 0 00-1.095-.277c.314-.15.75-.15 1.035-.332l.016-.193c-.496-.03-.69-.254-1.021-.436zm7.454 2.935a17.78 17.78 0 00.465-1.752c.06-.287.215-.918.178-1.176-.059-.459-.684-.799-1.004-1.086-.584-.525-.95-.975-1.56-1.469-.249.375-.78.615-.983.914 1.447-.689 1.71 2.625 1.141 3.69.09.329.391.45.514.735l-.086.166h1.29c.013 0 .03 0 .044.014zm-6.634-.012c-.05-.074-.1-.135-.15-.209l-.301.195h.45zm2.77 0c.008-.209.018-.404.03-.598-.53.029-.825-.48-1.196-.527-.324-.045-.6.361-1.02.195-.095.105-.183.227-.284.316.154.18.295.375.424.584h.815c.014-.164.135-.285.3-.285.165 0 .284.121.284.27h.66zm2.116 0c-.314-.479-.947-.898-1.68-.555l-.03.541h1.71zm-8.51 0l-.104-.344c-.225-.72-.36-1.26-.405-1.68-.914-.436-1.875-.87-2.654-1.426-.15-.105-1.109-1.35-1.23-1.305-1.739.676-3.359 1.86-4.814 2.984.256.557.48 1.141.69 1.74h8.505zm8.265-2.113c-.029-.512-.164-1.56-.48-1.74-.66-.39-1.846.78-2.34.943.045.15.135.271.15.48.285-.074.645-.029.898.092-.299.03-.629.03-.824.164-.074.195.016.48-.029.764.69.197 1.5.303 2.385.332.164-.227.225-.645.211-1.082zm-4.08-.36c-.044.375.046.51.12.943 1.26.391 1.034-1.74-.135-.959zM8.76 19.5c-.45.457 1.27 1.082 1.814 1.115 0-.29.165-.564.135-.77-.65-.118-1.502-.042-1.945-.347zm5.565.215c0 .043-.061.03-.068.064.58.451 1.014.545 1.802.51.354-.262.67-.563 1.043-.807-.855.074-1.931.607-2.774.23zm3.42-17.726c-1.606-.906-4.35-1.591-6.076-.731-1.38.692-3.27 1.84-3.899 3.292.6 1.402-.166 2.686-.226 4.109-.018.757.36 1.42.391 2.242-.2.338-.825.38-1.26.356-.146-.729-.4-1.549-1.155-1.63-1.064-.116-1.845.764-1.89 1.683-.06 1.08.833 2.864 2.085 2.745.488-.046.608-.54 1.139-.54.285.57-.445.75-.523 1.154-.016.105.06.511.104.705.233.944.744 2.16 1.245 2.88.635.9 1.884 1.051 3.229 1.141.24-.525 1.125-.48 1.706-.346-.691-.27-1.336-.945-1.875-1.529-.615-.676-1.23-1.41-1.261-2.28 1.155 1.604 2.1 3 4.2 3.704 1.59.525 3.45-.254 4.664-1.109.51-.359.811-.93 1.17-1.439 1.35-1.936 1.98-4.71 1.846-7.394-.06-1.111-.06-2.221-.436-2.955-.389-.781-1.695-1.471-2.475-.781-.15-.764.63-1.23 1.545-.96-.66-.854-1.336-1.858-2.266-2.384zM13.58 14.896c.615 1.544 2.724 1.363 4.505 1.323-.084.194-.256.435-.465.515-.57.232-2.145.408-2.937-.012-.506-.27-.824-.873-1.102-1.227-.137-.172-.795-.608-.012-.609zm.164-.87c.893.464 2.52.517 3.731.48.066.267.066.593.068.913-1.55.08-3.386-.304-3.794-1.395h-.005zm6.675-.586c-.473.9-1.145 1.897-2.539 1.928-.023-.284-.045-.735 0-.904 1.064-.103 1.727-.646 2.543-1.017zm-.649-.667c-1.02.66-2.154 1.375-3.824 1.21-.351-.31-.485-1-.14-1.458.181.313.06.885.57.97.944.165 2.038-.579 2.73-.84.42-.713-.046-.976-.42-1.433-.782-.93-1.83-2.1-1.802-3.51.314-.224.346.346.391.45.404.96 1.424 2.175 2.174 3 .18.21.48.39.51.524.092.39-.254.854-.209 1.11zm-13.439-.675c-.314-.184-.393-.99-.768-1.01-.535-.03-.438 1.05-.436 1.68-.37-.33-.435-1.365-.164-1.89-.308-.15-.445.164-.618.284.22-1.59 2.34-.734 1.99.96zM4.713 5.995c-.685.756-.54 2.174-.459 3.188 1.244-.785 2.898.06 2.883 1.394.595-.016.223-.744.115-1.215-.353-1.528.592-3.187.041-4.59-1.064.084-1.939.52-2.578 1.215zm9.12 1.113c.307.562.404 1.148.84 1.57.195.19.574.424.387.95-.045.121-.365.391-.551.45-.674.195-2.254.03-1.721-.81.563.015 1.314.36 1.732-.045-.314-.524-.885-1.53-.674-2.13zm6.198-.013h.068c.33.668.6 1.375 1.004 1.965-.27.628-2.053 1.19-2.023.057.39-.17 1.05-.035 1.395-.25-.193-.556-.48-1.006-.434-1.771zm-6.927-1.617c-1.422-.33-2.131.592-2.56 1.553-.384-.094-.231-.615-.135-.883.255-.701 1.28-1.633 2.119-1.506.359.057.848.386.576.834zM9.642 1.593c-1.56.44-3.56 1.574-4.2 2.974.495-.07.84-.321 1.33-.351.186-.016.428.074.641.015.424-.104.78-1.065 1.102-1.41.31-.345.685-.496.94-.81.167-.09.409-.074.42-.33-.073-.075-.15-.135-.232-.105v.017z"},child:[]}]})(i)}function Ek(i){return Kn({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12.504 0c-.155 0-.315.008-.48.021-4.226.333-3.105 4.807-3.17 6.298-.076 1.092-.3 1.953-1.05 3.02-.885 1.051-2.127 2.75-2.716 4.521-.278.832-.41 1.684-.287 2.489a.424.424 0 00-.11.135c-.26.268-.45.6-.663.839-.199.199-.485.267-.797.4-.313.136-.658.269-.864.68-.09.189-.136.394-.132.602 0 .199.027.4.055.536.058.399.116.728.04.97-.249.68-.28 1.145-.106 1.484.174.334.535.47.94.601.81.2 1.91.135 2.774.6.926.466 1.866.67 2.616.47.526-.116.97-.464 1.208-.946.587-.003 1.23-.269 2.26-.334.699-.058 1.574.267 2.577.2.025.134.063.198.114.333l.003.003c.391.778 1.113 1.132 1.884 1.071.771-.06 1.592-.536 2.257-1.306.631-.765 1.683-1.084 2.378-1.503.348-.199.629-.469.649-.853.023-.4-.2-.811-.714-1.376v-.097l-.003-.003c-.17-.2-.25-.535-.338-.926-.085-.401-.182-.786-.492-1.046h-.003c-.059-.054-.123-.067-.188-.135a.357.357 0 00-.19-.064c.431-1.278.264-2.55-.173-3.694-.533-1.41-1.465-2.638-2.175-3.483-.796-1.005-1.576-1.957-1.56-3.368.026-2.152.236-6.133-3.544-6.139zm.529 3.405h.013c.213 0 .396.062.584.198.19.135.33.332.438.533.105.259.158.459.166.724 0-.02.006-.04.006-.06v.105a.086.086 0 01-.004-.021l-.004-.024a1.807 1.807 0 01-.15.706.953.953 0 01-.213.335.71.71 0 00-.088-.042c-.104-.045-.198-.064-.284-.133a1.312 1.312 0 00-.22-.066c.05-.06.146-.133.183-.198.053-.128.082-.264.088-.402v-.02a1.21 1.21 0 00-.061-.4c-.045-.134-.101-.2-.183-.333-.084-.066-.167-.132-.267-.132h-.016c-.093 0-.176.03-.262.132a.8.8 0 00-.205.334 1.18 1.18 0 00-.09.4v.019c.002.089.008.179.02.267-.193-.067-.438-.135-.607-.202a1.635 1.635 0 01-.018-.2v-.02a1.772 1.772 0 01.15-.768c.082-.22.232-.406.43-.533a.985.985 0 01.594-.2zm-2.962.059h.036c.142 0 .27.048.399.135.146.129.264.288.344.465.09.199.14.4.153.667v.004c.007.134.006.2-.002.266v.08c-.03.007-.056.018-.083.024-.152.055-.274.135-.393.2.012-.09.013-.18.003-.267v-.015c-.012-.133-.04-.2-.082-.333a.613.613 0 00-.166-.267.248.248 0 00-.183-.064h-.021c-.071.006-.13.04-.186.132a.552.552 0 00-.12.27.944.944 0 00-.023.33v.015c.012.135.037.2.08.334.046.134.098.2.166.268.01.009.02.018.034.024-.07.057-.117.07-.176.136a.304.304 0 01-.131.068 2.62 2.62 0 01-.275-.402 1.772 1.772 0 01-.155-.667 1.759 1.759 0 01.08-.668 1.43 1.43 0 01.283-.535c.128-.133.26-.2.418-.2zm1.37 1.706c.332 0 .733.065 1.216.399.293.2.523.269 1.052.468h.003c.255.136.405.266.478.399v-.131a.571.571 0 01.016.47c-.123.31-.516.643-1.063.842v.002c-.268.135-.501.333-.775.465-.276.135-.588.292-1.012.267a1.139 1.139 0 01-.448-.067 3.566 3.566 0 01-.322-.198c-.195-.135-.363-.332-.612-.465v-.005h-.005c-.4-.246-.616-.512-.686-.71-.07-.268-.005-.47.193-.6.224-.135.38-.271.483-.336.104-.074.143-.102.176-.131h.002v-.003c.169-.202.436-.47.839-.601.139-.036.294-.065.466-.065zm2.8 2.142c.358 1.417 1.196 3.475 1.735 4.473.286.534.855 1.659 1.102 3.024.156-.005.33.018.513.064.646-1.671-.546-3.467-1.089-3.966-.22-.2-.232-.335-.123-.335.59.534 1.365 1.572 1.646 2.757.13.535.16 1.104.021 1.67.067.028.135.06.205.067 1.032.534 1.413.938 1.23 1.537v-.043c-.06-.003-.12 0-.18 0h-.016c.151-.467-.182-.825-1.065-1.224-.915-.4-1.646-.336-1.77.465-.008.043-.013.066-.018.135-.068.023-.139.053-.209.064-.43.268-.662.669-.793 1.187-.13.533-.17 1.156-.205 1.869v.003c-.02.334-.17.838-.319 1.35-1.5 1.072-3.58 1.538-5.348.334a2.645 2.645 0 00-.402-.533 1.45 1.45 0 00-.275-.333c.182 0 .338-.03.465-.067a.615.615 0 00.314-.334c.108-.267 0-.697-.345-1.163-.345-.467-.931-.995-1.788-1.521-.63-.4-.986-.87-1.15-1.396-.165-.534-.143-1.085-.015-1.645.245-1.07.873-2.11 1.274-2.763.107-.065.037.135-.408.974-.396.751-1.14 2.497-.122 3.854a8.123 8.123 0 01.647-2.876c.564-1.278 1.743-3.504 1.836-5.268.048.036.217.135.289.202.218.133.38.333.59.465.21.201.477.335.876.335.039.003.075.006.11.006.412 0 .73-.134.997-.268.29-.134.52-.334.74-.4h.005c.467-.135.835-.402 1.044-.7zm2.185 8.958c.037.6.343 1.245.882 1.377.588.134 1.434-.333 1.791-.765l.211-.01c.315-.007.577.01.847.268l.003.003c.208.199.305.53.391.876.085.4.154.78.409 1.066.486.527.645.906.636 1.14l.003-.007v.018l-.003-.012c-.015.262-.185.396-.498.595-.63.401-1.746.712-2.457 1.57-.618.737-1.37 1.14-2.036 1.191-.664.053-1.237-.2-1.574-.898l-.005-.003c-.21-.4-.12-1.025.056-1.69.176-.668.428-1.344.463-1.897.037-.714.076-1.335.195-1.814.12-.465.308-.797.641-.984l.045-.022zm-10.814.049h.01c.053 0 .105.005.157.014.376.055.706.333 1.023.752l.91 1.664.003.003c.243.533.754 1.064 1.189 1.637.434.598.77 1.131.729 1.57v.006c-.057.744-.48 1.148-1.125 1.294-.645.135-1.52.002-2.395-.464-.968-.536-2.118-.469-2.857-.602-.369-.066-.61-.2-.723-.4-.11-.2-.113-.602.123-1.23v-.004l.002-.003c.117-.334.03-.752-.027-1.118-.055-.401-.083-.71.043-.94.16-.334.396-.4.69-.533.294-.135.64-.202.915-.47h.002v-.002c.256-.268.445-.601.668-.838.19-.201.38-.336.663-.336zm7.159-9.074c-.435.201-.945.535-1.488.535-.542 0-.97-.267-1.28-.466-.154-.134-.28-.268-.373-.335-.164-.134-.144-.333-.074-.333.109.016.129.134.199.2.096.066.215.2.36.333.292.2.68.467 1.167.467.485 0 1.053-.267 1.398-.466.195-.135.445-.334.648-.467.156-.136.149-.267.279-.267.128.016.034.134-.147.332a8.097 8.097 0 01-.69.468zm-1.082-1.583V5.64c-.006-.02.013-.042.029-.05.074-.043.18-.027.26.004.063 0 .16.067.15.135-.006.049-.085.066-.135.066-.055 0-.092-.043-.141-.068-.052-.018-.146-.008-.163-.065zm-.551 0c-.02.058-.113.049-.166.066-.047.025-.086.068-.14.068-.05 0-.13-.02-.136-.068-.01-.066.088-.133.15-.133.08-.031.184-.047.259-.005.019.009.036.03.03.05v.02h.003z"},child:[]}]})(i)}function Ak(i){return Kn({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M17.193 9.555c-1.264-5.58-4.252-7.414-4.573-8.115-.28-.394-.53-.954-.735-1.44-.036.495-.055.685-.523 1.184-.723.566-4.438 3.682-4.74 10.02-.282 5.912 4.27 9.435 4.888 9.884l.07.05A73.49 73.49 0 0111.91 24h.481c.114-1.032.284-2.056.51-3.07.417-.296.604-.463.85-.693a11.342 11.342 0 003.639-8.464c.01-.814-.103-1.662-.197-2.218zm-5.336 8.195s0-8.291.275-8.29c.213 0 .49 10.695.49 10.695-.381-.045-.765-1.76-.765-2.405z"},child:[]}]})(i)}function wk(i){return Kn({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M16.405 5.501c-.115 0-.193.014-.274.033v.013h.014c.054.104.146.18.214.273.054.107.1.214.154.32l.014-.015c.094-.066.14-.172.14-.333-.04-.047-.046-.094-.08-.14-.04-.067-.126-.1-.18-.153zM5.77 18.695h-.927a50.854 50.854 0 00-.27-4.41h-.008l-1.41 4.41H2.45l-1.4-4.41h-.01a72.892 72.892 0 00-.195 4.41H0c.055-1.966.192-3.81.41-5.53h1.15l1.335 4.064h.008l1.347-4.064h1.095c.242 2.015.384 3.86.428 5.53zm4.017-4.08c-.378 2.045-.876 3.533-1.492 4.46-.482.716-1.01 1.073-1.583 1.073-.153 0-.34-.046-.566-.138v-.494c.11.017.24.026.386.026.268 0 .483-.075.647-.222.197-.18.295-.382.295-.605 0-.155-.077-.47-.23-.944L6.23 14.615h.91l.727 2.36c.164.536.233.91.205 1.123.4-1.064.678-2.227.835-3.483zm12.325 4.08h-2.63v-5.53h.885v4.85h1.745zm-3.32.135l-1.016-.5c.09-.076.177-.158.255-.25.433-.506.648-1.258.648-2.253 0-1.83-.718-2.746-2.155-2.746-.704 0-1.254.232-1.65.697-.43.508-.646 1.256-.646 2.245 0 .972.19 1.686.574 2.14.35.41.877.615 1.583.615.264 0 .506-.033.725-.098l1.325.772.36-.622zM15.5 17.588c-.225-.36-.337-.94-.337-1.736 0-1.393.424-2.09 1.27-2.09.443 0 .77.167.977.5.224.362.336.936.336 1.723 0 1.404-.424 2.108-1.27 2.108-.445 0-.77-.167-.978-.5zm-1.658-.425c0 .47-.172.856-.516 1.156-.344.3-.803.45-1.384.45-.543 0-1.064-.172-1.573-.515l.237-.476c.438.22.833.328 1.19.328.332 0 .593-.073.783-.22a.754.754 0 00.3-.615c0-.33-.23-.61-.648-.845-.388-.213-1.163-.657-1.163-.657-.422-.307-.632-.636-.632-1.177 0-.45.157-.81.47-1.085.315-.278.72-.415 1.22-.415.512 0 .98.136 1.4.41l-.213.476a2.726 2.726 0 00-1.064-.23c-.283 0-.502.068-.654.206a.685.685 0 00-.248.524c0 .328.234.61.666.85.393.215 1.187.67 1.187.67.433.305.648.63.648 1.168zm9.382-5.852c-.535-.014-.95.04-1.297.188-.1.04-.26.04-.274.167.055.053.063.14.11.214.08.134.218.313.346.407.14.11.28.216.427.31.26.16.555.255.81.416.145.094.293.213.44.313.073.05.12.14.214.172v-.02c-.046-.06-.06-.147-.105-.214-.067-.067-.134-.127-.2-.193a3.223 3.223 0 00-.695-.675c-.214-.146-.682-.35-.77-.595l-.013-.014c.146-.013.32-.066.46-.106.227-.06.435-.047.67-.106.106-.027.213-.06.32-.094v-.06c-.12-.12-.21-.283-.334-.395a8.867 8.867 0 00-1.104-.823c-.21-.134-.476-.22-.697-.334-.08-.04-.214-.06-.26-.127-.12-.146-.19-.34-.275-.514a17.69 17.69 0 01-.547-1.163c-.12-.262-.193-.523-.34-.763-.69-1.137-1.437-1.826-2.586-2.5-.247-.14-.543-.2-.856-.274-.167-.008-.334-.02-.5-.027-.11-.047-.216-.174-.31-.235-.38-.24-1.364-.76-1.644-.072-.18.434.267.862.422 1.082.115.153.26.328.34.5.047.116.06.235.107.356.106.294.207.622.347.897.073.14.153.287.247.413.054.073.146.107.167.227-.094.136-.1.334-.154.5-.24.757-.146 1.693.194 2.25.107.166.362.534.703.393.3-.12.234-.5.32-.835.02-.08.007-.133.048-.187v.015c.094.188.188.367.274.555.206.328.566.668.867.895.16.12.287.328.487.402v-.02h-.015c-.043-.058-.1-.086-.154-.133a3.445 3.445 0 01-.35-.4 8.76 8.76 0 01-.747-1.218c-.11-.21-.202-.436-.29-.643-.04-.08-.04-.2-.107-.24-.1.146-.247.273-.32.453-.127.288-.14.642-.188 1.01-.027.007-.014 0-.027.014-.214-.052-.287-.274-.367-.46-.2-.475-.233-1.238-.06-1.785.047-.14.247-.582.167-.716-.042-.127-.174-.2-.247-.303a2.478 2.478 0 01-.24-.427c-.16-.374-.24-.788-.414-1.162-.08-.173-.22-.354-.334-.513-.127-.18-.267-.307-.368-.52-.033-.073-.08-.194-.027-.274.014-.054.042-.075.094-.09.088-.072.335.022.422.062.247.1.455.194.662.334.094.066.195.193.315.226h.14c.214.047.455.014.655.073.355.114.675.28.962.46a5.953 5.953 0 012.085 2.286c.08.154.115.295.188.455.14.33.313.663.455.982.14.315.275.636.476.897.1.14.502.213.682.286.133.06.34.115.46.188.23.14.454.3.67.454.11.076.443.243.463.378z"},child:[]}]})(i)}function Ck(i){return Kn({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M11.998,24c-0.321,0-0.641-0.084-0.922-0.247l-2.936-1.737c-0.438-0.245-0.224-0.332-0.08-0.383 c0.585-0.203,0.703-0.25,1.328-0.604c0.065-0.037,0.151-0.023,0.218,0.017l2.256,1.339c0.082,0.045,0.197,0.045,0.272,0l8.795-5.076 c0.082-0.047,0.134-0.141,0.134-0.238V6.921c0-0.099-0.053-0.192-0.137-0.242l-8.791-5.072c-0.081-0.047-0.189-0.047-0.271,0 L3.075,6.68C2.99,6.729,2.936,6.825,2.936,6.921v10.15c0,0.097,0.054,0.189,0.139,0.235l2.409,1.392 c1.307,0.654,2.108-0.116,2.108-0.89V7.787c0-0.142,0.114-0.253,0.256-0.253h1.115c0.139,0,0.255,0.112,0.255,0.253v10.021 c0,1.745-0.95,2.745-2.604,2.745c-0.508,0-0.909,0-2.026-0.551L2.28,18.675c-0.57-0.329-0.922-0.945-0.922-1.604V6.921 c0-0.659,0.353-1.275,0.922-1.603l8.795-5.082c0.557-0.315,1.296-0.315,1.848,0l8.794,5.082c0.57,0.329,0.924,0.944,0.924,1.603 v10.15c0,0.659-0.354,1.273-0.924,1.604l-8.794,5.078C12.643,23.916,12.324,24,11.998,24z M19.099,13.993 c0-1.9-1.284-2.406-3.987-2.763c-2.731-0.361-3.009-0.548-3.009-1.187c0-0.528,0.235-1.233,2.258-1.233 c1.807,0,2.473,0.389,2.747,1.607c0.024,0.115,0.129,0.199,0.247,0.199h1.141c0.071,0,0.138-0.031,0.186-0.081 c0.048-0.054,0.074-0.123,0.067-0.196c-0.177-2.098-1.571-3.076-4.388-3.076c-2.508,0-4.004,1.058-4.004,2.833 c0,1.925,1.488,2.457,3.895,2.695c2.88,0.282,3.103,0.703,3.103,1.269c0,0.983-0.789,1.402-2.642,1.402 c-2.327,0-2.839-0.584-3.011-1.742c-0.02-0.124-0.126-0.215-0.253-0.215h-1.137c-0.141,0-0.254,0.112-0.254,0.253 c0,1.482,0.806,3.248,4.655,3.248C17.501,17.007,19.099,15.91,19.099,13.993z"},child:[]}]})(i)}function Rk(i){return Kn({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M7.01 10.207h-.944l-.515 2.648h.838c.556 0 .97-.105 1.242-.314.272-.21.455-.559.55-1.049.092-.47.05-.802-.124-.995-.175-.193-.523-.29-1.047-.29zM12 5.688C5.373 5.688 0 8.514 0 12s5.373 6.313 12 6.313S24 15.486 24 12c0-3.486-5.373-6.312-12-6.312zm-3.26 7.451c-.261.25-.575.438-.917.551-.336.108-.765.164-1.285.164H5.357l-.327 1.681H3.652l1.23-6.326h2.65c.797 0 1.378.209 1.744.628.366.418.476 1.002.33 1.752a2.836 2.836 0 0 1-.305.847c-.143.255-.33.49-.561.703zm4.024.715l.543-2.799c.063-.318.039-.536-.068-.651-.107-.116-.336-.174-.687-.174H11.46l-.704 3.625H9.388l1.23-6.327h1.367l-.327 1.682h1.218c.767 0 1.295.134 1.586.401s.378.7.263 1.299l-.572 2.944h-1.389zm7.597-2.265a2.782 2.782 0 0 1-.305.847c-.143.255-.33.49-.561.703a2.44 2.44 0 0 1-.917.551c-.336.108-.765.164-1.286.164h-1.18l-.327 1.682h-1.378l1.23-6.326h2.649c.797 0 1.378.209 1.744.628.366.417.477 1.001.331 1.751zM17.766 10.207h-.943l-.516 2.648h.838c.557 0 .971-.105 1.242-.314.272-.21.455-.559.551-1.049.092-.47.049-.802-.125-.995s-.524-.29-1.047-.29z"},child:[]}]})(i)}function Dk(i){return Kn({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M23.5594 14.7228a.5269.5269 0 0 0-.0563-.1191c-.139-.2632-.4768-.3418-1.0074-.2321-1.6533.3411-2.2935.1312-2.5256-.0191 1.342-2.0482 2.445-4.522 3.0411-6.8297.2714-1.0507.7982-3.5237.1222-4.7316a1.5641 1.5641 0 0 0-.1509-.235C21.6931.9086 19.8007.0248 17.5099.0005c-1.4947-.0158-2.7705.3461-3.1161.4794a9.449 9.449 0 0 0-.5159-.0816 8.044 8.044 0 0 0-1.3114-.1278c-1.1822-.0184-2.2038.2642-3.0498.8406-.8573-.3211-4.7888-1.645-7.2219.0788C.9359 2.1526.3086 3.8733.4302 6.3043c.0409.818.5069 3.334 1.2423 5.7436.4598 1.5065.9387 2.7019 1.4334 3.582.553.9942 1.1259 1.5933 1.7143 1.7895.4474.1491 1.1327.1441 1.8581-.7279.8012-.9635 1.5903-1.8258 1.9446-2.2069.4351.2355.9064.3625 1.39.3772a.0569.0569 0 0 0 .0004.0041 11.0312 11.0312 0 0 0-.2472.3054c-.3389.4302-.4094.5197-1.5002.7443-.3102.064-1.1344.2339-1.1464.8115-.0025.1224.0329.2309.0919.3268.2269.4231.9216.6097 1.015.6331 1.3345.3335 2.5044.092 3.3714-.6787-.017 2.231.0775 4.4174.3454 5.0874.2212.5529.7618 1.9045 2.4692 1.9043.2505 0 .5263-.0291.8296-.0941 1.7819-.3821 2.5557-1.1696 2.855-2.9059.1503-.8707.4016-2.8753.5388-4.1012.0169-.0703.0357-.1207.057-.1362.0007-.0005.0697-.0471.4272.0307a.3673.3673 0 0 0 .0443.0068l.2539.0223.0149.001c.8468.0384 1.9114-.1426 2.5312-.4308.6438-.2988 1.8057-1.0323 1.5951-1.6698zM2.371 11.8765c-.7435-2.4358-1.1779-4.8851-1.2123-5.5719-.1086-2.1714.4171-3.6829 1.5623-4.4927 1.8367-1.2986 4.8398-.5408 6.108-.13-.0032.0032-.0066.0061-.0098.0094-2.0238 2.044-1.9758 5.536-1.9708 5.7495-.0002.0823.0066.1989.0162.3593.0348.5873.0996 1.6804-.0735 2.9184-.1609 1.1504.1937 2.2764.9728 3.0892.0806.0841.1648.1631.2518.2374-.3468.3714-1.1004 1.1926-1.9025 2.1576-.5677.6825-.9597.5517-1.0886.5087-.3919-.1307-.813-.5871-1.2381-1.3223-.4796-.839-.9635-2.0317-1.4155-3.5126zm6.0072 5.0871c-.1711-.0428-.3271-.1132-.4322-.1772.0889-.0394.2374-.0902.4833-.1409 1.2833-.2641 1.4815-.4506 1.9143-1.0002.0992-.126.2116-.2687.3673-.4426a.3549.3549 0 0 0 .0737-.1298c.1708-.1513.2724-.1099.4369-.0417.156.0646.3078.26.3695.4752.0291.1016.0619.2945-.0452.4444-.9043 1.2658-2.2216 1.2494-3.1676 1.0128zm2.094-3.988-.0525.141c-.133.3566-.2567.6881-.3334 1.003-.6674-.0021-1.3168-.2872-1.8105-.8024-.6279-.6551-.9131-1.5664-.7825-2.5004.1828-1.3079.1153-2.4468.079-3.0586-.005-.0857-.0095-.1607-.0122-.2199.2957-.2621 1.6659-.9962 2.6429-.7724.4459.1022.7176.4057.8305.928.5846 2.7038.0774 3.8307-.3302 4.7363-.084.1866-.1633.3629-.2311.5454zm7.3637 4.5725c-.0169.1768-.0358.376-.0618.5959l-.146.4383a.3547.3547 0 0 0-.0182.1077c-.0059.4747-.054.6489-.115.8693-.0634.2292-.1353.4891-.1794 1.0575-.11 1.4143-.8782 2.2267-2.4172 2.5565-1.5155.3251-1.7843-.4968-2.0212-1.2217a6.5824 6.5824 0 0 0-.0769-.2266c-.2154-.5858-.1911-1.4119-.1574-2.5551.0165-.5612-.0249-1.9013-.3302-2.6462.0044-.2932.0106-.5909.019-.8918a.3529.3529 0 0 0-.0153-.1126 1.4927 1.4927 0 0 0-.0439-.208c-.1226-.4283-.4213-.7866-.7797-.9351-.1424-.059-.4038-.1672-.7178-.0869.067-.276.1831-.5875.309-.9249l.0529-.142c.0595-.16.134-.3257.213-.5012.4265-.9476 1.0106-2.2453.3766-5.1772-.2374-1.0981-1.0304-1.6343-2.2324-1.5098-.7207.0746-1.3799.3654-1.7088.5321a5.6716 5.6716 0 0 0-.1958.1041c.0918-1.1064.4386-3.1741 1.7357-4.4823a4.0306 4.0306 0 0 1 .3033-.276.3532.3532 0 0 0 .1447-.0644c.7524-.5706 1.6945-.8506 2.802-.8325.4091.0067.8017.0339 1.1742.081 1.939.3544 3.2439 1.4468 4.0359 2.3827.8143.9623 1.2552 1.9315 1.4312 2.4543-1.3232-.1346-2.2234.1268-2.6797.779-.9926 1.4189.543 4.1729 1.2811 5.4964.1353.2426.2522.4522.2889.5413.2403.5825.5515.9713.7787 1.2552.0696.087.1372.1714.1885.245-.4008.1155-1.1208.3825-1.0552 1.717-.0123.1563-.0423.4469-.0834.8148-.0461.2077-.0702.4603-.0994.7662zm.8905-1.6211c-.0405-.8316.2691-.9185.5967-1.0105a2.8566 2.8566 0 0 0 .135-.0406 1.202 1.202 0 0 0 .1342.103c.5703.3765 1.5823.4213 3.0068.1344-.2016.1769-.5189.3994-.9533.6011-.4098.1903-1.0957.333-1.7473.3636-.7197.0336-1.0859-.0807-1.1721-.151zm.5695-9.2712c-.0059.3508-.0542.6692-.1054 1.0017-.055.3576-.112.7274-.1264 1.1762-.0142.4368.0404.8909.0932 1.3301.1066.887.216 1.8003-.2075 2.7014a3.5272 3.5272 0 0 1-.1876-.3856c-.0527-.1276-.1669-.3326-.3251-.6162-.6156-1.1041-2.0574-3.6896-1.3193-4.7446.3795-.5427 1.3408-.5661 2.1781-.463zm.2284 7.0137a12.3762 12.3762 0 0 0-.0853-.1074l-.0355-.0444c.7262-1.1995.5842-2.3862.4578-3.4385-.0519-.4318-.1009-.8396-.0885-1.2226.0129-.4061.0666-.7543.1185-1.0911.0639-.415.1288-.8443.1109-1.3505.0134-.0531.0188-.1158.0118-.1902-.0457-.4855-.5999-1.938-1.7294-3.253-.6076-.7073-1.4896-1.4972-2.6889-2.0395.5251-.1066 1.2328-.2035 2.0244-.1859 2.0515.0456 3.6746.8135 4.8242 2.2824a.908.908 0 0 1 .0667.1002c.7231 1.3556-.2762 6.2751-2.9867 10.5405zm-8.8166-6.1162c-.025.1794-.3089.4225-.6211.4225a.5821.5821 0 0 1-.0809-.0056c-.1873-.026-.3765-.144-.5059-.3156-.0458-.0605-.1203-.178-.1055-.2844.0055-.0401.0261-.0985.0925-.1488.1182-.0894.3518-.1226.6096-.0867.3163.0441.6426.1938.6113.4186zm7.9305-.4114c.0111.0792-.049.201-.1531.3102-.0683.0717-.212.1961-.4079.2232a.5456.5456 0 0 1-.075.0052c-.2935 0-.5414-.2344-.5607-.3717-.024-.1765.2641-.3106.5611-.352.297-.0414.6111.0088.6356.1851z"},child:[]}]})(i)}function Nk(i){return Kn({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M14.25.18l.9.2.73.26.59.3.45.32.34.34.25.34.16.33.1.3.04.26.02.2-.01.13V8.5l-.05.63-.13.55-.21.46-.26.38-.3.31-.33.25-.35.19-.35.14-.33.1-.3.07-.26.04-.21.02H8.77l-.69.05-.59.14-.5.22-.41.27-.33.32-.27.35-.2.36-.15.37-.1.35-.07.32-.04.27-.02.21v3.06H3.17l-.21-.03-.28-.07-.32-.12-.35-.18-.36-.26-.36-.36-.35-.46-.32-.59-.28-.73-.21-.88-.14-1.05-.05-1.23.06-1.22.16-1.04.24-.87.32-.71.36-.57.4-.44.42-.33.42-.24.4-.16.36-.1.32-.05.24-.01h.16l.06.01h8.16v-.83H6.18l-.01-2.75-.02-.37.05-.34.11-.31.17-.28.25-.26.31-.23.38-.2.44-.18.51-.15.58-.12.64-.1.71-.06.77-.04.84-.02 1.27.05zm-6.3 1.98l-.23.33-.08.41.08.41.23.34.33.22.41.09.41-.09.33-.22.23-.34.08-.41-.08-.41-.23-.33-.33-.22-.41-.09-.41.09zm13.09 3.95l.28.06.32.12.35.18.36.27.36.35.35.47.32.59.28.73.21.88.14 1.04.05 1.23-.06 1.23-.16 1.04-.24.86-.32.71-.36.57-.4.45-.42.33-.42.24-.4.16-.36.09-.32.05-.24.02-.16-.01h-8.22v.82h5.84l.01 2.76.02.36-.05.34-.11.31-.17.29-.25.25-.31.24-.38.2-.44.17-.51.15-.58.13-.64.09-.71.07-.77.04-.84.01-1.27-.04-1.07-.14-.9-.2-.73-.25-.59-.3-.45-.33-.34-.34-.25-.34-.16-.33-.1-.3-.04-.25-.02-.2.01-.13v-5.34l.05-.64.13-.54.21-.46.26-.38.3-.32.33-.24.35-.2.35-.14.33-.1.3-.06.26-.04.21-.02.13-.01h5.84l.69-.05.59-.14.5-.21.41-.28.33-.32.27-.35.2-.36.15-.36.1-.35.07-.32.04-.28.02-.21V6.07h2.09l.14.01zm-6.47 14.25l-.23.33-.08.41.08.41.23.33.33.23.41.08.41-.08.33-.23.23-.33.08-.41-.08-.41-.23-.33-.33-.23-.41-.08-.41.08z"},child:[]}]})(i)}function rA(i){return Kn({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M14.23 12.004a2.236 2.236 0 0 1-2.235 2.236 2.236 2.236 0 0 1-2.236-2.236 2.236 2.236 0 0 1 2.235-2.236 2.236 2.236 0 0 1 2.236 2.236zm2.648-10.69c-1.346 0-3.107.96-4.888 2.622-1.78-1.653-3.542-2.602-4.887-2.602-.41 0-.783.093-1.106.278-1.375.793-1.683 3.264-.973 6.365C1.98 8.917 0 10.42 0 12.004c0 1.59 1.99 3.097 5.043 4.03-.704 3.113-.39 5.588.988 6.38.32.187.69.275 1.102.275 1.345 0 3.107-.96 4.888-2.624 1.78 1.654 3.542 2.603 4.887 2.603.41 0 .783-.09 1.106-.275 1.374-.792 1.683-3.263.973-6.365C22.02 15.096 24 13.59 24 12.004c0-1.59-1.99-3.097-5.043-4.032.704-3.11.39-5.587-.988-6.38-.318-.184-.688-.277-1.092-.278zm-.005 1.09v.006c.225 0 .406.044.558.127.666.382.955 1.835.73 3.704-.054.46-.142.945-.25 1.44-.96-.236-2.006-.417-3.107-.534-.66-.905-1.345-1.727-2.035-2.447 1.592-1.48 3.087-2.292 4.105-2.295zm-9.77.02c1.012 0 2.514.808 4.11 2.28-.686.72-1.37 1.537-2.02 2.442-1.107.117-2.154.298-3.113.538-.112-.49-.195-.964-.254-1.42-.23-1.868.054-3.32.714-3.707.19-.09.4-.127.563-.132zm4.882 3.05c.455.468.91.992 1.36 1.564-.44-.02-.89-.034-1.345-.034-.46 0-.915.01-1.36.034.44-.572.895-1.096 1.345-1.565zM12 8.1c.74 0 1.477.034 2.202.093.406.582.802 1.203 1.183 1.86.372.64.71 1.29 1.018 1.946-.308.655-.646 1.31-1.013 1.95-.38.66-.773 1.288-1.18 1.87-.728.063-1.466.098-2.21.098-.74 0-1.477-.035-2.202-.093-.406-.582-.802-1.204-1.183-1.86-.372-.64-.71-1.29-1.018-1.946.303-.657.646-1.313 1.013-1.954.38-.66.773-1.286 1.18-1.868.728-.064 1.466-.098 2.21-.098zm-3.635.254c-.24.377-.48.763-.704 1.16-.225.39-.435.782-.635 1.174-.265-.656-.49-1.31-.676-1.947.64-.15 1.315-.283 2.015-.386zm7.26 0c.695.103 1.365.23 2.006.387-.18.632-.405 1.282-.66 1.933-.2-.39-.41-.783-.64-1.174-.225-.392-.465-.774-.705-1.146zm3.063.675c.484.15.944.317 1.375.498 1.732.74 2.852 1.708 2.852 2.476-.005.768-1.125 1.74-2.857 2.475-.42.18-.88.342-1.355.493-.28-.958-.646-1.956-1.1-2.98.45-1.017.81-2.01 1.085-2.964zm-13.395.004c.278.96.645 1.957 1.1 2.98-.45 1.017-.812 2.01-1.086 2.964-.484-.15-.944-.318-1.37-.5-1.732-.737-2.852-1.706-2.852-2.474 0-.768 1.12-1.742 2.852-2.476.42-.18.88-.342 1.356-.494zm11.678 4.28c.265.657.49 1.312.676 1.948-.64.157-1.316.29-2.016.39.24-.375.48-.762.705-1.158.225-.39.435-.788.636-1.18zm-9.945.02c.2.392.41.783.64 1.175.23.39.465.772.705 1.143-.695-.102-1.365-.23-2.006-.386.18-.63.406-1.282.66-1.933zM17.92 16.32c.112.493.2.968.254 1.423.23 1.868-.054 3.32-.714 3.708-.147.09-.338.128-.563.128-1.012 0-2.514-.807-4.11-2.28.686-.72 1.37-1.536 2.02-2.44 1.107-.118 2.154-.3 3.113-.54zm-11.83.01c.96.234 2.006.415 3.107.532.66.905 1.345 1.727 2.035 2.446-1.595 1.483-3.092 2.295-4.11 2.295-.22-.005-.406-.05-.553-.132-.666-.38-.955-1.834-.73-3.703.054-.46.142-.944.25-1.438zm4.56.64c.44.02.89.034 1.345.034.46 0 .915-.01 1.36-.034-.44.572-.895 1.095-1.345 1.565-.455-.47-.91-.993-1.36-1.565z"},child:[]}]})(i)}function Lk(i){return Kn({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M22.71 13.145c-1.66 2.092-3.452 4.483-7.038 4.483-3.203 0-4.397-2.825-4.48-5.12.701 1.484 2.073 2.685 4.214 2.63 4.117-.133 6.94-3.852 6.94-7.239 0-4.05-3.022-6.972-8.268-6.972-3.752 0-8.4 1.428-11.455 3.685C2.59 6.937 3.885 9.958 4.35 9.626c2.648-1.904 4.748-3.13 6.784-3.744C8.12 9.244.886 17.05 0 18.425c.1 1.261 1.66 4.648 2.424 4.648.232 0 .431-.133.664-.365a100.49 100.49 0 0 0 5.54-6.765c.222 3.104 1.748 6.898 6.014 6.898 3.819 0 7.604-2.756 9.33-8.965.2-.764-.73-1.361-1.261-.73zm-4.349-5.013c0 1.959-1.926 2.922-3.685 2.922-.941 0-1.664-.247-2.235-.568 1.051-1.592 2.092-3.225 3.21-4.973 1.972.334 2.71 1.43 2.71 2.619z"},child:[]}]})(i)}function Ok(i){return Kn({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M21.8537 1.4158a10.4504 10.4504 0 0 1-1.284 2.2471A11.9666 11.9666 0 1 0 3.8518 20.7757l.4445.3951a11.9543 11.9543 0 0 0 19.6316-8.2971c.3457-3.0126-.568-6.8649-2.0743-11.458zM5.5805 20.8745a1.0174 1.0174 0 1 1-.1482-1.4323 1.0396 1.0396 0 0 1 .1482 1.4323zm16.1991-3.5806c-2.9385 3.9263-9.2601 2.5928-13.2852 2.7904 0 0-.7161.0494-1.4323.1481 0 0 .2717-.1234.6174-.2469 2.8398-.9877 4.1732-1.1853 5.9018-2.0743 3.2349-1.6545 6.4698-5.2844 7.1118-9.0379-1.2347 3.6053-4.9881 6.7167-8.3959 7.9761-2.3459.8643-6.5685 1.7039-6.5685 1.7039l-.1729-.0988c-2.8645-1.4076-2.9632-7.6304 2.2718-9.6306 2.2966-.889 4.4696-.395 6.9637-.9877 2.6422-.6174 5.7043-2.5929 6.939-5.1857 1.3828 4.1732 3.062 10.643.0493 14.6434z"},child:[]}]})(i)}function Uk(i){return Kn({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M21.678.521c-1.032-.92-2.28-.55-3.513.544a8.71 8.71 0 0 0-.547.535c-2.109 2.237-4.066 6.38-4.674 9.544.237.48.422 1.093.544 1.561a13.044 13.044 0 0 1 .164.703s-.019-.071-.096-.296l-.05-.146a1.689 1.689 0 0 0-.033-.08c-.138-.32-.518-.995-.686-1.289-.143.423-.27.818-.376 1.176.484.884.778 2.4.778 2.4s-.025-.099-.147-.442c-.107-.303-.644-1.244-.772-1.464-.217.804-.304 1.346-.226 1.478.152.256.296.698.422 1.186.286 1.1.485 2.44.485 2.44l.017.224a22.41 22.41 0 0 0 .056 2.748c.095 1.146.273 2.13.5 2.657l.155-.084c-.334-1.038-.47-2.399-.41-3.967.09-2.398.642-5.29 1.661-8.304 1.723-4.55 4.113-8.201 6.3-9.945-1.993 1.8-4.692 7.63-5.5 9.788-.904 2.416-1.545 4.684-1.931 6.857.666-2.037 2.821-2.912 2.821-2.912s1.057-1.304 2.292-3.166c-.74.169-1.955.458-2.362.629-.6.251-.762.337-.762.337s1.945-1.184 3.613-1.72C21.695 7.9 24.195 2.767 21.678.521m-18.573.543A1.842 1.842 0 0 0 1.27 2.9v16.608a1.84 1.84 0 0 0 1.835 1.834h9.418a22.953 22.953 0 0 1-.052-2.707c-.006-.062-.011-.141-.016-.2a27.01 27.01 0 0 0-.473-2.378c-.121-.47-.275-.898-.369-1.057-.116-.197-.098-.31-.097-.432 0-.12.015-.245.037-.386a9.98 9.98 0 0 1 .234-1.045l.217-.028c-.017-.035-.014-.065-.031-.097l-.041-.381a32.8 32.8 0 0 1 .382-1.194l.2-.019c-.008-.016-.01-.038-.018-.053l-.043-.316c.63-3.28 2.587-7.443 4.8-9.791.066-.069.133-.128.198-.194Z"},child:[]}]})(i)}function Pk(i){return Kn({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12.001,4.8c-3.2,0-5.2,1.6-6,4.8c1.2-1.6,2.6-2.2,4.2-1.8c0.913,0.228,1.565,0.89,2.288,1.624 C13.666,10.618,15.027,12,18.001,12c3.2,0,5.2-1.6,6-4.8c-1.2,1.6-2.6,2.2-4.2,1.8c-0.913-0.228-1.565-0.89-2.288-1.624 C16.337,6.182,14.976,4.8,12.001,4.8z M6.001,12c-3.2,0-5.2,1.6-6,4.8c1.2-1.6,2.6-2.2,4.2-1.8c0.913,0.228,1.565,0.89,2.288,1.624 c1.177,1.194,2.538,2.576,5.512,2.576c3.2,0,5.2-1.6,6-4.8c-1.2,1.6-2.6,2.2-4.2,1.8c-0.913-0.228-1.565-0.89-2.288-1.624 C10.337,13.382,8.976,12,6.001,12z"},child:[]}]})(i)}function Ik(i){return Kn({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(i)}function zk(i){return Kn({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M277.74 312.9c9.8-6.7 23.4-12.5 23.4-12.5s-38.7 7-77.2 10.2c-47.1 3.9-97.7 4.7-123.1 1.3-60.1-8 33-30.1 33-30.1s-36.1-2.4-80.6 19c-52.5 25.4 130 37 224.5 12.1zm-85.4-32.1c-19-42.7-83.1-80.2 0-145.8C296 53.2 242.84 0 242.84 0c21.5 84.5-75.6 110.1-110.7 162.6-23.9 35.9 11.7 74.4 60.2 118.2zm114.6-176.2c.1 0-175.2 43.8-91.5 140.2 24.7 28.4-6.5 54-6.5 54s62.7-32.4 33.9-72.9c-26.9-37.8-47.5-56.6 64.1-121.3zm-6.1 270.5a12.19 12.19 0 0 1-2 2.6c128.3-33.7 81.1-118.9 19.8-97.3a17.33 17.33 0 0 0-8.2 6.3 70.45 70.45 0 0 1 11-3c31-6.5 75.5 41.5-20.6 91.4zM348 437.4s14.5 11.9-15.9 21.2c-57.9 17.5-240.8 22.8-291.6.7-18.3-7.9 16-19 26.8-21.3 11.2-2.4 17.7-2 17.7-2-20.3-14.3-131.3 28.1-56.4 40.2C232.84 509.4 401 461.3 348 437.4zM124.44 396c-78.7 22 47.9 67.4 148.1 24.5a185.89 185.89 0 0 1-28.2-13.8c-44.7 8.5-65.4 9.1-106 4.5-33.5-3.8-13.9-15.2-13.9-15.2zm179.8 97.2c-78.7 14.8-175.8 13.1-233.3 3.6 0-.1 11.8 9.7 72.4 13.6 92.2 5.9 233.8-3.3 237.1-46.9 0 0-6.4 16.5-76.2 29.7zM260.64 353c-59.2 11.4-93.5 11.1-136.8 6.6-33.5-3.5-11.6-19.7-11.6-19.7-86.8 28.8 48.2 61.4 169.5 25.9a60.37 60.37 0 0 1-21.1-12.8z"},child:[]}]})(i)}function Bk(i){return Kn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(i)}function Fk(i){return Kn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(i)}function kk(i){return Kn({attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{d:"M10.8634 13.9195C10.6568 14.0195 10.4233 14.0246 10.2185 13.9444C10.1162 13.9044 10.021 13.843 9.93997 13.7614L4.81616 9.06268L2.58433 10.7656C2.37657 10.9241 2.08597 10.9111 1.89301 10.7347L1.17719 10.0802C0.941168 9.86437 0.940898 9.49112 1.17661 9.27496L3.11213 7.5L1.17661 5.72504C0.940898 5.50888 0.941168 5.13563 1.17719 4.91982L1.89301 4.2653C2.08597 4.08887 2.37657 4.07588 2.58433 4.2344L4.81616 5.93732L9.93997 1.23855C9.97037 1.20797 10.0028 1.18023 10.0368 1.15538C10.2748 0.981429 10.5922 0.949298 10.8634 1.08048L13.5399 2.37507C13.8212 2.5111 14 2.79721 14 3.11109V8H10.752V4.53356L6.86419 7.5L10.752 10.4664V8H14V11.8889C14 12.2028 13.8211 12.4889 13.5399 12.625L10.8634 13.9195Z"},child:[]}]})(i)}const Vk=[{category:"Backend & Architecture API",items:[{name:"Python",icon:Nk,color:"#3776AB"},{name:"FastAPI",icon:vk,color:"#009688"},{name:"Node.js",icon:Ck,color:"#339933"},{name:"Express",icon:gk,color:"#000000"},{name:"Java",icon:zk,color:"#007396"},{name:"Spring",icon:Ok,color:"#6DB33F"},{name:"PHP",icon:Rk,color:"#777BB4"}]},{category:"Data & Persistance",items:[{name:"PostgreSQL",icon:Dk,color:"#4169E1"},{name:"MySQL",icon:wk,color:"#4479A1"},{name:"SQLite",icon:Uk,color:"#003B57"},{name:"MongoDB",icon:Ak,color:"#47A248"},{name:"Redis",icon:Lk,color:"#DC382D"}]},{category:"Frontend & Mobile",items:[{name:"Javascript",icon:Mk,color:"#F7DF1E"},{name:"React",icon:rA,color:"#61DAFB"},{name:"React Native",icon:rA,color:"#61DAFB"},{name:"Expo",icon:mk,color:"#000000"},{name:"HTML5",icon:bk,color:"#E34F26"},{name:"CSS3",icon:dk,color:"#1572B6"},{name:"Tailwind",icon:Pk,color:"#06B6D4"},{name:"Figma",icon:_k,color:"#F24E1E"},{name:"Canva",icon:hk,color:"#00C4CC"},{name:"Photoshop",icon:uk,color:"#31A8FF"}]},{category:"DevOps & Cloud",items:[{name:"Docker",icon:pk,color:"#2496ED"},{name:"Git",icon:xk,color:"#F05032"},{name:"GitHub",icon:yk,color:"#181717"},{name:"Jenkins",icon:Tk,color:"#D24939"},{name:"Linux",icon:Ek,color:"#FCC624"},{name:"MacOS",icon:fk,color:"#000000"},{name:"VS Code",icon:kk,color:"#007ACC"},{name:"IntelliJ",icon:Sk,color:"#000000"}]}];function Hk(){return fe.jsxs("div",{className:"container mx-auto px-4",children:[fe.jsx("h2",{className:"text-4xl font-bold mb-16 text-center",children:"Skills"}),fe.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 max-w-4xl mx-auto",children:Vk.map((i,e)=>fe.jsxs("div",{className:"bg-[#111] border border-white/10 rounded-xl p-6 hover:border-white/20 transition-colors",children:[fe.jsx("h3",{className:"text-xl font-bold mb-6 text-white/90 border-b border-white/10 pb-4",children:i.category}),fe.jsx("div",{className:"flex flex-wrap gap-4",children:i.items.map((t,n)=>fe.jsxs("div",{className:"flex flex-col items-center gap-2 group cursor-default",children:[fe.jsx("div",{className:"p-3 bg-white/5 rounded-lg border border-white/5 group-hover:border-white/10 transition-colors",title:t.name,children:t.icon&&fe.jsx(t.icon,{size:24,className:"transition-colors",style:{color:t.color}})}),fe.jsx("span",{className:"text-xs text-white/40 group-hover:text-white/70 transition-colors",children:t.name})]},n))})]},e))})]})}function Gk(){return fe.jsxs("div",{className:"container mx-auto px-4 h-full flex flex-col justify-center items-center",children:[fe.jsx("h2",{className:"text-4xl font-bold mb-12 text-center",children:"Me contacter"}),fe.jsxs("div",{className:"bg-white/5 backdrop-blur-sm border border-white/10 p-8 md:p-12 rounded-2xl w-full max-w-2xl text-center shadow-xl",children:[fe.jsx("p",{className:"text-xl text-white/80 mb-10 leading-relaxed",children:"N'hsitez pas  me contacter pour discuter de projets, d'opportunits ou simplement pour changer !"}),fe.jsxs("div",{className:"flex flex-col md:flex-row justify-center items-center gap-8 md:gap-16 mb-8",children:[fe.jsxs("a",{href:"mailto:vuong.denis.p@gmail.com",className:"relative group flex flex-col items-center gap-4 text-white/70 hover:text-white transition-colors duration-300","aria-label":"Email",children:[fe.jsx("div",{className:"p-4 rounded-full bg-white/5 group-hover:bg-white/10 transition-colors duration-300 ring-1 ring-white/10 group-hover:ring-white/30",children:fe.jsx(Fk,{className:"text-4xl"})}),fe.jsx("span",{className:"text-sm font-light tracking-wider opacity-0 group-hover:opacity-100 transition-opacity duration-300 absolute -bottom-6",children:"Email"})]}),fe.jsxs("a",{href:"https://www.linkedin.com/in/denisvuong/",target:"_blank",rel:"noopener noreferrer",className:"relative group flex flex-col items-center gap-4 text-white/70 hover:text-white transition-all duration-300","aria-label":"LinkedIn",children:[fe.jsx("div",{className:"p-4 rounded-full bg-white/5 group-hover:bg-white/10 transition-colors duration-300 ring-1 ring-white/10 group-hover:ring-white/30",children:fe.jsx(Bk,{className:"text-4xl"})}),fe.jsx("span",{className:"text-sm font-light tracking-wider opacity-0 group-hover:opacity-100 transition-opacity duration-300 absolute -bottom-6",children:"LinkedIn"})]}),fe.jsxs("a",{href:"https://github.com/DenisVuong",target:"_blank",rel:"noopener noreferrer",className:"relative group flex flex-col items-center gap-4 text-white/70 hover:text-white transition-colors duration-300","aria-label":"GitHub",children:[fe.jsx("div",{className:"p-4 rounded-full bg-white/5 group-hover:bg-white/10 transition-colors duration-300 ring-1 ring-white/10 group-hover:ring-white/30",children:fe.jsx(Ik,{className:"text-4xl"})}),fe.jsx("span",{className:"text-sm font-light tracking-wider opacity-0 group-hover:opacity-100 transition-opacity duration-300 absolute -bottom-6",children:"GitHub"})]})]})]})]})}function ag(i){let e=i[0],t=i[1],n=i[2];return Math.sqrt(e*e+t*t+n*n)}function e4(i,e){return i[0]=e[0],i[1]=e[1],i[2]=e[2],i}function Wk(i,e,t,n){return i[0]=e,i[1]=t,i[2]=n,i}function sA(i,e,t){return i[0]=e[0]+t[0],i[1]=e[1]+t[1],i[2]=e[2]+t[2],i}function aA(i,e,t){return i[0]=e[0]-t[0],i[1]=e[1]-t[1],i[2]=e[2]-t[2],i}function Xk(i,e,t){return i[0]=e[0]*t[0],i[1]=e[1]*t[1],i[2]=e[2]*t[2],i}function qk(i,e,t){return i[0]=e[0]/t[0],i[1]=e[1]/t[1],i[2]=e[2]/t[2],i}function $S(i,e,t){return i[0]=e[0]*t,i[1]=e[1]*t,i[2]=e[2]*t,i}function Yk(i,e){let t=e[0]-i[0],n=e[1]-i[1],r=e[2]-i[2];return Math.sqrt(t*t+n*n+r*r)}function jk(i,e){let t=e[0]-i[0],n=e[1]-i[1],r=e[2]-i[2];return t*t+n*n+r*r}function oA(i){let e=i[0],t=i[1],n=i[2];return e*e+t*t+n*n}function Zk(i,e){return i[0]=-e[0],i[1]=-e[1],i[2]=-e[2],i}function Qk(i,e){return i[0]=1/e[0],i[1]=1/e[1],i[2]=1/e[2],i}function t4(i,e){let t=e[0],n=e[1],r=e[2],a=t*t+n*n+r*r;return a>0&&(a=1/Math.sqrt(a)),i[0]=e[0]*a,i[1]=e[1]*a,i[2]=e[2]*a,i}function o8(i,e){return i[0]*e[0]+i[1]*e[1]+i[2]*e[2]}function lA(i,e,t){let n=e[0],r=e[1],a=e[2],l=t[0],u=t[1],d=t[2];return i[0]=r*d-a*u,i[1]=a*l-n*d,i[2]=n*u-r*l,i}function Kk(i,e,t,n){let r=e[0],a=e[1],l=e[2];return i[0]=r+n*(t[0]-r),i[1]=a+n*(t[1]-a),i[2]=l+n*(t[2]-l),i}function Jk(i,e,t,n,r){const a=Math.exp(-n*r);let l=e[0],u=e[1],d=e[2];return i[0]=t[0]+(l-t[0])*a,i[1]=t[1]+(u-t[1])*a,i[2]=t[2]+(d-t[2])*a,i}function $k(i,e,t){let n=e[0],r=e[1],a=e[2],l=t[3]*n+t[7]*r+t[11]*a+t[15];return l=l||1,i[0]=(t[0]*n+t[4]*r+t[8]*a+t[12])/l,i[1]=(t[1]*n+t[5]*r+t[9]*a+t[13])/l,i[2]=(t[2]*n+t[6]*r+t[10]*a+t[14])/l,i}function eV(i,e,t){let n=e[0],r=e[1],a=e[2],l=t[3]*n+t[7]*r+t[11]*a+t[15];return l=l||1,i[0]=(t[0]*n+t[4]*r+t[8]*a)/l,i[1]=(t[1]*n+t[5]*r+t[9]*a)/l,i[2]=(t[2]*n+t[6]*r+t[10]*a)/l,i}function tV(i,e,t){let n=e[0],r=e[1],a=e[2];return i[0]=n*t[0]+r*t[3]+a*t[6],i[1]=n*t[1]+r*t[4]+a*t[7],i[2]=n*t[2]+r*t[5]+a*t[8],i}function nV(i,e,t){let n=e[0],r=e[1],a=e[2],l=t[0],u=t[1],d=t[2],p=t[3],v=u*a-d*r,_=d*n-l*a,y=l*r-u*n,x=u*y-d*_,M=d*v-l*y,E=l*_-u*v,A=p*2;return v*=A,_*=A,y*=A,x*=2,M*=2,E*=2,i[0]=n+v+x,i[1]=r+_+M,i[2]=a+y+E,i}const iV=(function(){const i=[0,0,0],e=[0,0,0];return function(t,n){e4(i,t),e4(e,n),t4(i,i),t4(e,e);let r=o8(i,e);return r>1?0:r<-1?Math.PI:Math.acos(r)}})();function rV(i,e){return i[0]===e[0]&&i[1]===e[1]&&i[2]===e[2]}class gl extends Array{constructor(e=0,t=e,n=e){return super(e,t,n),this}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(e){this[0]=e}set y(e){this[1]=e}set z(e){this[2]=e}set(e,t=e,n=e){return e.length?this.copy(e):(Wk(this,e,t,n),this)}copy(e){return e4(this,e),this}add(e,t){return t?sA(this,e,t):sA(this,this,e),this}sub(e,t){return t?aA(this,e,t):aA(this,this,e),this}multiply(e){return e.length?Xk(this,this,e):$S(this,this,e),this}divide(e){return e.length?qk(this,this,e):$S(this,this,1/e),this}inverse(e=this){return Qk(this,e),this}len(){return ag(this)}distance(e){return e?Yk(this,e):ag(this)}squaredLen(){return oA(this)}squaredDistance(e){return e?jk(this,e):oA(this)}negate(e=this){return Zk(this,e),this}cross(e,t){return t?lA(this,e,t):lA(this,this,e),this}scale(e){return $S(this,this,e),this}normalize(){return t4(this,this),this}dot(e){return o8(this,e)}equals(e){return rV(this,e)}applyMatrix3(e){return tV(this,this,e),this}applyMatrix4(e){return $k(this,this,e),this}scaleRotateMatrix4(e){return eV(this,this,e),this}applyQuaternion(e){return nV(this,this,e),this}angle(e){return iV(this,e)}lerp(e,t){return Kk(this,this,e,t),this}smoothLerp(e,t,n){return Jk(this,this,e,t,n),this}clone(){return new gl(this[0],this[1],this[2])}fromArray(e,t=0){return this[0]=e[t],this[1]=e[t+1],this[2]=e[t+2],this}toArray(e=[],t=0){return e[t]=this[0],e[t+1]=this[1],e[t+2]=this[2],e}transformDirection(e){const t=this[0],n=this[1],r=this[2];return this[0]=e[0]*t+e[4]*n+e[8]*r,this[1]=e[1]*t+e[5]*n+e[9]*r,this[2]=e[2]*t+e[6]*n+e[10]*r,this.normalize()}}const cA=new gl;let sV=1,aV=1,uA=!1;class oV{constructor(e,t={}){e.canvas||console.error("gl not passed as first argument to Geometry"),this.gl=e,this.attributes=t,this.id=sV++,this.VAOs={},this.drawRange={start:0,count:0},this.instancedCount=0,this.gl.renderer.bindVertexArray(null),this.gl.renderer.currentGeometry=null,this.glState=this.gl.renderer.state;for(let n in t)this.addAttribute(n,t[n])}addAttribute(e,t){if(this.attributes[e]=t,t.id=aV++,t.size=t.size||1,t.type=t.type||(t.data.constructor===Float32Array?this.gl.FLOAT:t.data.constructor===Uint16Array?this.gl.UNSIGNED_SHORT:this.gl.UNSIGNED_INT),t.target=e==="index"?this.gl.ELEMENT_ARRAY_BUFFER:this.gl.ARRAY_BUFFER,t.normalized=t.normalized||!1,t.stride=t.stride||0,t.offset=t.offset||0,t.count=t.count||(t.stride?t.data.byteLength/t.stride:t.data.length/t.size),t.divisor=t.instanced||0,t.needsUpdate=!1,t.usage=t.usage||this.gl.STATIC_DRAW,t.buffer||this.updateAttribute(t),t.divisor){if(this.isInstanced=!0,this.instancedCount&&this.instancedCount!==t.count*t.divisor)return console.warn("geometry has multiple instanced buffers of different length"),this.instancedCount=Math.min(this.instancedCount,t.count*t.divisor);this.instancedCount=t.count*t.divisor}else e==="index"?this.drawRange.count=t.count:this.attributes.index||(this.drawRange.count=Math.max(this.drawRange.count,t.count))}updateAttribute(e){const t=!e.buffer;t&&(e.buffer=this.gl.createBuffer()),this.glState.boundBuffer!==e.buffer&&(this.gl.bindBuffer(e.target,e.buffer),this.glState.boundBuffer=e.buffer),t?this.gl.bufferData(e.target,e.data,e.usage):this.gl.bufferSubData(e.target,0,e.data),e.needsUpdate=!1}setIndex(e){this.addAttribute("index",e)}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}setInstancedCount(e){this.instancedCount=e}createVAO(e){this.VAOs[e.attributeOrder]=this.gl.renderer.createVertexArray(),this.gl.renderer.bindVertexArray(this.VAOs[e.attributeOrder]),this.bindAttributes(e)}bindAttributes(e){e.attributeLocations.forEach((t,{name:n,type:r})=>{if(!this.attributes[n]){console.warn(`active attribute ${n} not being supplied`);return}const a=this.attributes[n];this.gl.bindBuffer(a.target,a.buffer),this.glState.boundBuffer=a.buffer;let l=1;r===35674&&(l=2),r===35675&&(l=3),r===35676&&(l=4);const u=a.size/l,d=l===1?0:l*l*4,p=l===1?0:l*4;for(let v=0;v<l;v++)this.gl.vertexAttribPointer(t+v,u,a.type,a.normalized,a.stride+d,a.offset+v*p),this.gl.enableVertexAttribArray(t+v),this.gl.renderer.vertexAttribDivisor(t+v,a.divisor)}),this.attributes.index&&this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.attributes.index.buffer)}draw({program:e,mode:t=this.gl.TRIANGLES}){this.gl.renderer.currentGeometry!==`${this.id}_${e.attributeOrder}`&&(this.VAOs[e.attributeOrder]||this.createVAO(e),this.gl.renderer.bindVertexArray(this.VAOs[e.attributeOrder]),this.gl.renderer.currentGeometry=`${this.id}_${e.attributeOrder}`),e.attributeLocations.forEach((r,{name:a})=>{const l=this.attributes[a];l.needsUpdate&&this.updateAttribute(l)});let n=2;this.attributes.index?.type===this.gl.UNSIGNED_INT&&(n=4),this.isInstanced?this.attributes.index?this.gl.renderer.drawElementsInstanced(t,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*n,this.instancedCount):this.gl.renderer.drawArraysInstanced(t,this.drawRange.start,this.drawRange.count,this.instancedCount):this.attributes.index?this.gl.drawElements(t,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*n):this.gl.drawArrays(t,this.drawRange.start,this.drawRange.count)}getPosition(){const e=this.attributes.position;if(e.data)return e;if(!uA)return console.warn("No position buffer data found to compute bounds"),uA=!0}computeBoundingBox(e){e||(e=this.getPosition());const t=e.data,n=e.size;this.bounds||(this.bounds={min:new gl,max:new gl,center:new gl,scale:new gl,radius:1/0});const r=this.bounds.min,a=this.bounds.max,l=this.bounds.center,u=this.bounds.scale;r.set(1/0),a.set(-1/0);for(let d=0,p=t.length;d<p;d+=n){const v=t[d],_=t[d+1],y=t[d+2];r.x=Math.min(v,r.x),r.y=Math.min(_,r.y),r.z=Math.min(y,r.z),a.x=Math.max(v,a.x),a.y=Math.max(_,a.y),a.z=Math.max(y,a.z)}u.sub(a,r),l.add(r,a).divide(2)}computeBoundingSphere(e){e||(e=this.getPosition());const t=e.data,n=e.size;this.bounds||this.computeBoundingBox(e);let r=0;for(let a=0,l=t.length;a<l;a+=n)cA.fromArray(t,a),r=Math.max(r,this.bounds.center.squaredDistance(cA));this.bounds.radius=Math.sqrt(r)}remove(){for(let e in this.VAOs)this.gl.renderer.deleteVertexArray(this.VAOs[e]),delete this.VAOs[e];for(let e in this.attributes)this.gl.deleteBuffer(this.attributes[e].buffer),delete this.attributes[e]}}let lV=1;const fA={};class cV{constructor(e,{vertex:t,fragment:n,uniforms:r={},transparent:a=!1,cullFace:l=e.BACK,frontFace:u=e.CCW,depthTest:d=!0,depthWrite:p=!0,depthFunc:v=e.LEQUAL}={}){e.canvas||console.error("gl not passed as first argument to Program"),this.gl=e,this.uniforms=r,this.id=lV++,t||console.warn("vertex shader not supplied"),n||console.warn("fragment shader not supplied"),this.transparent=a,this.cullFace=l,this.frontFace=u,this.depthTest=d,this.depthWrite=p,this.depthFunc=v,this.blendFunc={},this.blendEquation={},this.stencilFunc={},this.stencilOp={},this.transparent&&!this.blendFunc.src&&(this.gl.renderer.premultipliedAlpha?this.setBlendFunc(this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA):this.setBlendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA)),this.vertexShader=e.createShader(e.VERTEX_SHADER),this.fragmentShader=e.createShader(e.FRAGMENT_SHADER),this.program=e.createProgram(),e.attachShader(this.program,this.vertexShader),e.attachShader(this.program,this.fragmentShader),this.setShaders({vertex:t,fragment:n})}setShaders({vertex:e,fragment:t}){if(e&&(this.gl.shaderSource(this.vertexShader,e),this.gl.compileShader(this.vertexShader),this.gl.getShaderInfoLog(this.vertexShader)!==""&&console.warn(`${this.gl.getShaderInfoLog(this.vertexShader)}
Vertex Shader
${hA(e)}`)),t&&(this.gl.shaderSource(this.fragmentShader,t),this.gl.compileShader(this.fragmentShader),this.gl.getShaderInfoLog(this.fragmentShader)!==""&&console.warn(`${this.gl.getShaderInfoLog(this.fragmentShader)}
Fragment Shader
${hA(t)}`)),this.gl.linkProgram(this.program),!this.gl.getProgramParameter(this.program,this.gl.LINK_STATUS))return console.warn(this.gl.getProgramInfoLog(this.program));this.uniformLocations=new Map;let n=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_UNIFORMS);for(let l=0;l<n;l++){let u=this.gl.getActiveUniform(this.program,l);this.uniformLocations.set(u,this.gl.getUniformLocation(this.program,u.name));const d=u.name.match(/(\w+)/g);u.uniformName=d[0],u.nameComponents=d.slice(1)}this.attributeLocations=new Map;const r=[],a=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES);for(let l=0;l<a;l++){const u=this.gl.getActiveAttrib(this.program,l),d=this.gl.getAttribLocation(this.program,u.name);d!==-1&&(r[d]=u.name,this.attributeLocations.set(u,d))}this.attributeOrder=r.join("")}setBlendFunc(e,t,n,r){this.blendFunc.src=e,this.blendFunc.dst=t,this.blendFunc.srcAlpha=n,this.blendFunc.dstAlpha=r,e&&(this.transparent=!0)}setBlendEquation(e,t){this.blendEquation.modeRGB=e,this.blendEquation.modeAlpha=t}setStencilFunc(e,t,n){this.stencilRef=t,this.stencilFunc.func=e,this.stencilFunc.ref=t,this.stencilFunc.mask=n}setStencilOp(e,t,n){this.stencilOp.stencilFail=e,this.stencilOp.depthFail=t,this.stencilOp.depthPass=n}applyState(){this.depthTest?this.gl.renderer.enable(this.gl.DEPTH_TEST):this.gl.renderer.disable(this.gl.DEPTH_TEST),this.cullFace?this.gl.renderer.enable(this.gl.CULL_FACE):this.gl.renderer.disable(this.gl.CULL_FACE),this.blendFunc.src?this.gl.renderer.enable(this.gl.BLEND):this.gl.renderer.disable(this.gl.BLEND),this.cullFace&&this.gl.renderer.setCullFace(this.cullFace),this.gl.renderer.setFrontFace(this.frontFace),this.gl.renderer.setDepthMask(this.depthWrite),this.gl.renderer.setDepthFunc(this.depthFunc),this.blendFunc.src&&this.gl.renderer.setBlendFunc(this.blendFunc.src,this.blendFunc.dst,this.blendFunc.srcAlpha,this.blendFunc.dstAlpha),this.gl.renderer.setBlendEquation(this.blendEquation.modeRGB,this.blendEquation.modeAlpha),this.stencilFunc.func||this.stencilOp.stencilFail?this.gl.renderer.enable(this.gl.STENCIL_TEST):this.gl.renderer.disable(this.gl.STENCIL_TEST),this.gl.renderer.setStencilFunc(this.stencilFunc.func,this.stencilFunc.ref,this.stencilFunc.mask),this.gl.renderer.setStencilOp(this.stencilOp.stencilFail,this.stencilOp.depthFail,this.stencilOp.depthPass)}use({flipFaces:e=!1}={}){let t=-1;this.gl.renderer.state.currentProgram===this.id||(this.gl.useProgram(this.program),this.gl.renderer.state.currentProgram=this.id),this.uniformLocations.forEach((r,a)=>{let l=this.uniforms[a.uniformName];for(const u of a.nameComponents){if(!l)break;if(u in l)l=l[u];else{if(Array.isArray(l.value))break;l=void 0;break}}if(!l)return dA(`Active uniform ${a.name} has not been supplied`);if(l&&l.value===void 0)return dA(`${a.name} uniform is missing a value parameter`);if(l.value.texture)return t=t+1,l.value.update(t),eM(this.gl,a.type,r,t);if(l.value.length&&l.value[0].texture){const u=[];return l.value.forEach(d=>{t=t+1,d.update(t),u.push(t)}),eM(this.gl,a.type,r,u)}eM(this.gl,a.type,r,l.value)}),this.applyState(),e&&this.gl.renderer.setFrontFace(this.frontFace===this.gl.CCW?this.gl.CW:this.gl.CCW)}remove(){this.gl.deleteProgram(this.program)}}function eM(i,e,t,n){n=n.length?uV(n):n;const r=i.renderer.state.uniformLocations.get(t);if(n.length)if(r===void 0||r.length!==n.length)i.renderer.state.uniformLocations.set(t,n.slice(0));else{if(fV(r,n))return;r.set?r.set(n):hV(r,n),i.renderer.state.uniformLocations.set(t,r)}else{if(r===n)return;i.renderer.state.uniformLocations.set(t,n)}switch(e){case 5126:return n.length?i.uniform1fv(t,n):i.uniform1f(t,n);case 35664:return i.uniform2fv(t,n);case 35665:return i.uniform3fv(t,n);case 35666:return i.uniform4fv(t,n);case 35670:case 5124:case 35678:case 36306:case 35680:case 36289:return n.length?i.uniform1iv(t,n):i.uniform1i(t,n);case 35671:case 35667:return i.uniform2iv(t,n);case 35672:case 35668:return i.uniform3iv(t,n);case 35673:case 35669:return i.uniform4iv(t,n);case 35674:return i.uniformMatrix2fv(t,!1,n);case 35675:return i.uniformMatrix3fv(t,!1,n);case 35676:return i.uniformMatrix4fv(t,!1,n)}}function hA(i){let e=i.split(`
`);for(let t=0;t<e.length;t++)e[t]=t+1+": "+e[t];return e.join(`
`)}function uV(i){const e=i.length,t=i[0].length;if(t===void 0)return i;const n=e*t;let r=fA[n];r||(fA[n]=r=new Float32Array(n));for(let a=0;a<e;a++)r.set(i[a],a*t);return r}function fV(i,e){if(i.length!==e.length)return!1;for(let t=0,n=i.length;t<n;t++)if(i[t]!==e[t])return!1;return!0}function hV(i,e){for(let t=0,n=i.length;t<n;t++)i[t]=e[t]}let tM=0;function dA(i){tM>100||(console.warn(i),tM++,tM>100&&console.warn("More than 100 program warnings - stopping logs."))}const nM=new gl;let dV=1;class pV{constructor({canvas:e=document.createElement("canvas"),width:t=300,height:n=150,dpr:r=1,alpha:a=!1,depth:l=!0,stencil:u=!1,antialias:d=!1,premultipliedAlpha:p=!1,preserveDrawingBuffer:v=!1,powerPreference:_="default",autoClear:y=!0,webgl:x=2}={}){const M={alpha:a,depth:l,stencil:u,antialias:d,premultipliedAlpha:p,preserveDrawingBuffer:v,powerPreference:_};this.dpr=r,this.alpha=a,this.color=!0,this.depth=l,this.stencil=u,this.premultipliedAlpha=p,this.autoClear=y,this.id=dV++,x===2&&(this.gl=e.getContext("webgl2",M)),this.isWebgl2=!!this.gl,this.gl||(this.gl=e.getContext("webgl",M)),this.gl||console.error("unable to create webgl context"),this.gl.renderer=this,this.setSize(t,n),this.state={},this.state.blendFunc={src:this.gl.ONE,dst:this.gl.ZERO},this.state.blendEquation={modeRGB:this.gl.FUNC_ADD},this.state.cullFace=!1,this.state.frontFace=this.gl.CCW,this.state.depthMask=!0,this.state.depthFunc=this.gl.LEQUAL,this.state.premultiplyAlpha=!1,this.state.flipY=!1,this.state.unpackAlignment=4,this.state.framebuffer=null,this.state.viewport={x:0,y:0,width:null,height:null},this.state.textureUnits=[],this.state.activeTextureUnit=0,this.state.boundBuffer=null,this.state.uniformLocations=new Map,this.state.currentProgram=null,this.extensions={},this.isWebgl2?(this.getExtension("EXT_color_buffer_float"),this.getExtension("OES_texture_float_linear")):(this.getExtension("OES_texture_float"),this.getExtension("OES_texture_float_linear"),this.getExtension("OES_texture_half_float"),this.getExtension("OES_texture_half_float_linear"),this.getExtension("OES_element_index_uint"),this.getExtension("OES_standard_derivatives"),this.getExtension("EXT_sRGB"),this.getExtension("WEBGL_depth_texture"),this.getExtension("WEBGL_draw_buffers")),this.getExtension("WEBGL_compressed_texture_astc"),this.getExtension("EXT_texture_compression_bptc"),this.getExtension("WEBGL_compressed_texture_s3tc"),this.getExtension("WEBGL_compressed_texture_etc1"),this.getExtension("WEBGL_compressed_texture_pvrtc"),this.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),this.vertexAttribDivisor=this.getExtension("ANGLE_instanced_arrays","vertexAttribDivisor","vertexAttribDivisorANGLE"),this.drawArraysInstanced=this.getExtension("ANGLE_instanced_arrays","drawArraysInstanced","drawArraysInstancedANGLE"),this.drawElementsInstanced=this.getExtension("ANGLE_instanced_arrays","drawElementsInstanced","drawElementsInstancedANGLE"),this.createVertexArray=this.getExtension("OES_vertex_array_object","createVertexArray","createVertexArrayOES"),this.bindVertexArray=this.getExtension("OES_vertex_array_object","bindVertexArray","bindVertexArrayOES"),this.deleteVertexArray=this.getExtension("OES_vertex_array_object","deleteVertexArray","deleteVertexArrayOES"),this.drawBuffers=this.getExtension("WEBGL_draw_buffers","drawBuffers","drawBuffersWEBGL"),this.parameters={},this.parameters.maxTextureUnits=this.gl.getParameter(this.gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS),this.parameters.maxAnisotropy=this.getExtension("EXT_texture_filter_anisotropic")?this.gl.getParameter(this.getExtension("EXT_texture_filter_anisotropic").MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}setSize(e,t){this.width=e,this.height=t,this.gl.canvas.width=e*this.dpr,this.gl.canvas.height=t*this.dpr,this.gl.canvas.style&&Object.assign(this.gl.canvas.style,{width:e+"px",height:t+"px"})}setViewport(e,t,n=0,r=0){this.state.viewport.width===e&&this.state.viewport.height===t||(this.state.viewport.width=e,this.state.viewport.height=t,this.state.viewport.x=n,this.state.viewport.y=r,this.gl.viewport(n,r,e,t))}setScissor(e,t,n=0,r=0){this.gl.scissor(n,r,e,t)}enable(e){this.state[e]!==!0&&(this.gl.enable(e),this.state[e]=!0)}disable(e){this.state[e]!==!1&&(this.gl.disable(e),this.state[e]=!1)}setBlendFunc(e,t,n,r){this.state.blendFunc.src===e&&this.state.blendFunc.dst===t&&this.state.blendFunc.srcAlpha===n&&this.state.blendFunc.dstAlpha===r||(this.state.blendFunc.src=e,this.state.blendFunc.dst=t,this.state.blendFunc.srcAlpha=n,this.state.blendFunc.dstAlpha=r,n!==void 0?this.gl.blendFuncSeparate(e,t,n,r):this.gl.blendFunc(e,t))}setBlendEquation(e,t){e=e||this.gl.FUNC_ADD,!(this.state.blendEquation.modeRGB===e&&this.state.blendEquation.modeAlpha===t)&&(this.state.blendEquation.modeRGB=e,this.state.blendEquation.modeAlpha=t,t!==void 0?this.gl.blendEquationSeparate(e,t):this.gl.blendEquation(e))}setCullFace(e){this.state.cullFace!==e&&(this.state.cullFace=e,this.gl.cullFace(e))}setFrontFace(e){this.state.frontFace!==e&&(this.state.frontFace=e,this.gl.frontFace(e))}setDepthMask(e){this.state.depthMask!==e&&(this.state.depthMask=e,this.gl.depthMask(e))}setDepthFunc(e){this.state.depthFunc!==e&&(this.state.depthFunc=e,this.gl.depthFunc(e))}setStencilMask(e){this.state.stencilMask!==e&&(this.state.stencilMask=e,this.gl.stencilMask(e))}setStencilFunc(e,t,n){this.state.stencilFunc===e&&this.state.stencilRef===t&&this.state.stencilFuncMask===n||(this.state.stencilFunc=e||this.gl.ALWAYS,this.state.stencilRef=t||0,this.state.stencilFuncMask=n||0,this.gl.stencilFunc(e||this.gl.ALWAYS,t||0,n||0))}setStencilOp(e,t,n){this.state.stencilFail===e&&this.state.stencilDepthFail===t&&this.state.stencilDepthPass===n||(this.state.stencilFail=e,this.state.stencilDepthFail=t,this.state.stencilDepthPass=n,this.gl.stencilOp(e,t,n))}activeTexture(e){this.state.activeTextureUnit!==e&&(this.state.activeTextureUnit=e,this.gl.activeTexture(this.gl.TEXTURE0+e))}bindFramebuffer({target:e=this.gl.FRAMEBUFFER,buffer:t=null}={}){this.state.framebuffer!==t&&(this.state.framebuffer=t,this.gl.bindFramebuffer(e,t))}getExtension(e,t,n){return t&&this.gl[t]?this.gl[t].bind(this.gl):(this.extensions[e]||(this.extensions[e]=this.gl.getExtension(e)),t?this.extensions[e]?this.extensions[e][n].bind(this.extensions[e]):null:this.extensions[e])}sortOpaque(e,t){return e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program.id!==t.program.id?e.program.id-t.program.id:e.zDepth!==t.zDepth?e.zDepth-t.zDepth:t.id-e.id}sortTransparent(e,t){return e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.zDepth!==t.zDepth?t.zDepth-e.zDepth:t.id-e.id}sortUI(e,t){return e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program.id!==t.program.id?e.program.id-t.program.id:t.id-e.id}getRenderList({scene:e,camera:t,frustumCull:n,sort:r}){let a=[];if(t&&n&&t.updateFrustum(),e.traverse(l=>{if(!l.visible)return!0;l.draw&&(n&&l.frustumCulled&&t&&!t.frustumIntersectsMesh(l)||a.push(l))}),r){const l=[],u=[],d=[];a.forEach(p=>{p.program.transparent?p.program.depthTest?u.push(p):d.push(p):l.push(p),p.zDepth=0,!(p.renderOrder!==0||!p.program.depthTest||!t)&&(p.worldMatrix.getTranslation(nM),nM.applyMatrix4(t.projectionViewMatrix),p.zDepth=nM.z)}),l.sort(this.sortOpaque),u.sort(this.sortTransparent),d.sort(this.sortUI),a=l.concat(u,d)}return a}render({scene:e,camera:t,target:n=null,update:r=!0,sort:a=!0,frustumCull:l=!0,clear:u}){n===null?(this.bindFramebuffer(),this.setViewport(this.width*this.dpr,this.height*this.dpr)):(this.bindFramebuffer(n),this.setViewport(n.width,n.height)),(u||this.autoClear&&u!==!1)&&(this.depth&&(!n||n.depth)&&(this.enable(this.gl.DEPTH_TEST),this.setDepthMask(!0)),(this.stencil||!n||n.stencil)&&(this.enable(this.gl.STENCIL_TEST),this.setStencilMask(255)),this.gl.clear((this.color?this.gl.COLOR_BUFFER_BIT:0)|(this.depth?this.gl.DEPTH_BUFFER_BIT:0)|(this.stencil?this.gl.STENCIL_BUFFER_BIT:0))),r&&e.updateMatrixWorld(),t&&t.updateMatrixWorld(),this.getRenderList({scene:e,camera:t,frustumCull:l,sort:a}).forEach(p=>{p.draw({camera:t})})}}function mV(i,e){return i[0]=e[0],i[1]=e[1],i[2]=e[2],i[3]=e[3],i}function gV(i,e,t,n,r){return i[0]=e,i[1]=t,i[2]=n,i[3]=r,i}function vV(i,e){let t=e[0],n=e[1],r=e[2],a=e[3],l=t*t+n*n+r*r+a*a;return l>0&&(l=1/Math.sqrt(l)),i[0]=t*l,i[1]=n*l,i[2]=r*l,i[3]=a*l,i}function _V(i,e){return i[0]*e[0]+i[1]*e[1]+i[2]*e[2]+i[3]*e[3]}function xV(i){return i[0]=0,i[1]=0,i[2]=0,i[3]=1,i}function yV(i,e,t){t=t*.5;let n=Math.sin(t);return i[0]=n*e[0],i[1]=n*e[1],i[2]=n*e[2],i[3]=Math.cos(t),i}function pA(i,e,t){let n=e[0],r=e[1],a=e[2],l=e[3],u=t[0],d=t[1],p=t[2],v=t[3];return i[0]=n*v+l*u+r*p-a*d,i[1]=r*v+l*d+a*u-n*p,i[2]=a*v+l*p+n*d-r*u,i[3]=l*v-n*u-r*d-a*p,i}function bV(i,e,t){t*=.5;let n=e[0],r=e[1],a=e[2],l=e[3],u=Math.sin(t),d=Math.cos(t);return i[0]=n*d+l*u,i[1]=r*d+a*u,i[2]=a*d-r*u,i[3]=l*d-n*u,i}function SV(i,e,t){t*=.5;let n=e[0],r=e[1],a=e[2],l=e[3],u=Math.sin(t),d=Math.cos(t);return i[0]=n*d-a*u,i[1]=r*d+l*u,i[2]=a*d+n*u,i[3]=l*d-r*u,i}function MV(i,e,t){t*=.5;let n=e[0],r=e[1],a=e[2],l=e[3],u=Math.sin(t),d=Math.cos(t);return i[0]=n*d+r*u,i[1]=r*d-n*u,i[2]=a*d+l*u,i[3]=l*d-a*u,i}function TV(i,e,t,n){let r=e[0],a=e[1],l=e[2],u=e[3],d=t[0],p=t[1],v=t[2],_=t[3],y,x,M,E,A;return x=r*d+a*p+l*v+u*_,x<0&&(x=-x,d=-d,p=-p,v=-v,_=-_),1-x>1e-6?(y=Math.acos(x),M=Math.sin(y),E=Math.sin((1-n)*y)/M,A=Math.sin(n*y)/M):(E=1-n,A=n),i[0]=E*r+A*d,i[1]=E*a+A*p,i[2]=E*l+A*v,i[3]=E*u+A*_,i}function EV(i,e){let t=e[0],n=e[1],r=e[2],a=e[3],l=t*t+n*n+r*r+a*a,u=l?1/l:0;return i[0]=-t*u,i[1]=-n*u,i[2]=-r*u,i[3]=a*u,i}function AV(i,e){return i[0]=-e[0],i[1]=-e[1],i[2]=-e[2],i[3]=e[3],i}function wV(i,e){let t=e[0]+e[4]+e[8],n;if(t>0)n=Math.sqrt(t+1),i[3]=.5*n,n=.5/n,i[0]=(e[5]-e[7])*n,i[1]=(e[6]-e[2])*n,i[2]=(e[1]-e[3])*n;else{let r=0;e[4]>e[0]&&(r=1),e[8]>e[r*3+r]&&(r=2);let a=(r+1)%3,l=(r+2)%3;n=Math.sqrt(e[r*3+r]-e[a*3+a]-e[l*3+l]+1),i[r]=.5*n,n=.5/n,i[3]=(e[a*3+l]-e[l*3+a])*n,i[a]=(e[a*3+r]+e[r*3+a])*n,i[l]=(e[l*3+r]+e[r*3+l])*n}return i}function CV(i,e,t="YXZ"){let n=Math.sin(e[0]*.5),r=Math.cos(e[0]*.5),a=Math.sin(e[1]*.5),l=Math.cos(e[1]*.5),u=Math.sin(e[2]*.5),d=Math.cos(e[2]*.5);return t==="XYZ"?(i[0]=n*l*d+r*a*u,i[1]=r*a*d-n*l*u,i[2]=r*l*u+n*a*d,i[3]=r*l*d-n*a*u):t==="YXZ"?(i[0]=n*l*d+r*a*u,i[1]=r*a*d-n*l*u,i[2]=r*l*u-n*a*d,i[3]=r*l*d+n*a*u):t==="ZXY"?(i[0]=n*l*d-r*a*u,i[1]=r*a*d+n*l*u,i[2]=r*l*u+n*a*d,i[3]=r*l*d-n*a*u):t==="ZYX"?(i[0]=n*l*d-r*a*u,i[1]=r*a*d+n*l*u,i[2]=r*l*u-n*a*d,i[3]=r*l*d+n*a*u):t==="YZX"?(i[0]=n*l*d+r*a*u,i[1]=r*a*d+n*l*u,i[2]=r*l*u-n*a*d,i[3]=r*l*d-n*a*u):t==="XZY"&&(i[0]=n*l*d-r*a*u,i[1]=r*a*d-n*l*u,i[2]=r*l*u+n*a*d,i[3]=r*l*d+n*a*u),i}const RV=mV,DV=gV,NV=_V,LV=vV;class OV extends Array{constructor(e=0,t=0,n=0,r=1){super(e,t,n,r),this.onChange=()=>{},this._target=this;const a=["0","1","2","3"];return new Proxy(this,{set(l,u){const d=Reflect.set(...arguments);return d&&a.includes(u)&&l.onChange(),d}})}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}get w(){return this[3]}set x(e){this._target[0]=e,this.onChange()}set y(e){this._target[1]=e,this.onChange()}set z(e){this._target[2]=e,this.onChange()}set w(e){this._target[3]=e,this.onChange()}identity(){return xV(this._target),this.onChange(),this}set(e,t,n,r){return e.length?this.copy(e):(DV(this._target,e,t,n,r),this.onChange(),this)}rotateX(e){return bV(this._target,this._target,e),this.onChange(),this}rotateY(e){return SV(this._target,this._target,e),this.onChange(),this}rotateZ(e){return MV(this._target,this._target,e),this.onChange(),this}inverse(e=this._target){return EV(this._target,e),this.onChange(),this}conjugate(e=this._target){return AV(this._target,e),this.onChange(),this}copy(e){return RV(this._target,e),this.onChange(),this}normalize(e=this._target){return LV(this._target,e),this.onChange(),this}multiply(e,t){return t?pA(this._target,e,t):pA(this._target,this._target,e),this.onChange(),this}dot(e){return NV(this._target,e)}fromMatrix3(e){return wV(this._target,e),this.onChange(),this}fromEuler(e,t){return CV(this._target,e,e.order),t||this.onChange(),this}fromAxisAngle(e,t){return yV(this._target,e,t),this.onChange(),this}slerp(e,t){return TV(this._target,this._target,e,t),this.onChange(),this}fromArray(e,t=0){return this._target[0]=e[t],this._target[1]=e[t+1],this._target[2]=e[t+2],this._target[3]=e[t+3],this.onChange(),this}toArray(e=[],t=0){return e[t]=this[0],e[t+1]=this[1],e[t+2]=this[2],e[t+3]=this[3],e}}const UV=1e-6;function PV(i,e){return i[0]=e[0],i[1]=e[1],i[2]=e[2],i[3]=e[3],i[4]=e[4],i[5]=e[5],i[6]=e[6],i[7]=e[7],i[8]=e[8],i[9]=e[9],i[10]=e[10],i[11]=e[11],i[12]=e[12],i[13]=e[13],i[14]=e[14],i[15]=e[15],i}function IV(i,e,t,n,r,a,l,u,d,p,v,_,y,x,M,E,A){return i[0]=e,i[1]=t,i[2]=n,i[3]=r,i[4]=a,i[5]=l,i[6]=u,i[7]=d,i[8]=p,i[9]=v,i[10]=_,i[11]=y,i[12]=x,i[13]=M,i[14]=E,i[15]=A,i}function zV(i){return i[0]=1,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=1,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=1,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i}function BV(i,e){let t=e[0],n=e[1],r=e[2],a=e[3],l=e[4],u=e[5],d=e[6],p=e[7],v=e[8],_=e[9],y=e[10],x=e[11],M=e[12],E=e[13],A=e[14],T=e[15],R=t*u-n*l,D=t*d-r*l,N=t*p-a*l,U=n*d-r*u,I=n*p-a*u,B=r*p-a*d,k=v*E-_*M,O=v*A-y*M,P=v*T-x*M,W=_*A-y*E,Z=_*T-x*E,J=y*T-x*A,ee=R*J-D*Z+N*W+U*P-I*O+B*k;return ee?(ee=1/ee,i[0]=(u*J-d*Z+p*W)*ee,i[1]=(r*Z-n*J-a*W)*ee,i[2]=(E*B-A*I+T*U)*ee,i[3]=(y*I-_*B-x*U)*ee,i[4]=(d*P-l*J-p*O)*ee,i[5]=(t*J-r*P+a*O)*ee,i[6]=(A*N-M*B-T*D)*ee,i[7]=(v*B-y*N+x*D)*ee,i[8]=(l*Z-u*P+p*k)*ee,i[9]=(n*P-t*Z-a*k)*ee,i[10]=(M*I-E*N+T*R)*ee,i[11]=(_*N-v*I-x*R)*ee,i[12]=(u*O-l*W-d*k)*ee,i[13]=(t*W-n*O+r*k)*ee,i[14]=(E*D-M*U-A*R)*ee,i[15]=(v*U-_*D+y*R)*ee,i):null}function l8(i){let e=i[0],t=i[1],n=i[2],r=i[3],a=i[4],l=i[5],u=i[6],d=i[7],p=i[8],v=i[9],_=i[10],y=i[11],x=i[12],M=i[13],E=i[14],A=i[15],T=e*l-t*a,R=e*u-n*a,D=e*d-r*a,N=t*u-n*l,U=t*d-r*l,I=n*d-r*u,B=p*M-v*x,k=p*E-_*x,O=p*A-y*x,P=v*E-_*M,W=v*A-y*M,Z=_*A-y*E;return T*Z-R*W+D*P+N*O-U*k+I*B}function mA(i,e,t){let n=e[0],r=e[1],a=e[2],l=e[3],u=e[4],d=e[5],p=e[6],v=e[7],_=e[8],y=e[9],x=e[10],M=e[11],E=e[12],A=e[13],T=e[14],R=e[15],D=t[0],N=t[1],U=t[2],I=t[3];return i[0]=D*n+N*u+U*_+I*E,i[1]=D*r+N*d+U*y+I*A,i[2]=D*a+N*p+U*x+I*T,i[3]=D*l+N*v+U*M+I*R,D=t[4],N=t[5],U=t[6],I=t[7],i[4]=D*n+N*u+U*_+I*E,i[5]=D*r+N*d+U*y+I*A,i[6]=D*a+N*p+U*x+I*T,i[7]=D*l+N*v+U*M+I*R,D=t[8],N=t[9],U=t[10],I=t[11],i[8]=D*n+N*u+U*_+I*E,i[9]=D*r+N*d+U*y+I*A,i[10]=D*a+N*p+U*x+I*T,i[11]=D*l+N*v+U*M+I*R,D=t[12],N=t[13],U=t[14],I=t[15],i[12]=D*n+N*u+U*_+I*E,i[13]=D*r+N*d+U*y+I*A,i[14]=D*a+N*p+U*x+I*T,i[15]=D*l+N*v+U*M+I*R,i}function FV(i,e,t){let n=t[0],r=t[1],a=t[2],l,u,d,p,v,_,y,x,M,E,A,T;return e===i?(i[12]=e[0]*n+e[4]*r+e[8]*a+e[12],i[13]=e[1]*n+e[5]*r+e[9]*a+e[13],i[14]=e[2]*n+e[6]*r+e[10]*a+e[14],i[15]=e[3]*n+e[7]*r+e[11]*a+e[15]):(l=e[0],u=e[1],d=e[2],p=e[3],v=e[4],_=e[5],y=e[6],x=e[7],M=e[8],E=e[9],A=e[10],T=e[11],i[0]=l,i[1]=u,i[2]=d,i[3]=p,i[4]=v,i[5]=_,i[6]=y,i[7]=x,i[8]=M,i[9]=E,i[10]=A,i[11]=T,i[12]=l*n+v*r+M*a+e[12],i[13]=u*n+_*r+E*a+e[13],i[14]=d*n+y*r+A*a+e[14],i[15]=p*n+x*r+T*a+e[15]),i}function kV(i,e,t){let n=t[0],r=t[1],a=t[2];return i[0]=e[0]*n,i[1]=e[1]*n,i[2]=e[2]*n,i[3]=e[3]*n,i[4]=e[4]*r,i[5]=e[5]*r,i[6]=e[6]*r,i[7]=e[7]*r,i[8]=e[8]*a,i[9]=e[9]*a,i[10]=e[10]*a,i[11]=e[11]*a,i[12]=e[12],i[13]=e[13],i[14]=e[14],i[15]=e[15],i}function VV(i,e,t,n){let r=n[0],a=n[1],l=n[2],u=Math.hypot(r,a,l),d,p,v,_,y,x,M,E,A,T,R,D,N,U,I,B,k,O,P,W,Z,J,ee,se;return Math.abs(u)<UV?null:(u=1/u,r*=u,a*=u,l*=u,d=Math.sin(t),p=Math.cos(t),v=1-p,_=e[0],y=e[1],x=e[2],M=e[3],E=e[4],A=e[5],T=e[6],R=e[7],D=e[8],N=e[9],U=e[10],I=e[11],B=r*r*v+p,k=a*r*v+l*d,O=l*r*v-a*d,P=r*a*v-l*d,W=a*a*v+p,Z=l*a*v+r*d,J=r*l*v+a*d,ee=a*l*v-r*d,se=l*l*v+p,i[0]=_*B+E*k+D*O,i[1]=y*B+A*k+N*O,i[2]=x*B+T*k+U*O,i[3]=M*B+R*k+I*O,i[4]=_*P+E*W+D*Z,i[5]=y*P+A*W+N*Z,i[6]=x*P+T*W+U*Z,i[7]=M*P+R*W+I*Z,i[8]=_*J+E*ee+D*se,i[9]=y*J+A*ee+N*se,i[10]=x*J+T*ee+U*se,i[11]=M*J+R*ee+I*se,e!==i&&(i[12]=e[12],i[13]=e[13],i[14]=e[14],i[15]=e[15]),i)}function HV(i,e){return i[0]=e[12],i[1]=e[13],i[2]=e[14],i}function c8(i,e){let t=e[0],n=e[1],r=e[2],a=e[4],l=e[5],u=e[6],d=e[8],p=e[9],v=e[10];return i[0]=Math.hypot(t,n,r),i[1]=Math.hypot(a,l,u),i[2]=Math.hypot(d,p,v),i}function GV(i){let e=i[0],t=i[1],n=i[2],r=i[4],a=i[5],l=i[6],u=i[8],d=i[9],p=i[10];const v=e*e+t*t+n*n,_=r*r+a*a+l*l,y=u*u+d*d+p*p;return Math.sqrt(Math.max(v,_,y))}const u8=(function(){const i=[1,1,1];return function(e,t){let n=i;c8(n,t);let r=1/n[0],a=1/n[1],l=1/n[2],u=t[0]*r,d=t[1]*a,p=t[2]*l,v=t[4]*r,_=t[5]*a,y=t[6]*l,x=t[8]*r,M=t[9]*a,E=t[10]*l,A=u+_+E,T=0;return A>0?(T=Math.sqrt(A+1)*2,e[3]=.25*T,e[0]=(y-M)/T,e[1]=(x-p)/T,e[2]=(d-v)/T):u>_&&u>E?(T=Math.sqrt(1+u-_-E)*2,e[3]=(y-M)/T,e[0]=.25*T,e[1]=(d+v)/T,e[2]=(x+p)/T):_>E?(T=Math.sqrt(1+_-u-E)*2,e[3]=(x-p)/T,e[0]=(d+v)/T,e[1]=.25*T,e[2]=(y+M)/T):(T=Math.sqrt(1+E-u-_)*2,e[3]=(d-v)/T,e[0]=(x+p)/T,e[1]=(y+M)/T,e[2]=.25*T),e}})();function WV(i,e,t,n){let r=ag([i[0],i[1],i[2]]);const a=ag([i[4],i[5],i[6]]),l=ag([i[8],i[9],i[10]]);l8(i)<0&&(r=-r),t[0]=i[12],t[1]=i[13],t[2]=i[14];const d=i.slice(),p=1/r,v=1/a,_=1/l;d[0]*=p,d[1]*=p,d[2]*=p,d[4]*=v,d[5]*=v,d[6]*=v,d[8]*=_,d[9]*=_,d[10]*=_,u8(e,d),n[0]=r,n[1]=a,n[2]=l}function XV(i,e,t,n){const r=i,a=e[0],l=e[1],u=e[2],d=e[3],p=a+a,v=l+l,_=u+u,y=a*p,x=a*v,M=a*_,E=l*v,A=l*_,T=u*_,R=d*p,D=d*v,N=d*_,U=n[0],I=n[1],B=n[2];return r[0]=(1-(E+T))*U,r[1]=(x+N)*U,r[2]=(M-D)*U,r[3]=0,r[4]=(x-N)*I,r[5]=(1-(y+T))*I,r[6]=(A+R)*I,r[7]=0,r[8]=(M+D)*B,r[9]=(A-R)*B,r[10]=(1-(y+E))*B,r[11]=0,r[12]=t[0],r[13]=t[1],r[14]=t[2],r[15]=1,r}function qV(i,e){let t=e[0],n=e[1],r=e[2],a=e[3],l=t+t,u=n+n,d=r+r,p=t*l,v=n*l,_=n*u,y=r*l,x=r*u,M=r*d,E=a*l,A=a*u,T=a*d;return i[0]=1-_-M,i[1]=v+T,i[2]=y-A,i[3]=0,i[4]=v-T,i[5]=1-p-M,i[6]=x+E,i[7]=0,i[8]=y+A,i[9]=x-E,i[10]=1-p-_,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i}function YV(i,e,t,n,r){let a=1/Math.tan(e/2),l=1/(n-r);return i[0]=a/t,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=a,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=(r+n)*l,i[11]=-1,i[12]=0,i[13]=0,i[14]=2*r*n*l,i[15]=0,i}function jV(i,e,t,n,r,a,l){let u=1/(e-t),d=1/(n-r),p=1/(a-l);return i[0]=-2*u,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=-2*d,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=2*p,i[11]=0,i[12]=(e+t)*u,i[13]=(r+n)*d,i[14]=(l+a)*p,i[15]=1,i}function ZV(i,e,t,n){let r=e[0],a=e[1],l=e[2],u=n[0],d=n[1],p=n[2],v=r-t[0],_=a-t[1],y=l-t[2],x=v*v+_*_+y*y;x===0?y=1:(x=1/Math.sqrt(x),v*=x,_*=x,y*=x);let M=d*y-p*_,E=p*v-u*y,A=u*_-d*v;return x=M*M+E*E+A*A,x===0&&(p?u+=1e-6:d?p+=1e-6:d+=1e-6,M=d*y-p*_,E=p*v-u*y,A=u*_-d*v,x=M*M+E*E+A*A),x=1/Math.sqrt(x),M*=x,E*=x,A*=x,i[0]=M,i[1]=E,i[2]=A,i[3]=0,i[4]=_*A-y*E,i[5]=y*M-v*A,i[6]=v*E-_*M,i[7]=0,i[8]=v,i[9]=_,i[10]=y,i[11]=0,i[12]=r,i[13]=a,i[14]=l,i[15]=1,i}function gA(i,e,t){return i[0]=e[0]+t[0],i[1]=e[1]+t[1],i[2]=e[2]+t[2],i[3]=e[3]+t[3],i[4]=e[4]+t[4],i[5]=e[5]+t[5],i[6]=e[6]+t[6],i[7]=e[7]+t[7],i[8]=e[8]+t[8],i[9]=e[9]+t[9],i[10]=e[10]+t[10],i[11]=e[11]+t[11],i[12]=e[12]+t[12],i[13]=e[13]+t[13],i[14]=e[14]+t[14],i[15]=e[15]+t[15],i}function vA(i,e,t){return i[0]=e[0]-t[0],i[1]=e[1]-t[1],i[2]=e[2]-t[2],i[3]=e[3]-t[3],i[4]=e[4]-t[4],i[5]=e[5]-t[5],i[6]=e[6]-t[6],i[7]=e[7]-t[7],i[8]=e[8]-t[8],i[9]=e[9]-t[9],i[10]=e[10]-t[10],i[11]=e[11]-t[11],i[12]=e[12]-t[12],i[13]=e[13]-t[13],i[14]=e[14]-t[14],i[15]=e[15]-t[15],i}function QV(i,e,t){return i[0]=e[0]*t,i[1]=e[1]*t,i[2]=e[2]*t,i[3]=e[3]*t,i[4]=e[4]*t,i[5]=e[5]*t,i[6]=e[6]*t,i[7]=e[7]*t,i[8]=e[8]*t,i[9]=e[9]*t,i[10]=e[10]*t,i[11]=e[11]*t,i[12]=e[12]*t,i[13]=e[13]*t,i[14]=e[14]*t,i[15]=e[15]*t,i}class s3 extends Array{constructor(e=1,t=0,n=0,r=0,a=0,l=1,u=0,d=0,p=0,v=0,_=1,y=0,x=0,M=0,E=0,A=1){return super(e,t,n,r,a,l,u,d,p,v,_,y,x,M,E,A),this}get x(){return this[12]}get y(){return this[13]}get z(){return this[14]}get w(){return this[15]}set x(e){this[12]=e}set y(e){this[13]=e}set z(e){this[14]=e}set w(e){this[15]=e}set(e,t,n,r,a,l,u,d,p,v,_,y,x,M,E,A){return e.length?this.copy(e):(IV(this,e,t,n,r,a,l,u,d,p,v,_,y,x,M,E,A),this)}translate(e,t=this){return FV(this,t,e),this}rotate(e,t,n=this){return VV(this,n,e,t),this}scale(e,t=this){return kV(this,t,typeof e=="number"?[e,e,e]:e),this}add(e,t){return t?gA(this,e,t):gA(this,this,e),this}sub(e,t){return t?vA(this,e,t):vA(this,this,e),this}multiply(e,t){return e.length?t?mA(this,e,t):mA(this,this,e):QV(this,this,e),this}identity(){return zV(this),this}copy(e){return PV(this,e),this}fromPerspective({fov:e,aspect:t,near:n,far:r}={}){return YV(this,e,t,n,r),this}fromOrthogonal({left:e,right:t,bottom:n,top:r,near:a,far:l}){return jV(this,e,t,n,r,a,l),this}fromQuaternion(e){return qV(this,e),this}setPosition(e){return this.x=e[0],this.y=e[1],this.z=e[2],this}inverse(e=this){return BV(this,e),this}compose(e,t,n){return XV(this,e,t,n),this}decompose(e,t,n){return WV(this,e,t,n),this}getRotation(e){return u8(e,this),this}getTranslation(e){return HV(e,this),this}getScaling(e){return c8(e,this),this}getMaxScaleOnAxis(){return GV(this)}lookAt(e,t,n){return ZV(this,e,t,n),this}determinant(){return l8(this)}fromArray(e,t=0){return this[0]=e[t],this[1]=e[t+1],this[2]=e[t+2],this[3]=e[t+3],this[4]=e[t+4],this[5]=e[t+5],this[6]=e[t+6],this[7]=e[t+7],this[8]=e[t+8],this[9]=e[t+9],this[10]=e[t+10],this[11]=e[t+11],this[12]=e[t+12],this[13]=e[t+13],this[14]=e[t+14],this[15]=e[t+15],this}toArray(e=[],t=0){return e[t]=this[0],e[t+1]=this[1],e[t+2]=this[2],e[t+3]=this[3],e[t+4]=this[4],e[t+5]=this[5],e[t+6]=this[6],e[t+7]=this[7],e[t+8]=this[8],e[t+9]=this[9],e[t+10]=this[10],e[t+11]=this[11],e[t+12]=this[12],e[t+13]=this[13],e[t+14]=this[14],e[t+15]=this[15],e}}function KV(i,e,t="YXZ"){return t==="XYZ"?(i[1]=Math.asin(Math.min(Math.max(e[8],-1),1)),Math.abs(e[8])<.99999?(i[0]=Math.atan2(-e[9],e[10]),i[2]=Math.atan2(-e[4],e[0])):(i[0]=Math.atan2(e[6],e[5]),i[2]=0)):t==="YXZ"?(i[0]=Math.asin(-Math.min(Math.max(e[9],-1),1)),Math.abs(e[9])<.99999?(i[1]=Math.atan2(e[8],e[10]),i[2]=Math.atan2(e[1],e[5])):(i[1]=Math.atan2(-e[2],e[0]),i[2]=0)):t==="ZXY"?(i[0]=Math.asin(Math.min(Math.max(e[6],-1),1)),Math.abs(e[6])<.99999?(i[1]=Math.atan2(-e[2],e[10]),i[2]=Math.atan2(-e[4],e[5])):(i[1]=0,i[2]=Math.atan2(e[1],e[0]))):t==="ZYX"?(i[1]=Math.asin(-Math.min(Math.max(e[2],-1),1)),Math.abs(e[2])<.99999?(i[0]=Math.atan2(e[6],e[10]),i[2]=Math.atan2(e[1],e[0])):(i[0]=0,i[2]=Math.atan2(-e[4],e[5]))):t==="YZX"?(i[2]=Math.asin(Math.min(Math.max(e[1],-1),1)),Math.abs(e[1])<.99999?(i[0]=Math.atan2(-e[9],e[5]),i[1]=Math.atan2(-e[2],e[0])):(i[0]=0,i[1]=Math.atan2(e[8],e[10]))):t==="XZY"&&(i[2]=Math.asin(-Math.min(Math.max(e[4],-1),1)),Math.abs(e[4])<.99999?(i[0]=Math.atan2(e[6],e[5]),i[1]=Math.atan2(e[8],e[0])):(i[0]=Math.atan2(-e[9],e[10]),i[1]=0)),i}const _A=new s3;class JV extends Array{constructor(e=0,t=e,n=e,r="YXZ"){super(e,t,n),this.order=r,this.onChange=()=>{},this._target=this;const a=["0","1","2"];return new Proxy(this,{set(l,u){const d=Reflect.set(...arguments);return d&&a.includes(u)&&l.onChange(),d}})}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(e){this._target[0]=e,this.onChange()}set y(e){this._target[1]=e,this.onChange()}set z(e){this._target[2]=e,this.onChange()}set(e,t=e,n=e){return e.length?this.copy(e):(this._target[0]=e,this._target[1]=t,this._target[2]=n,this.onChange(),this)}copy(e){return this._target[0]=e[0],this._target[1]=e[1],this._target[2]=e[2],this.onChange(),this}reorder(e){return this._target.order=e,this.onChange(),this}fromRotationMatrix(e,t=this.order){return KV(this._target,e,t),this.onChange(),this}fromQuaternion(e,t=this.order,n){return _A.fromQuaternion(e),this._target.fromRotationMatrix(_A,t),n||this.onChange(),this}fromArray(e,t=0){return this._target[0]=e[t],this._target[1]=e[t+1],this._target[2]=e[t+2],this}toArray(e=[],t=0){return e[t]=this[0],e[t+1]=this[1],e[t+2]=this[2],e}}class $V{constructor(){this.parent=null,this.children=[],this.visible=!0,this.matrix=new s3,this.worldMatrix=new s3,this.matrixAutoUpdate=!0,this.worldMatrixNeedsUpdate=!1,this.position=new gl,this.quaternion=new OV,this.scale=new gl(1),this.rotation=new JV,this.up=new gl(0,1,0),this.rotation._target.onChange=()=>this.quaternion.fromEuler(this.rotation,!0),this.quaternion._target.onChange=()=>this.rotation.fromQuaternion(this.quaternion,void 0,!0)}setParent(e,t=!0){this.parent&&e!==this.parent&&this.parent.removeChild(this,!1),this.parent=e,t&&e&&e.addChild(this,!1)}addChild(e,t=!0){~this.children.indexOf(e)||this.children.push(e),t&&e.setParent(this,!1)}removeChild(e,t=!0){~this.children.indexOf(e)&&this.children.splice(this.children.indexOf(e),1),t&&e.setParent(null,!1)}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.worldMatrixNeedsUpdate||e)&&(this.parent===null?this.worldMatrix.copy(this.matrix):this.worldMatrix.multiply(this.parent.worldMatrix,this.matrix),this.worldMatrixNeedsUpdate=!1,e=!0);for(let t=0,n=this.children.length;t<n;t++)this.children[t].updateMatrixWorld(e)}updateMatrix(){this.matrix.compose(this.quaternion,this.position,this.scale),this.worldMatrixNeedsUpdate=!0}traverse(e){if(!e(this))for(let t=0,n=this.children.length;t<n;t++)this.children[t].traverse(e)}decompose(){this.matrix.decompose(this.quaternion._target,this.position,this.scale),this.rotation.fromQuaternion(this.quaternion)}lookAt(e,t=!1){t?this.matrix.lookAt(this.position,e,this.up):this.matrix.lookAt(e,this.position,this.up),this.matrix.getRotation(this.quaternion._target),this.rotation.fromQuaternion(this.quaternion)}}function eH(i,e){return i[0]=e[0],i[1]=e[1],i[2]=e[2],i[3]=e[4],i[4]=e[5],i[5]=e[6],i[6]=e[8],i[7]=e[9],i[8]=e[10],i}function tH(i,e){let t=e[0],n=e[1],r=e[2],a=e[3],l=t+t,u=n+n,d=r+r,p=t*l,v=n*l,_=n*u,y=r*l,x=r*u,M=r*d,E=a*l,A=a*u,T=a*d;return i[0]=1-_-M,i[3]=v-T,i[6]=y+A,i[1]=v+T,i[4]=1-p-M,i[7]=x-E,i[2]=y-A,i[5]=x+E,i[8]=1-p-_,i}function nH(i,e){return i[0]=e[0],i[1]=e[1],i[2]=e[2],i[3]=e[3],i[4]=e[4],i[5]=e[5],i[6]=e[6],i[7]=e[7],i[8]=e[8],i}function iH(i,e,t,n,r,a,l,u,d,p){return i[0]=e,i[1]=t,i[2]=n,i[3]=r,i[4]=a,i[5]=l,i[6]=u,i[7]=d,i[8]=p,i}function rH(i){return i[0]=1,i[1]=0,i[2]=0,i[3]=0,i[4]=1,i[5]=0,i[6]=0,i[7]=0,i[8]=1,i}function sH(i,e){let t=e[0],n=e[1],r=e[2],a=e[3],l=e[4],u=e[5],d=e[6],p=e[7],v=e[8],_=v*l-u*p,y=-v*a+u*d,x=p*a-l*d,M=t*_+n*y+r*x;return M?(M=1/M,i[0]=_*M,i[1]=(-v*n+r*p)*M,i[2]=(u*n-r*l)*M,i[3]=y*M,i[4]=(v*t-r*d)*M,i[5]=(-u*t+r*a)*M,i[6]=x*M,i[7]=(-p*t+n*d)*M,i[8]=(l*t-n*a)*M,i):null}function xA(i,e,t){let n=e[0],r=e[1],a=e[2],l=e[3],u=e[4],d=e[5],p=e[6],v=e[7],_=e[8],y=t[0],x=t[1],M=t[2],E=t[3],A=t[4],T=t[5],R=t[6],D=t[7],N=t[8];return i[0]=y*n+x*l+M*p,i[1]=y*r+x*u+M*v,i[2]=y*a+x*d+M*_,i[3]=E*n+A*l+T*p,i[4]=E*r+A*u+T*v,i[5]=E*a+A*d+T*_,i[6]=R*n+D*l+N*p,i[7]=R*r+D*u+N*v,i[8]=R*a+D*d+N*_,i}function aH(i,e,t){let n=e[0],r=e[1],a=e[2],l=e[3],u=e[4],d=e[5],p=e[6],v=e[7],_=e[8],y=t[0],x=t[1];return i[0]=n,i[1]=r,i[2]=a,i[3]=l,i[4]=u,i[5]=d,i[6]=y*n+x*l+p,i[7]=y*r+x*u+v,i[8]=y*a+x*d+_,i}function oH(i,e,t){let n=e[0],r=e[1],a=e[2],l=e[3],u=e[4],d=e[5],p=e[6],v=e[7],_=e[8],y=Math.sin(t),x=Math.cos(t);return i[0]=x*n+y*l,i[1]=x*r+y*u,i[2]=x*a+y*d,i[3]=x*l-y*n,i[4]=x*u-y*r,i[5]=x*d-y*a,i[6]=p,i[7]=v,i[8]=_,i}function lH(i,e,t){let n=t[0],r=t[1];return i[0]=n*e[0],i[1]=n*e[1],i[2]=n*e[2],i[3]=r*e[3],i[4]=r*e[4],i[5]=r*e[5],i[6]=e[6],i[7]=e[7],i[8]=e[8],i}function cH(i,e){let t=e[0],n=e[1],r=e[2],a=e[3],l=e[4],u=e[5],d=e[6],p=e[7],v=e[8],_=e[9],y=e[10],x=e[11],M=e[12],E=e[13],A=e[14],T=e[15],R=t*u-n*l,D=t*d-r*l,N=t*p-a*l,U=n*d-r*u,I=n*p-a*u,B=r*p-a*d,k=v*E-_*M,O=v*A-y*M,P=v*T-x*M,W=_*A-y*E,Z=_*T-x*E,J=y*T-x*A,ee=R*J-D*Z+N*W+U*P-I*O+B*k;return ee?(ee=1/ee,i[0]=(u*J-d*Z+p*W)*ee,i[1]=(d*P-l*J-p*O)*ee,i[2]=(l*Z-u*P+p*k)*ee,i[3]=(r*Z-n*J-a*W)*ee,i[4]=(t*J-r*P+a*O)*ee,i[5]=(n*P-t*Z-a*k)*ee,i[6]=(E*B-A*I+T*U)*ee,i[7]=(A*N-M*B-T*D)*ee,i[8]=(M*I-E*N+T*R)*ee,i):null}class uH extends Array{constructor(e=1,t=0,n=0,r=0,a=1,l=0,u=0,d=0,p=1){return super(e,t,n,r,a,l,u,d,p),this}set(e,t,n,r,a,l,u,d,p){return e.length?this.copy(e):(iH(this,e,t,n,r,a,l,u,d,p),this)}translate(e,t=this){return aH(this,t,e),this}rotate(e,t=this){return oH(this,t,e),this}scale(e,t=this){return lH(this,t,e),this}multiply(e,t){return t?xA(this,e,t):xA(this,this,e),this}identity(){return rH(this),this}copy(e){return nH(this,e),this}fromMatrix4(e){return eH(this,e),this}fromQuaternion(e){return tH(this,e),this}fromBasis(e,t,n){return this.set(e[0],e[1],e[2],t[0],t[1],t[2],n[0],n[1],n[2]),this}inverse(e=this){return sH(this,e),this}getNormalMatrix(e){return cH(this,e),this}}let fH=0;class hH extends $V{constructor(e,{geometry:t,program:n,mode:r=e.TRIANGLES,frustumCulled:a=!0,renderOrder:l=0}={}){super(),e.canvas||console.error("gl not passed as first argument to Mesh"),this.gl=e,this.id=fH++,this.geometry=t,this.program=n,this.mode=r,this.frustumCulled=a,this.renderOrder=l,this.modelViewMatrix=new s3,this.normalMatrix=new uH,this.beforeRenderCallbacks=[],this.afterRenderCallbacks=[]}onBeforeRender(e){return this.beforeRenderCallbacks.push(e),this}onAfterRender(e){return this.afterRenderCallbacks.push(e),this}draw({camera:e}={}){e&&(this.program.uniforms.modelMatrix||Object.assign(this.program.uniforms,{modelMatrix:{value:null},viewMatrix:{value:null},modelViewMatrix:{value:null},normalMatrix:{value:null},projectionMatrix:{value:null},cameraPosition:{value:null}}),this.program.uniforms.projectionMatrix.value=e.projectionMatrix,this.program.uniforms.cameraPosition.value=e.worldPosition,this.program.uniforms.viewMatrix.value=e.viewMatrix,this.modelViewMatrix.multiply(e.viewMatrix,this.worldMatrix),this.normalMatrix.getNormalMatrix(this.modelViewMatrix),this.program.uniforms.modelMatrix.value=this.worldMatrix,this.program.uniforms.modelViewMatrix.value=this.modelViewMatrix,this.program.uniforms.normalMatrix.value=this.normalMatrix),this.beforeRenderCallbacks.forEach(n=>n&&n({mesh:this,camera:e}));let t=this.program.cullFace&&this.worldMatrix.determinant()<0;this.program.use({flipFaces:t}),this.geometry.draw({mode:this.mode,program:this.program}),this.afterRenderCallbacks.forEach(n=>n&&n({mesh:this,camera:e}))}}class dH extends oV{constructor(e,{attributes:t={}}={}){Object.assign(t,{position:{size:2,data:new Float32Array([-1,-1,3,-1,-1,3])},uv:{size:2,data:new Float32Array([0,0,2,0,0,2])}}),super(e,t)}}const iM=i=>{let e=i.replace("#","");e.length===8&&(e=e.substring(0,6));const t=/^([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?[parseInt(t[1],16)/255,parseInt(t[2],16)/255,parseInt(t[3],16)/255]:[1,1,1]},pH=`#version 300 es
in vec2 position;
void main() {
  gl_Position = vec4(position, 0.0, 1.0);
}
`,mH=`#version 300 es
precision highp float;
uniform vec2 iResolution;
uniform float iTime;
uniform float uTimeSpeed;
uniform float uColorBalance;
uniform float uWarpStrength;
uniform float uWarpFrequency;
uniform float uWarpSpeed;
uniform float uWarpAmplitude;
uniform float uBlendAngle;
uniform float uBlendSoftness;
uniform float uRotationAmount;
uniform float uNoiseScale;
uniform float uGrainAmount;
uniform float uGrainScale;
uniform float uGrainAnimated;
uniform float uContrast;
uniform float uGamma;
uniform float uSaturation;
uniform vec2 uCenterOffset;
uniform float uZoom;
uniform vec3 uColor1;
uniform vec3 uColor2;
uniform vec3 uColor3;
out vec4 fragColor;
#define S(a,b,t) smoothstep(a,b,t)
mat2 Rot(float a){float s=sin(a),c=cos(a);return mat2(c,-s,s,c);} 
vec2 hash(vec2 p){p=vec2(dot(p,vec2(2127.1,81.17)),dot(p,vec2(1269.5,283.37)));return fract(sin(p)*43758.5453);} 
float noise(vec2 p){vec2 i=floor(p),f=fract(p),u=f*f*(3.0-2.0*f);float n=mix(mix(dot(-1.0+2.0*hash(i+vec2(0.0,0.0)),f-vec2(0.0,0.0)),dot(-1.0+2.0*hash(i+vec2(1.0,0.0)),f-vec2(1.0,0.0)),u.x),mix(dot(-1.0+2.0*hash(i+vec2(0.0,1.0)),f-vec2(0.0,1.0)),dot(-1.0+2.0*hash(i+vec2(1.0,1.0)),f-vec2(1.0,1.0)),u.x),u.y);return 0.5+0.5*n;}
void mainImage(out vec4 o, vec2 C){
  float t=iTime*uTimeSpeed;
  vec2 uv=C/iResolution.xy;
  float ratio=iResolution.x/iResolution.y;
  vec2 tuv=uv-0.5+uCenterOffset;
  tuv/=max(uZoom,0.001);

  float degree=noise(vec2(t*0.1,tuv.x*tuv.y)*uNoiseScale);
  tuv.y*=1.0/ratio;
  tuv*=Rot(radians((degree-0.5)*uRotationAmount+180.0));
  tuv.y*=ratio;

  float frequency=uWarpFrequency;
  float ws=max(uWarpStrength,0.001);
  float amplitude=uWarpAmplitude/ws;
  float warpTime=t*uWarpSpeed;
  tuv.x+=sin(tuv.y*frequency+warpTime)/amplitude;
  tuv.y+=sin(tuv.x*(frequency*1.5)+warpTime)/(amplitude*0.5);

  vec3 colLav=uColor1;
  vec3 colOrg=uColor2;
  vec3 colDark=uColor3;
  float b=uColorBalance;
  float s=max(uBlendSoftness,0.0);
  mat2 blendRot=Rot(radians(uBlendAngle));
  float blendX=(tuv*blendRot).x;
  float edge0=-0.3-b-s;
  float edge1=0.2-b+s;
  float v0=0.5-b+s;
  float v1=-0.3-b-s;
  vec3 layer1=mix(colDark,colOrg,S(edge0,edge1,blendX));
  vec3 layer2=mix(colOrg,colLav,S(edge0,edge1,blendX));
  vec3 col=mix(layer1,layer2,S(v0,v1,tuv.y));

  vec2 grainUv=uv*max(uGrainScale,0.001);
  if(uGrainAnimated>0.5){grainUv+=vec2(iTime*0.05);} 
  float grain=fract(sin(dot(grainUv,vec2(12.9898,78.233)))*43758.5453);
  col+=(grain-0.5)*uGrainAmount;

  col=(col-0.5)*uContrast+0.5;
  float luma=dot(col,vec3(0.2126,0.7152,0.0722));
  col=mix(vec3(luma),col,uSaturation);
  col=pow(max(col,0.0),vec3(1.0/max(uGamma,0.001)));
  col=clamp(col,0.0,1.0);

  o=vec4(col,1.0);
}
void main(){
  vec4 o=vec4(0.0);
  mainImage(o,gl_FragCoord.xy);
  fragColor=o;
}
`,gH=({timeSpeed:i=.25,colorBalance:e=0,warpStrength:t=1,warpFrequency:n=5,warpSpeed:r=2,warpAmplitude:a=50,blendAngle:l=0,blendSoftness:u=.05,rotationAmount:d=500,noiseScale:p=2,grainAmount:v=.1,grainScale:_=2,grainAnimated:y=!1,contrast:x=1.5,gamma:M=1,saturation:E=1,centerX:A=0,centerY:T=0,zoom:R=.9,color1:D="#FF9FFC",color2:N="#5227FF",color3:U="#B19EEF",className:I=""})=>{const B=gt.useRef(null);return gt.useEffect(()=>{if(!B.current)return;const k=new pV({webgl:2,alpha:!0,antialias:!1,dpr:Math.min(window.devicePixelRatio||1,2)}),O=k.gl,P=O.canvas;P.style.width="100%",P.style.height="100%",P.style.display="block";const W=B.current;W.appendChild(P);const Z=new dH(O),J=new cV(O,{vertex:pH,fragment:mH,uniforms:{iTime:{value:0},iResolution:{value:new Float32Array([1,1])},uTimeSpeed:{value:i},uColorBalance:{value:e},uWarpStrength:{value:t},uWarpFrequency:{value:n},uWarpSpeed:{value:r},uWarpAmplitude:{value:a},uBlendAngle:{value:l},uBlendSoftness:{value:u},uRotationAmount:{value:d},uNoiseScale:{value:p},uGrainAmount:{value:v},uGrainScale:{value:_},uGrainAnimated:{value:y?1:0},uContrast:{value:x},uGamma:{value:M},uSaturation:{value:E},uCenterOffset:{value:new Float32Array([A,T])},uZoom:{value:R},uColor1:{value:new Float32Array(iM(D))},uColor2:{value:new Float32Array(iM(N))},uColor3:{value:new Float32Array(iM(U))}}}),ee=new hH(O,{geometry:Z,program:J}),se=()=>{const j=W.getBoundingClientRect(),X=Math.max(1,Math.floor(j.width)),ce=Math.max(1,Math.floor(j.height));k.setSize(X,ce);const Se=J.uniforms.iResolution.value;Se[0]=O.drawingBufferWidth,Se[1]=O.drawingBufferHeight},Y=new ResizeObserver(se);Y.observe(W),se();let Q=0;const ue=performance.now(),ye=j=>{J.uniforms.iTime.value=(j-ue)*.001,k.render({scene:ee}),Q=requestAnimationFrame(ye)};return Q=requestAnimationFrame(ye),()=>{cancelAnimationFrame(Q),Y.disconnect();try{W.removeChild(P)}catch{}}},[i,e,t,n,r,a,l,u,d,p,v,_,y,x,M,E,A,T,R,D,N,U]),fe.jsx("div",{ref:B,className:`relative h-full w-full overflow-hidden ${I}`.trim()})};nc.registerPlugin(Ln);function vH(){const[i,e]=gt.useState(null),t=gt.useRef(null),n=gt.useRef(null),r=gt.useRef(null),a=gt.useRef(null),l=gt.useRef(null);return gt.useEffect(()=>{const u=nc.context(()=>{nc.fromTo(t.current.children,{opacity:0,y:50},{opacity:1,y:0,duration:1,stagger:.2,ease:"power3.out",scrollTrigger:{trigger:t.current,scroller:l.current,start:"top 80%",once:!0}}),nc.fromTo(n.current.children,{opacity:0,y:50},{opacity:1,y:0,duration:1,stagger:.2,ease:"power3.out",scrollTrigger:{trigger:n.current,scroller:l.current,start:"top 80%",once:!0}}),nc.fromTo(r.current.children,{opacity:0,y:50},{opacity:1,y:0,duration:1,stagger:.2,ease:"power3.out",scrollTrigger:{trigger:r.current,scroller:l.current,start:"top 80%",once:!0}}),nc.fromTo(a.current.children,{opacity:0,y:50},{opacity:1,y:0,duration:1,stagger:.2,ease:"power3.out",scrollTrigger:{trigger:a.current,scroller:l.current,start:"top 80%",once:!0}})},[t,n,r,a]);return()=>u.revert()},[]),fe.jsxs("main",{ref:l,className:"h-screen w-full overflow-y-scroll snap-y snap-mandatory bg-black text-white relative",children:[fe.jsxs("div",{className:`transition-all duration-500 ease-in-out ${i?"blur-sm brightness-50":""}`,children:[fe.jsx(nR,{}),fe.jsxs(Tp,{id:"hero",className:"relative",children:[fe.jsx("div",{className:"absolute inset-0 w-full h-full bg-black opacity-40",children:fe.jsx(mB,{waveColor:[.5,.5,.5],disableAnimation:!1,enableMouseInteraction:!1,mouseRadius:.3,colorNum:4,waveAmplitude:.3,waveFrequency:3,waveSpeed:.05})}),fe.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none z-10",children:[fe.jsx(KS,{text:"tudiant en BUT Informatique",className:"text-xl md:text-2xl font-light uppercase tracking-widest text-center",delay:.2,duration:1,stagger:.02,enableScrollTrigger:!1}),fe.jsx(KS,{text:"Denis VUONG",className:"text-4xl md:text-8xl font-bold uppercase mt-1 text-center",delay:.5,duration:1,stagger:.03,enableScrollTrigger:!1}),fe.jsx(KS,{text:"En recherche d'un stage  partir du 9 mars 2026",className:"text-xl md:text-1xl font-light uppercase mt-1 text-center",delay:.5,duration:.5,stagger:.03,enableScrollTrigger:!1})]})]}),fe.jsx(Tp,{id:"about",className:"border-white/10 relative",children:fe.jsxs("div",{className:"container mx-auto px-4 h-full flex flex-col justify-center",ref:a,children:[fe.jsx("h2",{className:"text-4xl font-bold mb-8 md:mb-12",children:" propos"}),fe.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-12 items-center",children:[fe.jsxs("div",{className:"md:col-span-2 space-y-6 text-lg text-white/80 leading-relaxed",children:[fe.jsx("p",{children:"Hello ! Je suis Denis, dveloppeur Full Stack avec un gros faible pour le Back-end et l'Intelligence Artificielle. Ce qui me passionne dans le code, c'est le moment prcis o un produit prend vie et devient 100 % fonctionnel. Que ce soit en crant une automatisation ou en dveloppant une application complte de A  Z, mon moteur reste le mme : concevoir des outils concrets qui facilitent le quotidien et rsolvent de vrais problmes. Je ne code pas juste pour aligner des lignes, je code pour que a serve  quelqu'un."}),fe.jsx("p",{children:"Mon approche du dveloppement commence d'ailleurs toujours par l'utilisateur. Avant mme de toucher  mon IDE, je me pose deux questions :  Quel problme cela rsout-il, et pour qui ? . Une fois l'utilit dfinie, j'imagine l'identit visuelle et le design du projet, puis je passe  la technique."}),fe.jsx("p",{children:"Quand je ne suis pas en train de dbugger mon code, j'change mon clavier pour une tte de lion ! Depuis juin 2023, je suis membre trs actif de l'association LDFA (Lion Dance Franco-Asiatique). Vous pouvez me retrouver sous le costume du lion ou aux percussions lors de grands vnements (nous avons notamment fait des dmonstrations chez Tang Frres et dans les locaux de Google !). J'y exprime aussi ma crativit visuelle en grant toute la communication de l'association sur Instagram et TikTok (montage vido, photo, cration d'affiches). C'est une passion intense qui m'apporte un quilibre parfait entre tradition, esprit d'quipe et dpassement de soi !"})]}),fe.jsx("div",{className:"md:col-span-1 flex justify-center items-center"})]})]})}),fe.jsxs(Tp,{id:"projects",className:"relative",children:[fe.jsx(tk,{}),fe.jsxs("div",{className:"container mx-auto px-4 h-full flex flex-col justify-center relative z-10",ref:t,children:[fe.jsx("h2",{className:"text-4xl font-bold mb-12 text-center",children:"Featured Work"}),fe.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[fe.jsx(JS,{title:"LinkTrack (projet en cours...)",displayTitle:fe.jsxs("span",{children:["LinkTrack ",fe.jsx("span",{className:"font-light text-white/70 text-lg",children:"(projet en cours...)"})]}),description:"Raccourcisseur d'URLs SaaS avec tracking des clics",imageUrl:"src/img/LinkTrack.png",techStack:["Node.js","Express","PostgreSQL","Docker","JWT","React","Tailwind CSS"],repoLink:"https://github.com/DenisVuong/LinkTrack",onClick:()=>e({title:"LinkTrack",description:`Architecture REST API robuste avec authentification scurise JWT et containerisation Docker. Le systme backend gre le tracking des clics et le parsing User-Agent.
                  
                  Le dveloppement de l'interface utilisateur (front-end) est actuellement en cours.`,imageUrl:"src/img/LinkTrack.png",techStack:["Node.js","Express","PostgreSQL","Docker","JWT","React","Tailwind CSS"],repoLink:"https://github.com/DenisVuong/LinkTrack"})}),fe.jsx(JS,{title:"Dexia",description:"Dveloppement d'une application mobile de recommandation de films.",imageUrl:"src/img/dexia logo.png",techStack:["React Native","Native Wind","Expo","SQLite","Git/Github"],repoLink:"https://github.com/Maxime-Lointier/Dexia",onClick:()=>e({title:"Dexia - Application mobile",description:"Dexia est une application mobile native conue pour offrir des recommandations de films via une interface de type 'swipe'. Le projet intgre un algorithme de filtrage qui analyse les interactions de l'utilisateur (Likes/Dislikes) pour affiner les suggestions en temps rel et afficher un taux de compatibilit. Les fonctionnalits incluent la gestion de profil, la visualisation de statistiques dynamiques et la gestion de listes (historique et watchlist) avec persistance des donnes.",imageUrl:"src/img/dexia_screen.png",techStack:["React Native","Native Wind","Expo","SQLite","Git/Github"],repoLink:"https://github.com/Maxime-Lointier/Dexia"})}),fe.jsx(JS,{title:"Gestionnaire de stages BUT",description:"Application web responsive centralisant le suivi administratif et pdagogique des stages (S4/S6) pour l'IUT de Villetaneuse.",imageUrl:"src/img/saephp.png",techStack:["PHP","MySQL","JavaScript","HTML","CSS"],repoLink:"https://github.com/LiOlivier/SAE-S3.01",onClick:()=>e({title:"Gestionnaire de stages BUT",description:"Conception d'une plateforme de gestion complte suite  la rforme du BUT. L'outil permet le suivi en temps rel des tapes cls : conventions, comptes rendus d'installation, entretiens de mi-parcours et dpts de rapports. Comprend des tableaux de bord spcifiques pour les tudiants, tuteurs et responsables, avec systme de notifications et historique.",imageUrl:"src/img/saephp.png",techStack:["PHP","MySQL","JavaScript","HTML","CSS","Git/Github"],repoLink:"https://github.com/LiOlivier/SAE-S3.01"})})]})]})]}),fe.jsxs(Tp,{id:"skills",className:"relative",children:[fe.jsx("div",{className:"absolute inset-0 z-0",children:fe.jsx(gH,{color1:"#3d3d3dff",color2:"#606060ff",color3:"#4b4b4bff",timeSpeed:.5,colorBalance:0,warpStrength:1,warpFrequency:5,warpSpeed:2,warpAmplitude:50,blendAngle:0,blendSoftness:.05,rotationAmount:500,noiseScale:2,grainAmount:.1,grainScale:2,grainAnimated:!1,contrast:1.5,gamma:1,saturation:1,centerX:0,centerY:0,zoom:.9})}),fe.jsx("div",{ref:n,className:"relative z-10",children:fe.jsx(Hk,{})})]}),fe.jsx(Tp,{id:"experience",className:"bg-gradient-to-b from-black via-[#0a0a0a] to-[#1F1F1F]",children:fe.jsxs("div",{className:"container mx-auto px-4 h-full flex flex-col justify-center",ref:r,children:[fe.jsx("h2",{className:"text-4xl font-bold mb-16 text-center",children:"Parcours"}),fe.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12 lg:gap-24",children:[fe.jsxs("div",{children:[fe.jsxs("h3",{className:"text-2xl font-light uppercase tracking-widest mb-8 text-white/80 flex items-center gap-4",children:[fe.jsx("span",{className:"w-8 h-px bg-white/50"}),"Formation"]}),fe.jsxs("div",{className:"flex flex-col gap-8 border-l border-white/10 pl-8 ml-4",children:[fe.jsxs("div",{className:"relative",children:[fe.jsx("div",{className:"absolute w-3 h-3 bg-white rounded-full -left-[39px] top-1.5 ring-4 ring-black"}),fe.jsx("span",{className:"text-xs font-mono text-white/60 mb-1 block",children:"2023 - Prsent"}),fe.jsx("h4",{className:"text-xl font-bold mb-1",children:"BUT Informatique"}),fe.jsx("p",{className:"text-white/60 text-sm",children:"Sorbonne Paris Nord - IUT de Villetaneuse"}),fe.jsxs("p",{className:"mt-3 text-white/50 text-sm leading-relaxed",children:["Spcialisation en ralisation d'applications (conception, dveloppement, validation).",fe.jsx("br",{}),fe.jsx("br",{}),"Deux premires annes valides."]})]}),fe.jsxs("div",{className:"relative",children:[fe.jsx("div",{className:"absolute w-3 h-3 bg-white/20 rounded-full -left-[39px] top-1.5 ring-4 ring-black"}),fe.jsx("span",{className:"text-xs font-mono text-white/40 mb-1 block",children:"2020 - 2023"}),fe.jsx("h4",{className:"text-xl font-bold mb-1",children:"Baccalaurat Gnral"}),fe.jsx("p",{className:"text-white/60 text-sm",children:"Lyce Ren Cassin (95)"}),fe.jsx("p",{className:"mt-3 text-white/50 text-sm leading-relaxed",children:"Spcialits Mathmatiques et Numrique et Sciences Informatiques (NSI). Mention Assez Bien."})]})]})]}),fe.jsxs("div",{children:[fe.jsxs("h3",{className:"text-2xl font-light uppercase tracking-widest mb-8 text-white/80 flex items-center gap-4",children:[fe.jsx("span",{className:"w-8 h-px bg-white/50"}),"Exprience"]}),fe.jsx("div",{className:"flex flex-col gap-6",children:fe.jsx(nk,{role:"Consultant Digital Process Automation (stage)",company:"Socit de conseil et services IT",date:"Fvrier 2025 - Avril 2025",location:"Ho Chi Minh, Vietnam",description:`Ce stage visait  moderniser les processus de gestion SAP en dveloppant des solutions d'automatisation intelligente sur le cloud Microsoft. 
                      
                    J'ai d'abord analys les flux de donnes mtiers pour identifier les tches manuelles critiques. Ensuite, j'ai conu et dploy des applications via Power Apps pour automatiser ces actions, ce qui a permis de simplifier le travail des quipes et d'amliorer la productivit globale.`,stack:["Power Automate","Odoo","Make","Gemini (API)"]})})]})]})]})}),fe.jsx(Tp,{id:"contact",className:"relative",children:fe.jsx(Gk,{})})]}),fe.jsx(ek,{project:i,onClose:()=>e(null)})]})}$8.createRoot(document.getElementById("root")).render(fe.jsx(gt.StrictMode,{children:fe.jsx(vH,{})}));
